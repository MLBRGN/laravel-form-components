function MZ(na){return na&&na.__esModule&&Object.prototype.hasOwnProperty.call(na,"default")?na.default:na}var QL={exports:{}};(function(na){(function(){var Sa=function(e){if(e===null)return"null";if(e===void 0)return"undefined";var t=typeof e;return t==="object"&&(Array.prototype.isPrototypeOf(e)||e.constructor&&e.constructor.name==="Array")?"array":t==="object"&&(String.prototype.isPrototypeOf(e)||e.constructor&&e.constructor.name==="String")?"string":t},pa=function(e){return["undefined","boolean","number","string","function","xml","null"].indexOf(e)!==-1},Qr=function(e,t){var o=Array.prototype.slice.call(e);return o.sort(t)},ar=function(e,t){return So(function(o,r){return e.eq(t(o),t(r))})},So=function(e){return{eq:e}},ir=So(function(e,t){return e===t}),lr=ir,Xo=function(e){return So(function(t,o){if(t.length!==o.length)return!1;for(var r=t.length,a=0;a<r;a++)if(!e.eq(t[a],o[a]))return!1;return!0})},Rn=function(e,t){return ar(Xo(e),function(o){return Qr(o,t)})},Qn=function(e){return So(function(t,o){var r=Object.keys(t),a=Object.keys(o);if(!Rn(lr).eq(r,a))return!1;for(var c=r.length,d=0;d<c;d++){var g=r[d];if(!e.eq(t[g],o[g]))return!1}return!0})},cr=So(function(e,t){if(e===t)return!0;var o=Sa(e),r=Sa(t);return o!==r?!1:pa(o)?e===t:o==="array"?Xo(cr).eq(e,t):o==="object"?Qn(cr).eq(e,t):!1});const Ur=Object.getPrototypeOf,It=(e,t,o)=>{var r;return o(e,t.prototype)?!0:((r=e.constructor)===null||r===void 0?void 0:r.name)===t.name},Jt=e=>{const t=typeof e;return e===null?"null":t==="object"&&Array.isArray(e)?"array":t==="object"&&It(e,String,(o,r)=>r.isPrototypeOf(o))?"string":t},Ho=e=>t=>Jt(t)===e,er=e=>t=>typeof t===e,ut=e=>t=>e===t,yo=(e,t)=>ne(e)&&It(e,t,(o,r)=>Ur(o)===r),He=Ho("string"),ne=Ho("object"),Et=e=>yo(e,Object),ve=Ho("array"),dt=ut(null),Gn=er("boolean"),gn=ut(void 0),vo=e=>e==null,Le=e=>!vo(e),Lt=er("function"),T=er("number"),Eo=(e,t)=>{if(ve(e)){for(let o=0,r=e.length;o<r;++o)if(!t(e[o]))return!1;return!0}return!1},lo=()=>{},Ro=(e,t)=>(...o)=>e(t.apply(null,o)),Cr=(e,t)=>o=>e(t(o)),_e=e=>()=>e,Tt=e=>e,un=(e,t)=>e===t;function yt(e,...t){return(...o)=>{const r=t.concat(o);return e.apply(null,r)}}const nt=e=>t=>!e(t),Ot=e=>()=>{throw new Error(e)},Zr=e=>e(),kn=e=>{e()},fn=_e(!1),Ao=_e(!0);class ${constructor(t,o){this.tag=t,this.value=o}static some(t){return new $(!0,t)}static none(){return $.singletonNone}fold(t,o){return this.tag?o(this.value):t()}isSome(){return this.tag}isNone(){return!this.tag}map(t){return this.tag?$.some(t(this.value)):$.none()}bind(t){return this.tag?t(this.value):$.none()}exists(t){return this.tag&&t(this.value)}forall(t){return!this.tag||t(this.value)}filter(t){return!this.tag||t(this.value)?this:$.none()}getOr(t){return this.tag?this.value:t}or(t){return this.tag?this:t}getOrThunk(t){return this.tag?this.value:t()}orThunk(t){return this.tag?this:t()}getOrDie(t){if(this.tag)return this.value;throw new Error(t??"Called getOrDie on None")}static from(t){return Le(t)?$.some(t):$.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(t){this.tag&&t(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}$.singletonNone=new $(!1);const zs=Array.prototype.slice,An=Array.prototype.indexOf,mn=Array.prototype.push,Ga=(e,t)=>An.call(e,t),sl=(e,t)=>{const o=Ga(e,t);return o===-1?$.none():$.some(o)},nn=(e,t)=>Ga(e,t)>-1,dr=(e,t)=>{for(let o=0,r=e.length;o<r;o++){const a=e[o];if(t(a,o))return!0}return!1},To=(e,t)=>{const o=e.length,r=new Array(o);for(let a=0;a<o;a++){const c=e[a];r[a]=t(c,a)}return r},We=(e,t)=>{for(let o=0,r=e.length;o<r;o++){const a=e[o];t(a,o)}},et=(e,t)=>{for(let o=e.length-1;o>=0;o--){const r=e[o];t(r,o)}},it=(e,t)=>{const o=[],r=[];for(let a=0,c=e.length;a<c;a++){const d=e[a];(t(d,a)?o:r).push(d)}return{pass:o,fail:r}},Ye=(e,t)=>{const o=[];for(let r=0,a=e.length;r<a;r++){const c=e[r];t(c,r)&&o.push(c)}return o},Qt=(e,t,o)=>(et(e,(r,a)=>{o=t(o,r,a)}),o),fo=(e,t,o)=>(We(e,(r,a)=>{o=t(o,r,a)}),o),$o=(e,t,o)=>{for(let r=0,a=e.length;r<a;r++){const c=e[r];if(t(c,r))return $.some(c);if(o(c,r))break}return $.none()},Nn=(e,t)=>$o(e,t,fn),Kn=(e,t)=>{for(let o=0,r=e.length;o<r;o++){const a=e[o];if(t(a,o))return $.some(o)}return $.none()},Mn=e=>{const t=[];for(let o=0,r=e.length;o<r;++o){if(!ve(e[o]))throw new Error("Arr.flatten item "+o+" was not an array, input: "+e);mn.apply(t,e[o])}return t},zn=(e,t)=>Mn(To(e,t)),Wr=(e,t)=>{for(let o=0,r=e.length;o<r;++o){const a=e[o];if(t(a,o)!==!0)return!1}return!0},qs=e=>{const t=zs.call(e,0);return t.reverse(),t},hr=(e,t)=>Ye(e,o=>!nn(t,o)),tr=(e,t)=>{const o={};for(let r=0,a=e.length;r<a;r++){const c=e[r];o[String(c)]=t(c,r)}return o},Ko=(e,t)=>{const o=zs.call(e,0);return o.sort(t),o},ps=(e,t)=>t>=0&&t<e.length?$.some(e[t]):$.none(),lt=e=>ps(e,0),ro=e=>ps(e,e.length-1),Po=Lt(Array.from)?Array.from:e=>zs.call(e),gs=(e,t)=>{for(let o=0;o<e.length;o++){const r=t(e[o],o);if(r.isSome())return r}return $.none()},Ea=(e,t)=>{const o=[],r=Lt(t)?a=>dr(o,c=>t(c,a)):a=>nn(o,a);for(let a=0,c=e.length;a<c;a++){const d=e[a];r(d)||o.push(d)}return o},st=Object.keys,ga=Object.hasOwnProperty,Bo=(e,t)=>{const o=st(e);for(let r=0,a=o.length;r<a;r++){const c=o[r],d=e[c];t(d,c)}},Wi=(e,t)=>Bn(e,(o,r)=>({k:r,v:t(o,r)})),Bn=(e,t)=>{const o={};return Bo(e,(r,a)=>{const c=t(r,a);o[c.k]=c.v}),o},Ts=e=>(t,o)=>{e[o]=t},kl=(e,t,o,r)=>{Bo(e,(a,c)=>{(t(a,c)?o:r)(a,c)})},Ba=(e,t)=>{const o={},r={};return kl(e,t,Ts(o),Ts(r)),{t:o,f:r}},di=(e,t)=>{const o={};return kl(e,t,Ts(o),lo),o},ra=(e,t)=>{const o=[];return Bo(e,(r,a)=>{o.push(t(r,a))}),o},ui=e=>ra(e,Tt),Hn=(e,t)=>xo(e,t)?$.from(e[t]):$.none(),xo=(e,t)=>ga.call(e,t),Ka=(e,t)=>xo(e,t)&&e[t]!==void 0&&e[t]!==null,_s=(e,t,o=cr)=>Qn(o).eq(e,t),al=e=>{const t={};return We(e,o=>{t[o]={}}),st(t)},wt=e=>e.length!==void 0,fi=Array.isArray,Ul=e=>{if(fi(e))return e;{const t=[];for(let o=0,r=e.length;o<r;o++)t[o]=e[o];return t}},wr=(e,t,o)=>{if(!e)return!1;if(o=o||e,wt(e)){for(let r=0,a=e.length;r<a;r++)if(t.call(o,e[r],r,e)===!1)return!1}else for(const r in e)if(xo(e,r)&&t.call(o,e[r],r,e)===!1)return!1;return!0},od=(e,t)=>{const o=[];return wr(e,(r,a)=>{o.push(t(r,a,e))}),o},Aa=(e,t)=>{const o=[];return wr(e,(r,a)=>{(!t||t(r,a,e))&&o.push(r)}),o},Cs=(e,t)=>{if(e){for(let o=0,r=e.length;o<r;o++)if(e[o]===t)return o}return-1},wl=(e,t,o,r)=>{let a=gn(o)?e[0]:o;for(let c=0;c<e.length;c++)a=t.call(r,a,e[c],c);return a},Sr=(e,t,o)=>{for(let r=0,a=e.length;r<a;r++)if(t.call(o,e[r],r,e))return r;return-1},Os=e=>e[e.length-1],Ya=e=>{let t=!1,o;return(...r)=>(t||(t=!0,o=e.apply(null,r)),o)},_l=(e,t,o,r)=>{const a=e.isiOS()&&/ipad/i.test(o)===!0,c=e.isiOS()&&!a,d=e.isiOS()||e.isAndroid(),g=d||r("(pointer:coarse)"),v=a||!c&&d&&r("(min-device-width:768px)"),A=c||d&&!v,M=t.isSafari()&&e.isiOS()&&/safari/i.test(o)===!1,B=!A&&!v&&!M;return{isiPad:_e(a),isiPhone:_e(c),isTablet:_e(v),isPhone:_e(A),isTouch:_e(g),isAndroid:e.isAndroid,isiOS:e.isiOS,isWebView:_e(M),isDesktop:_e(B)}},za=(e,t)=>{for(let o=0;o<e.length;o++){const r=e[o];if(r.test(t))return r}},Cl=(e,t)=>{const o=za(e,t);if(!o)return{major:0,minor:0};const r=a=>Number(t.replace(o,"$"+a));return hn(r(1),r(2))},il=(e,t)=>{const o=String(t).toLowerCase();return e.length===0?_c():Cl(e,o)},_c=()=>hn(0,0),hn=(e,t)=>({major:e,minor:t}),Vr={nu:hn,detect:il,unknown:_c},Gs=(e,t)=>gs(t.brands,o=>{const r=o.brand.toLowerCase();return Nn(e,a=>{var c;return r===((c=a.brand)===null||c===void 0?void 0:c.toLowerCase())}).map(a=>({current:a.name,version:Vr.nu(parseInt(o.version,10),0)}))}),Sl=(e,t)=>{const o=String(t).toLowerCase();return Nn(e,r=>r.search(o))},nd=(e,t)=>Sl(e,t).map(o=>{const r=Vr.detect(o.versionRegexes,t);return{current:o.name,version:r}}),Bd=(e,t)=>Sl(e,t).map(o=>{const r=Vr.detect(o.versionRegexes,t);return{current:o.name,version:r}}),mi=(e,t)=>e.substring(t),qr=(e,t,o)=>t===""||e.length>=t.length&&e.substr(o,o+t.length)===t,Id=(e,t)=>Ln(e,t)?mi(e,t.length):e,In=(e,t,o=0,r)=>{const a=e.indexOf(t,o);return a!==-1?gn(r)?!0:a+t.length<=r:!1},Ln=(e,t)=>qr(e,t,0),pi=(e,t)=>qr(e,t,e.length-t.length),Ia=e=>t=>t.replace(e,""),ll=Ia(/^\s+|\s+$/g),El=Ia(/^\s+/g),Al=Ia(/\s+$/g),Ds=e=>e.length>0,Gr=e=>!Ds(e),es=(e,t)=>t<=0?"":new Array(t+1).join(e),ts=(e,t=10)=>{const o=parseInt(e,t);return isNaN(o)?$.none():$.some(o)},Xa=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,Yn=e=>t=>In(t,e),ha=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:e=>In(e,"edge/")&&In(e,"chrome")&&In(e,"safari")&&In(e,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,Xa],search:e=>In(e,"chrome")&&!In(e,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:e=>In(e,"msie")||In(e,"trident")},{name:"Opera",versionRegexes:[Xa,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:Yn("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:Yn("firefox")},{name:"Safari",versionRegexes:[Xa,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:e=>(In(e,"safari")||In(e,"mobile/"))&&In(e,"applewebkit")}],La=[{name:"Windows",search:Yn("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:e=>In(e,"iphone")||In(e,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:Yn("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:Yn("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:Yn("linux"),versionRegexes:[]},{name:"Solaris",search:Yn("sunos"),versionRegexes:[]},{name:"FreeBSD",search:Yn("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:Yn("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],Is={browsers:_e(ha),oses:_e(La)},uo="Edge",qi="Chromium",hs="IE",ls="Opera",sa="Firefox",Er="Safari",jr=()=>gi({current:void 0,version:Vr.unknown()}),gi=e=>{const t=e.current,o=e.version,r=a=>()=>t===a;return{current:t,version:o,isEdge:r(uo),isChromium:r(qi),isIE:r(hs),isOpera:r(ls),isFirefox:r(sa),isSafari:r(Er)}},mo={unknown:jr,nu:gi,edge:_e(uo),chromium:_e(qi),ie:_e(hs),opera:_e(ls),firefox:_e(sa),safari:_e(Er)},cl="Windows",Ta="iOS",ur="Android",Pa="Linux",cs="macOS",Zl="Solaris",Wl="FreeBSD",sn="ChromeOS",ql=()=>G({current:void 0,version:Vr.unknown()}),G=e=>{const t=e.current,o=e.version,r=a=>()=>t===a;return{current:t,version:o,isWindows:r(cl),isiOS:r(Ta),isAndroid:r(ur),isMacOS:r(cs),isLinux:r(Pa),isSolaris:r(Zl),isFreeBSD:r(Wl),isChromeOS:r(sn)}},pe={unknown:ql,nu:G,windows:_e(cl),ios:_e(Ta),android:_e(ur),linux:_e(Pa),macos:_e(cs),solaris:_e(Zl),freebsd:_e(Wl),chromeos:_e(sn)},$e={detect:(e,t,o)=>{const r=Is.browsers(),a=Is.oses(),c=t.bind(v=>Gs(r,v)).orThunk(()=>nd(r,e)).fold(mo.unknown,mo.nu),d=Bd(a,e).fold(pe.unknown,pe.nu),g=_l(d,c,e,o);return{browser:c,os:d,deviceType:g}}},gt=e=>window.matchMedia(e).matches;let _t=Ya(()=>$e.detect(navigator.userAgent,$.from(navigator.userAgentData),gt));const Jo=()=>_t(),or=navigator.userAgent,rn=Jo(),Xn=rn.browser,Uo=rn.os,Or=rn.deviceType,Ti=or.indexOf("Windows Phone")!==-1,Wo={transparentSrc:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",documentMode:Xn.isIE()?document.documentMode||7:10,cacheSuffix:null,container:null,canHaveCSP:!Xn.isIE(),windowsPhone:Ti,browser:{current:Xn.current,version:Xn.version,isChromium:Xn.isChromium,isEdge:Xn.isEdge,isFirefox:Xn.isFirefox,isIE:Xn.isIE,isOpera:Xn.isOpera,isSafari:Xn.isSafari},os:{current:Uo.current,version:Uo.version,isAndroid:Uo.isAndroid,isChromeOS:Uo.isChromeOS,isFreeBSD:Uo.isFreeBSD,isiOS:Uo.isiOS,isLinux:Uo.isLinux,isMacOS:Uo.isMacOS,isSolaris:Uo.isSolaris,isWindows:Uo.isWindows},deviceType:{isDesktop:Or.isDesktop,isiPad:Or.isiPad,isiPhone:Or.isiPhone,isPhone:Or.isPhone,isTablet:Or.isTablet,isTouch:Or.isTouch,isWebView:Or.isWebView}},Cc=/^\s*|\s*$/g,Sc=e=>vo(e)?"":(""+e).replace(Cc,""),F=(e,t)=>t?t==="array"&&fi(e)?!0:typeof e===t:e!==void 0,Q=(e,t,o={})=>{const r=He(e)?e.split(t||","):e||[];let a=r.length;for(;a--;)o[r[a]]={};return o},ue=xo,Ne=(e,...t)=>{for(let o=0;o<t.length;o++){const r=t[o];for(const a in r)if(xo(r,a)){const c=r[a];c!==void 0&&(e[a]=c)}}return e},At=function(e,t,o,r){r=r||this,e&&(o&&(e=e[o]),wr(e,(a,c)=>t.call(r,a,c,o)===!1?!1:(At(a,t,o,r),!0)))},ft={trim:Sc,isArray:fi,is:F,toArray:Ul,makeMap:Q,each:wr,map:od,grep:Aa,inArray:Cs,hasOwn:ue,extend:Ne,walk:At,resolve:(e,t=window)=>{const o=e.split(".");for(let r=0,a=o.length;r<a&&(t=t[o[r]],!!t);r++);return t},explode:(e,t)=>ve(e)?e:e===""?[]:od(e.split(t||","),Sc),_addCacheSuffix:e=>{const t=Wo.cacheSuffix;return t&&(e+=(e.indexOf("?")===-1?"?":"&")+t),e}},Gi=(e,t,o=un)=>e.exists(r=>o(r,t)),Oi=(e,t,o=un)=>Ls(e,t,o).getOr(e.isNone()&&t.isNone()),zl=e=>{const t=[],o=r=>{t.push(r)};for(let r=0;r<e.length;r++)e[r].each(o);return t},Ls=(e,t,o)=>e.isSome()&&t.isSome()?$.some(o(e.getOrDie(),t.getOrDie())):$.none(),zf=(e,t,o,r)=>e.isSome()&&t.isSome()&&o.isSome()?$.some(r(e.getOrDie(),t.getOrDie(),o.getOrDie())):$.none(),rd=(e,t)=>e?$.some(t):$.none(),Ec=typeof window<"u"?window:Function("return this;")(),Tl=(e,t)=>{let o=t??Ec;for(let r=0;r<e.length&&o!==void 0&&o!==null;++r)o=o[e[r]];return o},au=(e,t)=>{const o=e.split(".");return Tl(o,t)},sd=(e,t)=>au(e,t),t1=(e,t)=>{const o=sd(e,t);if(o==null)throw new Error(e+" not available on this browser");return o},Zg=Object.getPrototypeOf,Wg=e=>t1("HTMLElement",e),pb=e=>{const t=au("ownerDocument.defaultView",e);return ne(e)&&(Wg(t).prototype.isPrototypeOf(e)||/^HTML\w*Element$/.test(Zg(e).constructor.name))},sc=8,Om=9,Ld=11,Ol=1,Ja=3,en=e=>e.dom.nodeName.toLowerCase(),Gl=e=>e.dom.nodeType,Di=e=>t=>Gl(t)===e,ad=e=>Gl(e)===sc||en(e)==="#comment",iu=e=>Ri(e)&&pb(e.dom),Ri=Di(Ol),ns=Di(Ja),Dm=Di(Om),Ki=Di(Ld),bs=e=>t=>Ri(t)&&en(t)===e,ys=(e,t,o)=>{if(He(o)||Gn(o)||T(o))e.setAttribute(t,o+"");else throw console.error("Invalid call to Attribute.set. Key ",t,":: Value ",o,":: Element ",e),new Error("Attribute value was not simple")},Pn=(e,t,o)=>{ys(e.dom,t,o)},Dl=(e,t)=>{const o=e.dom;Bo(t,(r,a)=>{ys(o,a,r)})},Oa=(e,t)=>{const o=e.dom.getAttribute(t);return o===null?void 0:o},Kl=(e,t)=>$.from(Oa(e,t)),vs=(e,t)=>{const o=e.dom;return o&&o.hasAttribute?o.hasAttribute(t):!1},Ks=(e,t)=>{e.dom.removeAttribute(t)},Fu=e=>{const t=e.dom.attributes;return t==null||t.length===0},Ss=e=>fo(e.dom.attributes,(t,o)=>(t[o.name]=o.value,t),{}),$n=(e,t)=>{const o=Oa(e,t);return o===void 0||o===""?[]:o.split(" ")},Rl=(e,t,o)=>{const a=$n(e,t).concat([o]);return Pn(e,t,a.join(" ")),!0},Nl=(e,t,o)=>{const r=Ye($n(e,t),a=>a!==o);return r.length>0?Pn(e,t,r.join(" ")):Ks(e,t),!1},Kr=e=>e.dom.classList!==void 0,eo=e=>$n(e,"class"),lu=(e,t)=>Rl(e,"class",t),Qa=(e,t)=>Nl(e,"class",t),Vn=(e,t)=>nn(eo(e),t)?Qa(e,t):lu(e,t),id=(e,t)=>{Kr(e)?e.dom.classList.add(t):lu(e,t)},Pd=e=>{(Kr(e)?e.dom.classList:eo(e)).length===0&&Ks(e,"class")},ac=(e,t)=>{Kr(e)?e.dom.classList.remove(t):Qa(e,t),Pd(e)},qo=(e,t)=>{const o=Kr(e)?e.dom.classList.toggle(t):Vn(e,t);return Pd(e),o},ei=(e,t)=>Kr(e)&&e.dom.classList.contains(t),Tf=(e,t)=>{const r=(t||document).createElement("div");if(r.innerHTML=e,!r.hasChildNodes()||r.childNodes.length>1){const a="HTML does not have a single root node";throw console.error(a,e),new Error(a)}return dl(r.childNodes[0])},Of=(e,t)=>{const r=(t||document).createElement(e);return dl(r)},Fd=(e,t)=>{const r=(t||document).createTextNode(e);return dl(r)},dl=e=>{if(e==null)throw new Error("Node cannot be null or undefined");return{dom:e}},fe={fromHtml:Tf,fromTag:Of,fromText:Fd,fromDom:dl,fromPoint:(e,t,o)=>$.from(e.dom.elementFromPoint(t,o)).map(dl)},ld=(e,t)=>{const o=[],r=c=>(o.push(c),t(c));let a=t(e);do a=a.bind(r);while(a.isSome());return o},ti=(e,t)=>{const o=e.dom;if(o.nodeType!==Ol)return!1;{const r=o;if(r.matches!==void 0)return r.matches(t);if(r.msMatchesSelector!==void 0)return r.msMatchesSelector(t);if(r.webkitMatchesSelector!==void 0)return r.webkitMatchesSelector(t);if(r.mozMatchesSelector!==void 0)return r.mozMatchesSelector(t);throw new Error("Browser lacks native selectors")}},Hu=e=>e.nodeType!==Ol&&e.nodeType!==Om&&e.nodeType!==Ld||e.childElementCount===0,Ir=(e,t)=>{const o=t===void 0?document:t.dom;return Hu(o)?[]:To(o.querySelectorAll(e),fe.fromDom)},Bp=(e,t)=>{const o=t===void 0?document:t.dom;return Hu(o)?$.none():$.from(o.querySelector(e)).map(fe.fromDom)},an=(e,t)=>e.dom===t.dom,bi=(e,t)=>{const o=e.dom,r=t.dom;return o===r?!1:o.contains(r)},$u=e=>fe.fromDom(e.dom.ownerDocument),Ni=e=>Dm(e)?e:$u(e),ic=e=>fe.fromDom(Ni(e).dom.documentElement),Mi=e=>fe.fromDom(Ni(e).dom.defaultView),aa=e=>$.from(e.dom.parentNode).map(fe.fromDom),ul=e=>$.from(e.dom.parentElement).map(fe.fromDom),cu=(e,t)=>{const o=Lt(t)?t:fn;let r=e.dom;const a=[];for(;r.parentNode!==null&&r.parentNode!==void 0;){const c=r.parentNode,d=fe.fromDom(c);if(a.push(d),o(d)===!0)break;r=c}return a},Rm=e=>{const t=o=>Ye(o,r=>!an(e,r));return aa(e).map(ds).map(t).getOr([])},Ml=e=>$.from(e.dom.previousSibling).map(fe.fromDom),lc=e=>$.from(e.dom.nextSibling).map(fe.fromDom),Bi=e=>qs(ld(e,Ml)),to=e=>ld(e,lc),ds=e=>To(e.dom.childNodes,fe.fromDom),cd=(e,t)=>{const o=e.dom.childNodes;return $.from(o[t]).map(fe.fromDom)},Nm=e=>cd(e,0),du=e=>cd(e,e.dom.childNodes.length-1),yi=e=>e.dom.childNodes.length,Vu=e=>e.dom.hasChildNodes(),uu=e=>{const t=e.dom.head;if(t==null)throw new Error("Head is not available yet");return fe.fromDom(t)},Ps=e=>Ki(e)&&Le(e.dom.host),dd=Lt(Element.prototype.attachShadow)&&Lt(Node.prototype.getRootNode),cc=_e(dd),Ac=dd?e=>fe.fromDom(e.dom.getRootNode()):Ni,Df=e=>Ps(e)?e:uu(Ni(e)),$d=e=>Ps(e)?e:fe.fromDom(Ni(e).dom.body),zc=e=>{const t=Ac(e);return Ps(t)?$.some(t):$.none()},ju=e=>fe.fromDom(e.dom.host),Lr=e=>{if(cc()&&Le(e.target)){const t=fe.fromDom(e.target);if(Ri(t)&&Yi(t)&&e.composed&&e.composedPath){const o=e.composedPath();if(o)return lt(o)}}return $.from(e.target)},Yi=e=>Le(e.dom.shadowRoot),ia=e=>{const t=ns(e)?e.dom.parentNode:e.dom;if(t==null||t.ownerDocument===null)return!1;const o=t.ownerDocument;return zc(fe.fromDom(t)).fold(()=>o.body.contains(t),Cr(ia,ju))};var dc=(e,t,o,r,a)=>e(o,r)?$.some(o):Lt(a)&&a(o)?$.none():t(o,r,a);const xs=(e,t,o)=>{let r=e.dom;const a=Lt(o)?o:fn;for(;r.parentNode;){r=r.parentNode;const c=fe.fromDom(r);if(t(c))return $.some(c);if(a(c))break}return $.none()},fl=(e,t,o)=>dc((a,c)=>c(a),xs,e,t,o),la=(e,t)=>{const o=e.dom;return o.parentNode?ba(fe.fromDom(o.parentNode),r=>!an(e,r)&&t(r)):$.none()},ba=(e,t)=>{const o=a=>t(fe.fromDom(a));return Nn(e.dom.childNodes,o).map(fe.fromDom)},Vd=(e,t)=>{const o=r=>{for(let a=0;a<r.childNodes.length;a++){const c=fe.fromDom(r.childNodes[a]);if(t(c))return $.some(c);const d=o(r.childNodes[a]);if(d.isSome())return d}return $.none()};return o(e.dom)},Ze=(e,t,o)=>xs(e,r=>ti(r,t),o),ya=(e,t)=>Bp(t,e),jd=(e,t,o)=>dc((a,c)=>ti(a,c),Ze,e,t,o),rs=e=>jd(e,"[contenteditable]"),Ii=(e,t=!1)=>ia(e)?e.dom.isContentEditable:rs(e).fold(_e(t),o=>Bl(o)==="true"),Bl=e=>e.dom.contentEditable,Il=e=>e.style!==void 0&&Lt(e.style.getPropertyValue),Uu=(e,t,o)=>{if(!He(o))throw console.error("Invalid call to CSS.set. Property ",t,":: Value ",o,":: Element ",e),new Error("CSS value must be a string: "+o);Il(e)&&e.style.setProperty(t,o)},Fa=(e,t)=>{Il(e)&&e.style.removeProperty(t)},wn=(e,t,o)=>{const r=e.dom;Uu(r,t,o)},oi=(e,t)=>{const o=e.dom;Bo(t,(r,a)=>{Uu(o,a,r)})},Fs=(e,t)=>{const o=e.dom,a=window.getComputedStyle(o).getPropertyValue(t);return a===""&&!ia(e)?Da(o,t):a},Da=(e,t)=>Il(e)?e.style.getPropertyValue(t):"",fu=(e,t)=>{const o=e.dom,r=Da(o,t);return $.from(r).filter(a=>a.length>0)},ml=e=>{const t={},o=e.dom;if(Il(o))for(let r=0;r<o.style.length;r++){const a=o.style.item(r);t[a]=o.style[a]}return t},Ud=(e,t)=>{const o=e.dom;Fa(o,t),Gi(Kl(e,"style").map(ll),"")&&Ks(e,"style")},Li=e=>e.dom.offsetWidth,Ae=(e,t)=>{aa(e).each(r=>{r.dom.insertBefore(t.dom,e.dom)})},Hs=(e,t)=>{lc(e).fold(()=>{aa(e).each(a=>{Dr(a,t)})},r=>{Ae(r,t)})},Tc=(e,t)=>{Nm(e).fold(()=>{Dr(e,t)},r=>{e.dom.insertBefore(t.dom,r.dom)})},Dr=(e,t)=>{e.dom.appendChild(t.dom)},Ll=(e,t)=>{Ae(e,t),Dr(t,e)},Ha=(e,t)=>{We(t,(o,r)=>{const a=r===0?e:t[r-1];Hs(a,o)})},_r=(e,t)=>{We(t,o=>{Dr(e,o)})},ni=e=>{e.dom.textContent="",We(ds(e),t=>{fr(t)})},fr=e=>{const t=e.dom;t.parentNode!==null&&t.parentNode.removeChild(t)},Pr=e=>{const t=ds(e);t.length>0&&Ha(e,t),fr(e)},Xi=(e,t)=>{const r=(t||document).createElement("div");return r.innerHTML=e,ds(fe.fromDom(r))},Ji=e=>To(e,fe.fromDom),ud=e=>e.dom.innerHTML,Oc=(e,t)=>{const r=$u(e).dom,a=fe.fromDom(r.createDocumentFragment()),c=Xi(t,r);_r(a,c),ni(e),Dr(e,a)},Zd=e=>{const t=fe.fromTag("div"),o=fe.fromDom(e.dom.cloneNode(!0));return Dr(t,o),ud(t)},Rf=(e,t,o,r,a,c,d)=>({target:e,x:t,y:o,stop:r,prevent:a,kill:c,raw:d}),Mm=e=>{const t=fe.fromDom(Lr(e).getOr(e.target)),o=()=>e.stopPropagation(),r=()=>e.preventDefault(),a=Ro(r,o);return Rf(t,e.clientX,e.clientY,o,r,a,e)},fd=(e,t)=>o=>{e(o)&&t(Mm(o))},Rs=(e,t,o,r,a)=>{const c=fd(o,r);return e.dom.addEventListener(t,c,a),{unbind:yt(md,e,t,c,a)}},vi=(e,t,o,r)=>Rs(e,t,o,r,!1),md=(e,t,o,r)=>{e.dom.removeEventListener(t,o,r)},C=(e,t)=>({left:e,top:t,translate:(r,a)=>C(e+r,t+a)}),N=C,j=e=>{const t=e.getBoundingClientRect();return N(t.left,t.top)},ce=(e,t)=>e!==void 0?e:t!==void 0?t:0,ye=e=>{const t=e.dom.ownerDocument,o=t.body,r=t.defaultView,a=t.documentElement;if(o===e.dom)return N(o.offsetLeft,o.offsetTop);const c=ce(r==null?void 0:r.pageYOffset,a.scrollTop),d=ce(r==null?void 0:r.pageXOffset,a.scrollLeft),g=ce(a.clientTop,o.clientTop),v=ce(a.clientLeft,o.clientLeft);return rt(e).translate(d-v,c-g)},rt=e=>{const t=e.dom,r=t.ownerDocument.body;return r===t?N(r.offsetLeft,r.offsetTop):ia(e)?j(t):N(0,0)},Vt=e=>{const t=e!==void 0?e.dom:document,o=t.body.scrollLeft||t.documentElement.scrollLeft,r=t.body.scrollTop||t.documentElement.scrollTop;return N(o,r)},bo=(e,t,o)=>{const a=(o!==void 0?o.dom:document).defaultView;a&&a.scrollTo(e,t)},Oo=(e,t)=>{Jo().browser.isSafari()&&Lt(e.dom.scrollIntoViewIfNeeded)?e.dom.scrollIntoViewIfNeeded(!1):e.dom.scrollIntoView(t)},Ht=e=>{const t=e===void 0?window:e;return Jo().browser.isFirefox()?$.none():$.from(t.visualViewport)},mr=(e,t,o,r)=>({x:e,y:t,width:o,height:r,right:e+o,bottom:t+r}),Fr=e=>{const t=e===void 0?window:e,o=t.document,r=Vt(fe.fromDom(o));return Ht(t).fold(()=>{const a=t.document.documentElement,c=a.clientWidth,d=a.clientHeight;return mr(r.left,r.top,c,d)},a=>mr(Math.max(a.pageLeft,r.left),Math.max(a.pageTop,r.top),a.width,a.height))},$a=(e,t)=>Ye(ds(e),t),xi=(e,t)=>{let o=[];return We(ds(e),r=>{t(r)&&(o=o.concat([r])),o=o.concat(xi(r,t))}),o},ri=(e,t)=>Ir(t,e),Nf=(e,t,o)=>xs(e,t,o).isSome(),_v=(e,t)=>la(e,t).isSome(),qg=(e,t)=>Vd(e,t).isSome();class Tn{constructor(t,o){this.node=t,this.rootNode=o,this.current=this.current.bind(this),this.next=this.next.bind(this),this.prev=this.prev.bind(this),this.prev2=this.prev2.bind(this)}current(){return this.node}next(t){return this.node=this.findSibling(this.node,"firstChild","nextSibling",t),this.node}prev(t){return this.node=this.findSibling(this.node,"lastChild","previousSibling",t),this.node}prev2(t){return this.node=this.findPreviousNode(this.node,t),this.node}findSibling(t,o,r,a){if(t){if(!a&&t[o])return t[o];if(t!==this.rootNode){let c=t[r];if(c)return c;for(let d=t.parentNode;d&&d!==this.rootNode;d=d.parentNode)if(c=d[r],c)return c}}}findPreviousNode(t,o){if(t){const r=t.previousSibling;if(this.rootNode&&r===this.rootNode)return;if(r){if(!o){for(let c=r.lastChild;c;c=c.lastChild)if(!c.lastChild)return c}return r}const a=t.parentNode;if(a&&a!==this.rootNode)return a}}}const Ip="\uFEFF",us=" ",Dc=e=>e===Ip,Mf=e=>e.replace(/\uFEFF/g,""),mu=/^[ \t\r\n]*$/,va=e=>mu.test(e),pd=e=>{for(const t of e)if(!Dc(t))return!1;return!0},Bm=e=>" \f	\v".indexOf(e)!==-1,Im=e=>e===`
`||e==="\r",Lp=(e,t)=>t<e.length&&t>=0?Im(e[t]):!1,Pp=(e,t=4,o=!0,r=!0)=>{const a=es(" ",t),c=e.replace(/\t/g,a);return fo(c,(g,v)=>Bm(v)||v===us?g.pcIsSpace||g.str===""&&o||g.str.length===c.length-1&&r||Lp(c,g.str.length+1)?{pcIsSpace:!1,str:g.str+us}:{pcIsSpace:!0,str:g.str+" "}:{pcIsSpace:Im(v),str:g.str+v},{pcIsSpace:!1,str:""}).str},Rc=e=>t=>!!t&&t.nodeType===e,Bf=e=>!!e&&!Object.getPrototypeOf(e),jt=Rc(1),Pl=e=>jt(e)&&iu(fe.fromDom(e)),If=e=>jt(e)&&e.namespaceURI==="http://www.w3.org/2000/svg",Qi=e=>{const t=e.toLowerCase();return o=>Le(o)&&o.nodeName.toLowerCase()===t},si=e=>{const t=e.map(o=>o.toLowerCase());return o=>{if(o&&o.nodeName){const r=o.nodeName.toLowerCase();return nn(t,r)}return!1}},Nc=(e,t)=>{const o=t.toLowerCase().split(" ");return r=>{if(jt(r)){const a=r.ownerDocument.defaultView;if(a)for(let c=0;c<o.length;c++){const d=a.getComputedStyle(r,null);if((d?d.getPropertyValue(e):null)===o[c])return!0}}return!1}},gb=e=>t=>jt(t)&&t.hasAttribute(e),Mc=e=>jt(e)&&e.hasAttribute("data-mce-bogus"),Gg=e=>jt(e)&&e.getAttribute("data-mce-bogus")==="all",Bc=e=>jt(e)&&e.tagName==="TABLE",Lf=e=>t=>!!(Pl(t)&&(t.contentEditable===e||t.getAttribute("data-mce-contenteditable")===e)),Zu=si(["textarea","input"]),mt=Rc(3),Kg=Rc(4),jo=Rc(7),Zt=Rc(8),uc=Rc(9),Lm=Rc(11),Yr=Qi("br"),fc=Qi("img"),_n=Lf("true"),br=Lf("false"),Pf=si(["td","th"]),Ue=si(["td","th","caption"]),Yl=si(["video","audio","object","embed"]),Fp=Qi("li"),pu=Qi("details"),Yg=Qi("summary"),Ic={skipBogus:!0,includeZwsp:!1,checkRootAsContent:!1},hb=(e,t,o)=>{const r=fe.fromDom(t),a=fe.fromDom(e),c=o.getWhitespaceElements();return Nf(a,g=>xo(c,en(g)),yt(an,r))},Wu=e=>jt(e)&&e.nodeName==="A"&&!e.hasAttribute("href")&&(e.hasAttribute("name")||e.hasAttribute("id")),Ar=(e,t)=>jt(e)&&xo(t.getNonEmptyElements(),e.nodeName),gd=gb("data-mce-bookmark"),Xg=e=>ul(fe.fromDom(e)).exists(t=>!Ii(t)),Lc=(e,t,o)=>va(e.data)&&!hb(e,t,o),Ff=(e,t,o,r)=>mt(e)&&!Lc(e,t,o)&&(!r.includeZwsp||!pd(e.data)),Wd=(e,t,o,r)=>Lt(r.isContent)&&r.isContent(t)||Ar(t,e)||gd(t)||Wu(t)||Ff(t,o,e,r)||br(t)||_n(t)&&Xg(t),$s=(e,t,o)=>{const r={...Ic,...o};if(r.checkRootAsContent&&Wd(e,t,t,r))return!1;let a=t.firstChild,c=0;if(!a)return!0;const d=new Tn(a,t);do{if(r.skipBogus&&jt(a)){const g=a.getAttribute("data-mce-bogus");if(g){a=d.next(g==="all");continue}}if(Zt(a)){a=d.next(!0);continue}if(Yr(a)){c++,a=d.next();continue}if(Wd(e,a,t,r))return!1;a=d.next()}while(a);return c<=1},ca=(e,t,o)=>$s(e,t.dom,{checkRootAsContent:!0,...o}),Hp=(e,t,o)=>Wd(e,t,t,{includeZwsp:Ic.includeZwsp,...o}),Ys=e=>{let t=e;return{get:()=>t,set:a=>{t=a}}},Xl=e=>{const t=Ys($.none()),o=()=>t.get().each(e);return{clear:()=>{o(),t.set($.none())},isSet:()=>t.get().isSome(),get:()=>t.get(),set:g=>{o(),t.set($.some(g))}}},ki=e=>{const t=Ys($.none()),o=()=>t.get().each(g=>clearInterval(g));return{clear:()=>{o(),t.set($.none())},isSet:()=>t.get().isSome(),get:()=>t.get(),set:g=>{o(),t.set($.some(setInterval(g,e)))}}},ct=()=>{const e=Xl(lo);return{...e,on:o=>e.get().each(o)}},Jg=e=>{const t=e.toLowerCase();return t==="svg"?"svg":t==="math"?"math":"html"},ks=e=>Jg(e)!=="html",k=e=>ks(e.nodeName),z=e=>Jg(e.nodeName),V=["svg","math"],ee=()=>{const e=ct(),t=()=>e.get().map(z).getOr("html");return{track:a=>(k(a)?e.set(a):e.get().exists(c=>!c.contains(a))&&e.clear(),t()),current:t,reset:()=>{e.clear()}}},ge="data-mce-block",je=e=>Ye(st(e),t=>!/[A-Z]/.test(t)),pt=e=>To(je(e),t=>{const o=CSS.escape(t);return`${o}:`+To(V,r=>`not(${r} ${o})`).join(":")}).join(","),Bt=(e,t)=>Le(t.querySelector(e))?(t.setAttribute(ge,"true"),t.getAttribute("data-mce-selected")==="inline-boundary"&&t.removeAttribute("data-mce-selected"),!0):(t.removeAttribute(ge),!1),$t=(e,t)=>{const o=pt(e.getTransparentElements()),r=pt(e.getBlockElements());return Ye(t.querySelectorAll(o),a=>Bt(r,a))},Fo=(e,t,o)=>{var r;const a=o?"lastChild":"firstChild";for(let c=t[a];c;c=c[a])if($s(e,c,{checkRootAsContent:!0})){(r=c.parentNode)===null||r===void 0||r.removeChild(c);return}},Io=(e,t,o)=>{const r=document.createRange(),a=t.parentNode;if(a){r.setStartBefore(t),r.setEndBefore(o);const c=r.extractContents();Fo(e,c,!0),r.setStartAfter(o),r.setEndAfter(t);const d=r.extractContents();Fo(e,d,!1),$s(e,c,{checkRootAsContent:!0})||a.insertBefore(c,t),$s(e,o,{checkRootAsContent:!0})||a.insertBefore(o,t),$s(e,d,{checkRootAsContent:!0})||a.insertBefore(d,t),a.removeChild(t)}},Zo=(e,t,o)=>{const r=e.getBlockElements(),a=fe.fromDom(t),c=g=>en(g)in r,d=g=>an(g,a);We(Ji(o),g=>{xs(g,c,d).each(v=>{const A=$a(g,M=>c(M)&&!e.isValidChild(en(v),en(M)));if(A.length>0){const M=ul(v);We(A,B=>{xs(B,c,d).each(P=>{Io(e,P.dom,B.dom)})}),M.each(B=>$t(e,B.dom))}})})},pr=(e,t,o)=>{We([...o,...mc(e,t)?[t]:[]],r=>We(ri(fe.fromDom(r),r.nodeName.toLowerCase()),a=>{Hf(e,a.dom)&&Pr(a)}))},Cn=(e,t)=>{const o=$t(e,t);Zo(e,t,o),pr(e,t,o)},Jl=(e,t)=>{if(hu(e,t)){const o=pt(e.getBlockElements());Bt(o,t)}},Es=(e,t,o)=>{const r=c=>an(c,fe.fromDom(t)),a=cu(fe.fromDom(o),r);ps(a,a.length-2).filter(Ri).fold(()=>Cn(e,t),c=>Cn(e,c.dom))},wi=e=>e.hasAttribute(ge),gu=(e,t)=>xo(e.getTransparentElements(),t),hu=(e,t)=>jt(t)&&gu(e,t.nodeName),mc=(e,t)=>hu(e,t)&&wi(t),Hf=(e,t)=>hu(e,t)&&!wi(t),qd=(e,t)=>t.type===1&&gu(e,t.name)&&He(t.attr(ge)),$f=Jo().browser,bu=e=>Nn(e,Ri),Pm=e=>$f.isFirefox()&&en(e)==="table"?bu(ds(e)).filter(t=>en(t)==="caption").bind(t=>bu(to(t)).map(o=>{const r=o.dom.offsetTop,a=t.dom.offsetTop,c=t.dom.offsetHeight;return r<=a?-c:0})).getOr(0):0,$p=(e,t)=>e.children&&nn(e.children,t),On=(e,t,o)=>{let r=0,a=0;const c=e.ownerDocument;if(o=o||e,t){if(o===e&&t.getBoundingClientRect&&Fs(fe.fromDom(e),"position")==="static"){const g=t.getBoundingClientRect();return r=g.left+(c.documentElement.scrollLeft||e.scrollLeft)-c.documentElement.clientLeft,a=g.top+(c.documentElement.scrollTop||e.scrollTop)-c.documentElement.clientTop,{x:r,y:a}}let d=t;for(;d&&d!==o&&d.nodeType&&!$p(d,o);){const g=d;r+=g.offsetLeft||0,a+=g.offsetTop||0,d=g.offsetParent}for(d=t.parentNode;d&&d!==o&&d.nodeType&&!$p(d,o);)r-=d.scrollLeft||0,a-=d.scrollTop||0,d=d.parentNode;a+=Pm(fe.fromDom(t))}return{x:r,y:a}},Rr=(e,t={})=>{let o=0;const r={},a=fe.fromDom(e),c=Ni(a),d=we=>{t.referrerPolicy=we},g=we=>{t.contentCssCors=we},v=we=>{Dr(Df(a),we)},A=we=>{const Ce=Df(a);ya(Ce,"#"+we).each(fr)},M=we=>Hn(r,we).getOrThunk(()=>({id:"mce-u"+o++,passed:[],failed:[],count:0})),B=we=>new Promise((Ce,Se)=>{let De;const ot=ft._addCacheSuffix(we),vt=M(ot);r[ot]=vt,vt.count++;const Nt=(Wt,io)=>{We(Wt,kn),vt.status=io,vt.passed=[],vt.failed=[],De&&(De.onload=null,De.onerror=null,De=null)},Ve=()=>Nt(vt.passed,2),Be=()=>Nt(vt.failed,3);if(Ce&&vt.passed.push(Ce),Se&&vt.failed.push(Se),vt.status===1)return;if(vt.status===2){Ve();return}if(vt.status===3){Be();return}vt.status=1;const tt=fe.fromTag("link",c.dom);Dl(tt,{rel:"stylesheet",type:"text/css",id:vt.id}),t.contentCssCors&&Pn(tt,"crossOrigin","anonymous"),t.referrerPolicy&&Pn(tt,"referrerpolicy",t.referrerPolicy),De=tt.dom,De.onload=Ve,De.onerror=Be,v(tt),Pn(tt,"href",ot)}),P=(we,Ce)=>{const Se=M(we);r[we]=Se,Se.count++;const De=fe.fromTag("style",c.dom);Dl(De,{rel:"stylesheet",type:"text/css",id:Se.id}),De.dom.innerHTML=Ce,v(De)},X=we=>Promise.allSettled(To(we,Se=>B(Se).then(_e(Se)))).then(Se=>{const De=it(Se,ot=>ot.status==="fulfilled");return De.fail.length>0?Promise.reject(To(De.fail,ot=>ot.reason)):To(De.pass,ot=>ot.value)}),ae=we=>{const Ce=ft._addCacheSuffix(we);Hn(r,Ce).each(Se=>{--Se.count===0&&(delete r[Ce],A(Se.id))})};return{load:B,loadRawCss:P,loadAll:X,unload:ae,unloadRawCss:we=>{Hn(r,we).each(Ce=>{--Ce.count===0&&(delete r[we],A(Ce.id))})},unloadAll:we=>{We(we,Ce=>{ae(Ce)})},_setReferrerPolicy:d,_setContentCssCors:g}},Pi=(()=>{const e=new WeakMap;return{forElement:(o,r)=>{const c=Ac(o).dom;return $.from(e.get(c)).getOrThunk(()=>{const d=Rr(c,r);return e.set(c,d),d})}}})(),bb=e=>e.nodeName.toLowerCase()==="span",Vp=(e,t)=>Le(e)&&(Hp(t,e)||t.isInline(e.nodeName.toLowerCase())),qu=(e,t,o)=>{const r=new Tn(e,t).prev(!1),a=new Tn(e,t).next(!1),c=gn(r)||Vp(r,o),d=gn(a)||Vp(a,o);return c&&d},Gu=e=>bb(e)&&e.getAttribute("data-mce-type")==="bookmark",o1=(e,t,o)=>mt(e)&&e.data.length>0&&qu(e,t,o),Qg=e=>jt(e)?e.childNodes.length>0:!1,n1=e=>Lm(e)||uc(e),jp=(e,t,o,r)=>{var a;const c=r||t;if(jt(t)&&Gu(t))return t;const d=t.childNodes;for(let g=d.length-1;g>=0;g--)jp(e,d[g],o,c);if(jt(t)){const g=t.childNodes;g.length===1&&Gu(g[0])&&((a=t.parentNode)===null||a===void 0||a.insertBefore(g[0],t))}return!n1(t)&&!Hp(o,t)&&!Qg(t)&&!o1(t,c,o)&&e.remove(t),t},Cv=ft.makeMap,eh=/[&<>\"\u0060\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Up=/[<>&\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Fm=/[<>&\"\']/g,Zp=/&#([a-z0-9]+);?|&([a-z0-9]+);/gi,th={128:"€",130:"‚",131:"ƒ",132:"„",133:"…",134:"†",135:"‡",136:"ˆ",137:"‰",138:"Š",139:"‹",140:"Œ",142:"Ž",145:"‘",146:"’",147:"“",148:"”",149:"•",150:"–",151:"—",152:"˜",153:"™",154:"š",155:"›",156:"œ",158:"ž",159:"Ÿ"},Pc={'"':"&quot;","'":"&#39;","<":"&lt;",">":"&gt;","&":"&amp;","`":"&#96;"},r1={"&lt;":"<","&gt;":">","&amp;":"&","&quot;":'"',"&apos;":"'"},Fc=e=>{const t=fe.fromTag("div").dom;return t.innerHTML=e,t.textContent||t.innerText||e},Vf=(e,t)=>{const o={};if(e){const r=e.split(",");t=t||10;for(let a=0;a<r.length;a+=2){const c=String.fromCharCode(parseInt(r[a],t));if(!Pc[c]){const d="&"+r[a+1]+";";o[c]=d,o[d]=c}}return o}else return},Wp=Vf("50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro",32),s1=(e,t)=>e.replace(t?eh:Up,o=>Pc[o]||o),a1=e=>(""+e).replace(Fm,t=>Pc[t]||t),i1=(e,t)=>e.replace(t?eh:Up,o=>o.length>1?"&#"+((o.charCodeAt(0)-55296)*1024+(o.charCodeAt(1)-56320)+65536)+";":Pc[o]||"&#"+o.charCodeAt(0)+";"),pc=(e,t,o)=>{const r=o||Wp;return e.replace(t?eh:Up,a=>Pc[a]||r[a]||a)},jf={encodeRaw:s1,encodeAllRaw:a1,encodeNumeric:i1,encodeNamed:pc,getEncodeFunc:(e,t)=>{const o=Vf(t)||Wp,r=(d,g)=>d.replace(g?eh:Up,v=>Pc[v]!==void 0?Pc[v]:o[v]!==void 0?o[v]:v.length>1?"&#"+((v.charCodeAt(0)-55296)*1024+(v.charCodeAt(1)-56320)+65536)+";":"&#"+v.charCodeAt(0)+";"),a=(d,g)=>pc(d,g,o),c=Cv(e.replace(/\+/g,","));return c.named&&c.numeric?r:c.named?t?a:pc:c.numeric?i1:s1},decode:e=>e.replace(Zp,(t,o)=>o?(o.charAt(0).toLowerCase()==="x"?o=parseInt(o.substr(1),16):o=parseInt(o,10),o>65535?(o-=65536,String.fromCharCode(55296+(o>>10),56320+(o&1023))):th[o]||String.fromCharCode(o)):r1[t]||Wp[t]||Fc(t))},xa=(e,t)=>(e=ft.trim(e),e?e.split(t||" "):[]),yu=e=>new RegExp("^"+e.replace(/([?+*])/g,".$1")+"$"),yb=e=>ne(e)&&e.source&&Object.prototype.toString.call(e)==="[object RegExp]",vn=e=>{const t=o=>ve(o)?To(o,t):yb(o)?new RegExp(o.source,o.flags):ne(o)?Wi(o,t):o;return t(e)},Fl=e=>{const t=/^(~)?(.+)$/;return zn(xa(e,","),o=>{const r=t.exec(o);if(r){const c=r[1]==="~"?"span":"div",d=r[2];return[{cloneName:c,name:d}]}else return[]})},Ku=e=>Object.freeze(["id","accesskey","class","dir","lang","style","tabindex","title","role",...e!=="html4"?["contenteditable","contextmenu","draggable","dropzone","hidden","spellcheck","translate","itemprop","itemscope","itemtype"]:[],...e!=="html5-strict"?["xml:lang"]:[]]),Hm=e=>{let t,o;t="address blockquote div dl fieldset form h1 h2 h3 h4 h5 h6 hr menu ol p pre table ul",o="a abbr b bdo br button cite code del dfn em embed i iframe img input ins kbd label map noscript object q s samp script select small span strong sub sup textarea u var #text #comment",e!=="html4"&&(t+=" article aside details dialog figure main header footer hgroup section nav "+"a ins del canvas map",o+=" audio canvas command data datalist mark meter output picture progress time wbr video ruby bdi keygen svg"),e!=="html5-strict"&&(o=[o,"acronym applet basefont big font strike tt"].join(" "),t=[t,"center dir isindex noframes"].join(" "));const r=[t,o].join(" ");return{blockContent:t,phrasingContent:o,flowContent:r}},bn=e=>{const{blockContent:t,phrasingContent:o,flowContent:r}=Hm(e),a=c=>Object.freeze(c.split(" "));return Object.freeze({blockContent:a(t),phrasingContent:a(o),flowContent:a(r)})},oh={html4:Ya(()=>bn("html4")),html5:Ya(()=>bn("html5")),"html5-strict":Ya(()=>bn("html5-strict"))},nh=(e,t)=>{const{blockContent:o,phrasingContent:r,flowContent:a}=oh[e]();return t==="blocks"?$.some(o):t==="phrasing"?$.some(r):t==="flow"?$.some(a):$.none()},r_=e=>{const t=Ku(e),{phrasingContent:o,flowContent:r}=Hm(e),a={},c=(v,A,M)=>{a[v]={attributes:tr(A,_e({})),attributesOrder:A,children:tr(M,_e({}))}},d=(v,A="",M="")=>{const B=xa(M),P=xa(v);let X=P.length;const ae=[...t,...xa(A)];for(;X--;)c(P[X],ae.slice(),B)},g=(v,A)=>{const M=xa(v),B=xa(A);let P=M.length;for(;P--;){const X=a[M[P]];for(let ae=0,J=B.length;ae<J;ae++)X.attributes[B[ae]]={},X.attributesOrder.push(B[ae])}};return e!=="html5-strict"&&(We(xa("acronym applet basefont big font strike tt"),M=>{d(M,"",o)}),We(xa("center dir isindex noframes"),M=>{d(M,"",r)})),d("html","manifest","head body"),d("head","","base command link meta noscript script style title"),d("title hr noscript br"),d("base","href target"),d("link","href rel media hreflang type sizes hreflang"),d("meta","name http-equiv content charset"),d("style","media type scoped"),d("script","src async defer type charset"),d("body","onafterprint onbeforeprint onbeforeunload onblur onerror onfocus onhashchange onload onmessage onoffline ononline onpagehide onpageshow onpopstate onresize onscroll onstorage onunload",r),d("dd div","",r),d("address dt caption","",e==="html4"?o:r),d("h1 h2 h3 h4 h5 h6 pre p abbr code var samp kbd sub sup i b u bdo span legend em strong small s cite dfn","",o),d("blockquote","cite",r),d("ol","reversed start type","li"),d("ul","","li"),d("li","value",r),d("dl","","dt dd"),d("a","href target rel media hreflang type",e==="html4"?o:r),d("q","cite",o),d("ins del","cite datetime",r),d("img","src sizes srcset alt usemap ismap width height"),d("iframe","src name width height",r),d("embed","src type width height"),d("object","data type typemustmatch name usemap form width height",[r,"param"].join(" ")),d("param","name value"),d("map","name",[r,"area"].join(" ")),d("area","alt coords shape href target rel media hreflang type"),d("table","border","caption colgroup thead tfoot tbody tr"+(e==="html4"?" col":"")),d("colgroup","span","col"),d("col","span"),d("tbody thead tfoot","","tr"),d("tr","","td th"),d("td","colspan rowspan headers",r),d("th","colspan rowspan headers scope abbr",r),d("form","accept-charset action autocomplete enctype method name novalidate target",r),d("fieldset","disabled form name",[r,"legend"].join(" ")),d("label","form for",o),d("input","accept alt autocomplete checked dirname disabled form formaction formenctype formmethod formnovalidate formtarget height list max maxlength min multiple name pattern readonly required size src step type value width"),d("button","disabled form formaction formenctype formmethod formnovalidate formtarget name type value",e==="html4"?r:o),d("select","disabled form multiple name required size","option optgroup"),d("optgroup","disabled label","option"),d("option","disabled label selected value"),d("textarea","cols dirname disabled form maxlength name readonly required rows wrap"),d("menu","type label",[r,"li"].join(" ")),d("noscript","",r),e!=="html4"&&(d("wbr"),d("ruby","",[o,"rt rp"].join(" ")),d("figcaption","",r),d("mark rt rp bdi","",o),d("summary","",[o,"h1 h2 h3 h4 h5 h6"].join(" ")),d("canvas","width height",r),d("data","value",o),d("video","src crossorigin poster preload autoplay mediagroup loop muted controls width height buffered",[r,"track source"].join(" ")),d("audio","src crossorigin preload autoplay mediagroup loop muted controls buffered volume",[r,"track source"].join(" ")),d("picture","","img source"),d("source","src srcset type media sizes"),d("track","kind src srclang label default"),d("datalist","",[o,"option"].join(" ")),d("article section nav aside main header footer","",r),d("hgroup","","h1 h2 h3 h4 h5 h6"),d("figure","",[r,"figcaption"].join(" ")),d("time","datetime",o),d("dialog","open",r),d("command","type label icon disabled checked radiogroup command"),d("output","for form name",o),d("progress","value max",o),d("meter","value min max low high optimum",o),d("details","open",[r,"summary"].join(" ")),d("keygen","autofocus challenge disabled form keytype name"),c("svg","id tabindex lang xml:space class style x y width height viewBox preserveAspectRatio zoomAndPan transform".split(" "),[])),e!=="html5-strict"&&(g("script","language xml:space"),g("style","xml:space"),g("object","declare classid code codebase codetype archive standby align border hspace vspace"),g("embed","align name hspace vspace"),g("param","valuetype type"),g("a","charset name rev shape coords"),g("br","clear"),g("applet","codebase archive code object alt name width height align hspace vspace"),g("img","name longdesc align border hspace vspace"),g("iframe","longdesc frameborder marginwidth marginheight scrolling align"),g("font basefont","size color face"),g("input","usemap align"),g("select"),g("textarea"),g("h1 h2 h3 h4 h5 h6 div p legend caption","align"),g("ul","type compact"),g("li","type"),g("ol dl menu dir","compact"),g("pre","width xml:space"),g("hr","align noshade size width"),g("isindex","prompt"),g("table","summary width frame rules cellspacing cellpadding align bgcolor"),g("col","width align char charoff valign"),g("colgroup","width align char charoff valign"),g("thead","align char charoff valign"),g("tr","align char charoff valign bgcolor"),g("th","axis align char charoff valign nowrap bgcolor width height"),g("form","accept"),g("td","abbr axis scope align char charoff valign nowrap bgcolor width height"),g("tfoot","align char charoff valign"),g("tbody","align char charoff valign"),g("area","nohref"),g("body","background bgcolor text link vlink alink")),e!=="html4"&&(g("input button select textarea","autofocus"),g("input textarea","placeholder"),g("a","download"),g("link script img","crossorigin"),g("img","loading"),g("iframe","sandbox seamless allow allowfullscreen loading")),e!=="html4"&&We([a.video,a.audio],v=>{delete v.children.audio,delete v.children.video}),We(xa("a form meter progress dfn"),v=>{a[v]&&delete a[v].children[v]}),delete a.caption.children.table,delete a.script,a},fs=e=>e==="-"?"remove":"add",c1=e=>{const t=/^(@?)([A-Za-z0-9_\-.\u00b7\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u037d\u037f-\u1fff\u200c-\u200d\u203f-\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]+)$/;return $.from(t.exec(e)).map(o=>({preset:o[1]==="@",name:o[2]}))},vb=e=>{const t=/^([+\-]?)([A-Za-z0-9_\-.\u00b7\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u037d\u037f-\u1fff\u200c-\u200d\u203f-\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]+)\[([^\]]+)]$/;return zn(xa(e,","),o=>{const r=t.exec(o);if(r){const a=r[1],c=a?fs(a):"replace",d=r[2],g=zn(xa(r[3],"|"),v=>c1(v).toArray());return[{operation:c,name:d,validChildren:g}]}else return[]})},xb=(e,t)=>{const o=/^([!\-])?(\w+[\\:]:\w+|[^=~<]+)?(?:([=~<])(.*))?$/,r=/[*?+]/,{attributes:a,attributesOrder:c}=t;return We(xa(e,"|"),d=>{const g=o.exec(d);if(g){const v={},A=g[1],M=g[2].replace(/[\\:]:/g,":"),B=g[3],P=g[4];if(A==="!"&&(t.attributesRequired=t.attributesRequired||[],t.attributesRequired.push(M),v.required=!0),A==="-"){delete a[M],c.splice(ft.inArray(c,M),1);return}if(B&&(B==="="?(t.attributesDefault=t.attributesDefault||[],t.attributesDefault.push({name:M,value:P}),v.defaultValue=P):B==="~"?(t.attributesForced=t.attributesForced||[],t.attributesForced.push({name:M,value:P}),v.forcedValue=P):B==="<"&&(v.validValues=ft.makeMap(P,"?"))),r.test(M)){const X=v;t.attributePatterns=t.attributePatterns||[],X.pattern=yu(M),t.attributePatterns.push(X)}else a[M]||c.push(M),a[M]=v}})},Pt=(e,t)=>{Bo(e.attributes,(o,r)=>{t.attributes[r]=o}),t.attributesOrder.push(...e.attributesOrder)},Sv=(e,t)=>{const o=/^([#+\-])?([^\[!\/]+)(?:\/([^\[!]+))?(?:(!?)\[([^\]]+)])?$/;return zn(xa(t,","),r=>{const a=o.exec(r);if(a){const c=a[1],d=a[2],g=a[3],v=a[4],A=a[5],M={attributes:{},attributesOrder:[]};if(e.each(B=>Pt(B,M)),c==="#"?M.paddEmpty=!0:c==="-"&&(M.removeEmpty=!0),v==="!"&&(M.removeEmptyAttrs=!0),A&&xb(A,M),g&&(M.outputName=d),d==="@")if(e.isNone())e=$.some(M);else return[];return[g?{name:d,element:M,aliasName:g}:{name:d,element:M}]}else return[]})},rh={},qp=ft.makeMap,Hc=ft.each,sh=ft.extend,Uf=ft.explode,vu=(e,t={})=>{const o=qp(e," ",qp(e.toUpperCase()," "));return sh(o,t)},Ev=e=>vu("td th li dt dd figcaption caption details summary",e.getTextBlockElements()),Gp=(e,t)=>{if(e){const o={};return He(e)&&(e={"*":e}),Hc(e,(r,a)=>{o[a]=o[a.toUpperCase()]=t==="map"?qp(r,/[, ]/):Uf(r,/[, ]/)}),o}else return},Zf=(e={})=>{var t;const o={},r={};let a=[];const c={},d={},g=(no,En,Ms)=>{const ma=e[no];if(ma)return qp(ma,/[, ]/,qp(ma.toUpperCase(),/[, ]/));{let qa=rh[no];return qa||(qa=vu(En,Ms),rh[no]=qa),qa}},v=(t=e.schema)!==null&&t!==void 0?t:"html5",A=r_(v);e.verify_html===!1&&(e.valid_elements="*[*]");const M=Gp(e.valid_styles),B=Gp(e.invalid_styles,"map"),P=Gp(e.valid_classes,"map"),X=g("whitespace_elements","pre script noscript style textarea video audio iframe object code"),ae=g("self_closing_elements","colgroup dd dt li option p td tfoot th thead tr"),J=g("void_elements","area base basefont br col frame hr img input isindex link meta param embed source wbr track"),ie=g("boolean_attributes","checked compact declare defer disabled ismap multiple nohref noresize noshade nowrap readonly selected autoplay loop controls allowfullscreen"),we="td th iframe video audio object script code",Ce=g("non_empty_elements",we+" pre svg textarea summary",J),Se=g("move_caret_before_on_enter_elements",we+" table",J),De="h1 h2 h3 h4 h5 h6",ot=g("text_block_elements",De+" p div address pre form blockquote center dir fieldset header footer article section hgroup aside main nav figure"),vt=g("block_elements","hr table tbody thead tfoot th tr td li ol ul caption dl dt dd noscript menu isindex option datalist select optgroup figcaption details summary html body multicol listing",ot),Nt=g("text_inline_elements","span strong b em i font s strike u var cite dfn code mark q sup sub samp"),Ve=g("transparent_elements","a ins del canvas map"),Be=g("wrap_block_elements","pre "+De);Hc("script noscript iframe noframes noembed title style textarea xmp plaintext".split(" "),no=>{d[no]=new RegExp("</"+no+"[^>]*>","gi")});const tt=no=>{const En=$.from(o["@"]),Ms=/[*?+]/;We(Sv(En,no??""),({name:ma,element:qa,aliasName:rl})=>{if(rl&&(o[rl]=qa),Ms.test(ma)){const Na=qa;Na.pattern=yu(ma),a.push(Na)}else o[ma]=qa})},Wt=no=>{a=[],We(st(o),En=>{delete o[En]}),tt(no)},io=(no,En)=>{var Ms,ma;delete rh.text_block_elements,delete rh.block_elements;const qa=En.extends?!ru(En.extends):!1,rl=En.extends;if(r[no]=rl?r[rl]:{},c[no]=rl??no,Ce[no.toUpperCase()]={},Ce[no]={},qa||(vt[no.toUpperCase()]={},vt[no]={}),rl&&!o[no]&&o[rl]){const Na=vn(o[rl]);delete Na.removeEmptyAttrs,delete Na.removeEmpty,o[no]=Na}else o[no]={attributesOrder:[],attributes:{}};if(ve(En.attributes)){const Na=kc=>{Ma.attributesOrder.push(kc),Ma.attributes[kc]={}},Ma=(Ms=o[no])!==null&&Ms!==void 0?Ms:{};delete Ma.attributesDefault,delete Ma.attributesForced,delete Ma.attributePatterns,delete Ma.attributesRequired,Ma.attributesOrder=[],Ma.attributes={},We(En.attributes,kc=>{const Cm=Ku(v);c1(kc).each(({preset:Sm,name:Em})=>{Sm?Em==="global"&&We(Cm,Na):Na(Em)})}),o[no]=Ma}if(Gn(En.padEmpty)){const Na=(ma=o[no])!==null&&ma!==void 0?ma:{};Na.paddEmpty=En.padEmpty,o[no]=Na}if(ve(En.children)){const Na={},Ma=Cm=>{Na[Cm]={}},kc=Cm=>{nh(v,Cm).each(Sm=>{We(Sm,Ma)})};We(En.children,Cm=>{c1(Cm).each(({preset:Sm,name:Em})=>{Sm?kc(Em):Ma(Em)})}),r[no]=Na}rl&&Bo(r,(Na,Ma)=>{Na[rl]&&(r[Ma]=Na=sh({},r[Ma]),Na[no]=Na[rl])})},tn=no=>{We(Fl(no??""),({name:En,cloneName:Ms})=>{io(En,{extends:Ms})})},pn=no=>{ne(no)?Bo(no,(En,Ms)=>io(Ms,En)):He(no)&&tn(no)},xr=no=>{We(vb(no??""),({operation:En,name:Ms,validChildren:ma})=>{const qa=En==="replace"?{"#comment":{}}:r[Ms],rl=Ma=>{En==="remove"?delete qa[Ma]:qa[Ma]={}},Na=Ma=>{nh(v,Ma).each(kc=>{We(kc,rl)})};We(ma,({preset:Ma,name:kc})=>{Ma?Na(kc):rl(kc)}),r[Ms]=qa})},Mr=no=>{const En=o[no];if(En)return En;let Ms=a.length;for(;Ms--;){const ma=a[Ms];if(ma.pattern.test(no))return ma}},oa=()=>{e.valid_elements?(Wt(e.valid_elements),Hc(A,(no,En)=>{r[En]=no.children})):(Hc(A,(no,En)=>{o[En]={attributes:no.attributes,attributesOrder:no.attributesOrder},r[En]=no.children}),Hc(xa("strong/b em/i"),no=>{const En=xa(no,"/");o[En[1]].outputName=En[0]}),Hc(Nt,(no,En)=>{o[En]&&(e.padd_empty_block_inline_children&&(o[En].paddInEmptyBlock=!0),o[En].removeEmpty=!0)}),Hc(xa("ol ul blockquote a table tbody"),no=>{o[no]&&(o[no].removeEmpty=!0)}),Hc(xa("p h1 h2 h3 h4 h5 h6 th td pre div address caption li summary"),no=>{o[no]&&(o[no].paddEmpty=!0)}),Hc(xa("span"),no=>{o[no].removeEmptyAttrs=!0})),delete o.svg,pn(e.custom_elements),xr(e.valid_children),tt(e.extended_valid_elements),xr("+ol[ul|ol],+ul[ul|ol]"),Hc({dd:"dl",dt:"dl",li:"ul ol",td:"tr",th:"tr",tr:"tbody thead tfoot",tbody:"table",thead:"table",tfoot:"table",legend:"fieldset",area:"map",param:"video audio object"},(no,En)=>{o[En]&&(o[En].parentsRequired=xa(no))}),e.invalid_elements&&Hc(Uf(e.invalid_elements),no=>{o[no]&&delete o[no]}),Mr("span")||tt("span[!data-mce-type|*]")},xl=_e(M),Br=_e(B),St=_e(P),Xt=_e(ie),Zn=_e(vt),zt=_e(ot),go=_e(Nt),on=_e(Object.seal(J)),Rt=_e(ae),Yo=_e(Ce),cn=_e(Se),zi=_e(X),kr=_e(Ve),ci=_e(Be),Cf=_e(Object.seal(d)),Mp=(no,En)=>{const Ms=r[no.toLowerCase()];return!!(Ms&&Ms[En.toLowerCase()])},xc=(no,En)=>{const Ms=Mr(no);if(Ms)if(En){if(Ms.attributes[En])return!0;const ma=Ms.attributePatterns;if(ma){let qa=ma.length;for(;qa--;)if(ma[qa].pattern.test(En))return!0}}else return!0;return!1},ru=no=>xo(Zn(),no),Sf=no=>!Ln(no,"#")&&xc(no)&&!ru(no),su=no=>xo(ci(),no)||Sf(no),Ef=_e(c);return oa(),{type:v,children:r,elements:o,getValidStyles:xl,getValidClasses:St,getBlockElements:Zn,getInvalidStyles:Br,getVoidElements:on,getTextBlockElements:zt,getTextInlineElements:go,getBoolAttrs:Xt,getElementRule:Mr,getSelfClosingElements:Rt,getNonEmptyElements:Yo,getMoveCaretBeforeOnEnterElements:cn,getWhitespaceElements:zi,getTransparentElements:kr,getSpecialElements:Cf,isValidChild:Mp,isValid:xc,isBlock:ru,isInline:Sf,isWrapper:su,getCustomElements:Ef,addValidElements:tt,setValidElements:Wt,addCustomElements:pn,addValidChildren:xr}},kb=e=>({value:Av(e)}),Av=e=>Id(e,"#").toUpperCase(),wb=e=>{const t=e.toString(16);return(t.length===1?"0"+t:t).toUpperCase()},_b=e=>{const t=wb(e.red)+wb(e.green)+wb(e.blue);return kb(t)},d1=/^\s*rgb\s*\(\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*(\d+)\s*\)\s*$/i,Cb=/^\s*rgba\s*\(\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*((?:\d?\.\d+|\d+)%?)\s*\)\s*$/i,s_=(e,t,o,r)=>({red:e,green:t,blue:o,alpha:r}),zv=(e,t,o,r)=>{const a=parseInt(e,10),c=parseInt(t,10),d=parseInt(o,10),g=parseFloat(r);return s_(a,c,d,g)},a_=e=>d1.test(e)?"rgb":Cb.test(e)?"rgba":"other",Tv=e=>{const t=d1.exec(e);if(t!==null)return $.some(zv(t[1],t[2],t[3],"1"));const o=Cb.exec(e);return o!==null?$.some(zv(o[1],o[2],o[3],o[4])):$.none()},$m=e=>`rgba(${e.red},${e.green},${e.blue},${e.alpha})`,ah=e=>Tv(e).map(_b).map(t=>"#"+t.value).getOr(e),u1=(e={},t)=>{const o=/(?:url(?:(?:\(\s*\"([^\"]+)\"\s*\))|(?:\(\s*\'([^\']+)\'\s*\))|(?:\(\s*([^)\s]+)\s*\))))|(?:\'([^\']+)\')|(?:\"([^\"]+)\")/gi,r=/\s*([^:]+):\s*([^;]+);?/g,a=/\s+$/,c={};let d,g;const v=Ip;t&&(d=t.getValidStyles(),g=t.getInvalidStyles());const A=(`\\" \\' \\; \\: ; : `+v).split(" ");for(let B=0;B<A.length;B++)c[A[B]]=v+B,c[v+B]=A[B];const M={parse:B=>{const P={};let X=!1;const ae=e.url_converter,J=e.url_converter_scope||M,ie=(Ve,Be,tt)=>{const Wt=P[Ve+"-top"+Be];if(!Wt)return;const io=P[Ve+"-right"+Be];if(!io)return;const tn=P[Ve+"-bottom"+Be];if(!tn)return;const pn=P[Ve+"-left"+Be];if(!pn)return;const xr=[Wt,io,tn,pn];let Mr=xr.length-1;for(;Mr--&&xr[Mr]===xr[Mr+1];);Mr>-1&&tt||(P[Ve+Be]=Mr===-1?xr[0]:xr.join(" "),delete P[Ve+"-top"+Be],delete P[Ve+"-right"+Be],delete P[Ve+"-bottom"+Be],delete P[Ve+"-left"+Be])},we=Ve=>{const Be=P[Ve];if(!Be)return;const tt=Be.indexOf(",")>-1?[Be]:Be.split(" ");let Wt=tt.length;for(;Wt--;)if(tt[Wt]!==tt[0])return!1;return P[Ve]=tt[0],!0},Ce=(Ve,Be,tt,Wt)=>{we(Be)&&we(tt)&&we(Wt)&&(P[Ve]=P[Be]+" "+P[tt]+" "+P[Wt],delete P[Be],delete P[tt],delete P[Wt])},Se=Ve=>(X=!0,c[Ve]),De=(Ve,Be)=>(X&&(Ve=Ve.replace(/\uFEFF[0-9]/g,tt=>c[tt])),Be||(Ve=Ve.replace(/\\([\'\";:])/g,"$1")),Ve),ot=Ve=>String.fromCharCode(parseInt(Ve.slice(1),16)),vt=Ve=>Ve.replace(/\\[0-9a-f]+/gi,ot),Nt=(Ve,Be,tt,Wt,io,tn)=>{if(io=io||tn,io)return io=De(io),"'"+io.replace(/\'/g,"\\'")+"'";if(Be=De(Be||tt||Wt||""),!e.allow_script_urls){const pn=Be.replace(/[\s\r\n]+/g,"");if(/(java|vb)script:/i.test(pn)||!e.allow_svg_data_urls&&/^data:image\/svg/i.test(pn))return""}return ae&&(Be=ae.call(J,Be,"style")),"url('"+Be.replace(/\'/g,"\\'")+"')"};if(B){B=B.replace(/[\u0000-\u001F]/g,""),B=B.replace(/\\[\"\';:\uFEFF]/g,Se).replace(/\"[^\"]+\"|\'[^\']+\'/g,Be=>Be.replace(/[;:]/g,Se));let Ve;for(;Ve=r.exec(B);){r.lastIndex=Ve.index+Ve[0].length;let Be=Ve[1].replace(a,"").toLowerCase(),tt=Ve[2].replace(a,"");if(Be&&tt){if(Be=vt(Be),tt=vt(tt),Be.indexOf(v)!==-1||Be.indexOf('"')!==-1||!e.allow_script_urls&&(Be==="behavior"||/expression\s*\(|\/\*|\*\//.test(tt)))continue;Be==="font-weight"&&tt==="700"?tt="bold":(Be==="color"||Be==="background-color")&&(tt=tt.toLowerCase()),a_(tt)==="rgb"&&Tv(tt).each(Wt=>{tt=ah($m(Wt)).toLowerCase()}),tt=tt.replace(o,Nt),P[Be]=X?De(tt,!0):tt}}ie("border","",!0),ie("border","-width"),ie("border","-color"),ie("border","-style"),ie("padding",""),ie("margin",""),Ce("border","border-width","border-style","border-color"),P.border==="medium none"&&delete P.border,P["border-image"]==="none"&&delete P["border-image"]}return P},serialize:(B,P)=>{let X="";const ae=(ie,we)=>{const Ce=we[ie];if(Ce)for(let Se=0,De=Ce.length;Se<De;Se++){const ot=Ce[Se],vt=B[ot];vt&&(X+=(X.length>0?" ":"")+ot+": "+vt+";")}},J=(ie,we)=>{if(!g||!we)return!0;let Ce=g["*"];return Ce&&Ce[ie]?!1:(Ce=g[we],!(Ce&&Ce[ie]))};return P&&d?(ae("*",d),ae(P,d)):Bo(B,(ie,we)=>{ie&&J(we,P)&&(X+=(X.length>0?" ":"")+we+": "+ie+";")}),X}};return M},Yu={keyLocation:!0,layerX:!0,layerY:!0,returnValue:!0,webkitMovementX:!0,webkitMovementY:!0,keyIdentifier:!0,mozPressure:!0},Vm=e=>e instanceof Event||Lt(e.initEvent),Ov=e=>e.isDefaultPrevented===Ao||e.isDefaultPrevented===fn,Dv=e=>vo(e.preventDefault)||Vm(e),f1=(e,t)=>{const o=t??{};for(const r in e)xo(Yu,r)||(o[r]=e[r]);return Le(e.composedPath)&&(o.composedPath=()=>e.composedPath()),Le(e.getModifierState)&&(o.getModifierState=r=>e.getModifierState(r)),Le(e.getTargetRanges)&&(o.getTargetRanges=()=>e.getTargetRanges()),o},Sb=(e,t,o,r)=>{var a;const c=f1(t,r);return c.type=e,vo(c.target)&&(c.target=(a=c.srcElement)!==null&&a!==void 0?a:o),Dv(t)&&(c.preventDefault=()=>{c.defaultPrevented=!0,c.isDefaultPrevented=Ao,Lt(t.preventDefault)&&t.preventDefault()},c.stopPropagation=()=>{c.cancelBubble=!0,c.isPropagationStopped=Ao,Lt(t.stopPropagation)&&t.stopPropagation()},c.stopImmediatePropagation=()=>{c.isImmediatePropagationStopped=Ao,c.stopPropagation()},Ov(c)||(c.isDefaultPrevented=c.defaultPrevented===!0?Ao:fn,c.isPropagationStopped=c.cancelBubble===!0?Ao:fn,c.isImmediatePropagationStopped=fn)),c},i_="mce-data-",Rv=/^(?:mouse|contextmenu)|click/,Eb=(e,t,o,r)=>{e.addEventListener(t,o,r||!1)},zr=(e,t,o,r)=>{e.removeEventListener(t,o,r||!1)},ih=e=>Le(e)&&Rv.test(e.type),da=(e,t)=>{const o=Sb(e.type,e,document,t);if(ih(e)&&gn(e.pageX)&&!gn(e.clientX)){const r=o.target.ownerDocument||document,a=r.documentElement,c=r.body,d=o;d.pageX=e.clientX+(a&&a.scrollLeft||c&&c.scrollLeft||0)-(a&&a.clientLeft||c&&c.clientLeft||0),d.pageY=e.clientY+(a&&a.scrollTop||c&&c.scrollTop||0)-(a&&a.clientTop||c&&c.clientTop||0)}return o},m1=(e,t,o)=>{const r=e.document,a={type:"ready"};if(o.domLoaded){t(a);return}const c=()=>r.readyState==="complete"||r.readyState==="interactive"&&r.body,d=()=>{zr(e,"DOMContentLoaded",d),zr(e,"load",d),o.domLoaded||(o.domLoaded=!0,t(a)),e=null};c()?d():Eb(e,"DOMContentLoaded",d),o.domLoaded||Eb(e,"load",d)};class Xs{constructor(){this.domLoaded=!1,this.events={},this.count=1,this.expando=i_+(+new Date).toString(32),this.hasFocusIn="onfocusin"in document.documentElement,this.count=1}bind(t,o,r,a){const c=this;let d;const g=window,v=P=>{c.executeHandlers(da(P||g.event),A)};if(!t||mt(t)||Zt(t))return r;let A;t[c.expando]?A=t[c.expando]:(A=c.count++,t[c.expando]=A,c.events[A]={}),a=a||t;const M=o.split(" ");let B=M.length;for(;B--;){let P=M[B],X=v,ae=!1,J=!1;if(P==="DOMContentLoaded"&&(P="ready"),c.domLoaded&&P==="ready"&&t.readyState==="complete"){r.call(a,da({type:P}));continue}!c.hasFocusIn&&(P==="focusin"||P==="focusout")&&(ae=!0,J=P==="focusin"?"focus":"blur",X=ie=>{const we=da(ie||g.event);we.type=we.type==="focus"?"focusin":"focusout",c.executeHandlers(we,A)}),d=c.events[A][P],d?P==="ready"&&c.domLoaded?r(da({type:P})):d.push({func:r,scope:a}):(c.events[A][P]=d=[{func:r,scope:a}],d.fakeName=J,d.capture=ae,d.nativeHandler=X,P==="ready"?m1(t,X,c):Eb(t,J||P,X,ae))}return t=d=null,r}unbind(t,o,r){if(!t||mt(t)||Zt(t))return this;const a=t[this.expando];if(a){let c=this.events[a];if(o){const d=o.split(" ");let g=d.length;for(;g--;){const v=d[g],A=c[v];if(A){if(r){let M=A.length;for(;M--;)if(A[M].func===r){const B=A.nativeHandler,P=A.fakeName,X=A.capture,ae=A.slice(0,M).concat(A.slice(M+1));ae.nativeHandler=B,ae.fakeName=P,ae.capture=X,c[v]=ae}}(!r||A.length===0)&&(delete c[v],zr(t,A.fakeName||v,A.nativeHandler,A.capture))}}}else Bo(c,(d,g)=>{zr(t,d.fakeName||g,d.nativeHandler,d.capture)}),c={};for(const d in c)if(xo(c,d))return this;delete this.events[a];try{delete t[this.expando]}catch{t[this.expando]=null}}return this}fire(t,o,r){return this.dispatch(t,o,r)}dispatch(t,o,r){if(!t||mt(t)||Zt(t))return this;const a=da({type:o,target:t},r);do{const c=t[this.expando];c&&this.executeHandlers(a,c),t=t.parentNode||t.ownerDocument||t.defaultView||t.parentWindow}while(t&&!a.isPropagationStopped());return this}clean(t){if(!t||mt(t)||Zt(t))return this;if(t[this.expando]&&this.unbind(t),t.getElementsByTagName||(t=t.document),t&&t.getElementsByTagName){this.unbind(t);const o=t.getElementsByTagName("*");let r=o.length;for(;r--;)t=o[r],t[this.expando]&&this.unbind(t)}return this}destroy(){this.events={}}cancel(t){return t&&(t.preventDefault(),t.stopImmediatePropagation()),!1}executeHandlers(t,o){const r=this.events[o],a=r&&r[t.type];if(a)for(let c=0,d=a.length;c<d;c++){const g=a[c];if(g&&g.func.call(g.scope,t)===!1&&t.preventDefault(),t.isImmediatePropagationStopped())return}}}Xs.Event=new Xs;const Hl=ft.each,p1=ft.grep,lh="data-mce-style",Kp=ft.makeMap("fill-opacity font-weight line-height opacity orphans widows z-index zoom"," "),jm=(e,t,o)=>{vo(o)||o===""?Ks(e,t):Pn(e,t,o)},Xu=e=>e.replace(/[A-Z]/g,t=>"-"+t.toLowerCase()),Wf=(e,t)=>{let o=0;if(e)for(let r=e.nodeType,a=e.previousSibling;a;a=a.previousSibling){const c=a.nodeType;t&&mt(a)&&(c===r||!a.data.length)||(o++,r=c)}return o},xu=(e,t)=>{const o=Oa(t,"style"),r=e.serialize(e.parse(o),en(t));jm(t,lh,r)},l_=(e,t)=>T(e)?xo(Kp,t)?e+"":e+"px":e,Ab=(e,t,o)=>{const r=Xu(t);vo(o)||o===""?Ud(e,r):wn(e,r,l_(o,r))},ss=(e,t,o)=>{const r=t.keep_values,a={set:(d,g,v)=>{const A=fe.fromDom(d);Lt(t.url_converter)&&Le(g)&&(g=t.url_converter.call(t.url_converter_scope||o(),String(g),v,d));const M="data-mce-"+v;jm(A,M,g),jm(A,v,g)},get:(d,g)=>{const v=fe.fromDom(d);return Oa(v,"data-mce-"+g)||Oa(v,g)}},c={style:{set:(d,g)=>{const v=fe.fromDom(d);r&&jm(v,lh,g),Ks(v,"style"),He(g)&&oi(v,e.parse(g))},get:d=>{const g=fe.fromDom(d),v=Oa(g,lh)||Oa(g,"style");return e.serialize(e.parse(v),en(g))}}};return r&&(c.href=c.src=a),c},jn=(e,t={})=>{const o={},r=window,a={};let c=0;const d=!0,g=!0,v=Pi.forElement(fe.fromDom(e),{contentCssCors:t.contentCssCors,referrerPolicy:t.referrerPolicy}),A=[],M=t.schema?t.schema:Zf({}),B=u1({url_converter:t.url_converter,url_converter_scope:t.url_converter_scope},t.schema),P=t.ownEvents?new Xs:Xs.Event,X=M.getBlockElements(),ae=Me=>He(Me)?xo(X,Me):jt(Me)&&(xo(X,Me.nodeName)||mc(M,Me)),J=Me=>Me&&e&&He(Me)?e.getElementById(Me):Me,ie=Me=>{const Ie=J(Me);return Le(Ie)?fe.fromDom(Ie):null},we=(Me,Ie,Ct="")=>{let bt;const _o=ie(Me);if(Le(_o)&&Ri(_o)){const yn=G3[Ie];yn&&yn.get?bt=yn.get(_o.dom,Ie):bt=Oa(_o,Ie)}return Le(bt)?bt:Ct},Ce=Me=>{const Ie=J(Me);return vo(Ie)?[]:Ie.attributes},Se=(Me,Ie,Ct)=>{Xt(Me,bt=>{if(jt(bt)){const _o=fe.fromDom(bt),yn=Ct===""?null:Ct,Bs=Oa(_o,Ie),Am=G3[Ie];Am&&Am.set?Am.set(_o.dom,yn,Ie):jm(_o,Ie,yn),Bs!==yn&&t.onSetAttrib&&t.onSetAttrib({attrElm:_o.dom,attrName:Ie,attrValue:yn})}})},De=(Me,Ie)=>Me.cloneNode(Ie),ot=()=>t.root_element||e.body,vt=Me=>{const Ie=Fr(Me);return{x:Ie.x,y:Ie.y,w:Ie.width,h:Ie.height}},Nt=(Me,Ie)=>On(e.body,J(Me),Ie),Ve=(Me,Ie,Ct)=>{Xt(Me,bt=>{const _o=fe.fromDom(bt);Ab(_o,Ie,Ct),t.update_styles&&xu(B,_o)})},Be=(Me,Ie)=>{Xt(Me,Ct=>{const bt=fe.fromDom(Ct);Bo(Ie,(_o,yn)=>{Ab(bt,yn,_o)}),t.update_styles&&xu(B,bt)})},tt=(Me,Ie,Ct)=>{const bt=J(Me);if(!(vo(bt)||!Pl(bt)&&!If(bt)))return Ct?Fs(fe.fromDom(bt),Xu(Ie)):(Ie=Ie.replace(/-(\D)/g,(_o,yn)=>yn.toUpperCase()),Ie==="float"&&(Ie="cssFloat"),bt.style?bt.style[Ie]:void 0)},Wt=Me=>{const Ie=J(Me);if(!Ie)return{w:0,h:0};let Ct=tt(Ie,"width"),bt=tt(Ie,"height");return(!Ct||Ct.indexOf("px")===-1)&&(Ct="0"),(!bt||bt.indexOf("px")===-1)&&(bt="0"),{w:parseInt(Ct,10)||Ie.offsetWidth||Ie.clientWidth,h:parseInt(bt,10)||Ie.offsetHeight||Ie.clientHeight}},io=Me=>{const Ie=J(Me),Ct=Nt(Ie),bt=Wt(Ie);return{x:Ct.x,y:Ct.y,w:bt.w,h:bt.h}},tn=(Me,Ie)=>{if(!Me)return!1;const Ct=ve(Me)?Me:[Me];return dr(Ct,bt=>ti(fe.fromDom(bt),Ie))},pn=(Me,Ie,Ct,bt)=>{const _o=[];let yn=J(Me);bt=bt===void 0;const Bs=Ct||(ot().nodeName!=="BODY"?ot().parentNode:null);if(He(Ie))if(Ie==="*")Ie=jt;else{const Am=Ie;Ie=W5=>tn(W5,Am)}for(;yn&&!(yn===Bs||vo(yn.nodeType)||uc(yn)||Lm(yn));){if(!Ie||Ie(yn))if(bt)_o.push(yn);else return[yn];yn=yn.parentNode}return bt?_o:null},xr=(Me,Ie,Ct)=>{const bt=pn(Me,Ie,Ct,!1);return bt&&bt.length>0?bt[0]:null},Mr=(Me,Ie,Ct)=>{let bt=Ie;if(Me){He(Ie)&&(bt=_o=>tn(_o,Ie));for(let _o=Me[Ct];_o;_o=_o[Ct])if(Lt(bt)&&bt(_o))return _o}return null},oa=(Me,Ie)=>Mr(Me,Ie,"nextSibling"),xl=(Me,Ie)=>Mr(Me,Ie,"previousSibling"),Br=Me=>Lt(Me.querySelectorAll),St=(Me,Ie)=>{var Ct,bt;const _o=(bt=(Ct=J(Ie))!==null&&Ct!==void 0?Ct:t.root_element)!==null&&bt!==void 0?bt:e;return Br(_o)?Po(_o.querySelectorAll(Me)):[]},Xt=function(Me,Ie,Ct){const bt=Ct??this;if(ve(Me)){const _o=[];return Hl(Me,(yn,Bs)=>{const Am=J(yn);Am&&_o.push(Ie.call(bt,Am,Bs))}),_o}else{const _o=J(Me);return _o?Ie.call(bt,_o):!1}},Zn=(Me,Ie)=>{Xt(Me,Ct=>{Bo(Ie,(bt,_o)=>{Se(Ct,_o,bt)})})},zt=(Me,Ie)=>{Xt(Me,Ct=>{const bt=fe.fromDom(Ct);Oc(bt,Ie)})},go=(Me,Ie,Ct,bt,_o)=>Xt(Me,yn=>{const Bs=He(Ie)?e.createElement(Ie):Ie;return Le(Ct)&&Zn(Bs,Ct),bt&&(!He(bt)&&bt.nodeType?Bs.appendChild(bt):He(bt)&&zt(Bs,bt)),_o?Bs:yn.appendChild(Bs)}),on=(Me,Ie,Ct)=>go(e.createElement(Me),Me,Ie,Ct,!0),Rt=jf.decode,Yo=jf.encodeAllRaw,cn=(Me,Ie,Ct="")=>{let bt="<"+Me;for(const _o in Ie)Ka(Ie,_o)&&(bt+=" "+_o+'="'+Yo(Ie[_o])+'"');return Gr(Ct)&&xo(M.getVoidElements(),Me)?bt+" />":bt+">"+Ct+"</"+Me+">"},zi=Me=>{const Ie=e.createElement("div"),Ct=e.createDocumentFragment();Ct.appendChild(Ie),Me&&(Ie.innerHTML=Me);let bt;for(;bt=Ie.firstChild;)Ct.appendChild(bt);return Ct.removeChild(Ie),Ct},kr=(Me,Ie)=>Xt(Me,Ct=>{const bt=fe.fromDom(Ct);return Ie&&We(ds(bt),_o=>{ns(_o)&&_o.dom.length===0?fr(_o):Ae(bt,_o)}),fr(bt),bt.dom}),ci=Me=>Xt(Me,Ie=>{const Ct=Ie.attributes;for(let bt=Ct.length-1;bt>=0;bt--)Ie.removeAttributeNode(Ct.item(bt))}),Cf=Me=>B.parse(Me),Mp=(Me,Ie)=>B.serialize(Me,Ie),xc=Me=>{if(Ug!==jn.DOM&&e===document){if(o[Me])return;o[Me]=!0}let Ie=e.getElementById("mceDefaultStyles");if(!Ie){Ie=e.createElement("style"),Ie.id="mceDefaultStyles",Ie.type="text/css";const Ct=e.head;Ct.firstChild?Ct.insertBefore(Ie,Ct.firstChild):Ct.appendChild(Ie)}Ie.styleSheet?Ie.styleSheet.cssText+=Me:Ie.appendChild(e.createTextNode(Me))},ru=Me=>{Me||(Me=""),We(Me.split(","),Ie=>{a[Ie]=!0,v.load(Ie).catch(lo)})},Sf=(Me,Ie,Ct)=>{Xt(Me,bt=>{if(jt(bt)){const _o=fe.fromDom(bt),yn=Ie.split(" ");We(yn,Bs=>{Le(Ct)?(Ct?id:ac)(_o,Bs):qo(_o,Bs)})}})},su=(Me,Ie)=>{Sf(Me,Ie,!0)},Ef=(Me,Ie)=>{Sf(Me,Ie,!1)},no=(Me,Ie)=>{const Ct=ie(Me),bt=Ie.split(" ");return Le(Ct)&&Wr(bt,_o=>ei(Ct,_o))},En=Me=>{Xt(Me,Ie=>Ud(fe.fromDom(Ie),"display"))},Ms=Me=>{Xt(Me,Ie=>wn(fe.fromDom(Ie),"display","none"))},ma=Me=>{const Ie=ie(Me);return Le(Ie)&&Gi(fu(Ie,"display"),"none")},qa=Me=>(Me||"mce_")+c++,rl=Me=>{const Ie=ie(Me);return Le(Ie)?jt(Ie.dom)?Ie.dom.outerHTML:Zd(Ie):""},Na=(Me,Ie)=>{Xt(Me,Ct=>{jt(Ct)&&(Ct.outerHTML=Ie)})},Ma=(Me,Ie)=>{const Ct=J(Ie);return Xt(Me,bt=>{const _o=Ct==null?void 0:Ct.parentNode,yn=Ct==null?void 0:Ct.nextSibling;return _o&&(yn?_o.insertBefore(bt,yn):_o.appendChild(bt)),bt})},kc=(Me,Ie,Ct)=>Xt(Ie,bt=>{var _o;const yn=ve(Ie)?Me.cloneNode(!0):Me;return Ct&&Hl(p1(bt.childNodes),Bs=>{yn.appendChild(Bs)}),(_o=bt.parentNode)===null||_o===void 0||_o.replaceChild(yn,bt),bt}),Cm=(Me,Ie)=>{if(Me.nodeName!==Ie.toUpperCase()){const Ct=on(Ie);return Hl(Ce(Me),bt=>{Se(Ct,bt.nodeName,we(Me,bt.nodeName))}),kc(Ct,Me,!0),Ct}else return Me},Sm=(Me,Ie)=>{let Ct=Me;for(;Ct;){let bt=Ie;for(;bt&&Ct!==bt;)bt=bt.parentNode;if(Ct===bt)break;Ct=Ct.parentNode}return!Ct&&Me.ownerDocument?Me.ownerDocument.documentElement:Ct},Em=(Me,Ie,Ct)=>Et(Ie)?$s(M,Me,{...Ct,isContent:_o=>{const yn=_o.nodeName.toLowerCase();return!!Ie[yn]}}):$s(M,Me,Ct),Af=()=>e.createRange(),e1=(Me,Ie,Ct)=>{let bt=Af(),_o,yn;if(Me&&Ie&&Me.parentNode&&Ie.parentNode){const Bs=Me.parentNode;return bt.setStart(Bs,Wf(Me)),bt.setEnd(Ie.parentNode,Wf(Ie)),_o=bt.extractContents(),bt=Af(),bt.setStart(Ie.parentNode,Wf(Ie)+1),bt.setEnd(Bs,Wf(Me)+1),yn=bt.extractContents(),Bs.insertBefore(jp(Ug,_o,M),Me),Ct?Bs.insertBefore(Ct,Me):Bs.insertBefore(Ie,Me),Bs.insertBefore(jp(Ug,yn,M),Me),kr(Me),Ct||Ie}else return},t_=(Me,Ie,Ct,bt)=>{if(ve(Me)){let _o=Me.length;const yn=[];for(;_o--;)yn[_o]=t_(Me[_o],Ie,Ct,bt);return yn}else return t.collect&&(Me===e||Me===r)&&A.push([Me,Ie,Ct,bt]),P.bind(Me,Ie,Ct,bt||Ug)},o_=(Me,Ie,Ct)=>{if(ve(Me)){let bt=Me.length;const _o=[];for(;bt--;)_o[bt]=o_(Me[bt],Ie,Ct);return _o}else{if(A.length>0&&(Me===e||Me===r)){let bt=A.length;for(;bt--;){const[_o,yn,Bs]=A[bt];Me===_o&&(!Ie||Ie===yn)&&(!Ct||Ct===Bs)&&P.unbind(_o,yn,Bs)}}return P.unbind(Me,Ie,Ct)}},Q7=(Me,Ie,Ct)=>P.dispatch(Me,Ie,Ct),fb=(Me,Ie,Ct)=>P.dispatch(Me,Ie,Ct),Z5=Me=>{if(Me&&Pl(Me)){const Ie=Me.getAttribute("data-mce-contenteditable");return Ie&&Ie!=="inherit"?Ie:Me.contentEditable!=="inherit"?Me.contentEditable:null}else return null},Ug={doc:e,settings:t,win:r,files:a,stdMode:d,boxModel:g,styleSheetLoader:v,boundEvents:A,styles:B,schema:M,events:P,isBlock:ae,root:null,clone:De,getRoot:ot,getViewPort:vt,getRect:io,getSize:Wt,getParent:xr,getParents:pn,get:J,getNext:oa,getPrev:xl,select:St,is:tn,add:go,create:on,createHTML:cn,createFragment:zi,remove:kr,setStyle:Ve,getStyle:tt,setStyles:Be,removeAllAttribs:ci,setAttrib:Se,setAttribs:Zn,getAttrib:we,getPos:Nt,parseStyle:Cf,serializeStyle:Mp,addStyle:xc,loadCSS:ru,addClass:su,removeClass:Ef,hasClass:no,toggleClass:Sf,show:En,hide:Ms,isHidden:ma,uniqueId:qa,setHTML:zt,getOuterHTML:rl,setOuterHTML:Na,decode:Rt,encode:Yo,insertAfter:Ma,replace:kc,rename:Cm,findCommonAncestor:Sm,run:Xt,getAttribs:Ce,isEmpty:Em,createRng:Af,nodeIndex:Wf,split:e1,bind:t_,unbind:o_,fire:fb,dispatch:Q7,getContentEditable:Z5,getContentEditableParent:Me=>{const Ie=ot();let Ct=null;for(let bt=Me;bt&&bt!==Ie&&(Ct=Z5(bt),Ct===null);bt=bt.parentNode);return Ct},isEditable:Me=>{if(Le(Me)){const Ie=jt(Me)?Me:Me.parentElement;return Le(Ie)&&Pl(Ie)&&Ii(fe.fromDom(Ie))}else return!1},destroy:()=>{if(A.length>0){let Me=A.length;for(;Me--;){const[Ie,Ct,bt]=A[Me];P.unbind(Ie,Ct,bt)}}Bo(a,(Me,Ie)=>{v.unload(Ie),delete a[Ie]})},isChildOf:(Me,Ie)=>Me===Ie||Ie.contains(Me),dumpRng:Me=>"startContainer: "+Me.startContainer.nodeName+", startOffset: "+Me.startOffset+", endContainer: "+Me.endContainer.nodeName+", endOffset: "+Me.endOffset},G3=ss(B,t,_e(Ug));return Ug};jn.DOM=jn(document),jn.nodeIndex=Wf;const Yp=jn.DOM,g1=0,qf=1,Vs=2,$c=3;class gc{constructor(t={}){this.states={},this.queue=[],this.scriptLoadedCallbacks={},this.queueLoadedCallbacks=[],this.loading=!1,this.settings=t}_setReferrerPolicy(t){this.settings.referrerPolicy=t}loadScript(t){return new Promise((o,r)=>{const a=Yp;let c;const d=()=>{a.remove(A),c&&(c.onerror=c.onload=c=null)},g=()=>{d(),o()},v=()=>{d(),r("Failed to load script: "+t)},A=a.uniqueId();c=document.createElement("script"),c.id=A,c.type="text/javascript",c.src=ft._addCacheSuffix(t),this.settings.referrerPolicy&&a.setAttrib(c,"referrerpolicy",this.settings.referrerPolicy),c.onload=g,c.onerror=v,(document.getElementsByTagName("head")[0]||document.body).appendChild(c)})}isDone(t){return this.states[t]===Vs}markDone(t){this.states[t]=Vs}add(t){const o=this;return o.queue.push(t),o.states[t]===void 0&&(o.states[t]=g1),new Promise((a,c)=>{o.scriptLoadedCallbacks[t]||(o.scriptLoadedCallbacks[t]=[]),o.scriptLoadedCallbacks[t].push({resolve:a,reject:c})})}load(t){return this.add(t)}remove(t){delete this.states[t],delete this.scriptLoadedCallbacks[t]}loadQueue(){const t=this.queue;return this.queue=[],this.loadScripts(t)}loadScripts(t){const o=this,r=(v,A)=>{Hn(o.scriptLoadedCallbacks,A).each(M=>{We(M,B=>B[v](A))}),delete o.scriptLoadedCallbacks[A]},a=v=>{const A=Ye(v,M=>M.status==="rejected");return A.length>0?Promise.reject(zn(A,({reason:M})=>ve(M)?M:[M])):Promise.resolve()},c=v=>Promise.allSettled(To(v,A=>o.states[A]===Vs?(r("resolve",A),Promise.resolve()):o.states[A]===$c?(r("reject",A),Promise.reject(A)):(o.states[A]=qf,o.loadScript(A).then(()=>{o.states[A]=Vs,r("resolve",A);const M=o.queue;return M.length>0?(o.queue=[],c(M).then(a)):Promise.resolve()},()=>(o.states[A]=$c,r("reject",A),Promise.reject(A)))))),d=v=>(o.loading=!0,c(v).then(A=>{o.loading=!1;const M=o.queueLoadedCallbacks.shift();return $.from(M).each(kn),a(A)})),g=al(t);return o.loading?new Promise((v,A)=>{o.queueLoadedCallbacks.push(()=>{d(g).then(v,A)})}):d(g)}}gc.ScriptLoader=new gc;const zb=(e,t)=>{const o=e.indexOf(t);return o!==-1&&e.indexOf(t,o+1)>o},h1=e=>ne(e)&&xo(e,"raw"),Tb=e=>ve(e)&&e.length>1,Xp={},Ob=Ys("en"),Jp=()=>Hn(Xp,Ob.get()),jc={getData:()=>Wi(Xp,e=>({...e})),setCode:e=>{e&&Ob.set(e)},getCode:()=>Ob.get(),add:(e,t)=>{let o=Xp[e];o||(Xp[e]=o={});const r=To(st(t),a=>a.toLowerCase());Bo(t,(a,c)=>{const d=c.toLowerCase();d!==c&&zb(r,d)?(xo(t,d)||(o[d]=a),o[c]=a):o[d]=a})},translate:e=>{const t=Jp().getOr({}),o=d=>Lt(d)?Object.prototype.toString.call(d):r(d)?"":""+d,r=d=>d===""||d===null||d===void 0,a=d=>{const g=o(d);return xo(t,g)?o(t[g]):Hn(t,g.toLowerCase()).map(o).getOr(g)},c=d=>d.replace(/{context:\w+}$/,"");if(r(e))return"";if(h1(e))return o(e.raw);if(Tb(e)){const d=e.slice(1),g=a(e[0]).replace(/\{([0-9]+)\}/g,(v,A)=>xo(d,A)?o(d[A]):v);return c(g)}return c(a(e))},isRtl:()=>Jp().bind(e=>Hn(e,"_dir")).exists(e=>e==="rtl"),hasCode:e=>xo(Xp,e)},Fi=()=>{const e=[],t={},o={},r=[],a=(J,ie)=>{const we=Ye(r,Ce=>Ce.name===J&&Ce.state===ie);We(we,Ce=>Ce.resolve())},c=J=>xo(t,J),d=J=>xo(o,J),g=J=>{if(o[J])return o[J].instance},v=(J,ie)=>{const we=jc.getCode(),Ce=","+(ie||"")+",";!we||ie&&Ce.indexOf(","+we+",")===-1||gc.ScriptLoader.add(t[J]+"/langs/"+we+".js")},A=(J,ie)=>{Fi.languageLoad!==!1&&(c(J)?v(J,ie):ae(J,"loaded").then(()=>v(J,ie)))},M=(J,ie)=>(e.push(ie),o[J]={instance:ie},a(J,"added"),ie),B=J=>{delete t[J],delete o[J]},P=(J,ie)=>He(ie)?He(J)?{prefix:"",resource:ie,suffix:""}:{prefix:J.prefix,resource:ie,suffix:J.suffix}:ie,X=(J,ie)=>{if(t[J])return Promise.resolve();let we=He(ie)?ie:ie.prefix+ie.resource+ie.suffix;we.indexOf("/")!==0&&we.indexOf("://")===-1&&(we=Fi.baseURL+"/"+we),t[J]=we.substring(0,we.lastIndexOf("/"));const Ce=()=>(a(J,"loaded"),Promise.resolve());return o[J]?Ce():gc.ScriptLoader.add(we).then(Ce)},ae=(J,ie="added")=>ie==="added"&&d(J)||ie==="loaded"&&c(J)?Promise.resolve():new Promise(we=>{r.push({name:J,state:ie,resolve:we})});return{items:e,urls:t,lookup:o,get:g,requireLangPack:A,add:M,remove:B,createUrl:P,load:X,waitFor:ae}};Fi.languageLoad=!0,Fi.baseURL="",Fi.PluginManager=Fi(),Fi.ThemeManager=Fi(),Fi.ModelManager=Fi();const Zm=(e,t)=>{let o=null;return{cancel:()=>{dt(o)||(clearTimeout(o),o=null)},throttle:(...c)=>{dt(o)&&(o=setTimeout(()=>{o=null,e.apply(null,c)},t))}}},ch=(e,t)=>{let o=null;const r=()=>{dt(o)||(clearTimeout(o),o=null)};return{cancel:r,throttle:(...c)=>{r(),o=setTimeout(()=>{o=null,e.apply(null,c)},t)}}},ka=(e,t,o)=>Ze(e,t,o).isSome(),ws=_e("mce-annotation"),Js=_e("data-mce-annotation"),js=_e("data-mce-annotation-uid"),Jn=_e("data-mce-annotation-active"),Xr=_e("data-mce-annotation-classes"),Wm=_e("data-mce-annotation-attrs"),Db=e=>t=>an(t,e),b1=(e,t)=>{const o=e.selection.getRng(),r=fe.fromDom(o.startContainer),a=fe.fromDom(e.getBody()),c=t.fold(()=>"."+ws(),v=>`[${Js()}="${v}"]`),d=cd(r,o.startOffset).getOr(r);return jd(d,c,Db(a)).bind(v=>Kl(v,`${js()}`).bind(A=>Kl(v,`${Js()}`).map(M=>{const B=v1(e,A);return{uid:A,name:M,elements:B}})))},y1=e=>Ri(e)&&ei(e,ws()),dh=(e,t)=>vs(e,"data-mce-bogus")||ka(e,'[data-mce-bogus="all"]',Db(t)),v1=(e,t)=>{const o=fe.fromDom(e.getBody()),r=ri(o,`[${js()}="${t}"]`);return Ye(r,a=>!dh(a,o))},Gf=(e,t)=>{const o=fe.fromDom(e.getBody()),r=ri(o,`[${Js()}="${t}"]`),a={};return We(r,c=>{if(!dh(c,o)){const d=Oa(c,js()),g=Hn(a,d).getOr([]);a[d]=g.concat([c])}}),a},Rb=(e,t)=>{const o=Ys({}),r=()=>({listeners:[],previous:ct()}),a=(B,P)=>{c(B,X=>(P(X),X))},c=(B,P)=>{const X=o.get(),ae=Hn(X,B).getOrThunk(r),J=P(ae);X[B]=J,o.set(X)},d=(B,P,X)=>{a(B,ae=>{We(ae.listeners,J=>J(!0,B,{uid:P,nodes:To(X,ie=>ie.dom)}))})},g=B=>{a(B,P=>{We(P.listeners,X=>X(!1,B))})},v=(B,P)=>{We(v1(e,B),X=>{P?Pn(X,Jn(),"true"):Ks(X,Jn())})},A=ch(()=>{const B=Ko(t.getNames());We(B,P=>{c(P,X=>{const ae=X.previous.get();return b1(e,$.some(P)).fold(()=>{ae.each(J=>{g(P),X.previous.clear(),v(J,!1)})},({uid:J,name:ie,elements:we})=>{Gi(ae,J)||(ae.each(Ce=>v(Ce,!1)),d(ie,J,we),X.previous.set(J),v(J,!0))}),{previous:X.previous,listeners:X.listeners}})})},30);return e.on("remove",()=>{A.cancel()}),e.on("NodeChange",()=>{A.throttle()}),{addListener:(B,P)=>{c(B,X=>({previous:X.previous,listeners:X.listeners.concat([P])}))}}},Iv=(e,t)=>{const o=Js(),r=c=>$.from(c.attr(o)).bind(t.lookup),a=c=>{var d,g;c.attr(js(),null),c.attr(Js(),null),c.attr(Jn(),null);const v=$.from(c.attr(Wm())).map(P=>P.split(",")).getOr([]),A=$.from(c.attr(Xr())).map(P=>P.split(",")).getOr([]);We(v,P=>c.attr(P,null));const M=(g=(d=c.attr("class"))===null||d===void 0?void 0:d.split(" "))!==null&&g!==void 0?g:[],B=hr(M,[ws()].concat(A));c.attr("class",B.length>0?B.join(" "):null),c.attr(Xr(),null),c.attr(Wm(),null)};e.serializer.addTempAttr(Jn()),e.serializer.addAttributeFilter(o,c=>{for(const d of c)r(d).each(g=>{g.persistent===!1&&(d.name==="span"?d.unwrap():a(d))})})},x1=()=>{const e={};return{register:(a,c)=>{e[a]={name:a,settings:c}},lookup:a=>Hn(e,a).map(c=>c.settings),getNames:()=>st(e)}};let Ci=0;const Qp=e=>{const o=new Date().getTime(),r=Math.floor(Math.random()*1e9);return Ci++,e+"_"+r+Ci+String(o)},Uc=(e,t)=>{We(t,o=>{id(e,o)})},qm=(e,t)=>{We(t,o=>{ac(e,o)})},Gm=(e,t)=>fe.fromDom(e.dom.cloneNode(t)),tl=e=>Gm(e,!1),Hi=e=>Gm(e,!0),Kf=(e,t)=>{const o=fe.fromTag(t),r=Ss(e);return Dl(o,r),o},Km=(e,t)=>{const o=Kf(e,t);Hs(e,o);const r=ds(e);return _r(o,r),fr(e),o},k1=(e,t,o=fn)=>{const r=new Tn(e,t),a=c=>{let d;do d=r[c]();while(d&&!mt(d)&&!o(d));return $.from(d).filter(mt)};return{current:()=>$.from(r.current()).filter(mt),next:()=>a("next"),prev:()=>a("prev"),prev2:()=>a("prev2")}},Qu=(e,t)=>{const o=t||(d=>e.isBlock(d)||Yr(d)||br(d)),r=(d,g,v,A)=>{if(mt(d)){const M=A(d,g,d.data);if(M!==-1)return $.some({container:d,offset:M})}return v().bind(M=>r(M.container,M.offset,v,A))};return{backwards:(d,g,v,A)=>{const M=k1(d,A??e.getRoot(),o);return r(d,g,()=>M.prev().map(B=>({container:B,offset:B.length})),v).getOrNull()},forwards:(d,g,v,A)=>{const M=k1(d,A??e.getRoot(),o);return r(d,g,()=>M.next().map(B=>({container:B,offset:0})),v).getOrNull()}}},Mb=((e,t)=>{const o=c=>{if(!e(c))throw new Error("Can only get "+t+" value of a "+t+" node");return r(c).getOr("")},r=c=>e(c)?$.from(c.dom.nodeValue):$.none();return{get:o,getOption:r,set:(c,d)=>{if(!e(c))throw new Error("Can only set raw "+t+" value of a "+t+" node");c.dom.nodeValue=d}}})(ns,"text"),eg=e=>Mb.get(e),Lv=e=>Mb.getOption(e),Bb=(e,t)=>Mb.set(e,t),Ib=["td","th"],w1=["thead","tbody","tfoot"],Ym=["h1","h2","h3","h4","h5","h6","p","div","address","pre","form","blockquote","center","dir","fieldset","header","footer","article","section","hgroup","aside","nav","figure"],c_=["li","dd","dt"],Xm=["ul","ol","dl"],$i=["pre","script","textarea","style"],ku=e=>{let t;return o=>(t=t||tr(e,Ao),xo(t,en(o)))},Pv=e=>en(e)==="table",Gd=e=>Ri(e)&&en(e)==="br",Yf=ku(Ym),Lb=ku(Xm),wu=ku(c_),_1=ku(w1),Kd=ku(Ib),tg=ku($i),Xf=e=>{const t=[];let o=e.dom;for(;o;)t.push(fe.fromDom(o)),o=o.lastChild;return t},Fv=e=>{const t=ri(e,"br"),o=Ye(Xf(e).slice(-1),Gd);t.length===o.length&&We(o,fr)},$l=()=>{const e=fe.fromTag("br");return Pn(e,"data-mce-bogus","1"),e},Zc=e=>{ni(e),Dr(e,$l())},uh=(e,t)=>{du(e).each(o=>{Ml(o).each(r=>{t.isBlock(en(e))&&Gd(o)&&t.isBlock(en(r))&&fr(o)})})},Qs=Ip,Pb=Dc,wa=Mf,Fb=e=>e.insertContent(Qs,{preserve_zwsp:!0}),Hv=jt,Wc=mt,_u=e=>(Wc(e)&&(e=e.parentNode),Hv(e)&&e.hasAttribute("data-mce-caret")),ef=e=>Wc(e)&&Pb(e.data),qc=e=>_u(e)||ef(e),C1=e=>e.firstChild!==e.lastChild||!Yr(e.firstChild),$v=(e,t)=>{var o;const a=((o=e.ownerDocument)!==null&&o!==void 0?o:document).createTextNode(Qs),c=e.parentNode;if(t){const d=e.previousSibling;if(Wc(d)){if(qc(d))return d;if(mh(d))return d.splitText(d.data.length-1)}c==null||c.insertBefore(a,e)}else{const d=e.nextSibling;if(Wc(d)){if(qc(d))return d;if(Hb(d))return d.splitText(1),d}e.nextSibling?c==null||c.insertBefore(a,e.nextSibling):c==null||c.appendChild(a)}return a},fh=e=>{const t=e.container();return mt(t)?t.data.charAt(e.offset())===Qs||e.isAtStart()&&ef(t.previousSibling):!1},Jm=e=>{const t=e.container();return mt(t)?t.data.charAt(e.offset()-1)===Qs||e.isAtEnd()&&ef(t.nextSibling):!1},S1=(e,t,o)=>{var r;const c=((r=t.ownerDocument)!==null&&r!==void 0?r:document).createElement(e);c.setAttribute("data-mce-caret",o?"before":"after"),c.setAttribute("data-mce-bogus","all"),c.appendChild($l().dom);const d=t.parentNode;return o?d==null||d.insertBefore(c,t):t.nextSibling?d==null||d.insertBefore(c,t.nextSibling):d==null||d.appendChild(c),c},Hb=e=>Wc(e)&&e.data[0]===Qs,mh=e=>Wc(e)&&e.data[e.data.length-1]===Qs,E1=e=>{var t;const o=e.getElementsByTagName("br"),r=o[o.length-1];Mc(r)&&((t=r.parentNode)===null||t===void 0||t.removeChild(r))},Cu=e=>e&&e.hasAttribute("data-mce-caret")?(E1(e),e.removeAttribute("data-mce-caret"),e.removeAttribute("data-mce-bogus"),e.removeAttribute("style"),e.removeAttribute("data-mce-style"),e.removeAttribute("_moz_abspos"),e):null,ph=e=>_u(e.startContainer),tf=Math.round,Ql=e=>e?{left:tf(e.left),top:tf(e.top),bottom:tf(e.bottom),right:tf(e.right),width:tf(e.width),height:tf(e.height)}:{left:0,top:0,bottom:0,right:0,width:0,height:0},$b=(e,t)=>(e=Ql(e),t||(e.left=e.left+e.width),e.right=e.left,e.width=0,e),d_=(e,t)=>e.left===t.left&&e.top===t.top&&e.bottom===t.bottom&&e.right===t.right,Jf=(e,t,o)=>e>=0&&e<=Math.min(t.height,o.height)/2,hc=(e,t)=>{const o=Math.min(t.height/2,e.height/2);return e.bottom-o<t.top?!0:e.top>t.bottom?!1:Jf(t.top-e.bottom,e,t)},og=(e,t)=>e.top>t.bottom?!0:e.bottom<t.top?!1:Jf(t.bottom-e.top,e,t),gh=(e,t,o)=>t>=e.left&&t<=e.right&&o>=e.top&&o<=e.bottom,hh=e=>fo(e,(t,o)=>t.fold(()=>$.some(o),r=>{const a=Math.min(o.left,r.left),c=Math.min(o.top,r.top),d=Math.max(o.right,r.right),g=Math.max(o.bottom,r.bottom);return $.some({top:c,right:d,bottom:g,left:a,width:d-a,height:g-c})}),$.none()),Qm=(e,t,o)=>{const r=Math.max(Math.min(t,e.left+e.width),e.left),a=Math.max(Math.min(o,e.top+e.height),e.top);return Math.sqrt((t-r)*(t-r)+(o-a)*(o-a))},Vb=(e,t)=>Math.max(0,Math.min(e.bottom,t.bottom)-Math.max(e.top,t.top)),A1=(e,t,o)=>Math.min(Math.max(e,t),o),ng=e=>{const t=e.startContainer,o=e.startOffset;return t===e.endContainer&&t.hasChildNodes()&&e.endOffset===o+1?t.childNodes[o]:null},ua=(e,t)=>{if(jt(e)&&e.hasChildNodes()){const o=e.childNodes,r=A1(t,0,o.length-1);return o[r]}else return e},z1=(e,t)=>{if(!(t<0&&jt(e)&&e.hasChildNodes()))return ua(e,t)},u_=new RegExp("[̀-ͯ҃-҇҈-҉֑-ֽֿׁ-ׂׄ-ׇׅؐ-ًؚ-ٰٟۖ-ۜ۟-ۤۧ-۪ۨ-ܑۭܰ-݊ަ-ް߫-߳ࠖ-࠙ࠛ-ࠣࠥ-ࠧࠩ-࡙࠭-࡛ࣣ-ंऺ़ु-ै्॑-ॗॢ-ॣঁ়াু-ৄ্ৗৢ-ৣਁ-ਂ਼ੁ-ੂੇ-ੈੋ-੍ੑੰ-ੱੵઁ-ં઼ુ-ૅે-ૈ્ૢ-ૣଁ଼ାିୁ-ୄ୍ୖୗୢ-ୣஂாீ்ௗఀా-ీె-ైొ-్ౕ-ౖౢ-ౣಁ಼ಿೂೆೌ-್ೕ-ೖೢ-ೣഁാു-ൄ്ൗൢ-ൣ්ාි-ුූෟัิ-ฺ็-๎ັິ-ູົ-ຼ່-ໍ༘-ཱ༹༙༵༷-ཾྀ-྄྆-྇ྍ-ྗྙ-ྼ࿆ိ-ူဲ-့္-်ွ-ှၘ-ၙၞ-ၠၱ-ၴႂႅ-ႆႍႝ፝-፟ᜒ-᜔ᜲ-᜴ᝒ-ᝓᝲ-ᝳ឴-឵ិ-ួំ៉-៓៝᠋-᠍ᢩᤠ-ᤢᤧ-ᤨᤲ᤹-᤻ᨗ-ᨘᨛᩖᩘ-ᩞ᩠ᩢᩥ-ᩬᩳ-᩿᩼᪰-᪽᪾ᬀ-ᬃ᬴ᬶ-ᬺᬼᭂ᭫-᭳ᮀ-ᮁᮢ-ᮥᮨ-ᮩ᮫-ᮭ᯦ᯨ-ᯩᯭᯯ-ᯱᰬ-ᰳᰶ-᰷᳐-᳔᳒-᳢᳠-᳨᳭᳴᳸-᳹᷀-᷵᷼-᷿‌-‍⃐-⃜⃝-⃠⃡⃢-⃤⃥-⃰⳯-⵿⳱ⷠ-〪ⷿ-〭〮-゙〯-゚꙯꙰-꙲ꙴ-꙽ꚞ-ꚟ꛰-꛱ꠂ꠆ꠋꠥ-ꠦ꣄꣠-꣱ꤦ-꤭ꥇ-ꥑꦀ-ꦂ꦳ꦶ-ꦹꦼꧥꨩ-ꨮꨱ-ꨲꨵ-ꨶꩃꩌꩼꪰꪲ-ꪴꪷ-ꪸꪾ-꪿꫁ꫬ-ꫭ꫶ꯥꯨ꯭ﬞ︀-️︠-︯ﾞ-ﾟ]"),jb=e=>He(e)&&e.charCodeAt(0)>=768&&u_.test(e),Vv=(...e)=>t=>{for(let o=0;o<e.length;o++)if(e[o](t))return!0;return!1},rg=(...e)=>t=>{for(let o=0;o<e.length;o++)if(!e[o](t))return!1;return!0},Qf=_n,Ub=br,Zb=Yr,jv=mt,Wb=si(["script","style","textarea"]),em=si(["img","input","textarea","hr","iframe","video","audio","object","embed"]),qb=si(["table"]),Uv=qc,hd=e=>Uv(e)?!1:jv(e)?!Wb(e.parentNode):em(e)||Zb(e)||qb(e)||bh(e),Zv=e=>jt(e)&&e.getAttribute("unselectable")==="true",bh=e=>!Zv(e)&&Ub(e),Wv=(e,t)=>{for(let o=e.parentNode;o&&o!==t;o=o.parentNode){if(bh(o))return!1;if(Qf(o))return!0}return!0},qv=e=>bh(e)?!fo(Po(e.getElementsByTagName("*")),(t,o)=>t||Qf(o),!1):!1,ep=e=>em(e)||qv(e),tp=(e,t)=>hd(e)&&Wv(e,t),Gb=jt,f_=hd,Gc=Nc("display","block table"),op=Nc("float","left right"),of=rg(Gb,f_,nt(op)),Gv=nt(Nc("white-space","pre pre-line pre-wrap")),np=mt,ai=Yr,Kb=jn.nodeIndex,tm=z1,rp=e=>e?e.createRange():jn.DOM.createRng(),yh=e=>He(e)&&/[\r\n\t ]/.test(e),vh=e=>!!e.setStart&&!!e.setEnd,Yb=e=>{const t=e.startContainer,o=e.startOffset;if(yh(e.toString())&&Gv(t.parentNode)&&mt(t)){const r=t.data;if(yh(r[o-1])||yh(r[o+1]))return!0}return!1},Su=e=>{const t=e.ownerDocument,o=rp(t),r=t.createTextNode(us),a=e.parentNode;a.insertBefore(r,e),o.setStart(r,0),o.setEnd(r,1);const c=Ql(o.getBoundingClientRect());return a.removeChild(r),c},Xb=e=>{const t=e.startContainer,o=e.endContainer,r=e.startOffset,a=e.endOffset;if(t===o&&mt(o)&&r===0&&a===1){const c=e.cloneRange();return c.setEndAfter(o),pl(c)}else return null},Jb=e=>e.left===0&&e.right===0&&e.top===0&&e.bottom===0,pl=e=>{var t;let o;const r=e.getClientRects();return r.length>0?o=Ql(r[0]):o=Ql(e.getBoundingClientRect()),!vh(e)&&ai(e)&&Jb(o)?Su(e):Jb(o)&&vh(e)&&(t=Xb(e))!==null&&t!==void 0?t:o},Eu=(e,t)=>{const o=$b(e,t);return o.width=1,o.right=o.left+1,o},Qb=e=>{const t=[],o=d=>{d.height!==0&&(t.length>0&&d_(d,t[t.length-1])||t.push(d))},r=(d,g)=>{const v=rp(d.ownerDocument);if(g<d.data.length){if(jb(d.data[g]))return;if(jb(d.data[g-1])&&(v.setStart(d,g),v.setEnd(d,g+1),!Yb(v))){o(Eu(pl(v),!1));return}}g>0&&(v.setStart(d,g-1),v.setEnd(d,g),Yb(v)||o(Eu(pl(v),!1))),g<d.data.length&&(v.setStart(d,g),v.setEnd(d,g+1),Yb(v)||o(Eu(pl(v),!0)))},a=e.container(),c=e.offset();if(np(a))return r(a,c),t;if(Gb(a))if(e.isAtEnd()){const d=tm(a,c);np(d)&&r(d,d.data.length),of(d)&&!ai(d)&&o(Eu(pl(d),!1))}else{const d=tm(a,c);if(np(d)&&r(d,0),of(d)&&e.isAtEnd())return o(Eu(pl(d),!1)),t;const g=tm(e.container(),e.offset()-1);of(g)&&!ai(g)&&(Gc(g)||Gc(d)||!of(d))&&o(Eu(pl(g),!1)),of(d)&&o(Eu(pl(d),!0))}return t},Fe=(e,t,o)=>{const r=()=>(np(e),t===0),a=()=>np(e)?t>=e.data.length:t>=e.childNodes.length,c=()=>{const M=rp(e.ownerDocument);return M.setStart(e,t),M.setEnd(e,t),M},d=()=>(o||(o=Qb(Fe(e,t))),o),g=()=>d().length>0,v=M=>M&&e===M.container()&&t===M.offset(),A=M=>tm(e,M?t-1:t);return{container:_e(e),offset:_e(t),toRange:c,getClientRects:d,isVisible:g,isAtStart:r,isAtEnd:a,isEqual:v,getNode:A}};Fe.fromRangeStart=e=>Fe(e.startContainer,e.startOffset),Fe.fromRangeEnd=e=>Fe(e.endContainer,e.endOffset),Fe.after=e=>Fe(e.parentNode,Kb(e)+1),Fe.before=e=>Fe(e.parentNode,Kb(e)),Fe.isAbove=(e,t)=>Ls(lt(t.getClientRects()),ro(e.getClientRects()),hc).getOr(!1),Fe.isBelow=(e,t)=>Ls(ro(t.getClientRects()),lt(e.getClientRects()),og).getOr(!1),Fe.isAtStart=e=>e?e.isAtStart():!1,Fe.isAtEnd=e=>e?e.isAtEnd():!1,Fe.isTextPosition=e=>e?mt(e.container()):!1,Fe.isElementPosition=e=>!Fe.isTextPosition(e);const sp=(e,t)=>{mt(t)&&t.data.length===0&&e.remove(t)},Kv=(e,t,o)=>{t.insertNode(o),sp(e,o.previousSibling),sp(e,o.nextSibling)},Yv=(e,t,o)=>{const r=$.from(o.firstChild),a=$.from(o.lastChild);t.insertNode(o),r.each(c=>sp(e,c.previousSibling)),a.each(c=>sp(e,c.nextSibling))},ey=(e,t,o)=>{Lm(o)?Yv(e,t,o):Kv(e,t,o)},bd=mt,T1=Mc,ty=jn.nodeIndex,xh=e=>{const t=e.parentNode;return T1(t)?xh(t):t},O1=e=>e?wl(e.childNodes,(t,o)=>(T1(o)&&o.nodeName!=="BR"?t=t.concat(O1(o)):t.push(o),t),[]):[],m_=(e,t)=>{let o=e;for(;(o=o.previousSibling)&&bd(o);)t+=o.data.length;return t},Xv=e=>t=>e===t,m=e=>{let t,o;t=O1(xh(e)),o=Sr(t,Xv(e),e),t=t.slice(0,o+1);const r=wl(t,(a,c,d)=>(bd(c)&&bd(t[d-1])&&a++,a),0);return t=Aa(t,si([e.nodeName])),o=Sr(t,Xv(e),e),o-r},h=e=>(bd(e)?"text()":e.nodeName.toLowerCase())+"["+m(e)+"]",x=(e,t,o)=>{const r=[];for(let a=t.parentNode;a&&a!==e;a=a.parentNode)r.push(a);return r},S=(e,t)=>{let o=[],r=t.container(),a=t.offset(),c;if(bd(r))c=m_(r,a);else{const g=r.childNodes;a>=g.length?(c="after",a=g.length-1):c="before",r=g[a]}o.push(h(r));let d=x(e,r);return d=Aa(d,nt(Mc)),o=o.concat(od(d,g=>h(g))),o.reverse().join("/")+","+c},D=(e,t,o)=>{let r=O1(e);return r=Aa(r,(a,c)=>!bd(a)||!bd(r[c-1])),r=Aa(r,si([t])),r[o]},R=(e,t)=>{let o=e,r=0;for(;bd(o);){const a=o.data.length;if(t>=r&&t<=r+a){e=o,t=t-r;break}if(!bd(o.nextSibling)){e=o,t=a;break}r+=a,o=o.nextSibling}return bd(e)&&t>e.data.length&&(t=e.data.length),Fe(e,t)},H=(e,t)=>{if(!t)return null;const o=t.split(","),r=o[0].split("/"),a=o.length>1?o[1]:"before",c=wl(r,(d,g)=>{const v=/([\w\-\(\)]+)\[([0-9]+)\]/.exec(g);return v?(v[1]==="text()"&&(v[1]="#text"),D(d,v[1],parseInt(v[2],10))):null},e);if(!c)return null;if(!bd(c)&&c.parentNode){let d;return a==="after"?d=ty(c)+1:d=ty(c),Fe(c.parentNode,d)}return R(c,parseInt(a,10))},U=br,te=(e,t,o)=>{let r=e(t.data.slice(0,o)).length;for(let a=t.previousSibling;a&&mt(a);a=a.previousSibling)r+=e(a.data).length;return r},de=(e,t,o,r,a)=>{const c=a?r.startContainer:r.endContainer;let d=a?r.startOffset:r.endOffset;const g=[],v=e.getRoot();if(mt(c))g.push(o?te(t,c,d):d);else{let A=0;const M=c.childNodes;d>=M.length&&M.length&&(A=1,d=Math.max(0,M.length-1)),g.push(e.nodeIndex(M[d],o)+A)}for(let A=c;A&&A!==v;A=A.parentNode)g.push(e.nodeIndex(A,o));return g},xe=(e,t,o,r)=>{const a=t.dom,c=de(a,e,o,r,!0),d=t.isForward(),g=ph(r)?{isFakeCaret:!0}:{};if(t.isCollapsed())return{start:c,forward:d,...g};{const v=de(a,e,o,r,!1);return{start:c,end:v,forward:d,...g}}},le=(e,t,o)=>{let r=0;return ft.each(e.select(t),a=>{if(a.getAttribute("data-mce-bogus")!=="all"){if(a===o)return!1;r++;return}}),r},me=(e,t)=>{let o=t?e.startContainer:e.endContainer,r=t?e.startOffset:e.endOffset;if(jt(o)&&o.nodeName==="TR"){const a=o.childNodes;o=a[Math.min(t?r:r-1,a.length-1)],o&&(r=t?0:o.childNodes.length,t?e.setStart(o,r):e.setEnd(o,r))}},he=e=>(me(e,!0),me(e,!1),e),ze=(e,t)=>{if(jt(e)&&(e=ua(e,t),U(e)))return e;if(qc(e)){mt(e)&&_u(e)&&(e=e.parentNode);let o=e.previousSibling;if(U(o)||(o=e.nextSibling,U(o)))return o}},Te=e=>ze(e.startContainer,e.startOffset)||ze(e.endContainer,e.endOffset),qe=(e,t,o)=>{const r=o.getNode(),a=o.getRng();if(r.nodeName==="IMG"||U(r)){const d=r.nodeName;return{name:d,index:le(o.dom,d,r)}}const c=Te(a);if(c){const d=c.tagName;return{name:d,index:le(o.dom,d,c)}}return xe(e,o,t,a)},Xe=e=>{const t=e.getRng();return{start:S(e.dom.getRoot(),Fe.fromRangeStart(t)),end:S(e.dom.getRoot(),Fe.fromRangeEnd(t)),forward:e.isForward()}},Ge=e=>({rng:e.getRng(),forward:e.isForward()}),Qe=(e,t,o)=>{const r={"data-mce-type":"bookmark",id:t,style:"overflow:hidden;line-height:0px"};return o?e.create("span",r,"&#xFEFF;"):e.create("span",r)},ht=(e,t)=>{const o=e.dom;let r=e.getRng();const a=o.uniqueId(),c=e.isCollapsed(),d=e.getNode(),g=d.nodeName,v=e.isForward();if(g==="IMG")return{name:g,index:le(o,g,d)};const A=he(r.cloneRange());if(!c){A.collapse(!1);const B=Qe(o,a+"_end",t);ey(o,A,B)}r=he(r),r.collapse(!0);const M=Qe(o,a+"_start",t);return ey(o,r,M),e.moveToBookmark({id:a,keep:!0,forward:v}),{id:a,forward:v}},Ee=(e,t,o=!1)=>t===2?qe(wa,o,e):t===3?Xe(e):t?Ge(e):ht(e,!1),xt=yt(qe,Tt,!0),oo=e=>{const t=c=>c(e),o=_e(e),r=()=>a,a={tag:!0,inner:e,fold:(c,d)=>d(e),isValue:Ao,isError:fn,map:c=>Gt.value(c(e)),mapError:r,bind:t,exists:t,forall:t,getOr:o,or:r,getOrThunk:o,orThunk:r,getOrDie:o,each:c=>{c(e)},toOptional:()=>$.some(e)};return a},Ut=e=>{const t=()=>o,o={tag:!1,inner:e,fold:(r,a)=>r(e),isValue:fn,isError:Ao,map:t,mapError:r=>Gt.error(r(e)),bind:t,exists:fn,forall:Ao,getOr:Tt,or:Tt,getOrThunk:Zr,orThunk:Zr,getOrDie:Ot(String(e)),each:lo,toOptional:$.none};return o},Gt={value:oo,error:Ut,fromOption:(e,t)=>e.fold(()=>Ut(t),oo)},ho={generate:e=>{if(!ve(e))throw new Error("cases must be an array");if(e.length===0)throw new Error("there must be at least one case");const t=[],o={};return We(e,(r,a)=>{const c=st(r);if(c.length!==1)throw new Error("one and only one name per case");const d=c[0],g=r[d];if(o[d]!==void 0)throw new Error("duplicate key detected:"+d);if(d==="cata")throw new Error("cannot have a case named cata (sorry)");if(!ve(g))throw new Error("case arguments must be an array");t.push(d),o[d]=(...v)=>{const A=v.length;if(A!==g.length)throw new Error("Wrong number of arguments to case "+d+". Expected "+g.length+" ("+g+"), got "+A);return{fold:(...B)=>{if(B.length!==e.length)throw new Error("Wrong number of arguments to fold. Expected "+e.length+", got "+B.length);return B[a].apply(null,v)},match:B=>{const P=st(B);if(t.length!==P.length)throw new Error("Wrong number of arguments to match. Expected: "+t.join(",")+`
Actual: `+P.join(","));if(!Wr(t,ae=>nn(P,ae)))throw new Error("Not all branches were specified when using match. Specified: "+P.join(", ")+`
Required: `+t.join(", "));return B[d].apply(null,v)},log:B=>{console.log(B,{constructors:t,constructor:d,params:v})}}}}),o}};ho.generate([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]);const nr=e=>{const t=[],o=[];return We(e,r=>{r.fold(a=>{t.push(a)},a=>{o.push(a)})}),{errors:t,values:o}},ea=e=>e.type==="inline-command"||e.type==="inline-format",Si=e=>e.type==="block-command"||e.type==="block-format",Va=(e,t)=>(e.type==="block-command"||e.type==="block-format")&&e.trigger===t,ec=e=>{var t;const o=a=>Gt.error({message:a,pattern:e}),r=(a,c,d)=>{if(e.format!==void 0){let g;if(ve(e.format)){if(!Wr(e.format,He))return o(a+" pattern has non-string items in the `format` array");g=e.format}else if(He(e.format))g=[e.format];else return o(a+" pattern has non-string `format` parameter");return Gt.value(c(g))}else return e.cmd!==void 0?He(e.cmd)?Gt.value(d(e.cmd,e.value)):o(a+" pattern has non-string `cmd` parameter"):o(a+" pattern is missing both `format` and `cmd` parameters")};if(!ne(e))return o("Raw pattern is not an object");if(!He(e.start))return o("Raw pattern is missing `start` parameter");if(e.end!==void 0){if(!He(e.end))return o("Inline pattern has non-string `end` parameter");if(e.start.length===0&&e.end.length===0)return o("Inline pattern has empty `start` and `end` parameters");let a=e.start,c=e.end;return c.length===0&&(c=a,a=""),r("Inline",d=>({type:"inline-format",start:a,end:c,format:d}),(d,g)=>({type:"inline-command",start:a,end:c,cmd:d,value:g}))}else{if(e.replacement!==void 0)return He(e.replacement)?e.start.length===0?o("Replacement pattern has empty `start` parameter"):Gt.value({type:"inline-command",start:"",end:e.start,cmd:"mceInsertContent",value:e.replacement}):o("Replacement pattern has non-string `replacement` parameter");{const a=(t=e.trigger)!==null&&t!==void 0?t:"space";return e.start.length===0?o("Block pattern has empty `start` parameter"):r("Block",c=>({type:"block-format",start:e.start,format:c[0],trigger:a}),(c,d)=>({type:"block-command",start:e.start,cmd:c,value:d,trigger:a}))}}},Yd=e=>Ye(e,Si),Ei=e=>Ye(e,ea),nf=(e,t)=>({inlinePatterns:Ei(e),blockPatterns:Yd(e),dynamicPatternsLookup:t}),rf=(e,t)=>({...e,blockPatterns:Ye(e.blockPatterns,o=>Va(o,t))}),ap=e=>{const t=nr(To(e,ec));return We(t.errors,o=>console.error(o.message,o.pattern)),t.values},D1=e=>t=>{const o=e(t);return ap(o)},sf=Jo().deviceType,ip=sf.isTouch(),G5=jn.DOM,K5=e=>{const t=e.indexOf("=")>0?e.split(/[;,](?![^=;,]*(?:[;,]|$))/):e.split(",");return fo(t,(o,r)=>{const a=r.split("="),c=a[0],d=a.length>1?a[1]:c;return o[ll(c)]=ll(d),o},{})},K3=e=>yo(e,RegExp),Ft=e=>t=>t.options.get(e),R1=e=>He(e)||ne(e),p_=(e,t="")=>o=>{const r=He(o);if(r)if(o.indexOf("=")!==-1){const a=K5(o);return{value:Hn(a,e.id).getOr(t),valid:r}}else return{value:o,valid:r};else return{valid:!1,message:"Must be a string."}},Jv=e=>{const t=e.options.register;t("id",{processor:"string",default:e.id}),t("selector",{processor:"string"}),t("target",{processor:"object"}),t("suffix",{processor:"string"}),t("cache_suffix",{processor:"string"}),t("base_url",{processor:"string"}),t("referrer_policy",{processor:"string",default:""}),t("language_load",{processor:"boolean",default:!0}),t("inline",{processor:"boolean",default:!1}),t("iframe_attrs",{processor:"object",default:{}}),t("doctype",{processor:"string",default:"<!DOCTYPE html>"}),t("document_base_url",{processor:"string",default:e.documentBaseUrl}),t("body_id",{processor:p_(e,"tinymce"),default:"tinymce"}),t("body_class",{processor:p_(e),default:""}),t("content_security_policy",{processor:"string",default:""}),t("br_in_pre",{processor:"boolean",default:!0}),t("forced_root_block",{processor:o=>{const r=He(o)&&Ds(o);return r?{value:o,valid:r}:{valid:!1,message:"Must be a non-empty string."}},default:"p"}),t("forced_root_block_attrs",{processor:"object",default:{}}),t("newline_behavior",{processor:o=>{const r=nn(["block","linebreak","invert","default"],o);return r?{value:o,valid:r}:{valid:!1,message:"Must be one of: block, linebreak, invert or default."}},default:"default"}),t("br_newline_selector",{processor:"string",default:".mce-toc h2,figcaption,caption"}),t("no_newline_selector",{processor:"string",default:""}),t("keep_styles",{processor:"boolean",default:!0}),t("end_container_on_empty_block",{processor:o=>Gn(o)?{valid:!0,value:o}:He(o)?{valid:!0,value:o}:{valid:!1,message:"Must be boolean or a string"},default:"blockquote"}),t("font_size_style_values",{processor:"string",default:"xx-small,x-small,small,medium,large,x-large,xx-large"}),t("font_size_legacy_values",{processor:"string",default:"xx-small,small,medium,large,x-large,xx-large,300%"}),t("font_size_classes",{processor:"string",default:""}),t("automatic_uploads",{processor:"boolean",default:!0}),t("images_reuse_filename",{processor:"boolean",default:!1}),t("images_replace_blob_uris",{processor:"boolean",default:!0}),t("icons",{processor:"string",default:""}),t("icons_url",{processor:"string",default:""}),t("images_upload_url",{processor:"string",default:""}),t("images_upload_base_path",{processor:"string",default:""}),t("images_upload_credentials",{processor:"boolean",default:!1}),t("images_upload_handler",{processor:"function"}),t("language",{processor:"string",default:"en"}),t("language_url",{processor:"string",default:""}),t("entity_encoding",{processor:"string",default:"named"}),t("indent",{processor:"boolean",default:!0}),t("indent_before",{processor:"string",default:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,details,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist"}),t("indent_after",{processor:"string",default:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,details,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist"}),t("indent_use_margin",{processor:"boolean",default:!1}),t("indentation",{processor:"string",default:"40px"}),t("content_css",{processor:o=>{const r=o===!1||He(o)||Eo(o,He);return r?He(o)?{value:To(o.split(","),ll),valid:r}:ve(o)?{value:o,valid:r}:o===!1?{value:[],valid:r}:{value:o,valid:r}:{valid:!1,message:"Must be false, a string or an array of strings."}},default:kh(e)?[]:["default"]}),t("content_style",{processor:"string"}),t("content_css_cors",{processor:"boolean",default:!1}),t("font_css",{processor:o=>{const r=He(o)||Eo(o,He);return r?{value:ve(o)?o:To(o.split(","),ll),valid:r}:{valid:!1,message:"Must be a string or an array of strings."}},default:[]}),t("inline_boundaries",{processor:"boolean",default:!0}),t("inline_boundaries_selector",{processor:"string",default:"a[href],code,span.mce-annotation"}),t("object_resizing",{processor:o=>{const r=Gn(o)||He(o);return r?o===!1||sf.isiPhone()||sf.isiPad()?{value:"",valid:r}:{value:o===!0?"table,img,figure.image,div,video,iframe":o,valid:r}:{valid:!1,message:"Must be boolean or a string"}},default:!ip}),t("resize_img_proportional",{processor:"boolean",default:!0}),t("event_root",{processor:"string"}),t("service_message",{processor:"string"}),t("theme",{processor:o=>o===!1||He(o)||Lt(o),default:"silver"}),t("theme_url",{processor:"string"}),t("formats",{processor:"object"}),t("format_empty_lines",{processor:"boolean",default:!1}),t("format_noneditable_selector",{processor:"string",default:""}),t("preview_styles",{processor:o=>{const r=o===!1||He(o);return r?{value:o===!1?"":o,valid:r}:{valid:!1,message:"Must be false or a string"}},default:"font-family font-size font-weight font-style text-decoration text-transform color background-color border border-radius outline text-shadow"}),t("custom_ui_selector",{processor:"string",default:""}),t("hidden_input",{processor:"boolean",default:!0}),t("submit_patch",{processor:"boolean",default:!0}),t("encoding",{processor:"string"}),t("add_form_submit_trigger",{processor:"boolean",default:!0}),t("add_unload_trigger",{processor:"boolean",default:!0}),t("custom_undo_redo_levels",{processor:"number",default:0}),t("disable_nodechange",{processor:"boolean",default:!1}),t("readonly",{processor:"boolean",default:!1}),t("editable_root",{processor:"boolean",default:!0}),t("plugins",{processor:"string[]",default:[]}),t("external_plugins",{processor:"object"}),t("forced_plugins",{processor:"string[]"}),t("model",{processor:"string",default:e.hasPlugin("rtc")?"plugin":"dom"}),t("model_url",{processor:"string"}),t("block_unsupported_drop",{processor:"boolean",default:!0}),t("visual",{processor:"boolean",default:!0}),t("visual_table_class",{processor:"string",default:"mce-item-table"}),t("visual_anchor_class",{processor:"string",default:"mce-item-anchor"}),t("iframe_aria_text",{processor:"string",default:"Rich Text Area. Press ALT-0 for help."}),t("setup",{processor:"function"}),t("init_instance_callback",{processor:"function"}),t("url_converter",{processor:"function",default:e.convertURL}),t("url_converter_scope",{processor:"object",default:e}),t("urlconverter_callback",{processor:"function"}),t("allow_conditional_comments",{processor:"boolean",default:!1}),t("allow_html_data_urls",{processor:"boolean",default:!1}),t("allow_svg_data_urls",{processor:"boolean"}),t("allow_html_in_named_anchor",{processor:"boolean",default:!1}),t("allow_script_urls",{processor:"boolean",default:!1}),t("allow_unsafe_link_target",{processor:"boolean",default:!1}),t("convert_fonts_to_spans",{processor:"boolean",default:!0,deprecated:!0}),t("fix_list_elements",{processor:"boolean",default:!1}),t("preserve_cdata",{processor:"boolean",default:!1}),t("remove_trailing_brs",{processor:"boolean",default:!0}),t("pad_empty_with_br",{processor:"boolean",default:!1}),t("inline_styles",{processor:"boolean",default:!0,deprecated:!0}),t("element_format",{processor:"string",default:"html"}),t("entities",{processor:"string"}),t("schema",{processor:"string",default:"html5"}),t("convert_urls",{processor:"boolean",default:!0}),t("relative_urls",{processor:"boolean",default:!0}),t("remove_script_host",{processor:"boolean",default:!0}),t("custom_elements",{processor:R1}),t("extended_valid_elements",{processor:"string"}),t("invalid_elements",{processor:"string"}),t("invalid_styles",{processor:R1}),t("valid_children",{processor:"string"}),t("valid_classes",{processor:R1}),t("valid_elements",{processor:"string"}),t("valid_styles",{processor:R1}),t("verify_html",{processor:"boolean",default:!0}),t("auto_focus",{processor:o=>He(o)||o===!0}),t("browser_spellcheck",{processor:"boolean",default:!1}),t("protect",{processor:"array"}),t("images_file_types",{processor:"string",default:"jpeg,jpg,jpe,jfi,jif,jfif,png,gif,bmp,webp"}),t("deprecation_warnings",{processor:"boolean",default:!0}),t("a11y_advanced_options",{processor:"boolean",default:!1}),t("api_key",{processor:"string"}),t("license_key",{processor:"string"}),t("paste_block_drop",{processor:"boolean",default:!1}),t("paste_data_images",{processor:"boolean",default:!0}),t("paste_preprocess",{processor:"function"}),t("paste_postprocess",{processor:"function"}),t("paste_webkit_styles",{processor:"string",default:"none"}),t("paste_remove_styles_if_webkit",{processor:"boolean",default:!0}),t("paste_merge_formats",{processor:"boolean",default:!0}),t("smart_paste",{processor:"boolean",default:!0}),t("paste_as_text",{processor:"boolean",default:!1}),t("paste_tab_spaces",{processor:"number",default:4}),t("text_patterns",{processor:o=>Eo(o,ne)||o===!1?{value:ap(o===!1?[]:o),valid:!0}:{valid:!1,message:"Must be an array of objects or false."},default:[{start:"*",end:"*",format:"italic"},{start:"**",end:"**",format:"bold"},{start:"#",format:"h1",trigger:"space"},{start:"##",format:"h2",trigger:"space"},{start:"###",format:"h3",trigger:"space"},{start:"####",format:"h4",trigger:"space"},{start:"#####",format:"h5",trigger:"space"},{start:"######",format:"h6",trigger:"space"},{start:"1.",cmd:"InsertOrderedList",trigger:"space"},{start:"*",cmd:"InsertUnorderedList",trigger:"space"},{start:"-",cmd:"InsertUnorderedList",trigger:"space"},{start:">",cmd:"mceBlockQuote",trigger:"space"},{start:"---",cmd:"InsertHorizontalRule",trigger:"space"}]}),t("text_patterns_lookup",{processor:o=>Lt(o)?{value:D1(o),valid:!0}:{valid:!1,message:"Must be a single function"},default:o=>[]}),t("noneditable_class",{processor:"string",default:"mceNonEditable"}),t("editable_class",{processor:"string",default:"mceEditable"}),t("noneditable_regexp",{processor:o=>Eo(o,K3)?{value:o,valid:!0}:K3(o)?{value:[o],valid:!0}:{valid:!1,message:"Must be a RegExp or an array of RegExp."},default:[]}),t("table_tab_navigation",{processor:"boolean",default:!0}),t("highlight_on_focus",{processor:"boolean",default:!0}),t("xss_sanitization",{processor:"boolean",default:!0}),t("details_initial_state",{processor:o=>{const r=nn(["inherited","collapsed","expanded"],o);return r?{value:o,valid:r}:{valid:!1,message:"Must be one of: inherited, collapsed, or expanded."}},default:"inherited"}),t("details_serialized_state",{processor:o=>{const r=nn(["inherited","collapsed","expanded"],o);return r?{value:o,valid:r}:{valid:!1,message:"Must be one of: inherited, collapsed, or expanded."}},default:"inherited"}),t("init_content_sync",{processor:"boolean",default:!1}),t("newdocument_content",{processor:"string",default:""}),t("sandbox_iframes",{processor:"boolean",default:!0}),t("sandbox_iframes_exclusions",{processor:"string[]",default:["youtube.com","youtu.be","vimeo.com","player.vimeo.com","dailymotion.com","embed.music.apple.com","open.spotify.com","giphy.com","dai.ly","codepen.io"]}),t("convert_unsafe_embeds",{processor:"boolean",default:!0}),e.on("ScriptsLoaded",()=>{t("directionality",{processor:"string",default:jc.isRtl()?"rtl":void 0}),t("placeholder",{processor:"string",default:G5.getAttrib(e.getElement(),"placeholder")})})},gl=Ft("iframe_attrs"),Au=Ft("doctype"),yd=Ft("document_base_url"),Qv=Ft("body_id"),g_=Ft("body_class"),Y3=Ft("content_security_policy"),h_=Ft("br_in_pre"),ol=Ft("forced_root_block"),N1=Ft("forced_root_block_attrs"),b_=Ft("newline_behavior"),X3=Ft("br_newline_selector"),J3=Ft("no_newline_selector"),y_=Ft("keep_styles"),v_=Ft("end_container_on_empty_block"),Nr=Ft("automatic_uploads"),lp=Ft("images_reuse_filename"),Q3=Ft("images_replace_blob_uris"),x_=Ft("icons"),e4=Ft("icons_url"),k_=Ft("images_upload_url"),t4=Ft("images_upload_base_path"),w_=Ft("images_upload_credentials"),Y5=Ft("images_upload_handler"),o4=Ft("content_css_cors"),M1=Ft("referrer_policy"),__=Ft("language"),X5=Ft("language_url"),n4=Ft("indent_use_margin"),vd=Ft("indentation"),Vl=Ft("content_css"),oy=Ft("content_style"),r4=Ft("font_css"),J5=Ft("directionality"),xn=Ft("inline_boundaries_selector"),s4=Ft("object_resizing"),a4=Ft("resize_img_proportional"),C_=Ft("placeholder"),i4=Ft("event_root"),Q5=Ft("service_message"),ny=Ft("theme"),eR=Ft("theme_url"),B1=Ft("model"),S_=Ft("model_url"),ry=Ft("inline_boundaries"),tR=Ft("formats"),oR=Ft("preview_styles"),nR=Ft("format_empty_lines"),zo=Ft("format_noneditable_selector"),l4=Ft("custom_ui_selector"),kh=Ft("inline"),E_=Ft("hidden_input"),c4=Ft("submit_patch"),d4=Ft("add_form_submit_trigger"),u4=Ft("add_unload_trigger"),f4=Ft("custom_undo_redo_levels"),rR=Ft("disable_nodechange"),m4=Ft("readonly"),Wn=Ft("editable_root"),p4=Ft("content_css_cors"),zu=Ft("plugins"),om=Ft("external_plugins"),ex=Ft("block_unsupported_drop"),Kc=Ft("visual"),tx=Ft("visual_table_class"),sy=Ft("visual_anchor_class"),I1=Ft("iframe_aria_text"),ay=Ft("setup"),sR=Ft("init_instance_callback"),aR=Ft("urlconverter_callback"),iR=Ft("auto_focus"),lR=Ft("browser_spellcheck"),Sn=Ft("protect"),af=Ft("paste_block_drop"),nm=Ft("paste_data_images"),cR=Ft("paste_preprocess"),L1=Ft("paste_postprocess"),Fn=Ft("newdocument_content"),g4=Ft("paste_webkit_styles"),A_=Ft("paste_remove_styles_if_webkit"),dR=Ft("paste_merge_formats"),wh=Ft("smart_paste"),_h=Ft("paste_as_text"),h4=Ft("paste_tab_spaces"),uR=Ft("allow_html_data_urls"),fR=Ft("text_patterns"),P1=Ft("text_patterns_lookup"),Ch=Ft("noneditable_class"),mR=Ft("editable_class"),b4=Ft("noneditable_regexp"),pR=Ft("preserve_cdata"),y4=Ft("highlight_on_focus"),v4=Ft("xss_sanitization"),x4=Ft("init_content_sync"),z_=e=>e.options.isSet("text_patterns_lookup"),T_=e=>ft.explode(e.options.get("font_size_style_values")),O_=e=>ft.explode(e.options.get("font_size_classes")),k4=e=>e.options.get("encoding")==="xml",D_=e=>ft.explode(e.options.get("images_file_types")),w4=Ft("table_tab_navigation"),ox=Ft("details_initial_state"),_4=Ft("details_serialized_state"),R_=Ft("sandbox_iframes"),nx=e=>e.options.get("sandbox_iframes_exclusions"),C4=Ft("convert_unsafe_embeds"),S4=Ft("license_key"),E4=Ft("api_key"),gR=jt,A4=mt,F1=e=>{const t=e.parentNode;t&&t.removeChild(e)},N_=e=>{const t=wa(e);return{count:e.length-t.length,text:t}},M_=e=>{let t;for(;(t=e.data.lastIndexOf(Qs))!==-1;)e.deleteData(t,1)},B_=(e,t)=>(sg(e),t),hR=(e,t)=>{const o=N_(e.data.substr(0,t.offset())),r=N_(e.data.substr(t.offset()));return(o.text+r.text).length>0?(M_(e),Fe(e,t.offset()-o.count)):t},bR=(e,t)=>{const o=t.container(),r=sl(Po(o.childNodes),e).map(a=>a<t.offset()?Fe(o,t.offset()-1):t).getOr(t);return sg(e),r},yR=(e,t)=>A4(e)&&t.container()===e?hR(e,t):B_(e,t),vR=(e,t)=>t.container()===e.parentNode?bR(e,t):B_(e,t),xR=(e,t)=>Fe.isTextPosition(t)?yR(e,t):vR(e,t),sg=e=>{gR(e)&&qc(e)&&(C1(e)?e.removeAttribute("data-mce-caret"):F1(e)),A4(e)&&(M_(e),e.data.length===0&&F1(e))},z4=br,rx=Yl,kR=Pf,I_="*[contentEditable=false],video,audio,embed,object",T4=(e,t,o)=>{const r=$b(t.getBoundingClientRect(),o);let a,c;if(e.tagName==="BODY"){const g=e.ownerDocument.documentElement;a=e.scrollLeft||g.scrollLeft,c=e.scrollTop||g.scrollTop}else{const g=e.getBoundingClientRect();a=e.scrollLeft-g.left,c=e.scrollTop-g.top}r.left+=a,r.right+=a,r.top+=c,r.bottom+=c,r.width=1;let d=t.offsetWidth-t.clientWidth;return d>0&&(o&&(d*=-1),r.left+=d,r.right+=d),r},O4=e=>{var t,o;const r=ri(fe.fromDom(e),I_);for(let a=0;a<r.length;a++){const c=r[a].dom;let d=c.previousSibling;if(mh(d)){const g=d.data;g.length===1?(t=d.parentNode)===null||t===void 0||t.removeChild(d):d.deleteData(g.length-1,1)}d=c.nextSibling,Hb(d)&&(d.data.length===1?(o=d.parentNode)===null||o===void 0||o.removeChild(d):d.deleteData(0,1))}},D4=(e,t,o,r)=>{const a=ct();let c,d;const g=ol(e),v=e.dom,A=(J,ie)=>{let we;if(M(),kR(ie))return null;if(o(ie)){const Ce=S1(g,ie,J),Se=T4(t,ie,J);v.setStyle(Ce,"top",Se.top),v.setStyle(Ce,"caret-color","transparent"),d=Ce;const De=v.create("div",{class:"mce-visual-caret","data-mce-bogus":"all"});v.setStyles(De,{...Se}),v.add(t,De),a.set({caret:De,element:ie,before:J}),J&&v.addClass(De,"mce-visual-caret-before"),B(),we=ie.ownerDocument.createRange(),we.setStart(Ce,0),we.setEnd(Ce,0)}else return d=$v(ie,J),we=ie.ownerDocument.createRange(),H1(d.nextSibling)?(we.setStart(d,0),we.setEnd(d,0)):(we.setStart(d,1),we.setEnd(d,1)),we;return we},M=()=>{O4(t),d&&(sg(d),d=null),a.on(J=>{v.remove(J.caret),a.clear()}),c&&(clearInterval(c),c=void 0)},B=()=>{c=setInterval(()=>{a.on(J=>{r()?v.toggleClass(J.caret,"mce-visual-caret-hidden"):v.addClass(J.caret,"mce-visual-caret-hidden")})},500)};return{show:A,hide:M,getCss:()=>".mce-visual-caret {position: absolute;background-color: black;background-color: currentcolor;}.mce-visual-caret-hidden {display: none;}*[data-mce-caret] {position: absolute;left: -1000px;right: auto;top: 0;margin: 0;padding: 0;}",reposition:()=>{a.on(J=>{const ie=T4(t,J.element,J.before);v.setStyles(J.caret,{...ie})})},destroy:()=>clearInterval(c)}},L_=()=>Wo.browser.isFirefox(),H1=e=>z4(e)||rx(e),$1=e=>(H1(e)||Bc(e)&&L_())&&ul(fe.fromDom(e)).exists(Ii),sx=_n,ax=br,R4=Yl,P_=Nc("display","block table table-cell table-caption list-item"),F_=qc,N4=_u,wR=jt,ix=mt,M4=hd,Sh=e=>e>0,Eh=e=>e<0,lx=(e,t)=>{let o;for(;o=e(t);)if(!N4(o))return o;return null},V1=(e,t,o,r,a)=>{const c=new Tn(e,r),d=ax(e)||N4(e);let g;if(Eh(t)){if(d&&(g=lx(c.prev.bind(c),!0),o(g)))return g;for(;g=lx(c.prev.bind(c),a);)if(o(g))return g}if(Sh(t)){if(d&&(g=lx(c.next.bind(c),!0),o(g)))return g;for(;g=lx(c.next.bind(c),a);)if(o(g))return g}return null},_R=(e,t)=>{const o=a=>sx(a.dom),r=a=>a.dom===t;return xs(fe.fromDom(e),o,r).map(a=>a.dom).getOr(t)},ag=(e,t)=>{for(;e&&e!==t;){if(P_(e))return e;e=e.parentNode}return null},rm=(e,t,o)=>ag(e.container(),o)===ag(t.container(),o),cx=(e,t)=>{if(!t)return $.none();const o=t.container(),r=t.offset();return wR(o)?$.from(o.childNodes[r+e]):$.none()},B4=(e,t)=>{var o;const a=((o=t.ownerDocument)!==null&&o!==void 0?o:document).createRange();return e?(a.setStartBefore(t),a.setEndBefore(t)):(a.setStartAfter(t),a.setEndAfter(t)),a},I4=(e,t,o)=>ag(t,e)===ag(o,e),H_=(e,t,o)=>{const r=e?"previousSibling":"nextSibling";let a=o;for(;a&&a!==t;){let c=a[r];if(c&&F_(c)&&(c=c[r]),ax(c)||R4(c)){if(I4(t,c,a))return c;break}if(M4(c))break;a=a.parentNode}return null},j1=yt(B4,!0),U1=yt(B4,!1),$_=(e,t,o)=>{let r;const a=yt(H_,!0,t),c=yt(H_,!1,t),d=o.startContainer,g=o.startOffset;if(_u(d)){const v=ix(d)?d.parentNode:d,A=v.getAttribute("data-mce-caret");if(A==="before"&&(r=v.nextSibling,$1(r)))return j1(r);if(A==="after"&&(r=v.previousSibling,$1(r)))return U1(r)}if(!o.collapsed)return o;if(mt(d)){if(F_(d)){if(e===1){if(r=c(d),r)return j1(r);if(r=a(d),r)return U1(r)}if(e===-1){if(r=a(d),r)return U1(r);if(r=c(d),r)return j1(r)}return o}if(mh(d)&&g>=d.data.length-1)return e===1&&(r=c(d),r)?j1(r):o;if(Hb(d)&&g<=1)return e===-1&&(r=a(d),r)?U1(r):o;if(g===d.data.length)return r=c(d),r?j1(r):o;if(g===0)return r=a(d),r?U1(r):o}return o},L4=(e,t)=>cx(e?0:-1,t).filter(ax),Z1=(e,t,o)=>{const r=$_(e,t,o);return e===-1?Fe.fromRangeStart(r):Fe.fromRangeEnd(r)},dx=e=>$.from(e.getNode()).map(fe.fromDom),CR=e=>$.from(e.getNode(!0)).map(fe.fromDom),V_=(e,t)=>{let o=t;for(;o=e(o);)if(o.isVisible())return o;return o},ux=(e,t)=>{const o=rm(e,t);return!o&&Yr(e.getNode())?!0:o};var Vi;(function(e){e[e.Backwards=-1]="Backwards",e[e.Forwards=1]="Forwards"})(Vi||(Vi={}));const SR=br,sm=mt,P4=jt,Yt=Yr,Ah=hd,j_=ep,fx=tp,U_=(e,t)=>{const o=[];let r=e;for(;r&&r!==t;)o.push(r),r=r.parentNode;return o},F4=(e,t)=>e.hasChildNodes()&&t<e.childNodes.length?e.childNodes[t]:null,W1=(e,t)=>{if(Sh(e)){if(Ah(t.previousSibling)&&!sm(t.previousSibling))return Fe.before(t);if(sm(t))return Fe(t,0)}if(Eh(e)){if(Ah(t.nextSibling)&&!sm(t.nextSibling))return Fe.after(t);if(sm(t))return Fe(t,t.data.length)}return Eh(e)?Yt(t)?Fe.before(t):Fe.after(t):Fe.before(t)},H4=(e,t)=>{const o=t.nextSibling;return o&&Ah(o)?sm(o)?Fe(o,0):Fe.before(o):Z_(Vi.Forwards,Fe.after(t),e)},Z_=(e,t,o)=>{let r,a,c,d;if(!P4(o)||!t)return null;if(t.isEqual(Fe.after(o))&&o.lastChild){if(d=Fe.after(o.lastChild),Eh(e)&&Ah(o.lastChild)&&P4(o.lastChild))return Yt(o.lastChild)?Fe.before(o.lastChild):d}else d=t;const g=d.container();let v=d.offset();if(sm(g)){if(Eh(e)&&v>0)return Fe(g,--v);if(Sh(e)&&v<g.length)return Fe(g,++v);r=g}else{if(Eh(e)&&v>0&&(a=F4(g,v-1),Ah(a)))return!j_(a)&&(c=V1(a,e,fx,a),c)?sm(c)?Fe(c,c.data.length):Fe.after(c):sm(a)?Fe(a,a.data.length):Fe.before(a);if(Sh(e)&&v<g.childNodes.length&&(a=F4(g,v),Ah(a)))return Yt(a)?H4(o,a):!j_(a)&&(c=V1(a,e,fx,a),c)?sm(c)?Fe(c,0):Fe.before(c):sm(a)?Fe(a,0):Fe.after(a);r=a||d.getNode()}if(r&&(Sh(e)&&d.isAtEnd()||Eh(e)&&d.isAtStart())&&(r=V1(r,e,Ao,o,!0),fx(r,o)))return W1(e,r);a=r&&V1(r,e,fx,o);const A=Os(Ye(U_(g,o),SR));return A&&(!a||!A.contains(a))?(Sh(e)?d=Fe.after(A):d=Fe.before(A),d):a?W1(e,a):null},po=e=>({next:t=>Z_(Vi.Forwards,t,e),prev:t=>Z_(Vi.Backwards,t,e)}),Vo=(e,t,o)=>{const r=e?Fe.before(o):Fe.after(o);return xd(e,t,r)},$4=e=>Yr(e)?Fe.before(e):Fe.after(e),V4=e=>Fe.isTextPosition(e)?e.offset()===0:hd(e.getNode()),j4=e=>{if(Fe.isTextPosition(e)){const t=e.container();return e.offset()===t.data.length}else return hd(e.getNode(!0))},U4=(e,t)=>!Fe.isTextPosition(e)&&!Fe.isTextPosition(t)&&e.getNode()===t.getNode(!0),Co=e=>!Fe.isTextPosition(e)&&Yr(e.getNode()),q1=(e,t,o)=>e?!U4(t,o)&&!Co(t)&&j4(t)&&V4(o):!U4(o,t)&&V4(t)&&j4(o),xd=(e,t,o)=>{const r=po(t);return $.from(e?r.next(o):r.prev(o))},zh=(e,t,o)=>xd(e,t,o).bind(r=>rm(o,r,t)&&q1(e,o,r)?xd(e,t,r):$.some(r)),Z4=(e,t,o,r)=>zh(e,t,o).bind(a=>r(a)?Z4(e,t,a,r):$.some(a)),iy=(e,t)=>{const o=e?t.firstChild:t.lastChild;return mt(o)?$.some(Fe(o,e?0:o.data.length)):o?hd(o)?$.some(e?Fe.before(o):$4(o)):Vo(e,t,o):$.none()},tc=yt(xd,!0),Yc=yt(xd,!1),ko=yt(iy,!0),Xd=yt(iy,!1),ly="_mce_caret",kd=e=>jt(e)&&e.id===ly,ig=(e,t)=>{let o=t;for(;o&&o!==e;){if(kd(o))return o;o=o.parentNode}return null},W4=e=>He(e.start),q4=e=>xo(e,"rng"),G4=e=>xo(e,"id"),W_=e=>xo(e,"name"),K4=e=>ft.isArray(e.start),mx=e=>!W_(e)&&Gn(e.forward)?e.forward:!0,Y4=(e,t)=>(jt(t)&&e.isBlock(t)&&!t.innerHTML&&(t.innerHTML='<br data-mce-bogus="1" />'),t),ER=(e,t)=>{const o=$.from(H(e.getRoot(),t.start)),r=$.from(H(e.getRoot(),t.end));return Ls(o,r,(a,c)=>{const d=e.createRng();return d.setStart(a.container(),a.offset()),d.setEnd(c.container(),c.offset()),{range:d,forward:mx(t)}})},AR=(e,t)=>{var o;const a=((o=e.ownerDocument)!==null&&o!==void 0?o:document).createTextNode(Qs);e.appendChild(a),t.setStart(a,0),t.setEnd(a,0)},q_=e=>!e.hasChildNodes(),G_=(e,t)=>Xd(e).fold(fn,o=>(t.setStart(o.container(),o.offset()),t.setEnd(o.container(),o.offset()),!0)),X4=(e,t,o)=>q_(t)&&ig(e,t)?(AR(t,o),!0):!1,J4=(e,t,o,r)=>{const a=o[t?"start":"end"],c=e.getRoot();if(a){let d=c,g=a[0];for(let v=a.length-1;d&&v>=1;v--){const A=d.childNodes;if(X4(c,d,r))return!0;if(a[v]>A.length-1)return X4(c,d,r)?!0:G_(d,r);d=A[a[v]]}mt(d)&&(g=Math.min(a[0],d.data.length)),jt(d)&&(g=Math.min(a[0],d.childNodes.length)),t?r.setStart(d,g):r.setEnd(d,g)}return!0},K_=e=>mt(e)&&e.data.length>0,Q4=(e,t,o)=>{const r=e.get(o.id+"_"+t),a=r==null?void 0:r.parentNode,c=o.keep;if(r&&a){let d,g;if(t==="start"?c?r.hasChildNodes()?(d=r.firstChild,g=1):K_(r.nextSibling)?(d=r.nextSibling,g=0):K_(r.previousSibling)?(d=r.previousSibling,g=r.previousSibling.data.length):(d=a,g=e.nodeIndex(r)+1):(d=a,g=e.nodeIndex(r)):c?r.hasChildNodes()?(d=r.firstChild,g=1):K_(r.previousSibling)?(d=r.previousSibling,g=r.previousSibling.data.length):(d=a,g=e.nodeIndex(r)):(d=a,g=e.nodeIndex(r)),!c){const v=r.previousSibling,A=r.nextSibling;ft.each(ft.grep(r.childNodes),B=>{mt(B)&&(B.data=B.data.replace(/\uFEFF/g,""))});let M;for(;M=e.get(o.id+"_"+t);)e.remove(M,!0);if(mt(A)&&mt(v)&&!Wo.browser.isOpera()){const B=v.data.length;v.appendData(A.data),e.remove(A),d=v,g=B}}return $.some(Fe(d,g))}else return $.none()},eE=(e,t)=>{const o=e.createRng();return J4(e,!0,t,o)&&J4(e,!1,t,o)?$.some({range:o,forward:mx(t)}):$.none()},Th=(e,t)=>{const o=Q4(e,"start",t),r=Q4(e,"end",t);return Ls(o,r.or(o),(a,c)=>{const d=e.createRng();return d.setStart(Y4(e,a.container()),a.offset()),d.setEnd(Y4(e,c.container()),c.offset()),{range:d,forward:mx(t)}})},tE=(e,t)=>$.from(e.select(t.name)[t.index]).map(o=>{const r=e.createRng();return r.selectNode(o),{range:r,forward:!0}}),oE=(e,t)=>{const o=e.dom;if(t){if(K4(t))return eE(o,t);if(W4(t))return ER(o,t);if(G4(t))return Th(o,t);if(W_(t))return tE(o,t);if(q4(t))return $.some({range:t.rng,forward:mx(t)})}return $.none()},zR=(e,t,o)=>Ee(e,t,o),TR=(e,t)=>{oE(e,t).each(({range:o,forward:r})=>{e.setRng(o,r)})},wd=e=>jt(e)&&e.tagName==="SPAN"&&e.getAttribute("data-mce-type")==="bookmark",nl=(e=>t=>e===t)(us),cy=e=>e!==""&&` \f
\r	\v`.indexOf(e)!==-1,cp=e=>!cy(e)&&!nl(e)&&!Dc(e),as=e=>{const t=[];if(e)for(let o=0;o<e.rangeCount;o++)t.push(e.getRangeAt(o));return t},Jd=e=>zn(e,t=>{const o=ng(t);return o?[fe.fromDom(o)]:[]}),G1=e=>as(e).length>1,px=e=>Ye(Jd(e),Kd),dy=e=>ri(e,"td[data-mce-selected],th[data-mce-selected]"),nE=(e,t)=>{const o=dy(t);return o.length>0?o:px(e)},lf=e=>nE(as(e.selection.getSel()),fe.fromDom(e.getBody())),gr=(e,t)=>Ze(e,"table",t),K1=e=>{const t=e.startContainer,o=e.startOffset;return mt(t)?o===0?$.some(fe.fromDom(t)):$.none():$.from(t.childNodes[o]).map(fe.fromDom)},rE=e=>{const t=e.endContainer,o=e.endOffset;return mt(t)?o===t.data.length?$.some(fe.fromDom(t)):$.none():$.from(t.childNodes[o-1]).map(fe.fromDom)},Y_=e=>Nm(e).fold(_e([e]),t=>[e].concat(Y_(t))),Y1=e=>du(e).fold(_e([e]),t=>en(t)==="br"?Ml(t).map(o=>[e].concat(Y1(o))).getOr([]):[e].concat(Y1(t))),X1=(e,t)=>Ls(K1(t),rE(t),(o,r)=>{const a=Nn(Y_(e),yt(an,o)),c=Nn(Y1(e),yt(an,r));return a.isSome()&&c.isSome()}).getOr(!1),J1=(e,t,o,r)=>{const a=o,c=new Tn(o,a),d=di(e.schema.getMoveCaretBeforeOnEnterElements(),(v,A)=>!nn(["td","th","table"],A.toLowerCase()));let g=o;do{if(mt(g)&&ft.trim(g.data).length!==0){r?t.setStart(g,0):t.setEnd(g,g.data.length);return}if(d[g.nodeName]){r?t.setStartBefore(g):g.nodeName==="BR"?t.setEndBefore(g):t.setEndAfter(g);return}}while(g=r?c.next():c.prev());a.nodeName==="BODY"&&(r?t.setStart(a,0):t.setEnd(a,a.childNodes.length))},uy=e=>{const t=e.selection.getSel();return Le(t)&&t.rangeCount>0},fy=(e,t)=>{const o=lf(e);o.length>0?We(o,r=>{const a=r.dom,c=e.dom.createRng();c.setStartBefore(a),c.setEndAfter(a),t(c,!0)}):t(e.selection.getRng(),!1)},gx=(e,t,o)=>{const r=ht(e,t);o(r),e.moveToBookmark(r)},my=e=>T(e==null?void 0:e.nodeType),hx=e=>jt(e)&&!wd(e)&&!kd(e)&&!Mc(e),sE=(e,t)=>{if(hx(t)&&!/^(TD|TH)$/.test(t.nodeName)){const o=e.getAttrib(t,"data-mce-selected"),r=parseInt(o,10);return!isNaN(r)&&r>0}else return!1},X_=(e,t,o)=>{const{selection:r,dom:a}=e,c=r.getNode(),d=br(c);gx(r,!0,()=>{t()}),d&&br(c)&&a.isChildOf(c,e.getBody())?e.selection.select(c):o(r.getStart())&&aE(a,r)},aE=(e,t)=>{var o,r;const a=t.getRng(),{startContainer:c,startOffset:d}=a,g=t.getNode();if(!sE(e,g)&&jt(c)){const v=c.childNodes,A=e.getRoot();let M;if(d<v.length){const B=v[d];M=new Tn(B,(o=e.getParent(B,e.isBlock))!==null&&o!==void 0?o:A)}else{const B=v[v.length-1];M=new Tn(B,(r=e.getParent(B,e.isBlock))!==null&&r!==void 0?r:A),M.next(!0)}for(let B=M.current();B;B=M.next()){if(e.getContentEditable(B)==="false")return;if(mt(B)&&!J_(B)){a.setStart(B,0),t.setRng(a);return}}}},Oh=(e,t,o)=>{if(e){const r=t?"nextSibling":"previousSibling";for(e=e[r];e;e=e[r])if(jt(e)||!J_(e))return e}},bx=(e,t)=>!!e.getTextBlockElements()[t.nodeName.toLowerCase()]||mc(e,t),lg=(e,t,o)=>e.schema.isValidChild(t,o),J_=(e,t=!1)=>{if(Le(e)&&mt(e)){const o=t?e.data.replace(/ /g," "):e.data;return va(o)}else return!1},DR=e=>Le(e)&&mt(e)&&e.length===0,iE=(e,t)=>{const o="[data-mce-cef-wrappable]",r=zo(e),a=Gr(r)?o:`${o},${r}`;return ti(fe.fromDom(t),a)},Q_=(e,t)=>{const o=e.dom;return hx(t)&&o.getContentEditable(t)==="false"&&iE(e,t)&&o.select('[contenteditable="true"]',t).length===0},dp=(e,t)=>Lt(e)?e(t):(Le(t)&&(e=e.replace(/%(\w+)/g,(o,r)=>t[r]||o)),e),py=(e,t)=>(e=e||"",t=t||"",e=""+(e.nodeName||e),t=""+(t.nodeName||t),e.toLowerCase()===t.toLowerCase()),yx=(e,t)=>{if(vo(e))return null;{let o=String(e);return(t==="color"||t==="backgroundColor")&&(o=ah(o)),t==="fontWeight"&&e===700&&(o="bold"),t==="fontFamily"&&(o=o.replace(/[\'\"]/g,"").replace(/,\s+/g,",")),o}},Q1=(e,t,o)=>{const r=e.getStyle(t,o);return yx(r,o)},e2=(e,t)=>{let o;return e.getParent(t,r=>jt(r)?(o=e.getStyle(r,"text-decoration"),!!o&&o!=="none"):!1),o},e0=(e,t,o)=>e.getParents(t,o,e.getRoot()),vx=(e,t,o)=>{const r=e.formatter.get(t);return Le(r)&&dr(r,o)},lE=(e,t)=>vx(e,t,r=>{const a=c=>Lt(c)||c.length>1&&c.charAt(0)==="%";return dr(["styles","attributes"],c=>Hn(r,c).exists(d=>{const g=ve(d)?d:ui(d);return dr(g,a)}))}),cE=(e,t,o)=>{const r=["inline","block","selector","attributes","styles","classes"],a=c=>di(c,(d,g)=>dr(r,v=>v===g));return vx(e,t,c=>{const d=a(c);return vx(e,o,g=>{const v=a(g);return _s(d,v)})})},cf=e=>Ka(e,"block"),dE=e=>cf(e)&&e.wrapper===!0,uE=e=>cf(e)&&e.wrapper!==!0,Xc=e=>Ka(e,"selector"),ii=e=>Ka(e,"inline"),fE=e=>Xc(e)&&ii(e)&&Gi(Hn(e,"mixed"),!0),xx=e=>Xc(e)&&e.expand!==!1&&!ii(e),mE=e=>{const t=[];let o=e;for(;o;){if(mt(o)&&o.data!==Qs||o.childNodes.length>1)return[];jt(o)&&t.push(o),o=o.firstChild}return t},t2=e=>mE(e).length>0,kx=e=>kd(e.dom)&&t2(e.dom),cg=wd,t0=e0,wx=J_,_x=bx,pE=e=>Yr(e)&&e.getAttribute("data-mce-bogus")&&!e.nextSibling,o0=(e,t)=>{let o=t;for(;o;){if(jt(o)&&e.getContentEditable(o))return e.getContentEditable(o)==="false"?o:t;o=o.parentNode}return t},Cx=(e,t,o,r)=>{const a=t.data;if(e){for(let c=o;c>0;c--)if(r(a.charAt(c-1)))return c}else for(let c=o;c<a.length;c++)if(r(a.charAt(c)))return c;return-1},n0=(e,t,o)=>Cx(e,t,o,r=>nl(r)||cy(r)),o2=(e,t,o)=>Cx(e,t,o,cp),n2=(e,t,o,r,a,c)=>{let d;const g=e.getParent(o,e.isBlock)||t,v=(M,B,P)=>{const X=Qu(e),ae=a?X.backwards:X.forwards;return $.from(ae(M,B,(J,ie)=>cg(J.parentNode)?-1:(d=J,P(a,J,ie)),g))};return v(o,r,n0).bind(M=>c?v(M.container,M.offset+(a?-1:0),o2):$.some(M)).orThunk(()=>d?$.some({container:d,offset:a?0:d.length}):$.none())},Dh=(e,t,o,r,a)=>{const c=r[a];mt(r)&&Gr(r.data)&&c&&(r=c);const d=t0(e,r);for(let g=0;g<d.length;g++)for(let v=0;v<t.length;v++){const A=t[v];if(!(Le(A.collapsed)&&A.collapsed!==o.collapsed)&&Xc(A)&&e.is(d[g],A.selector))return d[g]}return r},Sx=(e,t,o,r)=>{var a;let c=o;const d=e.getRoot(),g=t[0];if(cf(g)&&(c=g.wrapper?null:e.getParent(o,g.block,d)),!c){const v=(a=e.getParent(o,"LI,TD,TH,SUMMARY"))!==null&&a!==void 0?a:d;c=e.getParent(mt(o)?o.parentNode:o,A=>A!==d&&_x(e.schema,A),v)}if(c&&cf(g)&&g.wrapper&&(c=t0(e,c,"ul,ol").reverse()[0]||c),!c)for(c=o;c&&c[r]&&!e.isBlock(c[r])&&(c=c[r],!py(c,"br")););return c||o},Ex=(e,t,o,r)=>{const a=o.parentNode;return Le(o[r])?!1:a===t||vo(a)||e.isBlock(a)?!0:Ex(e,t,a,r)},up=(e,t,o,r,a)=>{let c=o;const d=a?"previousSibling":"nextSibling",g=e.getRoot();if(mt(o)&&!wx(o)&&(a?r>0:r<o.data.length))return o;for(;c;){if(!t[0].block_expand&&e.isBlock(c))return c;for(let v=c[d];v;v=v[d]){const A=mt(v)&&!Ex(e,g,v,d);if(!cg(v)&&!pE(v)&&!wx(v,A))return c}if(c===g||c.parentNode===g){o=c;break}c=c.parentNode}return o},fp=e=>cg(e.parentNode)||cg(e),dg=(e,t,o,r=!1)=>{let{startContainer:a,startOffset:c,endContainer:d,endOffset:g}=t;const v=o[0];return jt(a)&&a.hasChildNodes()&&(a=ua(a,c),mt(a)&&(c=0)),jt(d)&&d.hasChildNodes()&&(d=ua(d,t.collapsed?g:g-1),mt(d)&&(g=d.data.length)),a=o0(e,a),d=o0(e,d),fp(a)&&(a=cg(a)?a:a.parentNode,t.collapsed?a=a.previousSibling||a:a=a.nextSibling||a,mt(a)&&(c=t.collapsed?a.length:0)),fp(d)&&(d=cg(d)?d:d.parentNode,t.collapsed?d=d.nextSibling||d:d=d.previousSibling||d,mt(d)&&(g=t.collapsed?0:d.length)),t.collapsed&&(n2(e,e.getRoot(),a,c,!0,r).each(({container:B,offset:P})=>{a=B,c=P}),n2(e,e.getRoot(),d,g,!1,r).each(({container:B,offset:P})=>{d=B,g=P})),(ii(v)||v.block_expand)&&((!ii(v)||!mt(a)||c===0)&&(a=up(e,o,a,c,!0)),(!ii(v)||!mt(d)||g===d.data.length)&&(d=up(e,o,d,g,!1))),xx(v)&&(a=Dh(e,o,t,a,"previousSibling"),d=Dh(e,o,t,d,"nextSibling")),(cf(v)||Xc(v))&&(a=Sx(e,o,a,"previousSibling"),d=Sx(e,o,d,"nextSibling"),cf(v)&&(e.isBlock(a)||(a=up(e,o,a,c,!0),mt(a)&&(c=0)),e.isBlock(d)||(d=up(e,o,d,g,!1),mt(d)&&(g=d.data.length)))),jt(a)&&a.parentNode&&(c=e.nodeIndex(a),a=a.parentNode),jt(d)&&d.parentNode&&(g=e.nodeIndex(d)+1,d=d.parentNode),{startContainer:a,startOffset:c,endContainer:d,endOffset:g}},r0=(e,t,o)=>{var r;const a=t.startOffset,c=ua(t.startContainer,a),d=t.endOffset,g=ua(t.endContainer,d-1),v=ie=>{const we=ie[0];mt(we)&&we===c&&a>=we.data.length&&ie.splice(0,1);const Ce=ie[ie.length-1];return d===0&&ie.length>0&&Ce===g&&mt(Ce)&&ie.splice(ie.length-1,1),ie},A=(ie,we,Ce)=>{const Se=[];for(;ie&&ie!==Ce;ie=ie[we])Se.push(ie);return Se},M=(ie,we)=>e.getParent(ie,Ce=>Ce.parentNode===we,we),B=(ie,we,Ce)=>{const Se=Ce?"nextSibling":"previousSibling";for(let De=ie,ot=De.parentNode;De&&De!==we;De=ot){ot=De.parentNode;const vt=A(De===ie?De:De[Se],Se);vt.length&&(Ce||vt.reverse(),o(v(vt)))}};if(c===g)return o(v([c]));const P=(r=e.findCommonAncestor(c,g))!==null&&r!==void 0?r:e.getRoot();if(e.isChildOf(c,g))return B(c,P,!0);if(e.isChildOf(g,c))return B(g,P);const X=M(c,P)||c,ae=M(g,P)||g;B(c,X,!0);const J=A(X===c?X:X.nextSibling,"nextSibling",ae===g?ae.nextSibling:ae);J.length&&o(v(J)),B(g,ae)},RR=['pre[class*=language-][contenteditable="false"]',"figure.image","div[data-ephox-embed-iri]","div.tiny-pageembed","div.mce-toc","div[data-mce-toc]"],gE=e=>ns(e)&&eg(e)===Qs,hE=(e,t,o,r)=>aa(t).fold(()=>"skipping",a=>r==="br"||gE(t)?"valid":y1(t)?"existing":kd(t.dom)?"caret":dr(RR,c=>ti(t,c))?"valid-block":!lg(e,o,r)||!lg(e,en(a),o)?"invalid-child":"valid"),ug=(e,t)=>{const o=dg(e.dom,t,[{inline:"span"}]);t.setStart(o.startContainer,o.startOffset),t.setEnd(o.endContainer,o.endOffset),e.selection.setRng(t)},fg=(e,t,o,r,a,c)=>{const{uid:d=t,...g}=o;id(e,ws()),Pn(e,`${js()}`,d),Pn(e,`${Js()}`,r);const{attributes:v={},classes:A=[]}=a(d,g);if(Dl(e,v),Uc(e,A),c){A.length>0&&Pn(e,`${Xr()}`,A.join(","));const M=st(v);M.length>0&&Pn(e,`${Wm()}`,M.join(","))}},ji=e=>{ac(e,ws()),Ks(e,`${js()}`),Ks(e,`${Js()}`),Ks(e,`${Jn()}`);const t=Kl(e,`${Wm()}`).map(r=>r.split(",")).getOr([]),o=Kl(e,`${Xr()}`).map(r=>r.split(",")).getOr([]);We(t,r=>Ks(e,r)),qm(e,o),Ks(e,`${Xr()}`),Ks(e,`${Wm()}`)},am=(e,t,o,r,a)=>{const c=fe.fromTag("span",e);return fg(c,t,o,r,a,!1),c},rr=(e,t,o,r,a,c)=>{const d=[],g=am(e.getDoc(),o,c,r,a),v=ct(),A=()=>{v.clear()},M=()=>v.get().getOrThunk(()=>{const ae=tl(g);return d.push(ae),v.set(ae),ae}),B=ae=>{We(ae,P)},P=ae=>{switch(hE(e,ae,"span",en(ae))){case"invalid-child":{A();const ie=ds(ae);B(ie),A();break}case"valid-block":{A(),fg(ae,o,c,r,a,!0);break}case"valid":{const ie=M();Ll(ae,ie);break}}},X=ae=>{const J=To(ae,fe.fromDom);B(J)};return r0(e.dom,t,ae=>{A(),X(ae)}),d},NR=(e,t,o,r)=>{e.undoManager.transact(()=>{const a=e.selection,c=a.getRng(),d=lf(e).length>0,g=Qp("mce-annotation");if(c.collapsed&&!d&&ug(e,c),a.getRng().collapsed&&!d){const v=am(e.getDoc(),g,r,t,o.decorate);Oc(v,us),a.getRng().insertNode(v.dom),a.select(v.dom)}else gx(a,!1,()=>{fy(e,v=>{rr(e,v,g,t,o.decorate,r)})})})},bE=e=>{const t=x1();Iv(e,t);const o=Rb(e,t),r=bs("span"),a=c=>{We(c,d=>{r(d)?Pr(d):ji(d)})};return{register:(c,d)=>{t.register(c,d)},annotate:(c,d)=>{t.lookup(c).each(g=>{NR(e,c,g,d)})},annotationChanged:(c,d)=>{o.addListener(c,d)},remove:c=>{b1(e,$.some(c)).each(({elements:d})=>{const g=e.selection.getBookmark();a(d),e.selection.moveToBookmark(g)})},removeAll:c=>{const d=e.selection.getBookmark();Bo(Gf(e,c),(g,v)=>{a(g)}),e.selection.moveToBookmark(d)},getAll:c=>{const d=Gf(e,c);return Wi(d,g=>To(g,v=>v.dom))}}},Tr=e=>({getBookmark:yt(zR,e),moveToBookmark:yt(TR,e)});Tr.isBookmarkNode=wd;const r2=(e,t,o)=>o.collapsed?!1:dr(o.getClientRects(),r=>gh(r,e,t)),s0=(e,t)=>e.dispatch("PreProcess",t),a0=(e,t)=>e.dispatch("PostProcess",t),Ax=e=>{e.dispatch("remove")},zx=e=>{e.dispatch("detach")},yE=(e,t)=>{e.dispatch("SwitchMode",{mode:t})},MR=(e,t,o,r,a)=>{e.dispatch("ObjectResizeStart",{target:t,width:o,height:r,origin:a})},BR=(e,t,o,r,a)=>{e.dispatch("ObjectResized",{target:t,width:o,height:r,origin:a})},IR=e=>{e.dispatch("PreInit")},LR=e=>{e.dispatch("PostRender")},Ui=e=>{e.dispatch("Init")},vE=(e,t)=>{e.dispatch("PlaceholderToggle",{state:t})},s2=(e,t,o)=>{e.dispatch(t,o)},xE=(e,t,o,r)=>{e.dispatch("FormatApply",{format:t,node:o,vars:r})},kE=(e,t,o,r)=>{e.dispatch("FormatRemove",{format:t,node:o,vars:r})},PR=(e,t)=>e.dispatch("BeforeSetContent",t),bc=(e,t)=>e.dispatch("SetContent",t),df=(e,t)=>e.dispatch("BeforeGetContent",t),wE=(e,t)=>e.dispatch("GetContent",t),a2=(e,t)=>{e.dispatch("AutocompleterStart",t)},i2=(e,t)=>{e.dispatch("AutocompleterUpdate",t)},l2=(e,t)=>{e.dispatch("AutocompleterUpdateActiveRange",t)},FR=e=>{e.dispatch("AutocompleterEnd")},i0=(e,t,o)=>e.dispatch("PastePreProcess",{content:t,internal:o}),Tx=(e,t,o)=>e.dispatch("PastePostProcess",{node:t,internal:o}),Ox=(e,t)=>e.dispatch("PastePlainTextToggle",{state:t}),HR=(e,t)=>e.dispatch("EditableRootStateChange",{state:t}),Dt={BACKSPACE:8,DELETE:46,DOWN:40,ENTER:13,ESC:27,LEFT:37,RIGHT:39,SPACEBAR:32,TAB:9,UP:38,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,modifierPressed:e=>e.shiftKey||e.ctrlKey||e.altKey||Dt.metaKeyPressed(e),metaKeyPressed:e=>Wo.os.isMacOS()||Wo.os.isiOS()?e.metaKey:e.ctrlKey&&!e.altKey},Rh="data-mce-selected",$R="table,img,figure.image,hr,video,span.mce-preview-object,details",_d=Math.abs,mg=Math.round,Dx={nw:[0,0,-1,-1],ne:[1,0,1,-1],se:[1,1,1,1],sw:[0,1,-1,1]},Tu=e=>e.type==="longpress"||e.type.indexOf("touch")===0,yr=(e,t)=>{const o=t.dom,r=t.getDoc(),a=document,c=t.getBody();let d,g,v,A,M,B,P,X,ae,J,ie,we,Ce,Se,De,ot,vt;const Nt=Rt=>Le(Rt)&&(fc(Rt)||o.is(Rt,"figure.image")),Ve=Rt=>Yl(Rt)||o.hasClass(Rt,"mce-preview-object"),Be=(Rt,Yo)=>{if(Tu(Rt)){const cn=Rt.touches[0];return Nt(Rt.target)&&!r2(cn.clientX,cn.clientY,Yo)}else return Nt(Rt.target)&&!r2(Rt.clientX,Rt.clientY,Yo)},tt=Rt=>{const Yo=Rt.target;Be(Rt,t.selection.getRng())&&!Rt.isDefaultPrevented()&&t.selection.select(Yo)},Wt=Rt=>o.hasClass(Rt,"mce-preview-object")&&Le(Rt.firstElementChild)?[Rt,Rt.firstElementChild]:o.is(Rt,"figure.image")?[Rt.querySelector("img")]:[Rt],io=Rt=>{const Yo=s4(t);return!Yo||Rt.getAttribute("data-mce-resize")==="false"||Rt===t.getBody()?!1:o.hasClass(Rt,"mce-preview-object")&&Le(Rt.firstElementChild)?ti(fe.fromDom(Rt.firstElementChild),Yo):ti(fe.fromDom(Rt),Yo)},tn=(Rt,Yo)=>{if(Ve(Yo))return Rt.create("img",{src:Wo.transparentSrc});if(Bc(Yo)){const zi=Ln(A.name,"n")?lt:ro,kr=Yo.cloneNode(!0);return zi(Rt.select("tr",kr)).each(ci=>{const Cf=Rt.select("td,th",ci);Rt.setStyle(ci,"height",null),We(Cf,Mp=>Rt.setStyle(Mp,"height",null))}),kr}else return Yo.cloneNode(!0)},pn=(Rt,Yo,cn)=>{if(Le(cn)){const zi=Wt(Rt);We(zi,kr=>{kr.style[Yo]||!t.schema.isValid(kr.nodeName.toLowerCase(),Yo)?o.setStyle(kr,Yo,cn):o.setAttrib(kr,Yo,""+cn)})}},xr=(Rt,Yo,cn)=>{pn(Rt,"width",Yo),pn(Rt,"height",cn)},Mr=Rt=>{let Yo,cn,zi,kr,ci;Yo=Rt.screenX-B,cn=Rt.screenY-P,Se=Yo*A[2]+J,De=cn*A[3]+ie,Se=Se<5?5:Se,De=De<5?5:De,(Nt(d)||Ve(d))&&a4(t)!==!1?zi=!Dt.modifierPressed(Rt):zi=Dt.modifierPressed(Rt),zi&&(_d(Yo)>_d(cn)?(De=mg(Se*we),Se=mg(De/we)):(Se=mg(De/we),De=mg(Se*we))),xr(g,Se,De),kr=A.startPos.x+Yo,ci=A.startPos.y+cn,kr=kr>0?kr:0,ci=ci>0?ci:0,o.setStyles(v,{left:kr,top:ci,display:"block"}),v.innerHTML=Se+" &times; "+De,A[2]<0&&g.clientWidth<=Se&&o.setStyle(g,"left",X+(J-Se)),A[3]<0&&g.clientHeight<=De&&o.setStyle(g,"top",ae+(ie-De)),Yo=c.scrollWidth-ot,cn=c.scrollHeight-vt,Yo+cn!==0&&o.setStyles(v,{left:kr-Yo,top:ci-cn}),Ce||(MR(t,d,J,ie,"corner-"+A.name),Ce=!0)},oa=()=>{const Rt=Ce;Ce=!1,Rt&&(pn(d,"width",Se),pn(d,"height",De)),o.unbind(r,"mousemove",Mr),o.unbind(r,"mouseup",oa),a!==r&&(o.unbind(a,"mousemove",Mr),o.unbind(a,"mouseup",oa)),o.remove(g),o.remove(v),o.remove(M),xl(d),Rt&&(BR(t,d,Se,De,"corner-"+A.name),o.setAttrib(d,"style",o.getAttrib(d,"style"))),t.nodeChanged()},xl=Rt=>{zt();const Yo=o.getPos(Rt,c),cn=Yo.x,zi=Yo.y,kr=Rt.getBoundingClientRect(),ci=kr.width||kr.right-kr.left,Cf=kr.height||kr.bottom-kr.top;d!==Rt&&(St(),d=Rt,Se=De=0);const Mp=t.dispatch("ObjectSelected",{target:Rt});io(Rt)&&!Mp.isDefaultPrevented()?Bo(Dx,(xc,ru)=>{const Sf=Ef=>{const no=Wt(d)[0];B=Ef.screenX,P=Ef.screenY,J=no.clientWidth,ie=no.clientHeight,we=ie/J,A=xc,A.name=ru,A.startPos={x:ci*xc[0]+cn,y:Cf*xc[1]+zi},ot=c.scrollWidth,vt=c.scrollHeight,M=o.add(c,"div",{class:"mce-resize-backdrop","data-mce-bogus":"all"}),o.setStyles(M,{position:"fixed",left:"0",top:"0",width:"100%",height:"100%"}),g=tn(o,d),o.addClass(g,"mce-clonedresizable"),o.setAttrib(g,"data-mce-bogus","all"),g.contentEditable="false",o.setStyles(g,{left:cn,top:zi,margin:0}),xr(g,ci,Cf),g.removeAttribute(Rh),c.appendChild(g),o.bind(r,"mousemove",Mr),o.bind(r,"mouseup",oa),a!==r&&(o.bind(a,"mousemove",Mr),o.bind(a,"mouseup",oa)),v=o.add(c,"div",{class:"mce-resize-helper","data-mce-bogus":"all"},J+" &times; "+ie)};let su=o.get("mceResizeHandle"+ru);su&&o.remove(su),su=o.add(c,"div",{id:"mceResizeHandle"+ru,"data-mce-bogus":"all",class:"mce-resizehandle",unselectable:!0,style:"cursor:"+ru+"-resize; margin:0; padding:0"}),o.bind(su,"mousedown",Ef=>{Ef.stopImmediatePropagation(),Ef.preventDefault(),Sf(Ef)}),xc.elm=su,o.setStyles(su,{left:ci*xc[0]+cn-su.offsetWidth/2,top:Cf*xc[1]+zi-su.offsetHeight/2})}):St(!1)},Br=Zm(xl,0),St=(Rt=!0)=>{Br.cancel(),zt(),d&&Rt&&d.removeAttribute(Rh),Bo(Dx,(Yo,cn)=>{const zi=o.get("mceResizeHandle"+cn);zi&&(o.unbind(zi),o.remove(zi))})},Xt=(Rt,Yo)=>o.isChildOf(Rt,Yo),Zn=Rt=>{if(Ce||t.removed||t.composing)return;const Yo=Rt.type==="mousedown"?Rt.target:e.getNode(),cn=jd(fe.fromDom(Yo),$R).map(kr=>kr.dom).filter(kr=>o.isEditable(kr.parentElement)||kr.nodeName==="IMG"&&o.isEditable(kr)).getOrUndefined(),zi=Le(cn)?o.getAttrib(cn,Rh,"1"):"1";if(We(o.select(`img[${Rh}],hr[${Rh}]`),kr=>{kr.removeAttribute(Rh)}),Le(cn)&&Xt(cn,c)&&t.hasFocus()){go();const kr=e.getStart(!0);if(Xt(kr,cn)&&Xt(e.getEnd(!0),cn)){o.setAttrib(cn,Rh,zi),Br.throttle(cn);return}}St()},zt=()=>{Bo(Dx,Rt=>{Rt.elm&&(o.unbind(Rt.elm),delete Rt.elm)})},go=()=>{try{t.getDoc().execCommand("enableObjectResizing",!1,"false")}catch{}};return t.on("init",()=>{go(),t.on("NodeChange ResizeEditor ResizeWindow ResizeContent drop",Zn),t.on("keyup compositionend",Rt=>{d&&d.nodeName==="TABLE"&&Zn(Rt)}),t.on("hide blur",St),t.on("contextmenu longpress",tt,!0)}),t.on("remove",zt),{isResizable:io,showResizeRect:xl,hideResizeRect:St,updateResizeRect:Zn,destroy:()=>{Br.cancel(),d=g=M=null}}},gy=(e,t)=>{t.fold(o=>{e.setStartBefore(o.dom)},(o,r)=>{e.setStart(o.dom,r)},o=>{e.setStartAfter(o.dom)})},Rx=(e,t)=>{t.fold(o=>{e.setEndBefore(o.dom)},(o,r)=>{e.setEnd(o.dom,r)},o=>{e.setEndAfter(o.dom)})},c2=(e,t,o)=>{const r=e.document.createRange();return gy(r,t),Rx(r,o),r},l0=(e,t,o,r,a)=>{const c=e.document.createRange();return c.setStart(t.dom,o),c.setEnd(r.dom,a),c},Nh=ho.generate([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),_E=(e,t,o)=>t(fe.fromDom(o.startContainer),o.startOffset,fe.fromDom(o.endContainer),o.endOffset),d2=(e,t)=>t.match({domRange:o=>({ltr:_e(o),rtl:$.none}),relative:(o,r)=>({ltr:Ya(()=>c2(e,o,r)),rtl:Ya(()=>$.some(c2(e,r,o)))}),exact:(o,r,a,c)=>({ltr:Ya(()=>l0(e,o,r,a,c)),rtl:Ya(()=>$.some(l0(e,a,c,o,r)))})}),VR=(e,t)=>{const o=t.ltr();return o.collapsed?t.rtl().filter(a=>a.collapsed===!1).map(a=>Nh.rtl(fe.fromDom(a.endContainer),a.endOffset,fe.fromDom(a.startContainer),a.startOffset)).getOrThunk(()=>_E(e,Nh.ltr,o)):_E(e,Nh.ltr,o)},CE=(e,t)=>{const o=d2(e,t);return VR(e,o)};Nh.ltr,Nh.rtl;const Nx={create:(e,t,o,r)=>({start:e,soffset:t,finish:o,foffset:r})},SE=(e,t,o)=>{var r,a;return $.from((a=(r=e.dom).caretPositionFromPoint)===null||a===void 0?void 0:a.call(r,t,o)).bind(c=>{if(c.offsetNode===null)return $.none();const d=e.dom.createRange();return d.setStart(c.offsetNode,c.offset),d.collapse(),$.some(d)})},Mx=(e,t,o)=>{var r,a;return $.from((a=(r=e.dom).caretRangeFromPoint)===null||a===void 0?void 0:a.call(r,t,o))},UR=document.caretPositionFromPoint?SE:document.caretRangeFromPoint?Mx:$.none,ZR=(e,t,o)=>{const r=fe.fromDom(e.document);return UR(r,t,o).map(a=>Nx.create(fe.fromDom(a.startContainer),a.startOffset,fe.fromDom(a.endContainer),a.endOffset))},u2=ho.generate([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),WR=(e,t,o,r)=>e.fold(t,o,r),qR=e=>e.fold(Tt,Tt,Tt),EE=u2.before,GR=u2.on,KR=u2.after,im={before:EE,on:GR,after:KR,cata:WR,getStart:qR},c0=ho.generate([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),YR=e=>c0.exact(e.start,e.soffset,e.finish,e.foffset),XR=e=>e.match({domRange:t=>fe.fromDom(t.startContainer),relative:(t,o)=>im.getStart(t),exact:(t,o,r,a)=>t}),AE=c0.domRange,Cd=c0.relative,JR=c0.exact,zE=e=>{const t=XR(e);return Mi(t)},f2=Nx.create,pg={domRange:AE,relative:Cd,exact:JR,exactFromRange:YR,getWin:zE,range:f2},d0=(e,t)=>{const o=en(e);return o==="input"?im.after(e):nn(["br","img"],o)?t===0?im.before(e):im.after(e):im.on(e,t)},TE=(e,t)=>{const o=e.fold(im.before,d0,im.after),r=t.fold(im.before,d0,im.after);return pg.relative(o,r)},Bx=(e,t,o,r)=>{const a=d0(e,t),c=d0(o,r);return pg.relative(a,c)},OE=e=>e.match({domRange:t=>{const o=fe.fromDom(t.startContainer),r=fe.fromDom(t.endContainer);return Bx(o,t.startOffset,r,t.endOffset)},relative:TE,exact:Bx}),Sd=(e,t)=>{const r=document.createDocumentFragment();return We(e,a=>{r.appendChild(a.dom)}),fe.fromDom(r)},QR=e=>{const t=pg.getWin(e).dom,o=(a,c,d,g)=>l0(t,a,c,d,g),r=OE(e);return CE(t,r).match({ltr:o,rtl:o})},m2=(e,t,o)=>ZR(e,t,o),DE=(e,t,o)=>{const r=Mi(fe.fromDom(o));return m2(r.dom,e,t).map(a=>{const c=o.createRange();return c.setStart(a.start.dom,a.soffset),c.setEnd(a.finish.dom,a.foffset),c}).getOrUndefined()},u0=(e,t)=>Le(e)&&Le(t)&&e.startContainer===t.startContainer&&e.startOffset===t.startOffset&&e.endContainer===t.endContainer&&e.endOffset===t.endOffset,uf=(e,t,o)=>{let r=e;for(;r&&r!==t;){if(o(r))return r;r=r.parentNode}return null},Ix=(e,t,o)=>uf(e,t,o)!==null,Lx=(e,t,o)=>Ix(e,t,r=>r.nodeName===o),RE=(e,t)=>qc(e)&&!Ix(e,t,kd),NE=(e,t,o)=>{const r=t.parentNode;if(r){const a=new Tn(t,e.getParent(r,e.isBlock)||e.getRoot());let c;for(;c=a[o?"prev":"next"]();)if(Yr(c))return!0}return!1},ME=(e,t)=>{var o;return((o=e.previousSibling)===null||o===void 0?void 0:o.nodeName)===t},BE=(e,t)=>{let o=t;for(;o&&o!==e;){if(br(o))return!0;o=o.parentNode}return!1},f0=(e,t,o,r,a)=>{const c=e.getRoot(),d=e.schema.getNonEmptyElements(),g=a.parentNode;let v,A;if(!g)return $.none();const M=e.getParent(g,e.isBlock)||c;if(r&&Yr(a)&&t&&e.isEmpty(M))return $.some(Fe(g,e.nodeIndex(a)));const B=new Tn(a,M);for(;A=B[r?"prev":"next"]();){if(e.getContentEditableParent(A)==="false"||RE(A,c))return $.none();if(mt(A)&&A.data.length>0)return Lx(A,c,"A")?$.none():$.some(Fe(A,r?A.data.length:0));if(e.isBlock(A)||d[A.nodeName.toLowerCase()])return $.none();v=A}return Zt(v)?$.none():o&&v?$.some(Fe(v,0)):$.none()},p2=(e,t,o,r)=>{const a=e.getRoot();let c,d=!1,g=o?r.startContainer:r.endContainer,v=o?r.startOffset:r.endOffset;const A=jt(g)&&v===g.childNodes.length,M=e.schema.getNonEmptyElements();let B=o;if(qc(g))return $.none();if(jt(g)&&v>g.childNodes.length-1&&(B=!1),uc(g)&&(g=a,v=0),g===a){if(B&&(c=g.childNodes[v>0?v-1:0],c&&(qc(c)||M[c.nodeName]||Bc(c))))return $.none();if(g.hasChildNodes()){if(v=Math.min(!B&&v>0?v-1:v,g.childNodes.length-1),g=g.childNodes[v],v=mt(g)&&A?g.data.length:0,!t&&g===a.lastChild&&Bc(g)||BE(a,g)||qc(g)||pu(g))return $.none();if(g.hasChildNodes()&&!Bc(g)){c=g;const P=new Tn(g,a);do{if(br(c)||qc(c)){d=!1;break}if(mt(c)&&c.data.length>0){v=B?0:c.data.length,g=c,d=!0;break}if(M[c.nodeName.toLowerCase()]&&!Ue(c)){v=e.nodeIndex(c),g=c.parentNode,B||v++,d=!0;break}}while(c=B?P.next():P.prev())}}}return t&&(mt(g)&&v===0&&f0(e,A,t,!0,g).each(P=>{g=P.container(),v=P.offset(),d=!0}),jt(g)&&(c=g.childNodes[v],c||(c=g.childNodes[v-1]),c&&Yr(c)&&!ME(c,"A")&&!NE(e,c,!1)&&!NE(e,c,!0)&&f0(e,A,t,!0,c).each(P=>{g=P.container(),v=P.offset(),d=!0}))),B&&!t&&mt(g)&&v===g.data.length&&f0(e,A,t,!1,g).each(P=>{g=P.container(),v=P.offset(),d=!0}),d&&g?$.some(Fe(g,v)):$.none()},lm=(e,t)=>{const o=t.collapsed,r=t.cloneRange(),a=Fe.fromRangeStart(t);return p2(e,o,!0,r).each(c=>{(!o||!Fe.isAbove(a,c))&&r.setStart(c.container(),c.offset())}),o||p2(e,o,!1,r).each(c=>{r.setEnd(c.container(),c.offset())}),o&&r.collapse(!0),u0(t,r)?$.none():$.some(r)},m0=(e,t)=>e.splitText(t),p0=e=>{let t=e.startContainer,o=e.startOffset,r=e.endContainer,a=e.endOffset;if(t===r&&mt(t)){if(o>0&&o<t.data.length)if(r=m0(t,o),t=r.previousSibling,a>o){a=a-o;const c=m0(r,a).previousSibling;t=r=c,a=c.data.length,o=0}else a=0}else if(mt(t)&&o>0&&o<t.data.length&&(t=m0(t,o),o=0),mt(r)&&a>0&&a<r.data.length){const c=m0(r,a).previousSibling;r=c,a=c.data.length}return{startContainer:t,startOffset:o,endContainer:r,endOffset:a}},gg=e=>({walk:(c,d)=>r0(e,c,d),split:p0,expand:(c,d={type:"word"})=>{if(d.type==="word"){const g=dg(e,c,[{inline:"span"}]),v=e.createRng();return v.setStart(g.startContainer,g.startOffset),v.setEnd(g.endContainer,g.endOffset),v}return c},normalize:c=>lm(e,c).fold(fn,d=>(c.setStart(d.startContainer,d.startOffset),c.setEnd(d.endContainer,d.endOffset),!0))});gg.compareRanges=u0,gg.getCaretRangeFromPoint=DE,gg.getSelectedNode=ng,gg.getNode=ua;const g2=((e,t)=>{const o=(g,v)=>{if(!T(v)&&!v.match(/^[0-9]+$/))throw new Error(e+".set accepts only positive integer values. Value was "+v);const A=g.dom;Il(A)&&(A.style[e]=v+"px")},r=g=>{const v=t(g);if(v<=0||v===null){const A=Fs(g,e);return parseFloat(A)||0}return v},a=r,c=(g,v)=>fo(v,(A,M)=>{const B=Fs(g,M),P=B===void 0?0:parseInt(B,10);return isNaN(P)?A:A+P},0);return{set:o,get:r,getOuter:a,aggregate:c,max:(g,v,A)=>{const M=c(g,A);return v>M?v-M:0}}})("height",e=>{const t=e.dom;return ia(e)?t.getBoundingClientRect().height:t.offsetHeight}),Mh=e=>g2.get(e),IE=()=>fe.fromDom(document),LE=(e,t)=>e.view(t).fold(_e([]),r=>{const a=e.owner(r),c=LE(e,a);return[r].concat(c)}),Px=(e,t)=>{const o=t.owner(e);return LE(t,o)};var oN=Object.freeze({__proto__:null,view:e=>{var t;return(e.dom===document?$.none():$.from((t=e.dom.defaultView)===null||t===void 0?void 0:t.frameElement)).map(fe.fromDom)},owner:e=>Ni(e)});const PE=e=>{const t=IE(),o=Vt(t),r=Px(e,oN),a=rt(e),c=Qt(r,(d,g)=>{const v=rt(g);return{left:d.left+v.left,top:d.top+v.top}},{left:0,top:0});return N(c.left+a.left+o.left,c.top+a.top+o.top)},mp=e=>en(e)==="textarea",FE=(e,t)=>e.dispatch("ScrollIntoView",t).isDefaultPrevented(),HE=(e,t)=>{e.dispatch("AfterScrollIntoView",t)},$E=(e,t)=>{const o=ds(e);if(o.length===0||mp(e))return{element:e,offset:t};if(t<o.length&&!mp(o[t]))return{element:o[t],offset:0};{const r=o[o.length-1];return mp(r)?{element:e,offset:t}:en(r)==="img"?{element:r,offset:1}:ns(r)?{element:r,offset:eg(r).length}:{element:r,offset:ds(r).length}}},g0=(e,t)=>{const o=ye(e),r=Mh(e);return{element:e,bottom:o.top+r,height:r,pos:o,cleanup:t}},VE=(e,t)=>{const o=$E(e,t),r=fe.fromHtml('<span data-mce-bogus="all" style="display: inline-block;">'+Qs+"</span>");return Ae(o.element,r),g0(r,()=>fr(r))},jE=e=>g0(fe.fromDom(e),lo),UE=(e,t,o,r)=>{WE(e,(a,c)=>ZE(e,t,o,r),o)},h0=(e,t,o,r,a)=>{const c={elm:r.element.dom,alignToTop:a};if(FE(e,c))return;const d=Vt(t).top;o(e,t,d,r,a),HE(e,c)},ZE=(e,t,o,r)=>{const a=fe.fromDom(e.getBody()),c=fe.fromDom(e.getDoc());Li(a);const d=VE(fe.fromDom(o.startContainer),o.startOffset);h0(e,c,t,d,r),d.cleanup()},Fx=(e,t,o,r)=>{const a=fe.fromDom(e.getDoc());h0(e,a,o,jE(t),r)},WE=(e,t,o)=>{const r=o.startContainer,a=o.startOffset,c=o.endContainer,d=o.endOffset;t(fe.fromDom(r),fe.fromDom(c));const g=e.dom.createRng();g.setStart(r,a),g.setEnd(c,d),e.selection.setRng(o)},b0=(e,t,o,r,a)=>{const c=t.pos;if(r)bo(c.left,c.top,a);else{const d=c.top-o+t.height;bo(-e.getBody().getBoundingClientRect().left,d,a)}},h2=(e,t,o,r,a,c)=>{const d=r+o,g=a.pos.top,v=a.bottom,A=v-g>=r;g<o?b0(e,a,r,c!==!1,t):g>d?b0(e,a,r,A?c!==!1:c===!0,t):v>d&&!A&&b0(e,a,r,c===!0,t)},y0=(e,t,o,r,a)=>{const c=Mi(t).dom.innerHeight;h2(e,t,o,c,r,a)},cm=(e,t,o,r,a)=>{const c=Mi(t).dom.innerHeight;h2(e,t,o,c,r,a);const d=PE(r.element),g=Fr(window);d.top<g.y?Oo(r.element,a!==!1):d.top>g.bottom&&Oo(r.element,a===!0)},nN=(e,t,o)=>UE(e,y0,t,o),b2=(e,t,o)=>Fx(e,t,y0,o),fa=(e,t,o)=>UE(e,cm,t,o),y2=(e,t,o)=>Fx(e,t,cm,o),v2=(e,t,o)=>{(e.inline?b2:y2)(e,t,o)},Qd=(e,t,o)=>{(e.inline?nN:fa)(e,t,o)},x2=(e,t=!1)=>e.dom.focus({preventScroll:t}),k2=e=>{const t=Ac(e).dom;return e.dom===t.activeElement},Bh=(e=IE())=>$.from(e.dom.activeElement).map(fe.fromDom),rN=e=>Bh(Ac(e)).filter(t=>e.dom.contains(t.dom)),qE=(e,t)=>{const o=ns(t)?eg(t).length:ds(t).length+1;return e>o?o:e<0?0:e},hy=e=>pg.range(e.start,qE(e.soffset,e.start),e.finish,qE(e.foffset,e.finish)),GE=(e,t)=>!Bf(t.dom)&&(bi(e,t)||an(e,t)),hg=e=>t=>GE(e,t.start)&&GE(e,t.finish),sN=e=>e.inline||Wo.browser.isFirefox(),bg=e=>pg.range(fe.fromDom(e.startContainer),e.startOffset,fe.fromDom(e.endContainer),e.endOffset),eu=e=>{const t=e.getSelection();return(!t||t.rangeCount===0?$.none():$.from(t.getRangeAt(0))).map(bg)},v0=e=>{const t=Mi(e);return eu(t.dom).filter(hg(e))},w2=(e,t)=>$.from(t).filter(hg(e)).map(hy),_2=e=>{const t=document.createRange();try{return t.setStart(e.start.dom,e.soffset),t.setEnd(e.finish.dom,e.foffset),$.some(t)}catch{return $.none()}},Hx=e=>{const t=sN(e)?v0(fe.fromDom(e.getBody())):$.none();e.bookmark=t.isSome()?t:e.bookmark},by=e=>(e.bookmark?e.bookmark:$.none()).bind(o=>w2(fe.fromDom(e.getBody()),o)).bind(_2),aN=e=>{by(e).each(t=>e.selection.setRng(t))},x0={isEditorUIElement:e=>{const t=e.className.toString();return t.indexOf("tox-")!==-1||t.indexOf("mce-")!==-1}},KE=(e,t)=>(T(t)||(t=0),setTimeout(e,t)),C2=(e,t)=>(T(t)||(t=0),setInterval(e,t)),Jc={setEditorTimeout:(e,t,o)=>KE(()=>{e.removed||t()},o),setEditorInterval:(e,t,o)=>{const r=C2(()=>{e.removed?clearInterval(r):t()},o);return r}},Ih=e=>e.type==="nodechange"&&e.selectionChange,S2=(e,t)=>{const o=()=>{t.throttle()};jn.DOM.bind(document,"mouseup",o),e.on("remove",()=>{jn.DOM.unbind(document,"mouseup",o)})},YE=(e,t)=>{e.on("mouseup touchend",o=>{t.throttle()})},iN=(e,t)=>{YE(e,t),e.on("keyup NodeChange AfterSetSelectionRange",o=>{Ih(o)||Hx(e)})},k0=e=>{const t=Zm(()=>{Hx(e)},0);e.on("init",()=>{e.inline&&S2(e,t),iN(e,t)}),e.on("remove",()=>{t.cancel()})};let yy;const $x=jn.DOM,E2=e=>jt(e)&&x0.isEditorUIElement(e),A2=e=>{const t=e.classList;return t!==void 0?t.contains("tox-edit-area")||t.contains("tox-edit-area__iframe")||t.contains("mce-content-body"):!1},w0=(e,t)=>{const o=l4(e);return $x.getParent(t,a=>E2(a)||(o?e.dom.is(a,o):!1))!==null},Vx=e=>{try{const t=Ac(fe.fromDom(e.getElement()));return Bh(t).fold(()=>document.body,o=>o.dom)}catch{return document.body}},lN=(e,t)=>{const o=t.editor;k0(o);const r=(a,c)=>{if(y4(a)&&a.inline!==!0){const d=fe.fromDom(a.getContainer());c(d,"tox-edit-focus")}};o.on("focusin",()=>{const a=e.focusedEditor;A2(Vx(o))&&r(o,id),a!==o&&(a&&a.dispatch("blur",{focusedEditor:o}),e.setActive(o),e.focusedEditor=o,o.dispatch("focus",{blurredEditor:a}),o.focus(!0))}),o.on("focusout",()=>{Jc.setEditorTimeout(o,()=>{const a=e.focusedEditor;(!A2(Vx(o))||a!==o)&&r(o,ac),!w0(o,Vx(o))&&a===o&&(o.dispatch("blur",{focusedEditor:null}),e.focusedEditor=null)})}),yy||(yy=a=>{const c=e.activeEditor;c&&Lr(a).each(d=>{const g=d;g.ownerDocument===document&&g!==document.body&&!w0(c,g)&&e.focusedEditor===c&&(c.dispatch("blur",{focusedEditor:null}),e.focusedEditor=null)})},$x.bind(document,"focusin",yy))},cN=(e,t)=>{e.focusedEditor===t.editor&&(e.focusedEditor=null),!e.activeEditor&&yy&&($x.unbind(document,"focusin",yy),yy=null)},dN=e=>{e.on("AddEditor",yt(lN,e)),e.on("RemoveEditor",yt(cN,e))},uN=(e,t)=>e.dom.getParent(t,o=>e.dom.getContentEditable(o)==="true"),fN=e=>e.collapsed?$.from(ua(e.startContainer,e.startOffset)).map(fe.fromDom):$.none(),mN=(e,t)=>fN(t).bind(o=>_1(o)?$.some(o):bi(e,o)?$.none():$.some(e)),XE=(e,t)=>{mN(fe.fromDom(e.getBody()),t).bind(o=>ko(o.dom)).fold(()=>{e.selection.normalize()},o=>e.selection.setRng(o.toRange()))},z2=e=>{if(e.setActive)try{e.setActive()}catch{e.focus()}else e.focus()},pN=e=>k2(e)||rN(e).isSome(),gN=e=>Le(e.iframeElement)&&k2(fe.fromDom(e.iframeElement)),hN=e=>{const t=e.getBody();return t&&pN(fe.fromDom(t))},JE=e=>{const t=Ac(fe.fromDom(e.getElement()));return Bh(t).filter(o=>!A2(o.dom)&&w0(e,o.dom)).isSome()},Lh=e=>e.inline?hN(e):gN(e),Ph=e=>Lh(e)||JE(e),bN=e=>{const t=e.selection,o=e.getBody();let r=t.getRng();e.quirks.refreshContentEditable(),Le(e.bookmark)&&!Lh(e)&&by(e).each(c=>{e.selection.setRng(c),r=c});const a=uN(e,t.getNode());if(a&&e.dom.isChildOf(a,o)){z2(a),XE(e,r),T2(e);return}e.inline||(Wo.browser.isOpera()||z2(o),e.getWin().focus()),(Wo.browser.isFirefox()||e.inline)&&(z2(o),XE(e,r)),T2(e)},T2=e=>e.editorManager.setActive(e),QE=(e,t)=>{e.removed||(t?T2(e):bN(e))},eA=(e,t)=>t.collapsed?e.isEditable(t.startContainer):e.isEditable(t.startContainer)&&e.isEditable(t.endContainer),tA=(e,t,o,r,a)=>{const c=o?t.startContainer:t.endContainer,d=o?t.startOffset:t.endOffset;return $.from(c).map(fe.fromDom).map(g=>!r||!t.collapsed?cd(g,a(g,d)).getOr(g):g).bind(g=>Ri(g)?$.some(g):aa(g).filter(Ri)).map(g=>g.dom).getOr(e)},oA=(e,t,o=!1)=>tA(e,t,!0,o,(r,a)=>Math.min(yi(r),a)),nA=(e,t,o=!1)=>tA(e,t,!1,o,(r,a)=>a>0?a-1:a),rA=(e,t)=>{const o=e;for(;e&&mt(e)&&e.length===0;)e=t?e.nextSibling:e.previousSibling;return e||o},yN=(e,t)=>{if(!t)return e;let o=t.startContainer,r=t.endContainer;const a=t.startOffset,c=t.endOffset;let d=t.commonAncestorContainer;t.collapsed||(o===r&&c-a<2&&o.hasChildNodes()&&(d=o.childNodes[a]),mt(o)&&mt(r)&&(o.length===a?o=rA(o.nextSibling,!0):o=o.parentNode,c===0?r=rA(r.previousSibling,!1):r=r.parentNode,o&&o===r&&(d=o)));const g=mt(d)?d.parentNode:d;return Pl(g)?g:e},O2=(e,t,o,r)=>{const a=[],c=e.getRoot(),d=e.getParent(o||oA(c,t,t.collapsed),e.isBlock),g=e.getParent(r||nA(c,t,t.collapsed),e.isBlock);if(d&&d!==c&&a.push(d),d&&g&&d!==g){let v;const A=new Tn(d,c);for(;(v=A.next())&&v!==g;)e.isBlock(v)&&a.push(v)}return g&&d!==g&&g!==c&&a.push(g),a},_0=(e,t,o)=>$.from(t).bind(r=>$.from(r.parentNode).map(a=>{const c=e.nodeIndex(r),d=e.createRng();return d.setStart(a,c),d.setEnd(a,c+1),o&&(J1(e,d,r,!0),J1(e,d,r,!1)),d})),jx=(e,t)=>To(t,o=>{const r=e.dispatch("GetSelectionRange",{range:o});return r.range!==o?r.range:o}),vN={"#text":3,"#comment":8,"#cdata":4,"#pi":7,"#doctype":10,"#document-fragment":11},Fh=(e,t,o)=>{const r=o?"lastChild":"firstChild",a=o?"prev":"next";if(e[r])return e[r];if(e!==t){let c=e[a];if(c)return c;for(let d=e.parent;d&&d!==t;d=d.parent)if(c=d[a],c)return c}},sA=e=>{var t;const o=(t=e.value)!==null&&t!==void 0?t:"";if(!va(o))return!1;const r=e.parent;return!(r&&(r.name!=="span"||r.attr("style"))&&/^[ ]+$/.test(o))},Ra=e=>{const t=e.name==="a"&&!e.attr("href")&&e.attr("id");return e.attr("name")||e.attr("id")&&!e.firstChild||e.attr("data-mce-bookmark")||t};class Ai{static create(t,o){const r=new Ai(t,vN[t]||1);return o&&Bo(o,(a,c)=>{r.attr(c,a)}),r}constructor(t,o){this.name=t,this.type=o,o===1&&(this.attributes=[],this.attributes.map={})}replace(t){const o=this;return t.parent&&t.remove(),o.insert(t,o),o.remove(),o}attr(t,o){const r=this;if(!He(t))return Le(t)&&Bo(t,(c,d)=>{r.attr(d,c)}),r;const a=r.attributes;if(a){if(o!==void 0){if(o===null){if(t in a.map){delete a.map[t];let c=a.length;for(;c--;)if(a[c].name===t)return a.splice(c,1),r}return r}if(t in a.map){let c=a.length;for(;c--;)if(a[c].name===t){a[c].value=o;break}}else a.push({name:t,value:o});return a.map[t]=o,r}return a.map[t]}}clone(){const t=this,o=new Ai(t.name,t.type),r=t.attributes;if(r){const a=[];a.map={};for(let c=0,d=r.length;c<d;c++){const g=r[c];g.name!=="id"&&(a[a.length]={name:g.name,value:g.value},a.map[g.name]=g.value)}o.attributes=a}return o.value=t.value,o}wrap(t){const o=this;return o.parent&&(o.parent.insert(t,o),t.append(o)),o}unwrap(){const t=this;for(let o=t.firstChild;o;){const r=o.next;t.insert(o,t,!0),o=r}t.remove()}remove(){const t=this,o=t.parent,r=t.next,a=t.prev;return o&&(o.firstChild===t?(o.firstChild=r,r&&(r.prev=null)):a&&(a.next=r),o.lastChild===t?(o.lastChild=a,a&&(a.next=null)):r&&(r.prev=a),t.parent=t.next=t.prev=null),t}append(t){const o=this;t.parent&&t.remove();const r=o.lastChild;return r?(r.next=t,t.prev=r,o.lastChild=t):o.lastChild=o.firstChild=t,t.parent=o,t}insert(t,o,r){t.parent&&t.remove();const a=o.parent||this;return r?(o===a.firstChild?a.firstChild=t:o.prev&&(o.prev.next=t),t.prev=o.prev,t.next=o,o.prev=t):(o===a.lastChild?a.lastChild=t:o.next&&(o.next.prev=t),t.next=o.next,t.prev=o,o.next=t),t.parent=a,t}getAll(t){const o=this,r=[];for(let a=o.firstChild;a;a=Fh(a,o))a.name===t&&r.push(a);return r}children(){const t=this,o=[];for(let r=t.firstChild;r;r=r.next)o.push(r);return o}empty(){const t=this;if(t.firstChild){const o=[];for(let a=t.firstChild;a;a=Fh(a,t))o.push(a);let r=o.length;for(;r--;){const a=o[r];a.parent=a.firstChild=a.lastChild=a.next=a.prev=null}}return t.firstChild=t.lastChild=null,t}isEmpty(t,o={},r){var a;const c=this;let d=c.firstChild;if(Ra(c))return!1;if(d)do{if(d.type===1){if(d.attr("data-mce-bogus"))continue;if(t[d.name]||Ra(d))return!1}if(d.type===8||d.type===3&&!sA(d)||d.type===3&&d.parent&&o[d.parent.name]&&va((a=d.value)!==null&&a!==void 0?a:"")||r&&r(d))return!1}while(d=Fh(d,c));return!0}walk(t){return Fh(this,null,t)}}const aA=ft.makeMap("NOSCRIPT STYLE SCRIPT XMP IFRAME NOEMBED NOFRAMES PLAINTEXT"," "),Ux=e=>He(e.nodeValue)&&e.nodeValue.includes(Qs),C0=e=>`${e.length===0?"":`${To(e,t=>`[${t}]`).join(",")},`}[data-mce-bogus="all"]`,yg=(e,t)=>t.querySelectorAll(C0(e)),pp=e=>document.createTreeWalker(e,NodeFilter.SHOW_COMMENT,t=>Ux(t)?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP),iA=e=>document.createTreeWalker(e,NodeFilter.SHOW_TEXT,t=>{if(Ux(t)){const o=t.parentNode;return o&&xo(aA,o.nodeName)?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}else return NodeFilter.FILTER_SKIP}),xN=e=>pp(e).nextNode()!==null,vy=e=>iA(e).nextNode()!==null,xy=(e,t)=>t.querySelector(C0(e))!==null,ky=(e,t)=>{We(yg(e,t),o=>{const r=fe.fromDom(o);Oa(r,"data-mce-bogus")==="all"?fr(r):We(e,a=>{vs(r,a)&&Ks(r,a)})})},Zx=e=>{let t=e.nextNode();for(;t!==null;)t.nodeValue=null,t=e.nextNode()},D2=Ro(Zx,pp),lA=Ro(Zx,iA),R2=(e,t)=>{const o=[{condition:yt(xy,t),action:yt(ky,t)},{condition:xN,action:D2},{condition:vy,action:lA}];let r=e,a=!1;return We(o,({condition:c,action:d})=>{c(r)&&(a||(r=e.cloneNode(!0),a=!0),d(r))}),r},cA=e=>{const t=ri(e,"[data-mce-bogus]");We(t,o=>{Oa(o,"data-mce-bogus")==="all"?fr(o):Gd(o)?(Ae(o,fe.fromText(Ip)),fr(o)):Pr(o)})},dA=e=>{const t=ri(e,"input");We(t,o=>{Ks(o,"name")})},uA=(e,t)=>{const o=ol(e),r=new RegExp(`^(<${o}[^>]*>(&nbsp;|&#160;|\\s| |<br \\/>|)<\\/${o}>[\r
]*|<br \\/>[\r
]*)$`);return t.replace(r,"")},fA=(e,t)=>{const o=e.getDoc(),r=Ac(fe.fromDom(e.getBody())),a=fe.fromTag("div",o);Pn(a,"data-mce-bogus","all"),oi(a,{position:"fixed",left:"-9999999px",top:"0"}),Oc(a,t.innerHTML),cA(a),dA(a);const c=$d(r);Dr(c,a);const d=wa(a.dom.innerText);return fr(a),d},S0=(e,t,o)=>{let r;return t.format==="raw"?r=ft.trim(wa(R2(o,e.serializer.getTempAttrs()).innerHTML)):t.format==="text"?r=fA(e,o):t.format==="tree"?r=e.serializer.serialize(o,t):r=uA(e,e.serializer.serialize(o,t)),t.format!=="text"&&!tg(fe.fromDom(o))&&He(r)?ft.trim(r):r},mA=(e,t)=>$.from(e.getBody()).fold(_e(t.format==="tree"?new Ai("body",11):""),o=>S0(e,t,o)),N2=ft.makeMap,M2=e=>{const t=[];e=e||{};const o=e.indent,r=N2(e.indent_before||""),a=N2(e.indent_after||""),c=jf.getEncodeFunc(e.entity_encoding||"raw",e.entities),d=e.element_format!=="xhtml";return{start:(g,v,A)=>{if(o&&r[g]&&t.length>0){const M=t[t.length-1];M.length>0&&M!==`
`&&t.push(`
`)}if(t.push("<",g),v)for(let M=0,B=v.length;M<B;M++){const P=v[M];t.push(" ",P.name,'="',c(P.value,!0),'"')}if(!A||d?t[t.length]=">":t[t.length]=" />",A&&o&&a[g]&&t.length>0){const M=t[t.length-1];M.length>0&&M!==`
`&&t.push(`
`)}},end:g=>{let v;t.push("</",g,">"),o&&a[g]&&t.length>0&&(v=t[t.length-1],v.length>0&&v!==`
`&&t.push(`
`))},text:(g,v)=>{g.length>0&&(t[t.length]=v?g:c(g))},cdata:g=>{t.push("<![CDATA[",g,"]]>")},comment:g=>{t.push("<!--",g,"-->")},pi:(g,v)=>{v?t.push("<?",g," ",c(v),"?>"):t.push("<?",g,"?>"),o&&t.push(`
`)},doctype:g=>{t.push("<!DOCTYPE",g,">",o?`
`:"")},reset:()=>{t.length=0},getContent:()=>t.join("").replace(/\n$/,"")}},gp=(e={},t=Zf())=>{const o=M2(e);return e.validate="validate"in e?e.validate:!0,{serialize:a=>{const c=e.validate,d={3:v=>{var A;o.text((A=v.value)!==null&&A!==void 0?A:"",v.raw)},8:v=>{var A;o.comment((A=v.value)!==null&&A!==void 0?A:"")},7:v=>{o.pi(v.name,v.value)},10:v=>{var A;o.doctype((A=v.value)!==null&&A!==void 0?A:"")},4:v=>{var A;o.cdata((A=v.value)!==null&&A!==void 0?A:"")},11:v=>{let A=v;if(A=A.firstChild)do g(A);while(A=A.next)}};o.reset();const g=v=>{var A;const M=d[v.type];if(M)M(v);else{const B=v.name,P=B in t.getVoidElements();let X=v.attributes;if(c&&X&&X.length>1){const ae=[];ae.map={};const J=t.getElementRule(v.name);if(J){for(let ie=0,we=J.attributesOrder.length;ie<we;ie++){const Ce=J.attributesOrder[ie];if(Ce in X.map){const Se=X.map[Ce];ae.map[Ce]=Se,ae.push({name:Ce,value:Se})}}for(let ie=0,we=X.length;ie<we;ie++){const Ce=X[ie].name;if(!(Ce in ae.map)){const Se=X.map[Ce];ae.map[Ce]=Se,ae.push({name:Ce,value:Se})}}X=ae}}if(o.start(B,X,P),ks(B))He(v.value)&&o.text(v.value,!0),o.end(B);else if(!P){let ae=v.firstChild;if(ae){(B==="pre"||B==="textarea")&&ae.type===3&&((A=ae.value)===null||A===void 0?void 0:A[0])===`
`&&o.text(`
`,!0);do g(ae);while(ae=ae.next)}o.end(B)}}};return a.type===1&&!e.inner?g(a):a.type===3?d[3](a):d[11](a),o.getContent()}}},B2=new Set;We(["margin","margin-left","margin-right","margin-top","margin-bottom","padding","padding-left","padding-right","padding-top","padding-bottom","border","border-width","border-style","border-color","background","background-attachment","background-clip","background-color","background-image","background-origin","background-position","background-repeat","background-size","float","position","left","right","top","bottom","z-index","display","transform","width","max-width","min-width","height","max-height","min-height","overflow","overflow-x","overflow-y","text-overflow","vertical-align","transition","transition-delay","transition-duration","transition-property","transition-timing-function"],t=>{B2.add(t)});const I2=["font","text-decoration","text-emphasis"],Wx=(e,t)=>st(e.parseStyle(e.getAttrib(t,"style"))),pA=e=>B2.has(e),gA=(e,t)=>Wr(Wx(e,t),o=>!pA(o)),L2=e=>Ye(e,t=>dr(I2,o=>Ln(t,o))),E0=(e,t,o)=>{const r=Wx(e,t),a=Wx(e,o),c=d=>{var g,v;const A=(g=e.getStyle(t,d))!==null&&g!==void 0?g:"",M=(v=e.getStyle(o,d))!==null&&v!==void 0?v:"";return Ds(A)&&Ds(M)&&A!==M};return dr(r,d=>{const g=v=>dr(v,A=>A===d);if(!g(a)&&g(I2)){const v=L2(a);return dr(v,c)}else return c(d)})},P2=(e,t,o)=>$.from(o.container()).filter(mt).exists(r=>{const a=e?0:-1;return t(r.data.charAt(o.offset()+a))}),qx=yt(P2,!0,cy),wy=yt(P2,!1,cy),kN=e=>{const t=e.container();return mt(t)&&(t.data.length===0||Pb(t.data)&&Tr.isBookmarkNode(t.parentNode))},vg=(e,t)=>o=>cx(e?0:-1,o).filter(t).isSome(),xg=e=>fc(e)&&Fs(fe.fromDom(e),"display")==="block",Gx=e=>br(e)&&!Gg(e),hA=vg(!0,xg),A0=vg(!1,xg),_y=vg(!0,Yl),Hh=vg(!1,Yl),F2=vg(!0,Bc),H2=vg(!1,Bc),dm=vg(!0,Gx),hp=vg(!1,Gx),wN=e=>e.slice(0,-1),Kx=(e,t,o)=>bi(t,e)?wN(cu(e,r=>o(r)||an(r,t))):[],hl=(e,t)=>Kx(e,t,fn),Ou=(e,t)=>[e].concat(hl(e,t)),bp=(e,t,o)=>Z4(e,t,o,kN),bA=e=>t=>e.isBlock(en(t)),yc=(e,t,o)=>Nn(Ou(fe.fromDom(t.container()),e),bA(o)),kg=(e,t,o,r)=>bp(e,t.dom,o).forall(a=>yc(t,o,r).fold(()=>!rm(a,o,t.dom),c=>!rm(a,o,t.dom)&&bi(c,fe.fromDom(a.container())))),$2=(e,t,o,r)=>yc(t,o,r).fold(()=>bp(e,t.dom,o).forall(a=>!rm(a,o,t.dom)),a=>bp(e,a.dom,o).isNone()),Yx=yt($2,!1),V2=yt($2,!0),z0=yt(kg,!1),j2=yt(kg,!0),yA=e=>dx(e).exists(Gd),Xx=(e,t,o,r)=>{const a=Ye(Ou(fe.fromDom(o.container()),t),d=>r.isBlock(en(d))),c=lt(a).getOr(t);return xd(e,c.dom,o).filter(yA)},T0=(e,t,o)=>dx(t).exists(Gd)||Xx(!0,e,t,o).isSome(),O0=(e,t,o)=>CR(t).exists(Gd)||Xx(!1,e,t,o).isSome(),_N=yt(Xx,!1),um=yt(Xx,!0),Jx=e=>Fe.isTextPosition(e)&&!e.isAtStart()&&!e.isAtEnd(),D0=(e,t,o)=>{const r=Ye(Ou(fe.fromDom(t.container()),e),a=>o.isBlock(en(a)));return lt(r).getOr(e)},Qx=(e,t,o)=>Jx(t)?wy(t):wy(t)||Yc(D0(e,t,o).dom,t).exists(wy),U2=(e,t,o)=>Jx(t)?qx(t):qx(t)||tc(D0(e,t,o).dom,t).exists(qx),vA=e=>nn(["pre","pre-wrap"],e),ek=e=>dx(e).bind(t=>fl(t,Ri)).exists(t=>vA(Fs(t,"white-space"))),CN=(e,t)=>Yc(e.dom,t).isNone(),SN=(e,t)=>tc(e.dom,t).isNone(),xA=(e,t,o)=>CN(e,t)||SN(e,t)||Yx(e,t,o)||V2(e,t,o)||O0(e,t,o)||T0(e,t,o),kA=e=>Le(e)&&br(e)&&P_(e),tk=(e,t)=>o=>kA(new Tn(o,e)[t]()),Z2=(e,t)=>{const o=tc(e.dom,t).getOr(t),r=tk(e.dom,"next");return t.isAtEnd()&&(r(t.container())||r(o.container()))},wA=(e,t)=>{const o=Yc(e.dom,t).getOr(t),r=tk(e.dom,"prev");return t.isAtStart()&&(r(t.container())||r(o.container()))},ok=(e,t,o)=>ek(t)?!1:xA(e,t,o)||Qx(e,t,o)||U2(e,t,o),Cy=(e,t,o)=>ek(t)?!1:Yx(e,t,o)||z0(e,t,o)||O0(e,t,o)||Qx(e,t,o)||wA(e,t),_A=e=>{const t=e.container(),o=e.offset();return mt(t)&&o<t.data.length?Fe(t,o+1):e},$h=(e,t,o)=>ek(t)?!1:V2(e,t,o)||j2(e,t,o)||T0(e,t,o)||U2(e,t,o)||Z2(e,t),nk=(e,t,o)=>Cy(e,t,o)||$h(e,_A(t),o),W2=(e,t)=>nl(e.charAt(t)),q2=(e,t)=>cy(e.charAt(t)),G2=e=>{const t=e.container();return mt(t)&&In(t.data,us)},EN=e=>{const t=e.split("");return To(t,(o,r)=>nl(o)&&r>0&&r<t.length-1&&cp(t[r-1])&&cp(t[r+1])?" ":o).join("")},R0=(e,t,o,r)=>{const a=t.data,c=Fe(t,0);return!o&&W2(a,0)&&!nk(e,c,r)?(t.data=" "+a.slice(1),!0):o&&q2(a,0)&&Cy(e,c,r)?(t.data=us+a.slice(1),!0):!1},CA=e=>{const t=e.data,o=EN(t);return o!==t?(e.data=o,!0):!1},K2=(e,t,o,r)=>{const a=t.data,c=Fe(t,a.length-1);return!o&&W2(a,a.length-1)&&!nk(e,c,r)?(t.data=a.slice(0,-1)+" ",!0):o&&q2(a,a.length-1)&&$h(e,c,r)?(t.data=a.slice(0,-1)+us,!0):!1},AN=(e,t,o)=>{const r=t.container();if(!mt(r))return $.none();if(G2(t)){const a=R0(e,r,!1,o)||CA(r)||K2(e,r,!1,o);return rd(a,t)}else if(nk(e,t,o)){const a=R0(e,r,!0,o)||K2(e,r,!0,o);return rd(a,t)}else return $.none()},zN=e=>{const t=fe.fromDom(e.getBody());e.selection.isCollapsed()&&AN(t,Fe.fromRangeStart(e.selection.getRng()),e.schema).each(o=>{e.selection.setRng(o.toRange())})},Y2=(e,t,o,r)=>{if(o===0)return;const a=fe.fromDom(e),c=xs(a,A=>r.isBlock(en(A))).getOr(a),d=e.data.slice(t,t+o),g=t+o>=e.data.length&&$h(c,Fe(e,e.data.length),r),v=t===0&&Cy(c,Fe(e,0),r);e.replaceData(t,o,Pp(d,4,v,g))},rk=(e,t,o)=>{const r=e.data.slice(t),a=r.length-El(r).length;Y2(e,t,a,o)},sk=(e,t,o)=>{const r=e.data.slice(0,t),a=r.length-Al(r).length;Y2(e,t-a,a,o)},X2=(e,t,o,r,a=!0)=>{const c=Al(e.data).length,d=a?e:t,g=a?t:e;return a?d.appendData(g.data):d.insertData(0,g.data),fr(fe.fromDom(g)),r&&rk(d,c,o),d},TN=(e,t)=>{const o=e.container(),r=e.offset();return!Fe.isTextPosition(e)&&o===t.parentNode&&r>Fe.before(t).offset()},ON=(e,t)=>TN(t,e)?Fe(t.container(),t.offset()-1):t,Us=e=>mt(e)?Fe(e,0):Fe.before(e),J2=e=>mt(e)?Fe(e,e.data.length):Fe.after(e),SA=e=>hd(e.previousSibling)?$.some(J2(e.previousSibling)):e.previousSibling?Xd(e.previousSibling):$.none(),EA=e=>hd(e.nextSibling)?$.some(Us(e.nextSibling)):e.nextSibling?ko(e.nextSibling):$.none(),Sy=(e,t)=>$.from(t.previousSibling?t.previousSibling:t.parentNode).bind(o=>Yc(e,Fe.before(o))).orThunk(()=>tc(e,Fe.after(t))),wg=(e,t)=>tc(e,Fe.after(t)).orThunk(()=>Yc(e,Fe.before(t))),yp=(e,t)=>SA(t).orThunk(()=>EA(t)).orThunk(()=>Sy(e,t)),AA=(e,t)=>EA(t).orThunk(()=>SA(t)).orThunk(()=>wg(e,t)),zA=(e,t,o)=>e?AA(t,o):yp(t,o),TA=(e,t,o)=>zA(e,t,o).map(yt(ON,o)),N0=(e,t,o)=>{o.fold(()=>{e.focus()},r=>{e.selection.setRng(r.toRange(),t)})},DN=e=>t=>t.dom===e,Q2=(e,t)=>t&&xo(e.schema.getBlockElements(),en(t)),OA=(e,t,o)=>{if(ca(e,t)){const r=fe.fromHtml('<br data-mce-bogus="1">');return o?We(ds(t),a=>{kx(a)||fr(a)}):ni(t),Dr(t,r),$.some(Fe.before(r.dom))}else return $.none()},DA=(e,t,o,r)=>{const a=Ml(e).filter(ns),c=lc(e).filter(ns);return fr(e),zf(a,c,t,(d,g,v)=>{const A=d.dom,M=g.dom,B=A.data.length;return X2(A,M,o,r),v.container()===M?Fe(A,B):v}).orThunk(()=>(r&&(a.each(d=>sk(d.dom,d.dom.length,o)),c.each(d=>rk(d.dom,0,o))),t))},eC=(e,t)=>xo(e.schema.getTextInlineElements(),en(t)),_g=(e,t,o,r=!0,a=!1)=>{const c=TA(t,e.getBody(),o.dom),d=xs(o,yt(Q2,e),DN(e.getBody())),g=DA(o,c,e.schema,eC(e,o));e.dom.isEmpty(e.getBody())?(e.setContent(""),e.selection.setCursorLocation()):d.bind(v=>OA(e.schema,v,a)).fold(()=>{r&&N0(e,t,g)},v=>{r&&N0(e,t,$.some(v))})},tC=/[\u0591-\u07FF\uFB1D-\uFDFF\uFE70-\uFEFC]/,RN=e=>tC.test(e),Vh=(e,t)=>ti(fe.fromDom(t),xn(e))&&!mc(e.schema,t)&&e.dom.isEditable(t),Ed=e=>{var t;return jn.DOM.getStyle(e,"direction",!0)==="rtl"||RN((t=e.textContent)!==null&&t!==void 0?t:"")},RA=(e,t,o)=>Ye(jn.DOM.getParents(o.container(),"*",t),e),Cg=(e,t,o)=>{const r=RA(e,t,o);return $.from(r[r.length-1])},NN=(e,t,o)=>{const r=ag(t,e),a=ag(o,e);return Le(r)&&r===a},ak=e=>fh(e)||Jm(e),tu=(e,t)=>{const o=t.container(),r=t.offset();return e?ef(o)?mt(o.nextSibling)?Fe(o.nextSibling,0):Fe.after(o):fh(t)?Fe(o,r+1):t:ef(o)?mt(o.previousSibling)?Fe(o.previousSibling,o.previousSibling.data.length):Fe.before(o):Jm(t)?Fe(o,r-1):t},NA=yt(tu,!0),oC=yt(tu,!1),ik=(e,t)=>{const o=r=>r.stopImmediatePropagation();e.on("beforeinput input",o,!0),e.getDoc().execCommand(t),e.off("beforeinput input",o)},MN=e=>{e.execCommand("delete")},nC=e=>ik(e,"Delete"),M0=e=>ik(e,"ForwardDelete"),MA=e=>t=>Gi(aa(t),e,an),BA=e=>Yf(e)||wu(e),lk=(e,t)=>bi(e,t)?fl(t,BA,MA(e)):$.none(),ck=(e,t=!0)=>{e.dom.isEmpty(e.getBody())&&e.setContent("",{no_selection:!t})},Ey=(e,t,o)=>Ls(ko(o),Xd(o),(r,a)=>{const c=tu(!0,r),d=tu(!1,a),g=tu(!1,t);return e?tc(o,g).exists(v=>v.isEqual(d)&&t.isEqual(c)):Yc(o,g).exists(v=>v.isEqual(c)&&t.isEqual(d))}).getOr(!0),rC=e=>(ad(e)?Ml(e):du(e)).bind(rC).orThunk(()=>$.some(e)),sC=(e,t,o,r=!0)=>{var a;t.deleteContents();const c=rC(o).getOr(o),d=fe.fromDom((a=e.dom.getParent(c.dom,e.dom.isBlock))!==null&&a!==void 0?a:o.dom);if(d.dom===e.getBody()?ck(e,r):ca(e.schema,d,{checkRootAsContent:!1})&&(Zc(d),r&&e.selection.setCursorLocation(d.dom,0)),!an(o,d)){const g=Gi(aa(d),o)?[]:Rm(d);We(g.concat(ds(o)),v=>{!an(v,d)&&!bi(v,d)&&ca(e.schema,v)&&fr(v)})}},IA=e=>t=>an(e,t),aC=e=>ri(e,"td,th"),Du=(e,t)=>gr(fe.fromDom(e),t),iC=e=>Ls(e.startTable,e.endTable,(t,o)=>{const r=qg(t,c=>an(c,o)),a=qg(o,c=>an(c,t));return!r&&!a?e:{...e,startTable:r?$.none():e.startTable,endTable:a?$.none():e.endTable,isSameTable:!1,isMultiTable:!1}}).getOr(e),BN=e=>iC(e),IN=(e,t)=>{const o=Du(e.startContainer,t),r=Du(e.endContainer,t),a=o.isSome(),c=r.isSome(),d=Ls(o,r,an).getOr(!1);return BN({startTable:o,endTable:r,isStartInTable:a,isEndInTable:c,isSameTable:d,isMultiTable:!d&&a&&c})},qn=(e,t)=>({start:e,end:t}),LN=(e,t,o)=>({rng:e,table:t,cells:o}),vp=ho.generate([{singleCellTable:["rng","cell"]},{fullTable:["table"]},{partialTable:["cells","outsideDetails"]},{multiTable:["startTableCells","endTableCells","betweenRng"]}]),dk=(e,t)=>jd(fe.fromDom(e),"td,th",t),lC=e=>!an(e.start,e.end),xp=(e,t)=>gr(e.start,t).bind(o=>gr(e.end,t).bind(r=>rd(an(o,r),o))),Qc=(e,t)=>!lC(e)&&xp(e,t).exists(o=>{const r=o.dom.rows;return r.length===1&&r[0].cells.length===1}),B0=(e,t)=>{const o=dk(e.startContainer,t),r=dk(e.endContainer,t);return Ls(o,r,qn)},Sg=e=>t=>gr(t,e).bind(o=>ro(aC(o)).map(r=>qn(t,r))),fm=e=>t=>gr(t,e).bind(o=>lt(aC(o)).map(r=>qn(r,t))),jh=e=>t=>xp(t,e).map(o=>LN(t,o,aC(o))),uk=(e,t,o,r)=>{if(o.collapsed||!e.forall(lC))return $.none();if(t.isSameTable){const a=e.bind(jh(r));return $.some({start:a,end:a})}else{const a=dk(o.startContainer,r),c=dk(o.endContainer,r),d=a.bind(Sg(r)).bind(jh(r)),g=c.bind(fm(r)).bind(jh(r));return $.some({start:d,end:g})}},fk=(e,t)=>Kn(e,o=>an(o,t)),mk=e=>Ls(fk(e.cells,e.rng.start),fk(e.cells,e.rng.end),(t,o)=>e.cells.slice(t,o+1)),LA=(e,t,o)=>e.exists(r=>Qc(r,o)&&X1(r.start,t)),PA=(e,t)=>{const{startTable:o,endTable:r}=t,a=e.cloneRange();return o.each(c=>a.setStartAfter(c.dom)),r.each(c=>a.setEndBefore(c.dom)),a},PN=(e,t,o,r)=>uk(e,t,o,r).bind(({start:a,end:c})=>a.or(c)).bind(a=>{const{isSameTable:c}=t,d=mk(a).getOr([]);if(c&&a.cells.length===d.length)return $.some(vp.fullTable(a.table));if(d.length>0){if(c)return $.some(vp.partialTable(d,$.none()));{const g=PA(o,t);return $.some(vp.partialTable(d,$.some({...t,rng:g})))}}else return $.none()}),FA=(e,t,o,r)=>uk(e,t,o,r).bind(({start:a,end:c})=>{const d=a.bind(mk).getOr([]),g=c.bind(mk).getOr([]);if(d.length>0&&g.length>0){const v=PA(o,t);return $.some(vp.multiTable(d,g,v))}else return $.none()}),HA=(e,t)=>{const o=IA(e),r=B0(t,o),a=IN(t,o);return LA(r,t,o)?r.map(c=>vp.singleCellTable(t,c.start)):a.isMultiTable?FA(r,a,t,o):PN(r,a,t,o)},cC=e=>We(e,t=>{Ks(t,"contenteditable"),Zc(t)}),$A=(e,t)=>$.from(e.dom.getParent(t,e.dom.isBlock)).map(fe.fromDom),dC=(e,t,o)=>{o.each(r=>{t?fr(r):(Zc(r),e.selection.setCursorLocation(r.dom,0))})},uC=(e,t,o,r)=>{const a=o.cloneRange();r?(a.setStart(o.startContainer,o.startOffset),a.setEndAfter(t.dom.lastChild)):(a.setStartBefore(t.dom.firstChild),a.setEnd(o.endContainer,o.endOffset)),Uh(e,a,t,!1).each(c=>c())},VA=e=>{const t=lf(e),o=fe.fromDom(e.selection.getNode());Pf(o.dom)&&ca(e.schema,o)?e.selection.setCursorLocation(o.dom,0):e.selection.collapse(!0),t.length>1&&dr(t,r=>an(r,o))&&Pn(o,"data-mce-selected","1")},jA=(e,t,o)=>$.some(()=>{const r=e.selection.getRng(),a=o.bind(({rng:c,isStartInTable:d})=>{const g=$A(e,d?c.endContainer:c.startContainer);c.deleteContents(),dC(e,d,g.filter(yt(ca,e.schema)));const v=d?t[0]:t[t.length-1];return uC(e,v,r,d),ca(e.schema,v)?$.none():$.some(d?t.slice(1):t.slice(0,-1))}).getOr(t);cC(a),VA(e)}),mm=(e,t,o,r)=>$.some(()=>{const a=e.selection.getRng(),c=t[0],d=o[o.length-1];uC(e,c,a,!0),uC(e,d,a,!1);const g=ca(e.schema,c)?t:t.slice(1),v=ca(e.schema,d)?o:o.slice(0,-1);cC(g.concat(v)),r.deleteContents(),VA(e)}),Uh=(e,t,o,r=!0)=>$.some(()=>{sC(e,t,o,r)}),UA=(e,t)=>$.some(()=>_g(e,!1,t)),ZA=(e,t,o)=>HA(t,o).bind(r=>r.fold(yt(Uh,e),yt(UA,e),yt(jA,e),yt(mm,e))),WA=(e,t)=>pk(e,t),FN=(e,t,o,r)=>fC(t,r).fold(()=>ZA(e,t,o),a=>WA(e,a)),Eg=(e,t,o)=>{const r=fe.fromDom(e.getBody()),a=e.selection.getRng();return o.length!==0?jA(e,o,$.none()):FN(e,r,a,t)},qA=(e,t)=>Nn(Ou(t,e),Kd),fC=(e,t)=>Nn(Ou(t,e),bs("caption")),HN=(e,t,o,r,a)=>zh(o,e.getBody(),a).bind(c=>qA(t,fe.fromDom(c.getNode())).bind(d=>an(d,r)?$.none():$.some(lo))),pk=(e,t)=>$.some(()=>{Zc(t),e.selection.setCursorLocation(t.dom,0)}),$N=(e,t,o,r)=>ko(e.dom).bind(a=>Xd(e.dom).map(c=>t?o.isEqual(a)&&r.isEqual(c):o.isEqual(c)&&r.isEqual(a))).getOr(!0),VN=(e,t)=>pk(e,t),jN=(e,t,o)=>fC(e,fe.fromDom(o.getNode())).fold(()=>$.some(lo),r=>rd(!an(r,t),lo)),UN=(e,t,o,r,a)=>zh(o,e.getBody(),a).fold(()=>$.some(lo),c=>$N(r,o,a,c)?VN(e,r):jN(t,r,c)),ZN=(e,t,o,r)=>{const a=Fe.fromRangeStart(e.selection.getRng());return qA(o,r).bind(c=>ca(e.schema,c,{checkRootAsContent:!1})?pk(e,c):HN(e,o,t,c,a))},gk=(e,t,o,r)=>{const a=Fe.fromRangeStart(e.selection.getRng());return ca(e.schema,r)?pk(e,r):UN(e,o,t,r,a)},GA=(e,t)=>e?F2(t):H2(t),I0=(e,t)=>{const o=Fe.fromRangeStart(e.selection.getRng());return GA(t,o)||xd(t,e.getBody(),o).exists(r=>GA(t,r))},mC=(e,t,o)=>{const r=fe.fromDom(e.getBody());return fC(r,o).fold(()=>ZN(e,t,r,o).orThunk(()=>rd(I0(e,t),lo)),a=>gk(e,t,r,a))},kp=(e,t)=>{const o=fe.fromDom(e.selection.getStart(!0)),r=lf(e);return e.selection.isCollapsed()&&r.length===0?mC(e,t,o):Eg(e,o,r)},ou=(e,t)=>{let o=t;for(;o&&o!==e;){if(_n(o)||br(o))return o;o=o.parentNode}return null},hk=["data-ephox-","data-mce-","data-alloy-","data-snooker-","_"],bk=ft.each,wp=e=>{const t=e.dom,o=new Set(e.serializer.getTempAttrs()),r=(c,d)=>{if(c.nodeName!==d.nodeName||c.nodeType!==d.nodeType)return!1;const g=A=>{const M={};return bk(t.getAttribs(A),B=>{const P=B.nodeName.toLowerCase();P!=="style"&&!a(P)&&(M[P]=t.getAttrib(A,P))}),M},v=(A,M)=>{for(const B in A)if(xo(A,B)){const P=M[B];if(gn(P)||A[B]!==P)return!1;delete M[B]}for(const B in M)if(xo(M,B))return!1;return!0};return jt(c)&&jt(d)&&(!v(g(c),g(d))||!v(t.parseStyle(t.getAttrib(c,"style")),t.parseStyle(t.getAttrib(d,"style"))))?!1:!wd(c)&&!wd(d)},a=c=>dr(hk,d=>Ln(c,d))||o.has(c);return{compare:r,isAttributeInternal:a}},Ag=e=>["h1","h2","h3","h4","h5","h6"].includes(e.name),yk=e=>e.name==="summary",vk=(e,t)=>{let o=e;for(;o=o.walk();)t(o)},pC=(e,t,o,r)=>{const a=o.name;for(let c=0,d=e.length;c<d;c++){const g=e[c];if(g.name===a){const v=r.nodes[a];v?v.nodes.push(o):r.nodes[a]={filter:g,nodes:[o]}}}if(o.attributes)for(let c=0,d=t.length;c<d;c++){const g=t[c],v=g.name;if(v in o.attributes.map){const A=r.attributes[v];A?A.nodes.push(o):r.attributes[v]={filter:g,nodes:[o]}}}},gC=(e,t,o)=>{const r={nodes:{},attributes:{}};return o.firstChild&&vk(o,a=>{pC(e,t,a,r)}),r},xk=(e,t)=>{const o=(r,a)=>{Bo(r,c=>{const d=Po(c.nodes);We(c.filter.callbacks,g=>{for(let v=d.length-1;v>=0;v--){const A=d[v];(!(a?A.attr(c.filter.name)!==void 0:A.name===c.filter.name)||vo(A.parent))&&d.splice(v,1)}d.length>0&&g(d,c.filter.name,t)})})};o(e.nodes,!1),o(e.attributes,!0)},hC=(e,t,o,r={})=>{const a=gC(e,t,o);xk(a,r)},kk=(e,t,o,r)=>{if((e.pad_empty_with_br||t.insert)&&o(r)){const c=new Ai("br",1);t.insert&&c.attr("data-mce-bogus","1"),r.empty().append(c)}else r.empty().append(new Ai("#text",3)).value=us},Ay=e=>{var t;return bC(e,"#text")&&((t=e==null?void 0:e.firstChild)===null||t===void 0?void 0:t.value)===us},bC=(e,t)=>{const o=e==null?void 0:e.firstChild;return Le(o)&&o===e.lastChild&&o.name===t},KA=(e,t)=>{const o=e.getElementRule(t.name);return(o==null?void 0:o.paddEmpty)===!0},zy=(e,t,o,r)=>r.isEmpty(t,o,a=>KA(e,a)),wk=(e,t)=>Le(e)&&(t(e)||e.name==="br"),YA=e=>{let t;for(let o=e;o;o=o.parent){const r=o.attr("contenteditable");if(r==="false")break;r==="true"&&(t=o)}return $.from(t)},_k=(e,t,o=e.parent)=>{if(t.getSpecialElements()[e.name])e.empty().remove();else{const r=e.children();for(const a of r)o&&!t.isValidChild(o.name,a.name)&&_k(a,t,o);e.unwrap()}},Ck=(e,t,o,r=lo)=>{const a=t.getTextBlockElements(),c=t.getNonEmptyElements(),d=t.getWhitespaceElements(),g=ft.makeMap("tr,td,th,tbody,thead,tfoot,table,summary"),v=new Set,A=M=>M!==o&&!g[M.name];for(let M=0;M<e.length;M++){const B=e[M];let P,X,ae;if(!B.parent||v.has(B))continue;if(a[B.name]&&B.parent.name==="li"){let ie=B.next;for(;ie&&a[ie.name];){ie.name="li",v.add(ie),B.parent.insert(ie,B.parent);ie=ie.next}B.unwrap();continue}const J=[B];for(P=B.parent;P&&!t.isValidChild(P.name,B.name)&&A(P);P=P.parent)J.push(P);if(P&&J.length>1)if(mf(t,B,P))_k(B,t);else{J.reverse(),X=J[0].clone(),r(X);let ie=X;for(let we=0;we<J.length-1;we++){t.isValidChild(ie.name,J[we].name)&&we>0?(ae=J[we].clone(),r(ae),ie.append(ae)):ae=ie;for(let Ce=J[we].firstChild;Ce&&Ce!==J[we+1];){const Se=Ce.next;ae.append(Ce),Ce=Se}ie=ae}zy(t,c,d,X)?P.insert(B,J[0],!0):(P.insert(X,J[0],!0),P.insert(B,X)),P=J[0],(zy(t,c,d,P)||bC(P,"br"))&&P.empty().remove()}else if(B.parent){if(B.name==="li"){let ie=B.prev;if(ie&&(ie.name==="ul"||ie.name==="ol")){ie.append(B);continue}if(ie=B.next,ie&&(ie.name==="ul"||ie.name==="ol")&&ie.firstChild){ie.insert(B,ie.firstChild,!0);continue}const we=new Ai("ul",1);r(we),B.wrap(we);continue}if(t.isValidChild(B.parent.name,"div")&&t.isValidChild("div",B.name)){const ie=new Ai("div",1);r(ie),B.wrap(ie)}else _k(B,t)}}},XA=(e,t)=>{let o=e;for(;o;){if(o.name===t)return!0;o=o.parent}return!1},mf=(e,t,o=t.parent)=>o?e.children[t.name]&&!e.isValidChild(o.name,t.name)||t.name==="a"&&XA(o,"a")?!0:yk(o)&&Ag(t)?!((o==null?void 0:o.firstChild)===t&&(o==null?void 0:o.lastChild)===t):!1:!1,zg=(e,t,o,r)=>{const a=document.createRange();return a.setStart(e,t),a.setEnd(o,r),a},Ru=e=>{const t=Fe.fromRangeStart(e),o=Fe.fromRangeEnd(e),r=e.commonAncestorContainer;return xd(!1,r,o).map(a=>!rm(t,o,r)&&rm(t,a,r)?zg(t.container(),t.offset(),a.container(),a.offset()):e).getOr(e)},L0=e=>e.collapsed?e:Ru(e),yC=e=>Le(e.firstChild)&&e.firstChild===e.lastChild,JA=e=>e.name==="br"||e.value===us,QA=(e,t)=>e.getBlockElements()[t.name]&&yC(t)&&JA(t.firstChild),ez=(e,t)=>{const o=e.getNonEmptyElements();return Le(t)&&(t.isEmpty(o)||QA(e,t))},vC=(e,t)=>{let o=t.firstChild,r=t.lastChild;return o&&o.name==="meta"&&(o=o.next),r&&r.attr("id")==="mce_marker"&&(r=r.prev),ez(e,r)&&(r=r==null?void 0:r.prev),!o||o!==r?!1:o.name==="ul"||o.name==="ol"},tz=e=>{var t,o;const r=e.firstChild,a=e.lastChild;return r&&r.nodeName==="META"&&((t=r.parentNode)===null||t===void 0||t.removeChild(r)),a&&a.id==="mce_marker"&&((o=a.parentNode)===null||o===void 0||o.removeChild(a)),e},oz=(e,t,o)=>{const r=t.serialize(o),a=e.createFragment(r);return tz(a)},xC=e=>{var t;return Ye((t=e==null?void 0:e.childNodes)!==null&&t!==void 0?t:[],o=>o.nodeName==="LI")},pm=e=>e.data===us||Yr(e),Nu=e=>Le(e==null?void 0:e.firstChild)&&e.firstChild===e.lastChild&&pm(e.firstChild),Sk=e=>!e.firstChild||Nu(e),nz=e=>e.length>0&&Sk(e[e.length-1])?e.slice(0,-1):e,Ty=(e,t)=>{const o=e.getParent(t,e.isBlock);return o&&o.nodeName==="LI"?o:null},rz=(e,t)=>!!Ty(e,t),sz=(e,t)=>{const o=t.cloneRange(),r=t.cloneRange();return o.setStartBefore(e),r.setEndAfter(e),[o.cloneContents(),r.cloneContents()]},az=(e,t)=>{const o=Fe.before(e),a=po(t).next(o);return a?a.toRange():null},kC=(e,t)=>{const o=Fe.after(e),a=po(t).prev(o);return a?a.toRange():null},iz=(e,t,o,r)=>{const a=sz(e,r),c=e.parentNode;return c&&(c.insertBefore(a[0],e),ft.each(t,d=>{c.insertBefore(d,e)}),c.insertBefore(a[1],e),c.removeChild(e)),kC(t[t.length-1],o)},lz=(e,t,o)=>{const r=e.parentNode;return r&&ft.each(t,a=>{r.insertBefore(a,e)}),az(e,o)},Ek=(e,t,o,r)=>(r.insertAfter(t.reverse(),e),kC(t[0],o)),wC=(e,t,o,r)=>{const a=oz(t,e,r),c=Ty(t,o.startContainer),d=nz(xC(a.firstChild)),g=1,v=2,A=t.getRoot(),M=B=>{const P=Fe.fromRangeStart(o),X=po(t.getRoot()),ae=B===g?X.prev(P):X.next(P),J=ae==null?void 0:ae.getNode();return J?Ty(t,J)!==c:!0};return c?M(g)?lz(c,d,A):M(v)?Ek(c,d,A,t):iz(c,d,A,o):null},cz=["pre"],_C=(e,t,o,r)=>{var a;const c=t.firstChild,d=t.lastChild,g=d.attr("data-mce-type")==="bookmark"?d.prev:d,v=c===g,A=nn(cz,c.name);if(v&&A){const M=c.attr("contenteditable")!=="false",B=((a=e.getParent(o,e.isBlock))===null||a===void 0?void 0:a.nodeName.toLowerCase())===c.name,P=$.from(ou(r,o)).forall(_n);return M&&B&&P}else return!1},CC=Pf,WN=(e,t,o)=>{if(Le(o)){const r=e.getParent(t.endContainer,CC);return o===r&&X1(fe.fromDom(o),t)}else return!1},qN=(e,t,o)=>{var r;if(o.getAttribute("data-mce-bogus")==="all")(r=o.parentNode)===null||r===void 0||r.insertBefore(e.dom.createFragment(t),o);else{const a=o.firstChild,c=o.lastChild;!a||a===c&&a.nodeName==="BR"?e.dom.setHTML(o,t):e.selection.setContent(t,{no_events:!0})}},GN=(e,t,o)=>{$.from(e.getParent(t,"td,th")).map(fe.fromDom).each(r=>uh(r,o))},KN=(e,t)=>{const o=e.schema.getTextInlineElements(),r=e.dom;if(t){const a=e.getBody(),c=wp(e);ft.each(r.select("*[data-mce-fragment]"),d=>{if(Le(o[d.nodeName.toLowerCase()])&&gA(r,d)){for(let v=d.parentElement;Le(v)&&v!==a&&!E0(r,d,v);v=v.parentElement)if(c.compare(v,d)){r.remove(d,!0);break}}})}},YN=e=>{let t=e;for(;t=t.walk();)t.type===1&&t.attr("data-mce-fragment","1")},Ak=e=>{ft.each(e.getElementsByTagName("*"),t=>{t.removeAttribute("data-mce-fragment")})},SC=e=>!!e.getAttribute("data-mce-fragment"),dz=(e,t)=>Le(t)&&!e.schema.getVoidElements()[t.nodeName],EC=(e,t)=>{var o,r,a;let c;const d=e.dom,g=e.selection;if(!t)return;g.scrollIntoView(t);const v=ou(e.getBody(),t);if(v&&d.getContentEditable(v)==="false"){d.remove(t),g.select(v);return}let A=d.createRng();const M=t.previousSibling;if(mt(M)){A.setStart(M,(r=(o=M.nodeValue)===null||o===void 0?void 0:o.length)!==null&&r!==void 0?r:0);const X=t.nextSibling;mt(X)&&(M.appendData(X.data),(a=X.parentNode)===null||a===void 0||a.removeChild(X))}else A.setStartBefore(t),A.setEndBefore(t);const B=X=>{let ae=Fe.fromRangeStart(X);return ae=po(e.getBody()).next(ae),ae==null?void 0:ae.toRange()},P=d.getParent(t,d.isBlock);if(d.remove(t),P&&d.isEmpty(P)){const X=CC(P);ni(fe.fromDom(P)),A.setStart(P,0),A.setEnd(P,0),!X&&!SC(P)&&(c=B(A))?(A=c,d.remove(P)):d.add(P,d.create("br",X?{}:{"data-mce-bogus":"1"}))}g.setRng(A)},XN=e=>{const t=e.dom,o=L0(e.selection.getRng());e.selection.setRng(o);const r=t.getParent(o.startContainer,CC);WN(t,o,r)?Uh(e,o,fe.fromDom(r)):o.startContainer===o.endContainer&&o.endOffset-o.startOffset===1&&mt(o.startContainer.childNodes[o.startOffset])?o.deleteContents():e.getDoc().execCommand("Delete",!1)},JN=e=>{for(let t=e;t;t=t.walk())if(t.attr("id")==="mce_marker")return $.some(t);return $.none()},QN=(e,t,o)=>{var r;return dr(o.children(),Ag)&&((r=e.getParent(t,e.isBlock))===null||r===void 0?void 0:r.nodeName)==="SUMMARY"},e6=(e,t,o)=>{var r,a;const c=e.selection,d=e.dom,g=e.parser,v=o.merge,A=gp({validate:!0},e.schema),M='<span id="mce_marker" data-mce-type="bookmark">&#xFEFF;</span>';o.preserve_zwsp||(t=wa(t)),t.indexOf("{$caret}")===-1&&(t+="{$caret}"),t=t.replace(/\{\$caret\}/,M);let B=c.getRng();const P=B.startContainer,X=e.getBody();P===X&&c.isCollapsed()&&d.isBlock(X.firstChild)&&dz(e,X.firstChild)&&d.isEmpty(X.firstChild)&&(B=d.createRng(),B.setStart(X.firstChild,0),B.setEnd(X.firstChild,0),c.setRng(B)),c.isCollapsed()||XN(e);const ae=c.getNode(),J={context:ae.nodeName.toLowerCase(),data:o.data,insert:!0},ie=g.parse(t,J);if(o.paste===!0&&vC(e.schema,ie)&&rz(d,ae))return B=wC(A,d,c.getRng(),ie),B&&c.setRng(B),t;o.paste===!0&&_C(d,ie,ae,e.getBody())&&((r=ie.firstChild)===null||r===void 0||r.unwrap()),YN(ie);let we=ie.lastChild;if(we&&we.attr("id")==="mce_marker"){const Ce=we;for(we=we.prev;we;we=we.walk(!0))if(we.type===3||!d.isBlock(we.name)){we.parent&&e.schema.isValidChild(we.parent.name,"span")&&we.parent.insert(Ce,we,we.name==="br");break}}if(e._selectionOverrides.showBlockCaretContainer(ae),!J.invalid&&!QN(d,ae,ie))t=A.serialize(ie),qN(e,t,ae);else{e.selection.setContent(M);let Ce=c.getNode(),Se;const De=e.getBody();for(uc(Ce)?Ce=Se=De:Se=Ce;Se&&Se!==De;)Ce=Se,Se=Se.parentNode;t=Ce===De?De.innerHTML:d.getOuterHTML(Ce);const ot=g.parse(t),vt=JN(ot),Nt=vt.bind(YA).getOr(ot);vt.each(Wt=>Wt.replace(ie));const Ve=ie.children(),Be=(a=ie.parent)!==null&&a!==void 0?a:ot;ie.unwrap();const tt=Ye(Ve,Wt=>mf(e.schema,Wt,Be));Ck(tt,e.schema,Nt),hC(g.getNodeFilters(),g.getAttributeFilters(),ot),t=A.serialize(ot),Ce===De?d.setHTML(De,t):d.setOuterHTML(Ce,t)}return KN(e,v),EC(e,d.get("mce_marker")),Ak(e.getBody()),GN(d,c.getStart(),e.schema),Es(e.schema,e.getBody(),c.getStart()),t},zk=e=>e instanceof Ai,t6=e=>{Lh(e)&&ko(e.getBody()).each(t=>{const o=t.getNode(),r=Bc(o)?ko(o).getOr(t):t;e.selection.setRng(r.toRange())})},Oy=(e,t,o)=>{e.dom.setHTML(e.getBody(),t),o!==!0&&t6(e)},Tk=(e,t,o,r)=>{if(o=wa(o),o.length===0||/^\s+$/.test(o)){const a='<br data-mce-bogus="1">';t.nodeName==="TABLE"?o="<tr><td>"+a+"</td></tr>":/^(UL|OL)$/.test(t.nodeName)&&(o="<li>"+a+"</li>");const c=ol(e);return e.schema.isValidChild(t.nodeName.toLowerCase(),c.toLowerCase())?(o=a,o=e.dom.createHTML(c,N1(e),o)):o||(o=a),Oy(e,o,r.no_selection),{content:o,html:o}}else{r.format!=="raw"&&(o=gp({validate:!1},e.schema).serialize(e.parser.parse(o,{isRootContent:!0,insert:!0})));const a=tg(fe.fromDom(t))?o:ft.trim(o);return Oy(e,a,r.no_selection),{content:a,html:a}}},Ok=(e,t,o,r)=>{hC(e.parser.getNodeFilters(),e.parser.getAttributeFilters(),o);const a=gp({validate:!1},e.schema).serialize(o),c=wa(tg(fe.fromDom(t))?a:ft.trim(a));return Oy(e,c,r.no_selection),{content:o,html:c}},o6=(e,t,o)=>$.from(e.getBody()).map(r=>zk(t)?Ok(e,r,t,o):Tk(e,r,t,o)).getOr({content:t,html:zk(o.content)?"":o.content}),uz=e=>Lt(e)?e:fn,n6=(e,t,o)=>{let r=e.dom;const a=uz(o);for(;r.parentNode;){r=r.parentNode;const c=fe.fromDom(r),d=t(c);if(d.isSome())return d;if(a(c))break}return $.none()},AC=(e,t,o)=>{const r=t(e),a=uz(o);return r.orThunk(()=>a(e)?$.none():n6(e,t,a))},zC=py,fz=(e,t,o)=>{const r=e.formatter.get(o);if(r)for(let a=0;a<r.length;a++){const c=r[a];if(Xc(c)&&c.inherit===!1&&e.dom.is(t,c.selector))return!0}return!1},Ad=(e,t,o,r,a)=>{const c=e.dom.getRoot();if(t===c)return!1;const d=e.dom.getParent(t,g=>fz(e,g,o)?!0:g.parentNode===c||!!pf(e,g,o,r,!0));return!!pf(e,d,o,r,a)},Dy=(e,t,o)=>ii(o)&&zC(t,o.inline)||cf(o)&&zC(t,o.block)?!0:Xc(o)?jt(t)&&e.is(t,o.selector):!1,TC=(e,t,o,r,a,c)=>{const d=o[r],g=r==="attributes";if(Lt(o.onmatch))return o.onmatch(t,o,r);if(d){if(wt(d)){for(let v=0;v<d.length;v++)if(g?e.getAttrib(t,d[v]):Q1(e,t,d[v]))return!0}else for(const v in d)if(xo(d,v)){const A=g?e.getAttrib(t,v):Q1(e,t,v),M=dp(d[v],c),B=vo(A)||Gr(A);if(B&&vo(M))continue;if(a&&B&&!o.exact||(!a||o.exact)&&!zC(A,yx(M,v)))return!1}}return!0},pf=(e,t,o,r,a)=>{const c=e.formatter.get(o),d=e.dom;if(c&&jt(t))for(let g=0;g<c.length;g++){const v=c[g];if(Dy(e.dom,t,v)&&TC(d,t,v,"attributes",a,r)&&TC(d,t,v,"styles",a,r)){const A=v.classes;if(A){for(let M=0;M<A.length;M++)if(!e.dom.hasClass(t,dp(A[M],r)))return}return v}}},Dk=(e,t,o,r,a)=>{if(r)return Ad(e,r,t,o,a);if(r=e.selection.getNode(),Ad(e,r,t,o,a))return!0;const c=e.selection.getStart();return!!(c!==r&&Ad(e,c,t,o,a))},r6=(e,t,o)=>{const r=[],a={},c=e.selection.getStart();return e.dom.getParent(c,d=>{for(let g=0;g<t.length;g++){const v=t[g];!a[v]&&pf(e,d,v,o)&&(a[v]=!0,r.push(v))}},e.dom.getRoot()),r},mz=(e,t)=>{const o=a=>an(a,fe.fromDom(e.getBody())),r=(a,c)=>pf(e,a.dom,c)?$.some(c):$.none();return $.from(e.selection.getStart(!0)).bind(a=>AC(fe.fromDom(a),c=>gs(t,d=>r(c,d)),o)).getOrNull()},s6=(e,t)=>{const o=e.formatter.get(t),r=e.dom;if(o&&e.selection.isEditable()){const a=e.selection.getStart(),c=e0(r,a);for(let d=o.length-1;d>=0;d--){const g=o[d];if(!Xc(g))return!0;for(let v=c.length-1;v>=0;v--)if(r.is(c[v],g.selector))return!0}}return!1},Ry=(e,t,o)=>fo(o,(r,a)=>{const c=lE(e,a);return e.formatter.matchNode(t,a,{},c)?r.concat([a]):r},[]),Ny=Qs,pz=(e,t)=>e.importNode(t,!0),OC=e=>{if(e){const t=new Tn(e,e);for(let o=t.current();o;o=t.next())if(mt(o))return o}return null},P0=e=>{const t=fe.fromTag("span");return Dl(t,{id:ly,"data-mce-bogus":"1","data-mce-type":"format-caret"}),e&&Dr(t,fe.fromText(Ny)),t},a6=e=>{const t=OC(e);return t&&t.data.charAt(0)===Ny&&t.deleteData(0,1),t},DC=(e,t,o)=>{const r=e.dom,a=e.selection;if(t2(t))_g(e,!1,fe.fromDom(t),o,!0);else{const c=a.getRng(),d=r.getParent(t,r.isBlock),g=c.startContainer,v=c.startOffset,A=c.endContainer,M=c.endOffset,B=a6(t);r.remove(t,!0),g===B&&v>0&&c.setStart(B,v-1),A===B&&M>0&&c.setEnd(B,M-1),d&&r.isEmpty(d)&&Zc(fe.fromDom(d)),a.setRng(c)}},gm=(e,t,o)=>{const r=e.dom,a=e.selection;if(t)DC(e,t,o);else if(t=ig(e.getBody(),a.getStart()),!t)for(;t=r.get(ly);)DC(e,t,o)},RC=(e,t,o)=>{var r,a;const c=e.dom,d=c.getParent(o,yt(bx,e.schema));d&&c.isEmpty(d)?(r=o.parentNode)===null||r===void 0||r.replaceChild(t,o):(Fv(fe.fromDom(o)),c.isEmpty(o)?(a=o.parentNode)===null||a===void 0||a.replaceChild(t,o):c.insertAfter(t,o))},gz=(e,t)=>(e.appendChild(t),t),hz=(e,t)=>{var o;const r=Qt(e,(c,d)=>gz(c,d.cloneNode(!1)),t),a=(o=r.ownerDocument)!==null&&o!==void 0?o:document;return gz(r,a.createTextNode(Ny))},Zh=(e,t,o,r,a,c)=>{const d=e.formatter,g=e.dom,v=Ye(st(d.get()),B=>B!==r&&!In(B,"removeformat")),A=Ry(e,o,v);if(Ye(A,B=>!cE(e,B,r)).length>0){const B=o.cloneNode(!1);return g.add(t,B),d.remove(r,a,B,c),g.remove(B),$.some(B)}else return $.none()},bz=(e,t,o)=>{let r;const a=e.selection,c=e.formatter.get(t);if(!c)return;const d=a.getRng();let g=d.startOffset;const A=d.startContainer.nodeValue;r=ig(e.getBody(),a.getStart());const M=/[^\s\u00a0\u00ad\u200b\ufeff]/;if(A&&g>0&&g<A.length&&M.test(A.charAt(g))&&M.test(A.charAt(g-1))){const B=a.getBookmark();d.collapse(!0);let P=dg(e.dom,d,c);P=p0(P),e.formatter.apply(t,o,P),a.moveToBookmark(B)}else{let B=r?OC(r):null;(!r||(B==null?void 0:B.data)!==Ny)&&(r=pz(e.getDoc(),P0(!0).dom),B=r.firstChild,d.insertNode(r),g=1),e.formatter.apply(t,o,r),a.setCursorLocation(B,g)}},Rk=(e,t,o,r)=>{const a=e.dom,c=e.selection;let d=!1;const g=e.formatter.get(t);if(!g)return;const v=c.getRng(),A=v.startContainer,M=v.startOffset;let B=A;mt(A)&&(M!==A.data.length&&(d=!0),B=B.parentNode);const P=[];let X;for(;B;){if(pf(e,B,t,o,r)){X=B;break}B.nextSibling&&(d=!0),P.push(B),B=B.parentNode}if(X)if(d){const ae=c.getBookmark();v.collapse(!0);let J=dg(a,v,g,!0);J=p0(J),e.formatter.remove(t,o,J,r),c.moveToBookmark(ae)}else{const ae=ig(e.getBody(),X),J=Le(ae)?a.getParents(X.parentNode,Ao,ae):[],ie=P0(!1).dom;RC(e,ie,ae??X);const we=Zh(e,ie,X,t,o,r),Ce=hz([...P,...we.toArray(),...J],ie);ae&&DC(e,ae,Le(ae)),c.setCursorLocation(Ce,1),a.isEmpty(X)&&a.remove(X)}},i6=(e,t,o)=>{const r=e.selection,a=e.getBody();gm(e,null,o),(t===8||t===46)&&r.isCollapsed()&&r.getStart().innerHTML===Ny&&gm(e,ig(a,r.getStart()),!0),(t===37||t===39)&&gm(e,ig(a,r.getStart()),!0)},l6=e=>mt(e)&&pi(e.data,us),yz=e=>{e.on("mouseup keydown",t=>{i6(e,t.keyCode,l6(e.selection.getRng().endContainer))})},hm=e=>{const t=P0(!1),o=hz(e,t.dom);return{caretContainer:t,caretPosition:Fe(o,0)}},Nk=(e,t)=>{const{caretContainer:o,caretPosition:r}=hm(t);return Ae(fe.fromDom(e),o),fr(fe.fromDom(e)),r},NC=(e,t)=>{const{caretContainer:o,caretPosition:r}=hm(t);return e.insertNode(o.dom),r},Mk=(e,t)=>{if(kd(t.dom))return!1;const o=e.schema.getTextInlineElements();return xo(o,en(t))&&!kd(t.dom)&&!Mc(t.dom)},My={},MC=si(["pre"]),vz=(e,t)=>{My[e]||(My[e]=[]),My[e].push(t)},c6=(e,t)=>{xo(My,e)&&We(My[e],o=>{o(t)})};vz("pre",e=>{const t=e.selection.getRng(),o=a=>c=>{const d=c.previousSibling;return MC(d)&&nn(a,d)},r=(a,c)=>{const d=fe.fromDom(c),g=Ni(d).dom;fr(d),_r(fe.fromDom(a),[fe.fromTag("br",g),fe.fromTag("br",g),...ds(d)])};if(!t.collapsed){const a=e.selection.getSelectedBlocks(),c=Ye(Ye(a,MC),o(a));We(c,d=>{r(d.previousSibling,d)})}});const By=["fontWeight","fontStyle","color","fontSize","fontFamily"],Bk=e=>ne(e.styles)&&dr(st(e.styles),t=>nn(By,t)),xz=e=>Nn(e,t=>ii(t)&&t.inline==="span"&&Bk(t)),BC=(e,t)=>{const o=e.get(t);return ve(o)?xz(o):$.none()},IC=(e,t)=>Yc(t,Fe.fromRangeStart(e)).isNone(),LC=(e,t)=>tc(t,Fe.fromRangeEnd(e)).exists(o=>!Yr(o.getNode())||tc(t,o).isSome())===!1,F0=e=>t=>Fp(t)&&e.isEditable(t),PC=e=>{const t=e.getSelectedBlocks(),o=e.getRng();if(e.isCollapsed())return[];if(t.length===1)return IC(o,t[0])&&LC(o,t[0])?t:[];{const r=lt(t).filter(d=>IC(o,d)).toArray(),a=ro(t).filter(d=>LC(o,d)).toArray(),c=t.slice(1,-1);return r.concat(c).concat(a)}},H0=e=>Ye(PC(e),F0(e.dom)),kz=e=>Ye(e.getSelectedBlocks(),F0(e.dom)),Ik=ft.each,FC=e=>jt(e)&&!wd(e)&&!kd(e)&&!Mc(e),wz=(e,t)=>{for(let o=e;o;o=o[t]){if(mt(o)&&Ds(o.data))return e;if(jt(o)&&!wd(o))return o}return e},HC=(e,t,o)=>{const r=wp(e),a=Pl(t)&&e.dom.isEditable(t),c=Pl(o)&&e.dom.isEditable(o);if(a&&c){const d=wz(t,"previousSibling"),g=wz(o,"nextSibling");if(r.compare(d,g)){for(let v=d.nextSibling;v&&v!==g;){const A=v;v=v.nextSibling,d.appendChild(A)}return e.dom.remove(g),ft.each(ft.grep(g.childNodes),v=>{d.appendChild(v)}),d}}return o},$C=(e,t,o,r)=>{var a;if(r&&t.merge_siblings!==!1){const c=(a=HC(e,Oh(r),r))!==null&&a!==void 0?a:r;HC(e,c,Oh(c,!0))}},d6=(e,t,o)=>{if(t.clear_child_styles){const r=t.links?"*:not(a)":"*";Ik(e.select(r,o),a=>{FC(a)&&e.isEditable(a)&&Ik(t.styles,(c,d)=>{e.setStyle(a,d,"")})})}},Lk=(e,t,o)=>{Ik(e.childNodes,r=>{FC(r)&&(t(r)&&o(r),r.hasChildNodes()&&Lk(r,t,o))})},Wh=(e,t)=>{t.nodeName==="SPAN"&&e.getAttribs(t).length===0&&e.remove(t,!0)},VC=(e,t)=>o=>!!(o&&Q1(e,o,t)),Pk=(e,t,o)=>r=>{e.setStyle(r,t,o),r.getAttribute("style")===""&&r.removeAttribute("style"),Wh(e,r)},Tg=ho.generate([{keep:[]},{rename:["name"]},{removed:[]}]),jC=/^(src|href|style)$/,bm=ft.each,$0=py,nu=e=>/^(TR|TH|TD)$/.test(e.nodeName),Og=(e,t,o)=>e.isChildOf(t,o)&&t!==o&&!e.isBlock(o),Fk=(e,t,o)=>{let r=t[o?"startContainer":"endContainer"],a=t[o?"startOffset":"endOffset"];if(jt(r)){const c=r.childNodes.length-1;!o&&a&&a--,r=r.childNodes[a>c?c:a]}return mt(r)&&o&&a>=r.data.length&&(r=new Tn(r,e.getBody()).next()||r),mt(r)&&!o&&a===0&&(r=new Tn(r,e.getBody()).prev()||r),r},UC=(e,t)=>{const o=t?"firstChild":"lastChild",r=e[o];return nu(e)&&r?e.nodeName==="TR"&&r[o]||r:e},ZC=(e,t,o,r)=>{var a;const c=e.create(o,r);return(a=t.parentNode)===null||a===void 0||a.insertBefore(c,t),c.appendChild(t),c},WC=(e,t,o,r,a)=>{const c=fe.fromDom(t),d=fe.fromDom(e.create(r,a)),g=o?to(c):Bi(c);return _r(d,g),o?(Ae(c,d),Tc(d,c)):(Hs(c,d),Dr(d,c)),d.dom},Iy=(e,t)=>t.links&&e.nodeName==="A",Hk=(e,t,o)=>{const r=t.parentNode;let a;const c=e.dom,d=ol(e);cf(o)&&r===c.getRoot()&&(!o.list_block||!$0(t,o.list_block))&&We(Po(t.childNodes),g=>{lg(e,d,g.nodeName.toLowerCase())?a?a.appendChild(g):(a=ZC(c,g,d),c.setAttribs(a,N1(e))):a=null}),!(fE(o)&&!$0(o.inline,t))&&c.remove(t,!0)},qC=(e,t,o)=>T(e)?{name:t,value:null}:{name:e,value:dp(t,o)},GC=(e,t)=>{e.getAttrib(t,"style")===""&&(t.removeAttribute("style"),t.removeAttribute("data-mce-style"))},$k=(e,t,o,r,a)=>{let c=!1;bm(o.styles,(d,g)=>{const{name:v,value:A}=qC(g,d,r),M=yx(A,v);(o.remove_similar||dt(A)||!jt(a)||$0(Q1(e,a,v),M))&&e.setStyle(t,v,""),c=!0}),c&&GC(e,t)},u6=(e,t,o)=>{t==="removeformat"?We(kz(e.selection),r=>{We(By,a=>e.dom.setStyle(r,a,"")),GC(e.dom,r)}):BC(e.formatter,t).each(r=>{We(kz(e.selection),a=>$k(e.dom,a,r,o,null))})},_z=(e,t,o,r,a)=>{const c=e.dom,d=wp(e),g=e.schema;if(ii(t)&&gu(g,t.inline)&&mc(g,r)&&r.parentElement===e.getBody())return Hk(e,r,t),Tg.removed();if(!t.ceFalseOverride&&r&&c.getContentEditableParent(r)==="false"||r&&!Dy(c,r,t)&&!Iy(r,t))return Tg.keep();const v=r,A=t.preserve_attributes;if(ii(t)&&t.remove==="all"&&ve(A)){const M=Ye(c.getAttribs(v),B=>nn(A,B.name.toLowerCase()));if(c.removeAllAttribs(v),We(M,B=>c.setAttrib(v,B.name,B.value)),M.length>0)return Tg.rename("span")}if(t.remove!=="all"){$k(c,v,t,o,a),bm(t.attributes,(B,P)=>{const{name:X,value:ae}=qC(P,B,o);if(t.remove_similar||dt(ae)||!jt(a)||$0(c.getAttrib(a,X),ae)){if(X==="class"){const J=c.getAttrib(v,X);if(J){let ie="";if(We(J.split(/\s+/),we=>{/mce\-\w+/.test(we)&&(ie+=(ie?" ":"")+we)}),ie){c.setAttrib(v,X,ie);return}}}if(jC.test(X)&&v.removeAttribute("data-mce-"+X),X==="style"&&si(["li"])(v)&&c.getStyle(v,"list-style-type")==="none"){v.removeAttribute(X),c.setStyle(v,"list-style-type","none");return}X==="class"&&v.removeAttribute("className"),v.removeAttribute(X)}}),bm(t.classes,B=>{B=dp(B,o),(!jt(a)||c.hasClass(a,B))&&c.removeClass(v,B)});const M=c.getAttribs(v);for(let B=0;B<M.length;B++){const P=M[B].nodeName;if(!d.isAttributeInternal(P))return Tg.keep()}}return t.remove!=="none"?(Hk(e,v,t),Tg.removed()):Tg.keep()},Cz=(e,t,o,r,a)=>{let c;return t.parentNode&&We(e0(e.dom,t.parentNode).reverse(),d=>{if(!c&&jt(d)&&d.id!=="_start"&&d.id!=="_end"){const g=pf(e,d,o,r,a);g&&g.split!==!1&&(c=d)}}),c},f6=(e,t,o,r)=>_z(e,t,o,r,r).fold(_e(r),a=>(e.dom.createFragment().appendChild(r),e.dom.rename(r,a)),_e(null)),zd=(e,t,o,r,a,c,d,g)=>{var v,A;let M,B;const P=e.dom;if(o){const X=o.parentNode;for(let ae=r.parentNode;ae&&ae!==X;ae=ae.parentNode){let J=P.clone(ae,!1);for(let ie=0;ie<t.length&&(J=f6(e,t[ie],g,J),J!==null);ie++);J&&(M&&J.appendChild(M),B||(B=J),M=J)}(!d.mixed||!P.isBlock(o))&&(r=(v=P.split(o,r))!==null&&v!==void 0?v:r),M&&B&&((A=a.parentNode)===null||A===void 0||A.insertBefore(M,a),B.appendChild(a),ii(d)&&$C(e,d,g,M))}return r},KC=(e,t,o,r,a)=>{const c=e.formatter.get(t),d=c[0],g=e.dom,v=e.selection,A=J=>{const ie=Cz(e,J,t,o,a);return zd(e,c,ie,J,J,!0,d,o)},M=J=>wd(J)&&jt(J)&&(J.id==="_start"||J.id==="_end"),B=J=>dr(c,ie=>qh(e,ie,o,J,J)),P=J=>{const ie=Po(J.childNodes),Ce=B(J)||dr(c,ot=>Dy(g,J,ot)),Se=J.parentNode;if(!Ce&&Le(Se)&&xx(d)&&B(Se),d.deep&&ie.length)for(let ot=0;ot<ie.length;ot++)P(ie[ot]);We(["underline","line-through","overline"],ot=>{jt(J)&&e.dom.getStyle(J,"text-decoration")===ot&&J.parentNode&&e2(g,J.parentNode)===ot&&qh(e,{deep:!1,exact:!0,inline:"span",styles:{textDecoration:ot}},void 0,J)})},X=J=>{const ie=g.get(J?"_start":"_end");if(ie){let we=ie[J?"firstChild":"lastChild"];return M(we)&&(we=we[J?"firstChild":"lastChild"]),mt(we)&&we.data.length===0&&(we=J?ie.previousSibling||ie.nextSibling:ie.nextSibling||ie.previousSibling),g.remove(ie,!0),we}else return null},ae=J=>{let ie,we,Ce=dg(g,J,c,J.collapsed);if(d.split){if(Ce=p0(Ce),ie=Fk(e,Ce,!0),we=Fk(e,Ce),ie!==we){if(ie=UC(ie,!0),we=UC(we,!1),Og(g,ie,we)){const De=$.from(ie.firstChild).getOr(ie);A(WC(g,De,!0,"span",{id:"_start","data-mce-type":"bookmark"})),X(!0);return}if(Og(g,we,ie)){const De=$.from(we.lastChild).getOr(we);A(WC(g,De,!1,"span",{id:"_end","data-mce-type":"bookmark"})),X(!1);return}ie=ZC(g,ie,"span",{id:"_start","data-mce-type":"bookmark"}),we=ZC(g,we,"span",{id:"_end","data-mce-type":"bookmark"});const Se=g.createRng();Se.setStartAfter(ie),Se.setEndBefore(we),r0(g,Se,De=>{We(De,ot=>{!wd(ot)&&!wd(ot.parentNode)&&A(ot)})}),A(ie),A(we),ie=X(!0),we=X()}else ie=we=A(ie);Ce.startContainer=ie.parentNode?ie.parentNode:ie,Ce.startOffset=g.nodeIndex(ie),Ce.endContainer=we.parentNode?we.parentNode:we,Ce.endOffset=g.nodeIndex(we)+1}r0(g,Ce,Se=>{We(Se,P)})};if(r){if(my(r)){const J=g.createRng();J.setStartBefore(r),J.setEndAfter(r),ae(J)}else ae(r);kE(e,t,r,o);return}!v.isCollapsed()||!ii(d)||lf(e).length?(X_(e,()=>fy(e,ae),J=>ii(d)&&Dk(e,t,o,J)),e.nodeChanged()):Rk(e,t,o,a),u6(e,t,o),kE(e,t,r,o)},YC=(e,t,o,r,a)=>{(r||e.selection.isEditable())&&KC(e,t,o,r,a)},qh=(e,t,o,r,a)=>_z(e,t,o,r,a).fold(fn,c=>(e.dom.rename(r,c),!0),Ao),XC=ft.each,V0=(e,t,o,r)=>{const a=c=>{if(Pl(c)&&jt(c.parentNode)&&e.isEditable(c)){const d=e2(e,c.parentNode);e.getStyle(c,"color")&&d?e.setStyle(c,"text-decoration",d):e.getStyle(c,"text-decoration")===d&&e.setStyle(c,"text-decoration",null)}};t.styles&&(t.styles.color||t.styles.textDecoration)&&(ft.walk(r,a,"childNodes"),a(r))},_p=(e,t,o,r)=>{if(t.styles&&t.styles.backgroundColor){const a=VC(e,"fontSize");Lk(r,c=>a(c)&&e.isEditable(c),Pk(e,"backgroundColor",dp(t.styles.backgroundColor,o)))}},Gh=(e,t,o,r)=>{if(ii(t)&&(t.inline==="sub"||t.inline==="sup")){const a=VC(e,"fontSize");Lk(r,d=>a(d)&&e.isEditable(d),Pk(e,"fontSize",""));const c=Ye(e.select(t.inline==="sup"?"sub":"sup",r),e.isEditable);e.remove(c,!0)}},Vk=(e,t,o,r)=>{XC(t,a=>{ii(a)&&XC(e.dom.select(a.inline,r),c=>{FC(c)&&qh(e,a,o,c,a.exact?c:null)}),d6(e.dom,a,r)})},JC=(e,t,o,r,a)=>{const c=a.parentNode;pf(e,c,o,r)&&qh(e,t,r,a)||t.merge_with_parents&&c&&e.dom.getParent(c,d=>pf(e,d,o,r)?(qh(e,t,r,a),!0):!1)},Ly=ft.each,Sz=(e,t,o,r)=>{if(nR(e)&&ii(t)&&o.parentNode){const a=Ev(e.schema),c=_v(fe.fromDom(o),d=>kd(d.dom));return Ka(a,r)&&$s(e.schema,o.parentNode,{skipBogus:!1,includeZwsp:!0})&&!c}else return!1},Ez=(e,t,o,r)=>{if(Ly(o.styles,(a,c)=>{e.setStyle(t,c,dp(a,r))}),o.styles){const a=e.getAttrib(t,"style");a&&e.setAttrib(t,"data-mce-style",a)}},Az=(e,t,o,r)=>{const a=e.formatter.get(t),c=a[0],d=!r&&e.selection.isCollapsed(),g=e.dom,v=e.selection,A=(ae,J=c)=>{Lt(J.onformat)&&J.onformat(ae,J,o,r),Ez(g,ae,J,o),Ly(J.attributes,(ie,we)=>{g.setAttrib(ae,we,dp(ie,o))}),Ly(J.classes,ie=>{const we=dp(ie,o);g.hasClass(ae,we)||g.addClass(ae,we)})},M=(ae,J)=>{let ie=!1;return Ly(ae,we=>Xc(we)?g.getContentEditable(J)==="false"&&!we.ceFalseOverride||Le(we.collapsed)&&we.collapsed!==d?!0:g.is(J,we.selector)&&!kd(J)?(A(J,we),ie=!0,!1):!0:!1),ie},B=ae=>{if(He(ae)){const J=g.create(ae);return A(J),J}else return null},P=(ae,J,ie)=>{const we=[];let Ce=!0;const Se=c.inline||c.block,De=B(Se),ot=Ve=>dE(c)&&pf(e,Ve,t,o),vt=(Ve,Be,tt)=>{const Wt=uE(c)&&bx(e.schema,Ve)&&lg(e,Be,Se);return tt&&Wt},Nt=(Ve,Be,tt,Wt)=>{const io=Ve.nodeName.toLowerCase(),tn=lg(e,Se,io)&&lg(e,Be,Se),pn=!ie&&mt(Ve)&&Pb(Ve.data),xr=kd(Ve),Mr=!ii(c)||!ae.isBlock(Ve);return(tt||Wt)&&tn&&!pn&&!xr&&Mr};r0(ae,J,Ve=>{let Be;const tt=Wt=>{let io=!1,tn=Ce,pn=!1;const xr=Wt.parentNode,Mr=xr.nodeName.toLowerCase(),oa=ae.getContentEditable(Wt);Le(oa)&&(tn=Ce,Ce=oa==="true",io=!0,pn=Q_(e,Wt));const xl=Ce&&!io;if(Yr(Wt)&&!Sz(e,c,Wt,Mr)){Be=null,cf(c)&&ae.remove(Wt);return}if(ot(Wt)){Be=null;return}if(vt(Wt,Mr,xl)){const Br=ae.rename(Wt,Se);A(Br),we.push(Br),Be=null;return}if(Xc(c)){let Br=M(a,Wt);if(!Br&&Le(xr)&&xx(c)&&(Br=M(a,xr)),!ii(c)||Br){Be=null;return}}Le(De)&&Nt(Wt,Mr,xl,pn)?(Be||(Be=ae.clone(De,!1),xr.insertBefore(Be,Wt),we.push(Be)),pn&&io&&(Ce=tn),Be.appendChild(Wt)):(Be=null,We(Po(Wt.childNodes),tt),io&&(Ce=tn),Be=null)};We(Ve,tt)}),c.links===!0&&We(we,Ve=>{const Be=tt=>{tt.nodeName==="A"&&A(tt,c),We(Po(tt.childNodes),Be)};Be(Ve)}),We(we,Ve=>{const Be=io=>{let tn=0;return We(io.childNodes,pn=>{!DR(pn)&&!wd(pn)&&tn++}),tn},tt=io=>Nn(io.childNodes,hx).filter(pn=>ae.getContentEditable(pn)!=="false"&&Dy(ae,pn,c)).map(pn=>{const xr=ae.clone(pn,!1);return A(xr),ae.replace(xr,io,!0),ae.remove(pn,!0),xr}).getOr(io),Wt=Be(Ve);if((we.length>1||!ae.isBlock(Ve))&&Wt===0){ae.remove(Ve,!0);return}(ii(c)||cf(c)&&c.wrapper)&&(!c.exact&&Wt===1&&(Ve=tt(Ve)),Vk(e,a,o,Ve),JC(e,c,t,o,Ve),_p(ae,c,o,Ve),V0(ae,c,o,Ve),Gh(ae,c,o,Ve),$C(e,c,o,Ve))})},X=my(r)?r:v.getNode();if(g.getContentEditable(X)==="false"&&!Q_(e,X)){r=X,M(a,r),xE(e,t,r,o);return}if(c){if(r)if(my(r)){if(!M(a,r)){const ae=g.createRng();ae.setStartBefore(r),ae.setEndAfter(r),P(g,dg(g,ae,a),!0)}}else P(g,r,!0);else!d||!ii(c)||lf(e).length?(v.setRng(L0(v.getRng())),X_(e,()=>{fy(e,(ae,J)=>{const ie=J?ae:dg(g,ae,a);P(g,ie,!1)})},Ao),e.nodeChanged()):bz(e,t,o),BC(e.formatter,t).each(ae=>{We(H0(e.selection),J=>Ez(g,J,ae,o))});c6(t,e)}xE(e,t,r,o)},QC=(e,t,o,r)=>{(r||e.selection.isEditable())&&Az(e,t,o,r)},eS=e=>xo(e,"vars"),zz=(e,t)=>{e.set({}),t.on("NodeChange",o=>{oc(t,o.element,e.get())}),t.on("FormatApply FormatRemove",o=>{const r=$.from(o.node).map(a=>my(a)?a:a.startContainer).bind(a=>jt(a)?$.some(a):$.from(a.parentElement)).getOrThunk(()=>Tz(t));oc(t,r,e.get())})},Tz=e=>e.selection.getStart(),Oz=(e,t,o,r,a)=>$o(t,g=>{const v=e.formatter.matchNode(g,o,a??{},r);return!gn(v)},g=>fz(e,g,o)?!0:r?!1:Le(e.formatter.matchNode(g,o,a,!0))),Dz=(e,t)=>{const o=t??Tz(e);return Ye(e0(e.dom,o),r=>jt(r)&&!Mc(r))},oc=(e,t,o)=>{const r=Dz(e,t);Bo(o,(a,c)=>{const d=g=>{const v=Oz(e,r,c,g.similar,eS(g)?g.vars:void 0),A=v.isSome();if(g.state.get()!==A){g.state.set(A);const M=v.getOr(t);eS(g)?g.callback(A,{node:M,format:c,parents:r}):We(g.callbacks,B=>B(A,{node:M,format:c,parents:r}))}};We([a.withSimilar,a.withoutSimilar],d),We(a.withVars,d)})},Rz=(e,t,o,r,a,c)=>{const d=t.get();We(o.split(","),g=>{const v=Hn(d,g).getOrThunk(()=>{const M={withSimilar:{state:Ys(!1),similar:!0,callbacks:[]},withoutSimilar:{state:Ys(!1),similar:!1,callbacks:[]},withVars:[]};return d[g]=M,M}),A=()=>{const M=Dz(e);return Oz(e,M,g,a,c).isSome()};if(gn(c)){const M=a?v.withSimilar:v.withoutSimilar;M.callbacks.push(r),M.callbacks.length===1&&M.state.set(A())}else v.withVars.push({state:Ys(A()),similar:a,vars:c,callback:r})}),t.set(d)},j0=(e,t,o)=>{const r=e.get();We(t.split(","),a=>Hn(r,a).each(c=>{r[a]={withSimilar:{...c.withSimilar,callbacks:Ye(c.withSimilar.callbacks,d=>d!==o)},withoutSimilar:{...c.withoutSimilar,callbacks:Ye(c.withoutSimilar.callbacks,d=>d!==o)},withVars:Ye(c.withVars,d=>d.callback!==o)}})),e.set(r)},m6=(e,t,o,r,a,c)=>(Rz(e,t,o,r,a,c),{unbind:()=>j0(t,o,r)}),Nz=(e,t,o,r)=>{const a=e.formatter.get(t);a&&(Dk(e,t,o,r)&&(!("toggle"in a[0])||a[0].toggle)?YC(e,t,o,r):QC(e,t,o,r))},tS=ft.explode,jk=()=>{const e={};return{addFilter:(a,c)=>{We(tS(a),d=>{xo(e,d)||(e[d]={name:d,callbacks:[]}),e[d].callbacks.push(c)})},getFilters:()=>ui(e),removeFilter:(a,c)=>{We(tS(a),d=>{if(xo(e,d))if(Le(c)){const g=e[d],v=Ye(g.callbacks,A=>A!==c);v.length>0?g.callbacks=v:delete e[d]}else delete e[d]})}}},Mz=(e,t)=>{We(t,o=>{e.attr(o,null)})},p6=(e,t,o)=>{e.addNodeFilter("font",r=>{We(r,a=>{const c=t.parse(a.attr("style")),d=a.attr("color"),g=a.attr("face"),v=a.attr("size");d&&(c.color=d),g&&(c["font-family"]=g),v&&ts(v).each(A=>{c["font-size"]=o[A-1]}),a.name="span",a.attr("style",t.serialize(c)),Mz(a,["color","face","size"])})})},g6=(e,t,o)=>{e.addNodeFilter("strike",r=>{const a=t.type!=="html4";We(r,c=>{if(a)c.name="s";else{const d=o.parse(c.attr("style"));d["text-decoration"]="line-through",c.name="span",c.attr("style",o.serialize(d))}})})},h6=(e,t,o)=>{var r;const a=u1();t.convert_fonts_to_spans&&p6(e,a,ft.explode((r=t.font_size_legacy_values)!==null&&r!==void 0?r:"")),g6(e,o,a)},oS=(e,t,o)=>{t.inline_styles&&h6(e,t,o)},b6=e=>fetch(e).then(t=>t.ok?t.blob():Promise.reject()).catch(()=>Promise.reject({message:`Cannot convert ${e} to Blob. Resource might not exist or is inaccessible.`,uriType:"blob"})),y6=e=>{const t=/([a-z0-9+\/=\s]+)/i.exec(e);return t?t[1]:""},Uk=e=>{const[t,...o]=e.split(","),r=o.join(","),a=/data:([^/]+\/[^;]+)(;.+)?/.exec(t);if(a){const c=a[2]===";base64",d=c?y6(r):decodeURIComponent(r);return $.some({type:a[1],data:d,base64Encoded:c})}else return $.none()},Bz=(e,t,o=!0)=>{let r=t;if(o)try{r=atob(t)}catch{return $.none()}const a=new Uint8Array(r.length);for(let c=0;c<a.length;c++)a[c]=r.charCodeAt(c);return $.some(new Blob([a],{type:e}))},v6=e=>new Promise((t,o)=>{Uk(e).bind(({type:r,data:a,base64Encoded:c})=>Bz(r,a,c)).fold(()=>o("Invalid data URI"),t)}),nS=e=>Ln(e,"blob:")?b6(e):Ln(e,"data:")?v6(e):Promise.reject("Unknown URI format"),U0=e=>new Promise((t,o)=>{const r=new FileReader;r.onloadend=()=>{t(r.result)},r.onerror=()=>{var a;o((a=r.error)===null||a===void 0?void 0:a.message)},r.readAsDataURL(e)});let Iz=0;const Lz=e=>"blobid"+Iz++,Zk=(e,t,o)=>Uk(e).bind(({data:r,type:a,base64Encoded:c})=>{if(t&&!c)return $.none();{const d=c?r:btoa(r);return o(d,a)}}),Pz=(e,t,o)=>{const r=e.create(Lz(),t,o);return e.add(r),r},Fz=(e,t,o=!1)=>Zk(t,o,(r,a)=>$.from(e.getByData(r,a)).orThunk(()=>Bz(a,r).map(c=>Pz(e,c,r)))),x6=(e,t)=>{const o=()=>Promise.reject("Invalid data URI");if(Ln(t,"blob:")){const r=e.getByUri(t);return Le(r)?Promise.resolve(r):nS(t).then(a=>U0(a).then(c=>Zk(c,!1,d=>$.some(Pz(e,a,d))).getOrThunk(o)))}else return Ln(t,"data:")?Fz(e,t).fold(o,r=>Promise.resolve(r)):Promise.reject("Unknown image data format")},Kh=/^(?:(?:(?:[A-Za-z][A-Za-z\d.+-]{0,14}:\/\/(?:[-.~*+=!&;:'%@?^${}(),\w]+@)?|www\.|[-;:&=+$,.\w]+@)([A-Za-z\d-]+(?:\.[A-Za-z\d-]+)*))(?::\d+)?(?:\/(?:[-.~*+=!;:'%@$(),\/\w]*[-~*+=%@$()\/\w])?)?(?:\?(?:[-.~*+=!&;:'%@?^${}(),\/\w]+)?)?(?:#(?:[-.~*+=!&;:'%@?^${}(),\/\w]+)?)?)$/,k6=e=>$.from(e.match(Kh)).bind(t=>ps(t,1)).map(t=>Ln(t,"www.")?t.substring(4):t),Z0=(e,t)=>{$.from(e.attr("src")).bind(k6).forall(o=>!nn(t,o))&&e.attr("sandbox","")},rS=(e,t)=>Ln(e,`${t}/`),sS=e=>gn(e)?"iframe":rS(e,"image")?"img":rS(e,"video")?"video":rS(e,"audio")?"audio":"iframe",Hz=({type:e,src:t,width:o,height:r}={},a,c)=>{const d=sS(e),g=new Ai(d,1);return g.attr(d==="audio"?{src:t}:{src:t,width:o,height:r}),(d==="audio"||d==="video")&&g.attr("controls",""),d==="iframe"&&a&&Z0(g,c),g},$z=e=>Le(e.attr("data-mce-bogus")),Vz=e=>e.attr("src")===Wo.transparentSrc||Le(e.attr("data-mce-placeholder")),Wk=(e,t)=>{const{blob_cache:o}=t;if(o){const r=a=>{const c=a.attr("src");Vz(a)||$z(a)||vo(c)||Fz(o,c,!0).each(d=>{a.attr("src",d.blobUri())})};e.addAttributeFilter("src",a=>We(a,r))}},w6=(e,t)=>{var o,r;const a=e.schema;e.addAttributeFilter("href",v=>{let A=v.length;const M=P=>P.split(" ").filter(ae=>ae.length>0).concat(["noopener"]).sort().join(" "),B=P=>{const X=P?ft.trim(P):"";return/\b(noopener)\b/g.test(X)?X:M(X)};if(!t.allow_unsafe_link_target)for(;A--;){const P=v[A];P.name==="a"&&P.attr("target")==="_blank"&&P.attr("rel",B(P.attr("rel")))}}),t.allow_html_in_named_anchor||e.addAttributeFilter("id,name",v=>{let A=v.length,M,B,P,X;for(;A--;)if(X=v[A],X.name==="a"&&X.firstChild&&!X.attr("href"))for(P=X.parent,M=X.lastChild;M&&P;)B=M.prev,P.insert(M,X),M=B}),t.fix_list_elements&&e.addNodeFilter("ul,ol",v=>{let A=v.length,M,B;for(;A--;)if(M=v[A],B=M.parent,B&&(B.name==="ul"||B.name==="ol"))if(M.prev&&M.prev.name==="li")M.prev.append(M);else{const P=new Ai("li",1);P.attr("style","list-style-type: none"),M.wrap(P)}});const c=a.getValidClasses();t.validate&&c&&e.addAttributeFilter("class",v=>{var A;let M=v.length;for(;M--;){const B=v[M],P=(A=B.attr("class"))!==null&&A!==void 0?A:"",X=ft.explode(P," ");let ae="";for(let J=0;J<X.length;J++){const ie=X[J];let we=!1,Ce=c["*"];Ce&&Ce[ie]&&(we=!0),Ce=c[B.name],!we&&Ce&&Ce[ie]&&(we=!0),we&&(ae&&(ae+=" "),ae+=ie)}ae.length||(ae=null),B.attr("class",ae)}}),Wk(e,t);const d=(o=t.sandbox_iframes)!==null&&o!==void 0?o:!1,g=Ea((r=t.sandbox_iframes_exclusions)!==null&&r!==void 0?r:[]);t.convert_unsafe_embeds&&e.addNodeFilter("object,embed",v=>We(v,A=>{A.replace(Hz({type:A.attr("type"),src:A.name==="object"?A.attr("data"):A.attr("src"),width:A.attr("width"),height:A.attr("height")},d,g))})),d&&e.addNodeFilter("iframe",v=>We(v,A=>Z0(A,g)))},{entries:jz,setPrototypeOf:qk,isFrozen:Uz,getPrototypeOf:_6,getOwnPropertyDescriptor:C6}=Object;let{freeze:ed,seal:gf,create:aS}=Object,{apply:Gk,construct:iS}=typeof Reflect<"u"&&Reflect;Gk||(Gk=function(t,o,r){return t.apply(o,r)}),ed||(ed=function(t){return t}),gf||(gf=function(t){return t}),iS||(iS=function(t,o){return new t(...o)});const S6=Od(Array.prototype.forEach),ja=Od(Array.prototype.pop),W0=Od(Array.prototype.push),Kk=Od(String.prototype.toLowerCase),Yk=Od(String.prototype.toString),lS=Od(String.prototype.match),Mu=Od(String.prototype.replace),Dg=Od(String.prototype.indexOf),cS=Od(String.prototype.trim),Td=Od(RegExp.prototype.test),Yh=dS(TypeError);function Od(e){return function(t){for(var o=arguments.length,r=new Array(o>1?o-1:0),a=1;a<o;a++)r[a-1]=arguments[a];return Gk(e,t,r)}}function dS(e){return function(){for(var t=arguments.length,o=new Array(t),r=0;r<t;r++)o[r]=arguments[r];return iS(e,o)}}function vr(e,t,o){var r;o=(r=o)!==null&&r!==void 0?r:Kk,qk&&qk(e,null);let a=t.length;for(;a--;){let c=t[a];if(typeof c=="string"){const d=o(c);d!==c&&(Uz(t)||(t[a]=d),c=d)}e[c]=!0}return e}function Cp(e){const t=aS(null);for(const[o,r]of jz(e))t[o]=r;return t}function Xh(e,t){for(;e!==null;){const r=C6(e,t);if(r){if(r.get)return Od(r.get);if(typeof r.value=="function")return Od(r.value)}e=_6(e)}function o(r){return console.warn("fallback value for",r),null}return o}const Py=ed(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),Jh=ed(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),Dd=ed(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),q0=ed(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),Xk=ed(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),Zz=ed(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),Wz=ed(["#text"]),uS=ed(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),fS=ed(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),qz=ed(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Rg=ed(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),E6=gf(/\{\{[\w\W]*|[\w\W]*\}\}/gm),A6=gf(/<%[\w\W]*|[\w\W]*%>/gm),z6=gf(/\${[\w\W]*}/gm),T6=gf(/^data-[\-\w.\u00B7-\uFFFF]/),O6=gf(/^aria-[\-\w]+$/),Gz=gf(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),D6=gf(/^(?:\w+script|data):/i),R6=gf(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),Kz=gf(/^html$/i);var Yz=Object.freeze({__proto__:null,MUSTACHE_EXPR:E6,ERB_EXPR:A6,TMPLIT_EXPR:z6,DATA_ATTR:T6,ARIA_ATTR:O6,IS_ALLOWED_URI:Gz,IS_SCRIPT_OR_DATA:D6,ATTR_WHITESPACE:R6,DOCTYPE_NAME:Kz});const N6=()=>typeof window>"u"?null:window,Xz=function(t,o){if(typeof t!="object"||typeof t.createPolicy!="function")return null;let r=null;const a="data-tt-policy-suffix";o&&o.hasAttribute(a)&&(r=o.getAttribute(a));const c="dompurify"+(r?"#"+r:"");try{return t.createPolicy(c,{createHTML(d){return d},createScriptURL(d){return d}})}catch{return console.warn("TrustedTypes policy "+c+" could not be created."),null}};function mS(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:N6();const t=dn=>mS(dn);if(t.version="3.0.5",t.removed=[],!e||!e.document||e.document.nodeType!==9)return t.isSupported=!1,t;const o=e.document,r=o.currentScript;let{document:a}=e;const{DocumentFragment:c,HTMLTemplateElement:d,Node:g,Element:v,NodeFilter:A,NamedNodeMap:M=e.NamedNodeMap||e.MozNamedAttrMap,HTMLFormElement:B,DOMParser:P,trustedTypes:X}=e,ae=v.prototype,J=Xh(ae,"cloneNode"),ie=Xh(ae,"nextSibling"),we=Xh(ae,"childNodes"),Ce=Xh(ae,"parentNode");if(typeof d=="function"){const dn=a.createElement("template");dn.content&&dn.content.ownerDocument&&(a=dn.content.ownerDocument)}let Se,De="";const{implementation:ot,createNodeIterator:vt,createDocumentFragment:Nt,getElementsByTagName:Ve}=a,{importNode:Be}=o;let tt={};t.isSupported=typeof jz=="function"&&typeof Ce=="function"&&ot&&ot.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:Wt,ERB_EXPR:io,TMPLIT_EXPR:tn,DATA_ATTR:pn,ARIA_ATTR:xr,IS_SCRIPT_OR_DATA:Mr,ATTR_WHITESPACE:oa}=Yz;let{IS_ALLOWED_URI:xl}=Yz,Br=null;const St=vr({},[...Py,...Jh,...Dd,...Xk,...Wz]);let Xt=null;const Zn=vr({},[...uS,...fS,...qz,...Rg]);let zt=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),go=null,on=null,Rt=!0,Yo=!0,cn=!1,zi=!0,kr=!1,ci=!1,Cf=!1,Mp=!1,xc=!1,ru=!1,Sf=!1,su=!0,Ef=!1;const no="user-content-";let En=!0,Ms=!1,ma={},qa=null;const rl=vr({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let Na=null;const Ma=vr({},["audio","video","img","source","image","track"]);let kc=null;const Cm=vr({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Sm="http://www.w3.org/1998/Math/MathML",Em="http://www.w3.org/2000/svg",Af="http://www.w3.org/1999/xhtml";let e1=Af,t_=!1,o_=null;const Q7=vr({},[Sm,Em,Af],Yk);let fb;const Z5=["application/xhtml+xml","text/html"],WL="text/html";let rc,wv=null;const qL=a.createElement("form"),e8=function(Pe){return Pe instanceof RegExp||Pe instanceof Function},Ug=function(Pe){if(!(wv&&wv===Pe)){if((!Pe||typeof Pe!="object")&&(Pe={}),Pe=Cp(Pe),fb=Z5.indexOf(Pe.PARSER_MEDIA_TYPE)===-1?fb=WL:fb=Pe.PARSER_MEDIA_TYPE,rc=fb==="application/xhtml+xml"?Yk:Kk,Br="ALLOWED_TAGS"in Pe?vr({},Pe.ALLOWED_TAGS,rc):St,Xt="ALLOWED_ATTR"in Pe?vr({},Pe.ALLOWED_ATTR,rc):Zn,o_="ALLOWED_NAMESPACES"in Pe?vr({},Pe.ALLOWED_NAMESPACES,Yk):Q7,kc="ADD_URI_SAFE_ATTR"in Pe?vr(Cp(Cm),Pe.ADD_URI_SAFE_ATTR,rc):Cm,Na="ADD_DATA_URI_TAGS"in Pe?vr(Cp(Ma),Pe.ADD_DATA_URI_TAGS,rc):Ma,qa="FORBID_CONTENTS"in Pe?vr({},Pe.FORBID_CONTENTS,rc):rl,go="FORBID_TAGS"in Pe?vr({},Pe.FORBID_TAGS,rc):{},on="FORBID_ATTR"in Pe?vr({},Pe.FORBID_ATTR,rc):{},ma="USE_PROFILES"in Pe?Pe.USE_PROFILES:!1,Rt=Pe.ALLOW_ARIA_ATTR!==!1,Yo=Pe.ALLOW_DATA_ATTR!==!1,cn=Pe.ALLOW_UNKNOWN_PROTOCOLS||!1,zi=Pe.ALLOW_SELF_CLOSE_IN_ATTR!==!1,kr=Pe.SAFE_FOR_TEMPLATES||!1,ci=Pe.WHOLE_DOCUMENT||!1,xc=Pe.RETURN_DOM||!1,ru=Pe.RETURN_DOM_FRAGMENT||!1,Sf=Pe.RETURN_TRUSTED_TYPE||!1,Mp=Pe.FORCE_BODY||!1,su=Pe.SANITIZE_DOM!==!1,Ef=Pe.SANITIZE_NAMED_PROPS||!1,En=Pe.KEEP_CONTENT!==!1,Ms=Pe.IN_PLACE||!1,xl=Pe.ALLOWED_URI_REGEXP||Gz,e1=Pe.NAMESPACE||Af,zt=Pe.CUSTOM_ELEMENT_HANDLING||{},Pe.CUSTOM_ELEMENT_HANDLING&&e8(Pe.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(zt.tagNameCheck=Pe.CUSTOM_ELEMENT_HANDLING.tagNameCheck),Pe.CUSTOM_ELEMENT_HANDLING&&e8(Pe.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(zt.attributeNameCheck=Pe.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),Pe.CUSTOM_ELEMENT_HANDLING&&typeof Pe.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(zt.allowCustomizedBuiltInElements=Pe.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),kr&&(Yo=!1),ru&&(xc=!0),ma&&(Br=vr({},[...Wz]),Xt=[],ma.html===!0&&(vr(Br,Py),vr(Xt,uS)),ma.svg===!0&&(vr(Br,Jh),vr(Xt,fS),vr(Xt,Rg)),ma.svgFilters===!0&&(vr(Br,Dd),vr(Xt,fS),vr(Xt,Rg)),ma.mathMl===!0&&(vr(Br,Xk),vr(Xt,qz),vr(Xt,Rg))),Pe.ADD_TAGS&&(Br===St&&(Br=Cp(Br)),vr(Br,Pe.ADD_TAGS,rc)),Pe.ADD_ATTR&&(Xt===Zn&&(Xt=Cp(Xt)),vr(Xt,Pe.ADD_ATTR,rc)),Pe.ADD_URI_SAFE_ATTR&&vr(kc,Pe.ADD_URI_SAFE_ATTR,rc),Pe.FORBID_CONTENTS&&(qa===rl&&(qa=Cp(qa)),vr(qa,Pe.FORBID_CONTENTS,rc)),En&&(Br["#text"]=!0),ci&&vr(Br,["html","head","body"]),Br.table&&(vr(Br,["tbody"]),delete go.tbody),Pe.TRUSTED_TYPES_POLICY){if(typeof Pe.TRUSTED_TYPES_POLICY.createHTML!="function")throw Yh('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof Pe.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw Yh('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');Se=Pe.TRUSTED_TYPES_POLICY,De=Se.createHTML("")}else Se===void 0&&(Se=Xz(X,r)),Se!==null&&typeof De=="string"&&(De=Se.createHTML(""));ed&&ed(Pe),wv=Pe}},G3=vr({},["mi","mo","mn","ms","mtext"]),Me=vr({},["foreignobject","desc","title","annotation-xml"]),Ie=vr({},["title","style","font","a","script"]),Ct=vr({},Jh);vr(Ct,Dd),vr(Ct,q0);const bt=vr({},Xk);vr(bt,Zz);const _o=function(Pe){let Kt=Ce(Pe);(!Kt||!Kt.tagName)&&(Kt={namespaceURI:e1,tagName:"template"});const Mo=Kk(Pe.tagName),Ca=Kk(Kt.tagName);return o_[Pe.namespaceURI]?Pe.namespaceURI===Em?Kt.namespaceURI===Af?Mo==="svg":Kt.namespaceURI===Sm?Mo==="svg"&&(Ca==="annotation-xml"||G3[Ca]):!!Ct[Mo]:Pe.namespaceURI===Sm?Kt.namespaceURI===Af?Mo==="math":Kt.namespaceURI===Em?Mo==="math"&&Me[Ca]:!!bt[Mo]:Pe.namespaceURI===Af?Kt.namespaceURI===Em&&!Me[Ca]||Kt.namespaceURI===Sm&&!G3[Ca]?!1:!bt[Mo]&&(Ie[Mo]||!Ct[Mo]):!!(fb==="application/xhtml+xml"&&o_[Pe.namespaceURI]):!1},yn=function(Pe){W0(t.removed,{element:Pe});try{Pe.parentNode.removeChild(Pe)}catch{Pe.remove()}},Bs=function(Pe,Kt){try{W0(t.removed,{attribute:Kt.getAttributeNode(Pe),from:Kt})}catch{W0(t.removed,{attribute:null,from:Kt})}if(Kt.removeAttribute(Pe),Pe==="is"&&!Xt[Pe])if(xc||ru)try{yn(Kt)}catch{}else try{Kt.setAttribute(Pe,"")}catch{}},Am=function(Pe){let Kt,Mo;if(Mp)Pe="<remove></remove>"+Pe;else{const zm=lS(Pe,/^[\r\n\t ]+/);Mo=zm&&zm[0]}fb==="application/xhtml+xml"&&e1===Af&&(Pe='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+Pe+"</body></html>");const Ca=Se?Se.createHTML(Pe):Pe;if(e1===Af)try{Kt=new P().parseFromString(Ca,fb)}catch{}if(!Kt||!Kt.documentElement){Kt=ot.createDocument(e1,"template",null);try{Kt.documentElement.innerHTML=t_?De:Ca}catch{}}const wc=Kt.body||Kt.documentElement;return Pe&&Mo&&wc.insertBefore(a.createTextNode(Mo),wc.childNodes[0]||null),e1===Af?Ve.call(Kt,ci?"html":"body")[0]:ci?Kt.documentElement:wc},W5=function(Pe){return vt.call(Pe.ownerDocument||Pe,Pe,A.SHOW_ELEMENT|A.SHOW_COMMENT|A.SHOW_TEXT,null,!1)},DZ=function(Pe){return Pe instanceof B&&(typeof Pe.nodeName!="string"||typeof Pe.textContent!="string"||typeof Pe.removeChild!="function"||!(Pe.attributes instanceof M)||typeof Pe.removeAttribute!="function"||typeof Pe.setAttribute!="function"||typeof Pe.namespaceURI!="string"||typeof Pe.insertBefore!="function"||typeof Pe.hasChildNodes!="function")},q5=function(Pe){return typeof g=="object"?Pe instanceof g:Pe&&typeof Pe=="object"&&typeof Pe.nodeType=="number"&&typeof Pe.nodeName=="string"},mb=function(Pe,Kt,Mo){tt[Pe]&&S6(tt[Pe],Ca=>{Ca.call(t,Kt,Mo,wv)})},GL=function(Pe){let Kt;if(mb("beforeSanitizeElements",Pe,null),DZ(Pe))return yn(Pe),!0;const Mo=rc(Pe.nodeName);if(mb("uponSanitizeElement",Pe,{tagName:Mo,allowedTags:Br}),Pe.hasChildNodes()&&!q5(Pe.firstElementChild)&&(!q5(Pe.content)||!q5(Pe.content.firstElementChild))&&Td(/<[/\w]/g,Pe.innerHTML)&&Td(/<[/\w]/g,Pe.textContent))return yn(Pe),!0;if(!Br[Mo]||go[Mo]){if(!go[Mo]&&YL(Mo)&&(zt.tagNameCheck instanceof RegExp&&Td(zt.tagNameCheck,Mo)||zt.tagNameCheck instanceof Function&&zt.tagNameCheck(Mo)))return!1;if(En&&!qa[Mo]){const Ca=Ce(Pe)||Pe.parentNode,wc=we(Pe)||Pe.childNodes;if(wc&&Ca){const zm=wc.length;for(let Zi=zm-1;Zi>=0;--Zi)Ca.insertBefore(J(wc[Zi],!0),ie(Pe))}}return yn(Pe),!0}return Pe instanceof v&&!_o(Pe)||(Mo==="noscript"||Mo==="noembed"||Mo==="noframes")&&Td(/<\/no(script|embed|frames)/i,Pe.innerHTML)?(yn(Pe),!0):(kr&&Pe.nodeType===3&&(Kt=Pe.textContent,Kt=Mu(Kt,Wt," "),Kt=Mu(Kt,io," "),Kt=Mu(Kt,tn," "),Pe.textContent!==Kt&&(W0(t.removed,{element:Pe.cloneNode()}),Pe.textContent=Kt)),mb("afterSanitizeElements",Pe,null),!1)},KL=function(Pe,Kt,Mo){if(su&&(Kt==="id"||Kt==="name")&&(Mo in a||Mo in qL))return!1;if(!(Yo&&!on[Kt]&&Td(pn,Kt))){if(!(Rt&&Td(xr,Kt))){if(!Xt[Kt]||on[Kt]){if(!(YL(Pe)&&(zt.tagNameCheck instanceof RegExp&&Td(zt.tagNameCheck,Pe)||zt.tagNameCheck instanceof Function&&zt.tagNameCheck(Pe))&&(zt.attributeNameCheck instanceof RegExp&&Td(zt.attributeNameCheck,Kt)||zt.attributeNameCheck instanceof Function&&zt.attributeNameCheck(Kt))||Kt==="is"&&zt.allowCustomizedBuiltInElements&&(zt.tagNameCheck instanceof RegExp&&Td(zt.tagNameCheck,Mo)||zt.tagNameCheck instanceof Function&&zt.tagNameCheck(Mo))))return!1}else if(!kc[Kt]){if(!Td(xl,Mu(Mo,oa,""))){if(!((Kt==="src"||Kt==="xlink:href"||Kt==="href")&&Pe!=="script"&&Dg(Mo,"data:")===0&&Na[Pe])){if(!(cn&&!Td(Mr,Mu(Mo,oa,"")))){if(Mo)return!1}}}}}}return!0},YL=function(Pe){return Pe.indexOf("-")>0},XL=function(Pe){let Kt,Mo,Ca,wc;mb("beforeSanitizeAttributes",Pe,null);const{attributes:zm}=Pe;if(!zm)return;const Zi={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:Xt};for(wc=zm.length;wc--;){Kt=zm[wc];const{name:Tm,namespaceURI:t8}=Kt;Mo=Tm==="value"?Kt.value:cS(Kt.value);const NZ=Mo;if(Ca=rc(Tm),Zi.attrName=Ca,Zi.attrValue=Mo,Zi.keepAttr=!0,Zi.forceKeepAttr=void 0,mb("uponSanitizeAttribute",Pe,Zi),Mo=Zi.attrValue,Zi.forceKeepAttr)continue;if(!Zi.keepAttr){Bs(Tm,Pe);continue}if(!zi&&Td(/\/>/i,Mo)){Bs(Tm,Pe);continue}kr&&(Mo=Mu(Mo,Wt," "),Mo=Mu(Mo,io," "),Mo=Mu(Mo,tn," "));const JL=rc(Pe.nodeName);if(!KL(JL,Ca,Mo)){Bs(Tm,Pe);continue}if(Ef&&(Ca==="id"||Ca==="name")&&(Bs(Tm,Pe),Mo=no+Mo),Se&&typeof X=="object"&&typeof X.getAttributeType=="function"&&!t8)switch(X.getAttributeType(JL,Ca)){case"TrustedHTML":{Mo=Se.createHTML(Mo);break}case"TrustedScriptURL":{Mo=Se.createScriptURL(Mo);break}}if(Mo!==NZ)try{t8?Pe.setAttributeNS(t8,Tm,Mo):Pe.setAttribute(Tm,Mo)}catch{Bs(Tm,Pe)}}mb("afterSanitizeAttributes",Pe,null)},RZ=function dn(Pe){let Kt;const Mo=W5(Pe);for(mb("beforeSanitizeShadowDOM",Pe,null);Kt=Mo.nextNode();)mb("uponSanitizeShadowNode",Kt,null),!GL(Kt)&&(Kt.content instanceof c&&dn(Kt.content),XL(Kt));mb("afterSanitizeShadowDOM",Pe,null)};return t.sanitize=function(dn){let Pe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Kt,Mo,Ca,wc;if(t_=!dn,t_&&(dn="<!-->"),typeof dn!="string"&&!q5(dn))if(typeof dn.toString=="function"){if(dn=dn.toString(),typeof dn!="string")throw Yh("dirty is not a string, aborting")}else throw Yh("toString is not a function");if(!t.isSupported)return dn;if(Cf||Ug(Pe),t.removed=[],typeof dn=="string"&&(Ms=!1),Ms){if(dn.nodeName){const Tm=rc(dn.nodeName);if(!Br[Tm]||go[Tm])throw Yh("root node is forbidden and cannot be sanitized in-place")}}else if(dn instanceof g)Kt=Am("<!---->"),Mo=Kt.ownerDocument.importNode(dn,!0),Mo.nodeType===1&&Mo.nodeName==="BODY"||Mo.nodeName==="HTML"?Kt=Mo:Kt.appendChild(Mo);else{if(!xc&&!kr&&!ci&&dn.indexOf("<")===-1)return Se&&Sf?Se.createHTML(dn):dn;if(Kt=Am(dn),!Kt)return xc?null:Sf?De:""}Kt&&Mp&&yn(Kt.firstChild);const zm=W5(Ms?dn:Kt);for(;Ca=zm.nextNode();)GL(Ca)||(Ca.content instanceof c&&RZ(Ca.content),XL(Ca));if(Ms)return dn;if(xc){if(ru)for(wc=Nt.call(Kt.ownerDocument);Kt.firstChild;)wc.appendChild(Kt.firstChild);else wc=Kt;return(Xt.shadowroot||Xt.shadowrootmode)&&(wc=Be.call(o,wc,!0)),wc}let Zi=ci?Kt.outerHTML:Kt.innerHTML;return ci&&Br["!doctype"]&&Kt.ownerDocument&&Kt.ownerDocument.doctype&&Kt.ownerDocument.doctype.name&&Td(Kz,Kt.ownerDocument.doctype.name)&&(Zi="<!DOCTYPE "+Kt.ownerDocument.doctype.name+`>
`+Zi),kr&&(Zi=Mu(Zi,Wt," "),Zi=Mu(Zi,io," "),Zi=Mu(Zi,tn," ")),Se&&Sf?Se.createHTML(Zi):Zi},t.setConfig=function(dn){Ug(dn),Cf=!0},t.clearConfig=function(){wv=null,Cf=!1},t.isValidAttribute=function(dn,Pe,Kt){wv||Ug({});const Mo=rc(dn),Ca=rc(Pe);return KL(Mo,Ca,Kt)},t.addHook=function(dn,Pe){typeof Pe=="function"&&(tt[dn]=tt[dn]||[],W0(tt[dn],Pe))},t.removeHook=function(dn){if(tt[dn])return ja(tt[dn])},t.removeHooks=function(dn){tt[dn]&&(tt[dn]=[])},t.removeAllHooks=function(){tt={}},t}var Jk=mS();const pS=ft.each,Jz=ft.trim,Qz=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],eT={ftp:21,http:80,https:443,mailto:25},M6=["img","video"],B6=(e,t)=>Le(e)?!e:Le(t)?!nn(M6,t):!0,tT=e=>{try{return decodeURIComponent(e)}catch{return unescape(e)}},oT=(e,t,o)=>{const r=tT(t).replace(/\s/g,"");return e.allow_script_urls?!1:/((java|vb)script|mhtml):/i.test(r)?!0:e.allow_html_data_urls?!1:/^data:image\//i.test(r)?B6(e.allow_svg_data_urls,o)&&/^data:image\/svg\+xml/i.test(r):/^data:/i.test(r)};class Bu{static parseDataUri(t){let o;const r=decodeURIComponent(t).split(","),a=/data:([^;]+)/.exec(r[0]);return a&&(o=a[1]),{type:o,data:r[1]}}static isDomSafe(t,o,r={}){if(r.allow_script_urls)return!0;{const a=jf.decode(t).replace(/[\s\u0000-\u001F]+/g,"");return!oT(r,a,o)}}static getDocumentBaseUrl(t){var o;let r;return t.protocol.indexOf("http")!==0&&t.protocol!=="file:"?r=(o=t.href)!==null&&o!==void 0?o:"":r=t.protocol+"//"+t.host+t.pathname,/^[^:]+:\/\/\/?[^\/]+\//.test(r)&&(r=r.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(r)||(r+="/")),r}constructor(t,o={}){this.path="",this.directory="",t=Jz(t),this.settings=o;const r=o.base_uri,a=this;if(/^([\w\-]+):([^\/]{2})/i.test(t)||/^\s*#/.test(t)){a.source=t;return}const c=t.indexOf("//")===0;if(t.indexOf("/")===0&&!c&&(t=(r&&r.protocol||"http")+"://mce_host"+t),!/^[\w\-]*:?\/\//.test(t)){const g=r?r.path:new Bu(document.location.href).directory;if((r==null?void 0:r.protocol)==="")t="//mce_host"+a.toAbsPath(g,t);else{const v=/([^#?]*)([#?]?.*)/.exec(t);v&&(t=(r&&r.protocol||"http")+"://mce_host"+a.toAbsPath(g,v[1])+v[2])}}t=t.replace(/@@/g,"(mce_at)");const d=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@\/]*):?([^:@\/]*))?@)?(\[[a-zA-Z0-9:.%]+\]|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(t);d&&pS(Qz,(g,v)=>{let A=d[v];A&&(A=A.replace(/\(mce_at\)/g,"@@")),a[g]=A}),r&&(a.protocol||(a.protocol=r.protocol),a.userInfo||(a.userInfo=r.userInfo),!a.port&&a.host==="mce_host"&&(a.port=r.port),(!a.host||a.host==="mce_host")&&(a.host=r.host),a.source=""),c&&(a.protocol="")}setPath(t){const o=/^(.*?)\/?(\w+)?$/.exec(t);o&&(this.path=o[0],this.directory=o[1],this.file=o[2]),this.source="",this.getURI()}toRelative(t){if(t==="./")return t;const o=new Bu(t,{base_uri:this});if(o.host!=="mce_host"&&this.host!==o.host&&o.host||this.port!==o.port||this.protocol!==o.protocol&&o.protocol!=="")return o.getURI();const r=this.getURI(),a=o.getURI();if(r===a||r.charAt(r.length-1)==="/"&&r.substr(0,r.length-1)===a)return r;let c=this.toRelPath(this.path,o.path);return o.query&&(c+="?"+o.query),o.anchor&&(c+="#"+o.anchor),c}toAbsolute(t,o){const r=new Bu(t,{base_uri:this});return r.getURI(o&&this.isSameOrigin(r))}isSameOrigin(t){if(this.host==t.host&&this.protocol==t.protocol){if(this.port==t.port)return!0;const o=this.protocol?eT[this.protocol]:null;if(o&&(this.port||o)==(t.port||o))return!0}return!1}toRelPath(t,o){let r=0,a="",c,d;const g=t.substring(0,t.lastIndexOf("/")).split("/"),v=o.split("/");if(g.length>=v.length){for(c=0,d=g.length;c<d;c++)if(c>=v.length||g[c]!==v[c]){r=c+1;break}}if(g.length<v.length){for(c=0,d=v.length;c<d;c++)if(c>=g.length||g[c]!==v[c]){r=c+1;break}}if(r===1)return o;for(c=0,d=g.length-(r-1);c<d;c++)a+="../";for(c=r-1,d=v.length;c<d;c++)c!==r-1?a+="/"+v[c]:a+=v[c];return a}toAbsPath(t,o){let r=0;const a=/\/$/.test(o)?"/":"",c=t.split("/"),d=o.split("/"),g=[];pS(c,B=>{B&&g.push(B)});const v=[];for(let B=d.length-1;B>=0;B--)if(!(d[B].length===0||d[B]===".")){if(d[B]===".."){r++;continue}if(r>0){r--;continue}v.push(d[B])}const A=g.length-r;let M;return A<=0?M=qs(v).join("/"):M=g.slice(0,A).join("/")+"/"+qs(v).join("/"),M.indexOf("/")!==0&&(M="/"+M),a&&M.lastIndexOf("/")!==M.length-1&&(M+=a),M}getURI(t=!1){let o;return(!this.source||t)&&(o="",t||(this.protocol?o+=this.protocol+"://":o+="//",this.userInfo&&(o+=this.userInfo+"@"),this.host&&(o+=this.host),this.port&&(o+=":"+this.port)),this.path&&(o+=this.path),this.query&&(o+="?"+this.query),this.anchor&&(o+="#"+this.anchor),this.source=o),this.source}}const nT=ft.makeMap("src,href,data,background,action,formaction,poster,xlink:href"),Qk="data-mce-type";let rT=0;const gS=(e,t,o,r,a)=>{var c,d,g,v;const A=t.validate,M=o.getSpecialElements();e.nodeType===sc&&!t.allow_conditional_comments&&/^\[if/i.test((c=e.nodeValue)!==null&&c!==void 0?c:"")&&(e.nodeValue=" "+e.nodeValue);const B=(d=a==null?void 0:a.tagName)!==null&&d!==void 0?d:e.nodeName.toLowerCase();if(r!=="html"&&o.isValid(r)){Le(a)&&(a.allowedTags[B]=!0);return}if(e.nodeType!==Ol||B==="body")return;const P=fe.fromDom(e),X=vs(P,Qk),ae=Oa(P,"data-mce-bogus");if(!X&&He(ae)){ae==="all"?fr(P):Pr(P);return}const J=o.getElementRule(B);if(A&&!J){xo(M,B)?fr(P):Pr(P);return}else Le(a)&&(a.allowedTags[B]=!0);if(A&&J&&!X){if(We((g=J.attributesForced)!==null&&g!==void 0?g:[],ie=>{Pn(P,ie.name,ie.value==="{$uid}"?`mce_${rT++}`:ie.value)}),We((v=J.attributesDefault)!==null&&v!==void 0?v:[],ie=>{vs(P,ie.name)||Pn(P,ie.name,ie.value==="{$uid}"?`mce_${rT++}`:ie.value)}),J.attributesRequired&&!dr(J.attributesRequired,ie=>vs(P,ie))){Pr(P);return}if(J.removeEmptyAttrs&&Fu(P)){Pr(P);return}J.outputName&&J.outputName!==B&&Km(P,J.outputName)}},sT=(e,t,o,r,a)=>{const c=e.tagName.toLowerCase(),{attrName:d,attrValue:g}=a;a.keepAttr=aT(t,o,r,c,d,g),a.keepAttr?(a.allowedAttributes[d]=!0,lT(d,o)&&(a.attrValue=d),t.allow_svg_data_urls&&Ln(g,"data:image/svg+xml")&&(a.forceKeepAttr=!0)):iT(e,d)&&(a.forceKeepAttr=!0)},aT=(e,t,o,r,a,c)=>o!=="html"&&!ks(r)?!0:!(a in nT&&oT(e,c,r))&&(!e.validate||t.isValid(r,a)||Ln(a,"data-")||Ln(a,"aria-")),iT=(e,t)=>e.hasAttribute(Qk)&&(t==="id"||t==="class"||t==="style"),lT=(e,t)=>e in t.getBoolAttrs(),I6=(e,t,o,r)=>{const{attributes:a}=e;for(let c=a.length-1;c>=0;c--){const d=a[c],g=d.name,v=d.value;!aT(t,o,r,e.tagName.toLowerCase(),g,v)&&!iT(e,g)?e.removeAttribute(g):lT(g,o)&&e.setAttribute(g,g)}},L6=(e,t,o)=>{const r=Jk();return r.addHook("uponSanitizeElement",(a,c)=>{gS(a,e,t,o.track(a),c)}),r.addHook("uponSanitizeAttribute",(a,c)=>{sT(a,e,t,o.current(),c)}),r},ew=(e,t)=>{const r={...{IN_PLACE:!0,ALLOW_UNKNOWN_PROTOCOLS:!0,ALLOWED_TAGS:["#comment","#cdata-section","body"],ALLOWED_ATTR:[]}};return r.PARSER_MEDIA_TYPE=t,e.allow_script_urls?r.ALLOWED_URI_REGEXP=/.*/:e.allow_html_data_urls&&(r.ALLOWED_URI_REGEXP=/^(?!(\w+script|mhtml):)/i),r},cT=e=>{const t=z(e);if(t==="svg"){const o=["type","href","role","arcrole","title","show","actuate","label","from","to"].map(a=>`xlink:${a}`),r={IN_PLACE:!0,USE_PROFILES:{html:!0,svg:!0,svgFilters:!0},ALLOWED_ATTR:o};Jk().sanitize(e,r)}else if(t==="math"){const o={IN_PLACE:!0,USE_PROFILES:{mathMl:!0}};Jk().sanitize(e,o)}else throw new Error("Not a namespace element")},dT=(e,t)=>{const o=ee();if(e.sanitize){const r=L6(e,t,o);return{sanitizeHtmlElement:(c,d)=>{r.sanitize(c,ew(e,d)),r.removed=[],o.reset()},sanitizeNamespaceElement:cT}}else return{sanitizeHtmlElement:(c,d)=>{const g=document.createNodeIterator(c,NodeFilter.SHOW_ELEMENT|NodeFilter.SHOW_COMMENT|NodeFilter.SHOW_TEXT);let v;for(;v=g.nextNode();){const A=o.track(v);gS(v,e,t,A),jt(v)&&I6(v,e,t,A)}o.reset()},sanitizeNamespaceElement:lo}},hS=ft.makeMap,uT=ft.extend,fT=(e,t,o,r)=>{const a=e.name,c=a in o&&a!=="title"&&a!=="textarea",d=t.childNodes;for(let g=0,v=d.length;g<v;g++){const A=d[g],M=new Ai(A.nodeName.toLowerCase(),A.nodeType);if(jt(A)){const B=A.attributes;for(let P=0,X=B.length;P<X;P++){const ae=B[P];M.attr(ae.name,ae.value)}ks(M.name)&&(r(A),M.value=A.innerHTML)}else mt(A)?(M.value=A.data,c&&(M.raw=!0)):(Zt(A)||Kg(A)||jo(A))&&(M.value=A.data);ks(M.name)||fT(M,A,o,r),e.append(M)}},mT=(e,t,o)=>{const r=[];for(let a=e,c=a;a;c=a,a=a.walk()){const d=a;We(t,g=>g(d)),vo(d.parent)&&d!==e?a=c:r.push(d)}for(let a=r.length-1;a>=0;a--){const c=r[a];We(o,d=>d(c))}},P6=(e,t,o,r)=>{const a=o.validate,c=t.getNonEmptyElements(),d=t.getWhitespaceElements(),g=uT(hS("script,style,head,html,body,title,meta,param"),t.getBlockElements()),v=Ev(t),A=/[ \t\r\n]+/g,M=/^[ \t\r\n]+/,B=/[ \t\r\n]+$/,P=Ce=>{let Se=Ce.parent;for(;Le(Se);){if(Se.name in d)return!0;Se=Se.parent}return!1},X=Ce=>{let Se=Ce;for(;Le(Se);){if(Se.name in v)return zy(t,c,d,Se);Se=Se.parent}return!1},ae=Ce=>Ce.name in g||qd(t,Ce)||ks(Ce.name)&&Ce.parent===e,J=(Ce,Se)=>{const De=Se?Ce.prev:Ce.next;return Le(De)||vo(Ce.parent)?!1:ae(Ce.parent)&&(Ce.parent!==e||r.isRootContent===!0)};return[Ce=>{var Se;if(Ce.type===3&&!P(Ce)){let De=(Se=Ce.value)!==null&&Se!==void 0?Se:"";De=De.replace(A," "),(wk(Ce.prev,ae)||J(Ce,!0))&&(De=De.replace(M,"")),De.length===0?Ce.remove():Ce.value=De}},Ce=>{var Se;if(Ce.type===1){const De=t.getElementRule(Ce.name);if(a&&De){const ot=zy(t,c,d,Ce);De.paddInEmptyBlock&&ot&&X(Ce)?kk(o,r,ae,Ce):De.removeEmpty&&ot?ae(Ce)?Ce.remove():Ce.unwrap():De.paddEmpty&&(ot||Ay(Ce))&&kk(o,r,ae,Ce)}}else if(Ce.type===3&&!P(Ce)){let De=(Se=Ce.value)!==null&&Se!==void 0?Se:"";(Ce.next&&ae(Ce.next)||J(Ce,!1))&&(De=De.replace(B,"")),De.length===0?Ce.remove():Ce.value=De}}]},bS=(e,t)=>{var o;const r=(o=t.forced_root_block)!==null&&o!==void 0?o:e.forced_root_block;return r===!1?"":r===!0?"p":r},Qh=(e={},t=Zf())=>{const o=jk(),r=jk(),a={validate:!0,root_name:"body",sanitize:!0,...e},c=new DOMParser,d=dT(a,t),g=(Se,De,ot="html")=>{const vt=ot==="xhtml"?"application/xhtml+xml":"text/html",Nt=xo(t.getSpecialElements(),De.toLowerCase()),Ve=Nt?`<${De}>${Se}</${De}>`:Se,Be=ot==="xhtml"?`<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>${Ve}</body></html>`:`<body>${Ve}</body>`,tt=c.parseFromString(Be,vt).body;return d.sanitizeHtmlElement(tt,vt),Nt?tt.firstChild:tt},v=o.addFilter,A=o.getFilters,M=o.removeFilter,B=r.addFilter,P=r.getFilters,X=r.removeFilter,ae=(Se,De)=>{mf(t,Se)&&De.push(Se)},J=(Se,De)=>{const ot=He(De.attr(Qk)),vt=De.type===1&&!xo(Se,De.name)&&!qd(t,De)&&!ks(De.name);return De.type===3||vt&&!ot},ie=(Se,De)=>{const ot=uT(hS("script,style,head,html,body,title,meta,param"),t.getBlockElements()),vt=/^[ \t\r\n]+/,Nt=/[ \t\r\n]+$/;let Ve=Se.firstChild,Be=null;const tt=Wt=>{var io,tn;Wt&&(Ve=Wt.firstChild,Ve&&Ve.type===3&&(Ve.value=(io=Ve.value)===null||io===void 0?void 0:io.replace(vt,"")),Ve=Wt.lastChild,Ve&&Ve.type===3&&(Ve.value=(tn=Ve.value)===null||tn===void 0?void 0:tn.replace(Nt,"")))};if(t.isValidChild(Se.name,De.toLowerCase())){for(;Ve;){const Wt=Ve.next;J(ot,Ve)?(Be||(Be=new Ai(De,1),Be.attr(a.forced_root_block_attrs),Se.insert(Be,Ve)),Be.append(Ve)):(tt(Be),Be=null),Ve=Wt}tt(Be)}},Ce={schema:t,addAttributeFilter:B,getAttributeFilters:P,removeAttributeFilter:X,addNodeFilter:v,getNodeFilters:A,removeNodeFilter:M,parse:(Se,De={})=>{var ot;const vt=a.validate,Nt=(ot=De.context)!==null&&ot!==void 0?ot:a.root_name,Ve=g(Se,Nt,De.format);Cn(t,Ve);const Be=new Ai(Nt,11);fT(Be,Ve,t.getSpecialElements(),d.sanitizeNamespaceElement),Ve.innerHTML="";const[tt,Wt]=P6(Be,t,a,De),io=[],tn=vt?oa=>ae(oa,io):lo,pn={nodes:{},attributes:{}},xr=oa=>pC(A(),P(),oa,pn);if(mT(Be,[tt,xr],[Wt,tn]),io.reverse(),vt&&io.length>0)if(De.context){const{pass:oa,fail:xl}=it(io,Br=>Br.parent===Be);Ck(xl,t,Be,xr),De.invalid=oa.length>0}else Ck(io,t,Be,xr);const Mr=bS(a,De);return Mr&&(Be.name==="body"||De.isRootContent)&&ie(Be,Mr),De.invalid||xk(pn,De),Be}};return w6(Ce,a),oS(Ce,a,t),Ce},F6=e=>zk(e)?gp({validate:!1}).serialize(e):e,Ua=(e,t,o)=>{const r=F6(e),a=t(r);if(a.isDefaultPrevented())return a;if(zk(e))if(a.content!==r){const c=Qh({validate:!1,forced_root_block:!1,...o}).parse(a.content,{context:e.name});return{...a,content:c}}else return{...a,content:e};else return a},hf=e=>({sanitize:v4(e),sandbox_iframes:R_(e),sandbox_iframes_exclusions:nx(e)}),pT=(e,t)=>{if(t.no_events)return Gt.value(t);{const o=df(e,t);return o.isDefaultPrevented()?Gt.error(wE(e,{content:"",...o}).content):Gt.value(o)}},gT=(e,t,o)=>o.no_events?t:Ua(t,a=>wE(e,{...o,content:a}),hf(e)).content,yS=(e,t)=>{if(t.no_events)return Gt.value(t);{const o=Ua(t.content,r=>PR(e,{...t,content:r}),hf(e));return o.isDefaultPrevented()?(bc(e,o),Gt.error(void 0)):Gt.value(o)}},tw=(e,t,o)=>{o.no_events||bc(e,{...o,content:t})},Ng=(e,t,o)=>({element:e,width:t,rows:o}),hT=(e,t)=>({element:e,cells:t}),bf=(e,t)=>({x:e,y:t}),bT=(e,t)=>Kl(e,t).bind(ts).getOr(1),H6=(e,t,o,r,a)=>{const c=bT(a,"rowspan"),d=bT(a,"colspan"),g=e.rows;for(let v=o;v<o+c;v++){g[v]||(g[v]=hT(Hi(r),[]));for(let A=t;A<t+d;A++){const M=g[v].cells;M[A]=v===o&&A===t?a:tl(a)}}},yT=(e,t,o)=>{const r=e.rows;return!!(r[o]?r[o].cells:[])[t]},vT=(e,t,o)=>{for(;yT(e,t,o);)t++;return t},xT=e=>fo(e,(t,o)=>o.cells.length>t?o.cells.length:t,0),ow=(e,t)=>{const o=e.rows;for(let r=0;r<o.length;r++){const a=o[r].cells;for(let c=0;c<a.length;c++)if(an(a[c],t))return $.some(bf(c,r))}return $.none()},yf=(e,t,o,r,a)=>{const c=[],d=e.rows;for(let g=o;g<=a;g++){const v=d[g].cells,A=t<r?v.slice(t,r+1):v.slice(r,t+1);c.push(hT(d[g].element,A))}return c},kT=(e,t,o)=>{const r=t.x,a=t.y,c=o.x,d=o.y,g=a<d?yf(e,r,a,c,d):yf(e,r,d,c,a);return Ng(e.element,xT(g),g)},wT=(e,t)=>{const o=tl(e.element),r=fe.fromTag("tbody");return _r(r,t),Dr(o,r),o},nw=e=>To(e.rows,t=>{const o=To(t.cells,a=>{const c=Hi(a);return Ks(c,"colspan"),Ks(c,"rowspan"),c}),r=tl(t.element);return _r(r,o),r}),vS=e=>{const t=Ng(tl(e),0,[]);return We(ri(e,"tr"),(o,r)=>{We(ri(o,"td,th"),(a,c)=>{H6(t,vT(t,c,r),r,o,a)})}),Ng(t.element,xT(t.rows),t.rows)},_T=e=>wT(e,nw(e)),CT=(e,t,o)=>ow(e,t).bind(r=>ow(e,o).map(a=>kT(e,r,a))),ST=e=>Nn(e,t=>en(t)==="ul"||en(t)==="ol"),$6=(e,t)=>Nn(e,o=>en(o)==="li"&&X1(o,t)).fold(_e([]),o=>ST(e).map(r=>{const a=fe.fromTag(en(r)),c=di(ml(r),(d,g)=>Ln(g,"list-style"));return oi(a,c),[fe.fromTag("li"),a]}).getOr([])),V6=(e,t)=>{const o=fo(t,(r,a)=>(Dr(a,r),a),e);return t.length>0?Sd([o]):o},j6=e=>wu(e)?aa(e).filter(Lb).fold(_e([]),t=>[e,t]):Lb(e)?[e]:[],ET=(e,t,o)=>{const r=fe.fromDom(t.commonAncestorContainer),a=Ou(r,e),c=Ye(a,v=>o.isWrapper(en(v))),d=$6(a,t),g=c.concat(d.length?d:j6(r));return To(g,tl)},xS=()=>Sd([]),U6=(e,t,o)=>V6(fe.fromDom(t.cloneContents()),ET(e,t,o)),kS=(e,t)=>Ze(t,"table",yt(an,e)),AT=(e,t)=>kS(e,t[0]).bind(o=>{const r=t[0],a=t[t.length-1],c=vS(o);return CT(c,r,a).map(d=>Sd([_T(d)]))}).getOrThunk(xS),Z6=(e,t,o)=>t.length>0&&t[0].collapsed?xS():U6(e,t[0],o),zT=(e,t,o)=>{const r=nE(t,e);return r.length>0?AT(e,r):Z6(e,t,o)},rw=(e,t)=>t>=0&&t<e.length&&cy(e.charAt(t)),TT=e=>wa(e.innerText),bl=e=>e.map(t=>t.nodeName).getOr("div").toLowerCase(),W6=e=>$.from(e.selection.getRng()).map(t=>{var o;const r=$.from(e.dom.getParent(t.commonAncestorContainer,e.dom.isBlock)),a=e.getBody(),c=bl(r),d=fe.fromDom(t.cloneContents());cA(d),dA(d);const g=e.dom.add(a,c,{"data-mce-bogus":"all",style:"overflow: hidden; opacity: 0;"},d.dom),v=TT(g),A=wa((o=g.textContent)!==null&&o!==void 0?o:"");if(e.dom.remove(g),rw(A,0)||rw(A,A.length-1)){const M=r.getOr(a),B=TT(M),P=B.indexOf(v);if(P===-1)return v;{const X=rw(B,P-1),ae=rw(B,P+v.length);return(X?" ":"")+v+(ae?" ":"")}}else return v}).getOr(""),q6=(e,t)=>{const o=e.selection.getRng(),r=e.dom.create("body"),a=e.selection.getSel(),c=jx(e,as(a)),d=t.contextual?zT(fe.fromDom(e.getBody()),c,e.schema).dom:o.cloneContents();return d&&r.appendChild(d),e.selection.serializer.serialize(r,t)},G6=(e,t)=>{if(t.format==="text")return W6(e);{const o=q6(e,t);return t.format==="tree"?o:e.selection.isCollapsed()?"":o}},K6=(e,t)=>({...e,format:t,get:!0,selection:!0,getInner:!0}),sw=(e,t,o={})=>{const r=K6(o,t);return pT(e,r).fold(Tt,a=>{const c=G6(e,a);return gT(e,c,a)})},wS=0,aw=1,iw=2,Y6=(e,t)=>{const o=e.length+t.length+2,r=new Array(o),a=new Array(o),c=(M,B,P)=>({start:M,end:B,diag:P}),d=(M,B,P,X,ae)=>{const J=v(M,B,P,X);if(J===null||J.start===B&&J.diag===B-X||J.end===M&&J.diag===M-P){let ie=M,we=P;for(;ie<B||we<X;)ie<B&&we<X&&e[ie]===t[we]?(ae.push([wS,e[ie]]),++ie,++we):B-M>X-P?(ae.push([iw,e[ie]]),++ie):(ae.push([aw,t[we]]),++we)}else{d(M,J.start,P,J.start-J.diag,ae);for(let ie=J.start;ie<J.end;++ie)ae.push([wS,e[ie]]);d(J.end,B,J.end-J.diag,X,ae)}},g=(M,B,P,X)=>{let ae=M;for(;ae-B<X&&ae<P&&e[ae]===t[ae-B];)++ae;return c(M,ae,B)},v=(M,B,P,X)=>{const ae=B-M,J=X-P;if(ae===0||J===0)return null;const ie=ae-J,we=J+ae,Ce=(we%2===0?we:we+1)/2;r[1+Ce]=M,a[1+Ce]=B+1;let Se,De,ot,vt,Nt;for(Se=0;Se<=Ce;++Se){for(De=-Se;De<=Se;De+=2){for(ot=De+Ce,De===-Se||De!==Se&&r[ot-1]<r[ot+1]?r[ot]=r[ot+1]:r[ot]=r[ot-1]+1,vt=r[ot],Nt=vt-M+P-De;vt<B&&Nt<X&&e[vt]===t[Nt];)r[ot]=++vt,++Nt;if(ie%2!==0&&ie-Se<=De&&De<=ie+Se&&a[ot-ie]<=r[ot])return g(a[ot-ie],De+M-P,B,X)}for(De=ie-Se;De<=ie+Se;De+=2){for(ot=De+Ce-ie,De===ie-Se||De!==ie+Se&&a[ot+1]<=a[ot-1]?a[ot]=a[ot+1]-1:a[ot]=a[ot-1],vt=a[ot]-1,Nt=vt-M+P-De;vt>=M&&Nt>=P&&e[vt]===t[Nt];)a[ot]=vt--,Nt--;if(ie%2===0&&-Se<=De&&De<=Se&&a[ot]<=r[ot+ie])return g(a[ot],De+M-P,B,X)}}return null},A=[];return d(0,e.length,0,t.length,A),A},OT=e=>jt(e)?e.outerHTML:mt(e)?jf.encodeRaw(e.data,!1):Zt(e)?"<!--"+e.data+"-->":"",vf=e=>{let t;const o=document.createElement("div"),r=document.createDocumentFragment();for(e&&(o.innerHTML=e);t=o.firstChild;)r.appendChild(t);return r},DT=(e,t,o)=>{const r=vf(t);if(e.hasChildNodes()&&o<e.childNodes.length){const a=e.childNodes[o];e.insertBefore(r,a)}else e.appendChild(r)},X6=(e,t)=>{if(e.hasChildNodes()&&t<e.childNodes.length){const o=e.childNodes[t];e.removeChild(o)}},_S=(e,t)=>{let o=0;We(e,r=>{r[0]===wS?o++:r[0]===aw?(DT(t,r[1],o),o++):r[0]===iw&&X6(t,o)})},RT=(e,t)=>Ye(To(Po(e.childNodes),Ro(wa,OT)),o=>o.length>0),lw=(e,t)=>{const o=To(Po(t.childNodes),OT);return _S(Y6(o,e),t),t},NT=Ya(()=>document.implementation.createHTMLDocument("undo")),MT=e=>e.querySelector("iframe")!==null,BT=e=>({type:"fragmented",fragments:e,content:"",bookmark:null,beforeBookmark:null}),J6=e=>({type:"complete",fragments:null,content:e,bookmark:null,beforeBookmark:null}),cw=e=>{const t=e.serializer.getTempAttrs(),o=R2(e.getBody(),t);return MT(o)?BT(RT(o)):J6(wa(o.innerHTML))},G0=(e,t,o)=>{const r=o?t.beforeBookmark:t.bookmark;t.type==="fragmented"?lw(t.fragments,e.getBody()):e.setContent(t.content,{format:"raw",no_selection:Le(r)&&K4(r)?!r.isFakeCaret:!0}),r&&(e.selection.moveToBookmark(r),e.selection.scrollIntoView())},CS=e=>e.type==="fragmented"?e.fragments.join(""):e.content,IT=e=>{const t=fe.fromTag("body",NT());return Oc(t,CS(e)),We(ri(t,"*[data-mce-bogus]"),Pr),ud(t)},dw=(e,t)=>CS(e)===CS(t),SS=(e,t)=>IT(e)===IT(t),K0=(e,t)=>!e||!t?!1:dw(e,t)?!0:SS(e,t),uw=e=>e.get()===0,xf=(e,t,o)=>{uw(o)&&(e.typing=t)},LT=(e,t)=>{e.typing&&(xf(e,!1,t),e.add())},Q6=e=>{e.typing&&(e.typing=!1,e.add())},fw=(e,t,o)=>{uw(t)&&o.set(xt(e.selection))},PT=(e,t,o,r,a,c,d)=>{const g=cw(e),v=ft.extend(c||{},g);if(!uw(r)||e.removed)return null;const A=t.data[o.get()];if(e.dispatch("BeforeAddUndo",{level:v,lastLevel:A,originalEvent:d}).isDefaultPrevented()||A&&K0(A,v))return null;t.data[o.get()]&&a.get().each(P=>{t.data[o.get()].beforeBookmark=P});const M=f4(e);if(M&&t.data.length>M){for(let P=0;P<t.data.length-1;P++)t.data[P]=t.data[P+1];t.data.length--,o.set(t.data.length)}v.bookmark=xt(e.selection),o.get()<t.data.length-1&&(t.data.length=o.get()+1),t.data.push(v),o.set(t.data.length-1);const B={level:v,lastLevel:A,originalEvent:d};return o.get()>0?(e.setDirty(!0),e.dispatch("AddUndo",B),e.dispatch("change",B)):e.dispatch("AddUndo",B),v},FT=(e,t,o)=>{t.data=[],o.set(0),t.typing=!1,e.dispatch("ClearUndos")},HT=(e,t,o,r,a)=>{if(t.transact(r)){const c=t.data[o.get()].bookmark,d=t.data[o.get()-1];G0(e,d,!0),t.transact(a)&&(t.data[o.get()-1].beforeBookmark=c)}},eM=(e,t,o)=>{let r;return t.get()<o.length-1&&(t.set(t.get()+1),r=o[t.get()],G0(e,r,!1),e.setDirty(!0),e.dispatch("Redo",{level:r})),r},tM=(e,t,o,r)=>{let a;return t.typing&&(t.add(),t.typing=!1,xf(t,!1,o)),r.get()>0&&(r.set(r.get()-1),a=t.data[r.get()],G0(e,a,!0),e.setDirty(!0),e.dispatch("Undo",{level:a})),a},ES=e=>{e.clear(),e.add()},AS=(e,t,o)=>o.get()>0||t.typing&&t.data[0]&&!K0(cw(e),t.data[0]),zS=(e,t)=>t.get()<e.data.length-1&&!e.typing,$T=(e,t,o)=>(LT(e,t),e.beforeChange(),e.ignore(o),e.add()),mw=(e,t)=>{try{e.set(e.get()+1),t()}finally{e.set(e.get()-1)}},VT=(e,t)=>{const o=e.dom,r=Le(t)?t:e.getBody();We(o.select("table,a",r),a=>{switch(a.nodeName){case"TABLE":const c=tx(e),d=o.getAttrib(a,"border");(!d||d==="0")&&e.hasVisual?o.addClass(a,c):o.removeClass(a,c);break;case"A":if(!o.getAttrib(a,"href")){const g=o.getAttrib(a,"name")||a.id,v=sy(e);g&&e.hasVisual?o.addClass(a,v):o.removeClass(a,v)}break}}),e.dispatch("VisualAid",{element:t,hasVisual:e.hasVisual})},TS=e=>({init:{bindEvents:lo},undoManager:{beforeChange:(t,o)=>fw(e,t,o),add:(t,o,r,a,c,d)=>PT(e,t,o,r,a,c,d),undo:(t,o,r)=>tM(e,t,o,r),redo:(t,o)=>eM(e,t,o),clear:(t,o)=>FT(e,t,o),reset:t=>ES(t),hasUndo:(t,o)=>AS(e,t,o),hasRedo:(t,o)=>zS(t,o),transact:(t,o,r)=>$T(t,o,r),ignore:(t,o)=>mw(t,o),extra:(t,o,r,a)=>HT(e,t,o,r,a)},formatter:{match:(t,o,r,a)=>Dk(e,t,o,r,a),matchAll:(t,o)=>r6(e,t,o),matchNode:(t,o,r,a)=>pf(e,t,o,r,a),canApply:t=>s6(e,t),closest:t=>mz(e,t),apply:(t,o,r)=>QC(e,t,o,r),remove:(t,o,r,a)=>YC(e,t,o,r,a),toggle:(t,o,r)=>Nz(e,t,o,r),formatChanged:(t,o,r,a,c)=>m6(e,t,o,r,a,c)},editor:{getContent:t=>mA(e,t),setContent:(t,o)=>o6(e,t,o),insertContent:(t,o)=>e6(e,t,o),addVisual:t=>VT(e,t)},selection:{getContent:(t,o)=>sw(e,t,o)},autocompleter:{addDecoration:lo,removeDecoration:lo},raw:{getModel:()=>$.none()}}),oM=e=>{const t=A=>ne(A)?A:{},{init:o,undoManager:r,formatter:a,editor:c,selection:d,autocompleter:g,raw:v}=e;return{init:{bindEvents:o.bindEvents},undoManager:{beforeChange:r.beforeChange,add:r.add,undo:r.undo,redo:r.redo,clear:r.clear,reset:r.reset,hasUndo:r.hasUndo,hasRedo:r.hasRedo,transact:(A,M,B)=>r.transact(B),ignore:(A,M)=>r.ignore(M),extra:(A,M,B,P)=>r.extra(B,P)},formatter:{match:(A,M,B,P)=>a.match(A,t(M),P),matchAll:a.matchAll,matchNode:a.matchNode,canApply:A=>a.canApply(A),closest:A=>a.closest(A),apply:(A,M,B)=>a.apply(A,t(M)),remove:(A,M,B,P)=>a.remove(A,t(M)),toggle:(A,M,B)=>a.toggle(A,t(M)),formatChanged:(A,M,B,P,X)=>a.formatChanged(M,B,P,X)},editor:{getContent:A=>c.getContent(A),setContent:(A,M)=>({content:c.setContent(A,M),html:""}),insertContent:(A,M)=>(c.insertContent(A),""),addVisual:c.addVisual},selection:{getContent:(A,M)=>d.getContent(M)},autocompleter:{addDecoration:g.addDecoration,removeDecoration:g.removeDecoration},raw:{getModel:()=>$.some(v.getRawModel())}}},nM=()=>{const e=_e(null),t=_e("");return{init:{bindEvents:lo},undoManager:{beforeChange:lo,add:e,undo:e,redo:e,clear:lo,reset:lo,hasUndo:fn,hasRedo:fn,transact:e,ignore:lo,extra:lo},formatter:{match:fn,matchAll:_e([]),matchNode:_e(void 0),canApply:fn,closest:t,apply:lo,remove:lo,toggle:lo,formatChanged:_e({unbind:lo})},editor:{getContent:t,setContent:_e({content:"",html:""}),insertContent:_e(""),addVisual:lo},selection:{getContent:t},autocompleter:{addDecoration:lo,removeDecoration:lo},raw:{getModel:_e($.none())}}},Iu=e=>xo(e.plugins,"rtc"),jT=e=>Hn(e.plugins,"rtc").bind(t=>$.from(t.setup)),UT=e=>{const t=e;return jT(e).fold(()=>(t.rtcInstance=TS(e),$.none()),o=>(t.rtcInstance=nM(),$.some(()=>o().then(r=>(t.rtcInstance=oM(r),r.rtc.isRemote)))))},OS=e=>e.rtcInstance?e.rtcInstance:TS(e),li=e=>{const t=e.rtcInstance;if(t)return t;throw new Error("Failed to get RTC instance not yet initialized.")},rM=(e,t,o)=>{li(e).undoManager.beforeChange(t,o)},ZT=(e,t,o,r,a,c,d)=>li(e).undoManager.add(t,o,r,a,c,d),WT=(e,t,o,r)=>li(e).undoManager.undo(t,o,r),sM=(e,t,o)=>li(e).undoManager.redo(t,o),aM=(e,t,o)=>{li(e).undoManager.clear(t,o)},Fy=(e,t)=>{li(e).undoManager.reset(t)},iM=(e,t,o)=>li(e).undoManager.hasUndo(t,o),lM=(e,t,o)=>li(e).undoManager.hasRedo(t,o),qT=(e,t,o,r)=>li(e).undoManager.transact(t,o,r),GT=(e,t,o)=>{li(e).undoManager.ignore(t,o)},pw=(e,t,o,r,a)=>{li(e).undoManager.extra(t,o,r,a)},cM=(e,t,o,r,a)=>li(e).formatter.match(t,o,r,a),dM=(e,t,o)=>li(e).formatter.matchAll(t,o),uM=(e,t,o,r,a)=>li(e).formatter.matchNode(t,o,r,a),fM=(e,t)=>li(e).formatter.canApply(t),mM=(e,t)=>li(e).formatter.closest(t),pM=(e,t,o,r)=>{li(e).formatter.apply(t,o,r)},gM=(e,t,o,r,a)=>{li(e).formatter.remove(t,o,r,a)},hM=(e,t,o,r)=>{li(e).formatter.toggle(t,o,r)},bM=(e,t,o,r,a,c)=>li(e).formatter.formatChanged(t,o,r,a,c),yM=(e,t)=>OS(e).editor.getContent(t),Hr=(e,t,o)=>OS(e).editor.setContent(t,o),KT=(e,t,o)=>OS(e).editor.insertContent(t,o),DS=(e,t,o)=>li(e).selection.getContent(t,o),YT=(e,t)=>li(e).editor.addVisual(t),RS=e=>li(e).init.bindEvents(),NS=(e,t={})=>{const o=t.format?t.format:"html";return DS(e,o,t)},XT=e=>e.dom.length===0?(fr(e),$.none()):$.some(e),vM=(e,t)=>e.filter(o=>Tr.isBookmarkNode(o.dom)).bind(t?lc:Ml),JT=(e,t,o,r,a)=>{const c=e.dom,d=t.dom,g=r?c.length:d.length;r?(X2(c,d,a,!1,!r),o.setStart(d,g)):(X2(d,c,a,!1,!r),o.setEnd(d,g))},xM=(e,t,o)=>{aa(e).each(r=>{const a=e.dom;t&&Cy(r,Fe(a,0),o)?rk(a,0,o):!t&&$h(r,Fe(a,a.length),o)&&sk(a,a.length,o)})},QT=(e,t,o,r,a)=>{e.bind(c=>((r?sk:rk)(c.dom,r?c.dom.length:0,a),t.filter(ns).map(g=>JT(c,g,o,r,a)))).orThunk(()=>vM(t,r).or(t).filter(ns).map(d=>xM(d,r,a)))},Hy=(e,t,o)=>{const r=$.from(t.firstChild).map(fe.fromDom),a=$.from(t.lastChild).map(fe.fromDom);e.deleteContents(),e.insertNode(t);const c=r.bind(Ml).filter(ns).bind(XT),d=a.bind(lc).filter(ns).bind(XT);QT(c,r,e,!0,o),QT(d,a,e,!1,o),e.collapse(!1)},kM=(e,t)=>({format:"html",...e,set:!0,selection:!0,content:t}),$y=(e,t)=>{if(t.format!=="raw"){const o=e.selection.getRng(),r=e.dom.getParent(o.commonAncestorContainer,e.dom.isBlock),a=r?{context:r.nodeName.toLowerCase()}:{},c=e.parser.parse(t.content,{forced_root_block:!1,...a,...t});return gp({validate:!1},e.schema).serialize(c)}else return t.content},Y0=(e,t,o={})=>{const r=kM(o,t);yS(e,r).each(a=>{const c=$y(e,a),d=e.selection.getRng();Hy(d,d.createContextualFragment(c),e.schema),e.selection.setRng(d),Qd(e,d),tw(e,c,a)})},eb=(e,t,o)=>{if(xo(e,t)){const r=Ye(e[t],a=>a!==o);r.length===0?delete e[t]:e[t]=r}};var MS=(e,t)=>{let o,r;const a=(g,v)=>Nn(v,A=>e.is(A,g)),c=g=>e.getParents(g,void 0,e.getRoot()),d=()=>{o={},r={},t.on("NodeChange",g=>{const v=g.element,A=c(v),M={};Bo(o,(B,P)=>{a(P,A).each(X=>{r[P]||(We(B,ae=>{ae(!0,{node:X,selector:P,parents:A})}),r[P]=B),M[P]=B})}),Bo(r,(B,P)=>{M[P]||(delete r[P],We(B,X=>{X(!1,{node:v,selector:P,parents:A})}))})})};return{selectorChangedWithUnbind:(g,v)=>(o||d(),o[g]||(o[g]=[]),o[g].push(v),a(g,c(t.selection.getStart())).each(()=>{r[g]=o[g]}),{unbind:()=>{eb(o,g,v),eb(r,g,v)}})}};const BS=e=>!!(e&&e.ownerDocument)&&bi(fe.fromDom(e.ownerDocument),fe.fromDom(e)),eO=e=>e?BS(e.startContainer)&&BS(e.endContainer):!1,gw=(e,t,o,r)=>{let a,c;const{selectorChangedWithUnbind:d}=MS(e,r),g=(St,Xt)=>{const Zn=e.createRng();Le(St)&&Le(Xt)?(Zn.setStart(St,Xt),Zn.setEnd(St,Xt),De(Zn),we(!1)):(J1(e,Zn,r.getBody(),!0),De(Zn))},v=St=>NS(r,St),A=(St,Xt)=>Y0(r,St,Xt),M=St=>oA(r.getBody(),Se(),St),B=St=>nA(r.getBody(),Se(),St),P=(St,Xt)=>xl.getBookmark(St,Xt),X=St=>xl.moveToBookmark(St),ae=(St,Xt)=>(_0(e,St,Xt).each(De),St),J=()=>{const St=Se(),Xt=Ce();return!St||St.item?!1:St.compareEndPoints?St.compareEndPoints("StartToEnd",St)===0:!Xt||St.collapsed},ie=()=>{const St=Se(),Xt=r.getBody().querySelectorAll('[data-mce-selected="1"]');return Xt.length>0?Wr(Xt,Zn=>e.isEditable(Zn.parentElement)):eA(e,St)},we=St=>{const Xt=Se();Xt.collapse(!!St),De(Xt)},Ce=()=>t.getSelection?t.getSelection():t.document.selection,Se=()=>{let St;const Xt=(zt,go,on)=>{try{return go.compareBoundaryPoints(zt,on)}catch{return-1}},Zn=t.document;if(Le(r.bookmark)&&!Lh(r)){const zt=by(r);if(zt.isSome())return zt.map(go=>jx(r,[go])[0]).getOr(Zn.createRange())}try{const zt=Ce();zt&&!Bf(zt.anchorNode)&&(zt.rangeCount>0?St=zt.getRangeAt(0):St=Zn.createRange(),St=jx(r,[St])[0])}catch{}if(St||(St=Zn.createRange()),uc(St.startContainer)&&St.collapsed){const zt=e.getRoot();St.setStart(zt,0),St.setEnd(zt,0)}return a&&c&&(Xt(St.START_TO_START,St,a)===0&&Xt(St.END_TO_END,St,a)===0?St=c:(a=null,c=null)),St},De=(St,Xt)=>{if(!eO(St))return;const Zn=Ce();if(St=r.dispatch("SetSelectionRange",{range:St,forward:Xt}).range,Zn){c=St;try{Zn.removeAllRanges(),Zn.addRange(St)}catch{}Xt===!1&&Zn.extend&&(Zn.collapse(St.endContainer,St.endOffset),Zn.extend(St.startContainer,St.startOffset)),a=Zn.rangeCount>0?Zn.getRangeAt(0):null}if(!St.collapsed&&St.startContainer===St.endContainer&&(Zn!=null&&Zn.setBaseAndExtent)&&St.endOffset-St.startOffset<2&&St.startContainer.hasChildNodes()){const go=St.startContainer.childNodes[St.startOffset];go&&go.nodeName==="IMG"&&(Zn.setBaseAndExtent(St.startContainer,St.startOffset,St.endContainer,St.endOffset),(Zn.anchorNode!==St.startContainer||Zn.focusNode!==St.endContainer)&&Zn.setBaseAndExtent(go,0,go,1))}r.dispatch("AfterSetSelectionRange",{range:St,forward:Xt})},ot=St=>(A(e.getOuterHTML(St)),St),vt=()=>yN(r.getBody(),Se()),Nt=(St,Xt)=>O2(e,Se(),St,Xt),Ve=()=>{const St=Ce(),Xt=St==null?void 0:St.anchorNode,Zn=St==null?void 0:St.focusNode;if(!St||!Xt||!Zn||Bf(Xt)||Bf(Zn))return!0;const zt=e.createRng(),go=e.createRng();try{zt.setStart(Xt,St.anchorOffset),zt.collapse(!0),go.setStart(Zn,St.focusOffset),go.collapse(!0)}catch{return!0}return zt.compareBoundaryPoints(zt.START_TO_START,go)<=0},oa={dom:e,win:t,serializer:o,editor:r,expand:(St={type:"word"})=>De(gg(e).expand(Se(),St)),collapse:we,setCursorLocation:g,getContent:v,setContent:A,getBookmark:P,moveToBookmark:X,select:ae,isCollapsed:J,isEditable:ie,isForward:Ve,setNode:ot,getNode:vt,getSel:Ce,setRng:De,getRng:Se,getStart:M,getEnd:B,getSelectedBlocks:Nt,normalize:()=>{const St=Se(),Xt=Ce();if(!G1(Xt)&&uy(r)){const Zn=lm(e,St);return Zn.each(zt=>{De(zt,Ve())}),Zn.getOr(St)}return St},selectorChanged:(St,Xt)=>(d(St,Xt),oa),selectorChangedWithUnbind:d,getScrollContainer:()=>{let St,Xt=e.getRoot();for(;Xt&&Xt.nodeName!=="BODY";){if(Xt.scrollHeight>Xt.clientHeight){St=Xt;break}Xt=Xt.parentNode}return St},scrollIntoView:(St,Xt)=>{Le(St)?v2(r,St,Xt):Qd(r,Se(),Xt)},placeCaretAt:(St,Xt)=>De(DE(St,Xt,r.getDoc())),getBoundingClientRect:()=>{const St=Se();return St.collapsed?Fe.fromRangeStart(St).getClientRects()[0]:St.getBoundingClientRect()},destroy:()=>{t=a=c=null,Br.destroy()}},xl=Tr(oa),Br=yr(oa,r);return oa.bookmarkManager=xl,oa.controlSelection=Br,oa},tO=(e,t,o)=>{t.addNodeFilter("br",(r,a,c)=>{const d=ft.extend({},o.getBlockElements()),g=o.getNonEmptyElements(),v=o.getWhitespaceElements();d.body=1;const A=M=>M.name in d||qd(o,M);for(let M=0,B=r.length;M<B;M++){let P=r[M],X=P.parent;if(X&&A(X)&&P===X.lastChild){let ae=P.prev;for(;ae;){const J=ae.name;if(J!=="span"||ae.attr("data-mce-type")!=="bookmark"){J==="br"&&(P=null);break}ae=ae.prev}if(P&&(P.remove(),zy(o,g,v,X))){const J=o.getElementRule(X.name);J&&(J.removeEmpty?X.remove():J.paddEmpty&&kk(e,c,A,X))}}else{let ae=P;for(;X&&X.firstChild===ae&&X.lastChild===ae&&(ae=X,!d[X.name]);)X=X.parent;if(ae===X){const J=new Ai("#text",3);J.value=us,P.replace(J)}}}})},oO=(e,t,o)=>{e.addAttributeFilter("data-mce-tabindex",(r,a)=>{let c=r.length;for(;c--;){const d=r[c];d.attr("tabindex",d.attr("data-mce-tabindex")),d.attr(a,null)}}),e.addAttributeFilter("src,href,style",(r,a)=>{const c="data-mce-"+a,d=t.url_converter,g=t.url_converter_scope;let v=r.length;for(;v--;){const A=r[v];let M=A.attr(c);M!==void 0?(A.attr(a,M.length>0?M:null),A.attr(c,null)):(M=A.attr(a),a==="style"?M=o.serializeStyle(o.parseStyle(M),A.name):d&&(M=d.call(g,M,a,A.name)),A.attr(a,M.length>0?M:null))}}),e.addAttributeFilter("class",r=>{let a=r.length;for(;a--;){const c=r[a];let d=c.attr("class");d&&(d=d.replace(/(?:^|\s)mce-item-\w+(?!\S)/g,""),c.attr("class",d.length>0?d:null))}}),e.addAttributeFilter("data-mce-type",(r,a,c)=>{let d=r.length;for(;d--;){const g=r[d];g.attr("data-mce-type")==="bookmark"&&!c.cleanup&&($.from(g.firstChild).exists(A=>{var M;return!Pb((M=A.value)!==null&&M!==void 0?M:"")})?g.unwrap():g.remove())}}),e.addNodeFilter("noscript",r=>{var a;let c=r.length;for(;c--;){const d=r[c].firstChild;d&&(d.value=jf.decode((a=d.value)!==null&&a!==void 0?a:""))}}),e.addNodeFilter("script,style",(r,a)=>{var c;const d=v=>v.replace(/(<!--\[CDATA\[|\]\]-->)/g,`
`).replace(/^[\r\n]*|[\r\n]*$/g,"").replace(/^\s*((<!--)?(\s*\/\/)?\s*<!\[CDATA\[|(<!--\s*)?\/\*\s*<!\[CDATA\[\s*\*\/|(\/\/)?\s*<!--|\/\*\s*<!--\s*\*\/)\s*[\r\n]*/gi,"").replace(/\s*(\/\*\s*\]\]>\s*\*\/(-->)?|\s*\/\/\s*\]\]>(-->)?|\/\/\s*(-->)?|\]\]>|\/\*\s*-->\s*\*\/|\s*-->\s*)\s*$/g,"");let g=r.length;for(;g--;){const v=r[g],A=v.firstChild,M=(c=A==null?void 0:A.value)!==null&&c!==void 0?c:"";if(a==="script"){const B=v.attr("type");B&&v.attr("type",B==="mce-no/type"?null:B.replace(/^mce\-/,"")),t.element_format==="xhtml"&&A&&M.length>0&&(A.value=`// <![CDATA[
`+d(M)+`
// ]]>`)}else t.element_format==="xhtml"&&A&&M.length>0&&(A.value=`<!--
`+d(M)+`
-->`)}}),e.addNodeFilter("#comment",r=>{let a=r.length;for(;a--;){const c=r[a],d=c.value;t.preserve_cdata&&(d==null?void 0:d.indexOf("[CDATA["))===0?(c.name="#cdata",c.type=4,c.value=o.decode(d.replace(/^\[CDATA\[|\]\]$/g,""))):(d==null?void 0:d.indexOf("mce:protected "))===0&&(c.name="#text",c.type=3,c.raw=!0,c.value=unescape(d).substr(14))}}),e.addNodeFilter("xml:namespace,input",(r,a)=>{let c=r.length;for(;c--;){const d=r[c];d.type===7?d.remove():d.type===1&&a==="input"&&!d.attr("type")&&d.attr("type","text")}}),e.addAttributeFilter("data-mce-type",r=>{We(r,a=>{a.attr("data-mce-type")==="format-caret"&&(a.isEmpty(e.schema.getNonEmptyElements())?a.remove():a.unwrap())})}),e.addAttributeFilter("data-mce-src,data-mce-href,data-mce-style,data-mce-selected,data-mce-expando,data-mce-block,data-mce-type,data-mce-resize,data-mce-placeholder",(r,a)=>{let c=r.length;for(;c--;)r[c].attr(a,null)}),t.remove_trailing_brs&&tO(t,e,e.schema)},nO=e=>{const t=r=>(r==null?void 0:r.name)==="br",o=e.lastChild;if(t(o)){const r=o.prev;t(r)&&(o.remove(),r.remove())}},IS=(e,t,o)=>{let r;const a=e.dom;let c=t.cloneNode(!0);const d=document.implementation;if(d.createHTMLDocument){const g=d.createHTMLDocument("");ft.each(c.nodeName==="BODY"?c.childNodes:[c],v=>{g.body.appendChild(g.importNode(v,!0))}),c.nodeName!=="BODY"?c=g.body.firstChild:c=g.body,r=a.doc,a.doc=g}return s0(e,{...o,node:c}),r&&(a.doc=r),c},rO=(e,t)=>Le(e)&&e.hasEventListeners("PreProcess")&&!t.no_events,sO=(e,t,o)=>rO(e,o)?IS(e,t,o):t,LS=(e,t,o)=>{ft.inArray(t,o)===-1&&(e.addAttributeFilter(o,(r,a)=>{let c=r.length;for(;c--;)r[c].attr(a,null)}),t.push(o))},wM=(e,t,o)=>!t.no_events&&e?a0(e,{...t,content:o}).content:o,aO=(e,t,o)=>{const r=wa(o.getInner?t.innerHTML:e.getOuterHTML(t));return o.selection||tg(fe.fromDom(t))?r:ft.trim(r)},iO=(e,t,o)=>{const r=o.selection?{forced_root_block:!1,...o}:o,a=e.parse(t,r);return nO(a),a},lO=(e,t,o)=>gp(e,t).serialize(o),_M=(e,t,o,r,a)=>{const c=lO(t,o,r);return wM(e,a,c)},CM=(e,t)=>{const o=["data-mce-selected"],r={entity_encoding:"named",remove_trailing_brs:!0,pad_empty_with_br:!1,...e},a=t&&t.dom?t.dom:jn.DOM,c=t&&t.schema?t.schema:Zf(r),d=Qh(r,c);oO(d,r,a);const g=(v,A={})=>{const M={format:"html",...A},B=sO(t,v,M),P=aO(a,B,M),X=iO(d,P,M);return M.format==="tree"?X:_M(t,r,c,X,M)};return{schema:c,addNodeFilter:d.addNodeFilter,addAttributeFilter:d.addAttributeFilter,serialize:g,addRules:c.addValidElements,setRules:c.setValidElements,addTempAttr:yt(LS,d,o),getTempAttrs:_e(o),getNodeFilters:d.getNodeFilters,getAttributeFilters:d.getAttributeFilters,removeNodeFilter:d.removeNodeFilter,removeAttributeFilter:d.removeAttributeFilter}},X0=(e,t)=>{const o=CM(e,t);return{schema:o.schema,addNodeFilter:o.addNodeFilter,addAttributeFilter:o.addAttributeFilter,serialize:o.serialize,addRules:o.addRules,setRules:o.setRules,addTempAttr:o.addTempAttr,getTempAttrs:o.getTempAttrs,getNodeFilters:o.getNodeFilters,getAttributeFilters:o.getAttributeFilters,removeNodeFilter:o.removeNodeFilter,removeAttributeFilter:o.removeAttributeFilter}},cO="html",dO=(e,t)=>({...e,format:t,get:!0,getInner:!0}),uO=(e,t={})=>{const o=t.format?t.format:cO,r=dO(t,o);return pT(e,r).fold(Tt,a=>{const c=yM(e,a);return gT(e,c,a)})},SM="html",EM=(e,t)=>({format:SM,...e,set:!0,content:t}),PS=(e,t,o={})=>{const r=EM(o,t);return yS(e,r).map(a=>{const c=Hr(e,a.content,a);return tw(e,c.html,a),c.content}).getOr(t)},AM="autoresize_on_init,content_editable_state,padd_empty_with_br,block_elements,boolean_attributes,editor_deselector,editor_selector,elements,file_browser_callback_types,filepicker_validator_handler,force_hex_style_colors,force_p_newlines,gecko_spellcheck,images_dataimg_filter,media_scripts,mode,move_caret_before_on_enter_elements,non_empty_elements,self_closing_elements,short_ended_elements,special,spellchecker_select_languages,spellchecker_whitelist,tab_focus,tabfocus_elements,table_responsive_width,text_block_elements,text_inline_elements,toolbar_drawer,types,validate,whitespace_elements,paste_enable_default_filters,paste_filter_drop,paste_word_valid_elements,paste_retain_style_properties,paste_convert_word_fake_lists,template_cdate_classes,template_mdate_classes,template_selected_content_classes,template_preview_replace_values,template_replace_values,templates,template_cdate_format,template_mdate_format".split(","),fO=[],mO="bbcode,colorpicker,contextmenu,fullpage,legacyoutput,spellchecker,template,textcolor,rtc".split(","),FS=[],pO=(e,t)=>{const o=Ye(t,r=>xo(e,r));return Ko(o)},zM=e=>{const t=pO(e,AM),o=e.forced_root_block;return(o===!1||o==="")&&t.push("forced_root_block (false only)"),Ko(t)},TM=e=>pO(e,fO),gO=(e,t)=>{const o=ft.makeMap(e.plugins," "),a=Ye(t,c=>xo(o,c));return Ko(a)},hw=e=>gO(e,mO),hO=e=>gO(e,FS.map(t=>t.name)),OM=(e,t)=>{const o=zM(e),r=hw(t),a=r.length>0,c=o.length>0,d=t.theme==="mobile";if(a||c||d){const g=`
- `,v=d?`

Themes:${g}mobile`:"",A=a?`

Plugins:${g}${r.join(g)}`:"",M=c?`

Options:${g}${o.join(g)}`:"";console.warn("The following deprecated features are currently enabled and have been removed in TinyMCE 7.0. These features will no longer work and should be removed from the TinyMCE configuration. See https://www.tiny.cloud/docs/tinymce/7/migration-from-6x/ for more information."+v+A+M)}},bO=e=>Nn(FS,t=>t.name===e).fold(()=>e,t=>t.replacedWith?`${e}, replaced by ${t.replacedWith}`:e),yO=(e,t)=>{const o=TM(e),r=hO(t),a=r.length>0,c=o.length>0;if(a||c){const d=`
- `,g=a?`

Plugins:${d}${r.map(bO).join(d)}`:"",v=c?`

Options:${d}${o.join(d)}`:"";console.warn("The following deprecated features are currently enabled but will be removed soon."+g+v)}},HS=(e,t)=>{OM(e,t),yO(e,t)},J0=jn.DOM,vO=e=>{J0.setStyle(e.id,"display",e.orgDisplay)},Q0=e=>$.from(e).each(t=>t.destroy()),DM=e=>{const t=e;t.contentAreaContainer=t.formElement=t.container=t.editorContainer=null,t.bodyElement=t.contentDocument=t.contentWindow=null,t.iframeElement=t.targetElm=null;const o=e.selection;if(o){const r=o.dom;t.selection=o.win=o.dom=r.doc=null}},RM=e=>{const t=e.formElement;t&&(t._mceOldSubmit&&(t.submit=t._mceOldSubmit,delete t._mceOldSubmit),J0.unbind(t,"submit reset",e.formEventDelegate))},ev=e=>{if(!e.removed){const{_selectionOverrides:t,editorUpload:o}=e,r=e.getBody(),a=e.getElement();r&&e.save({is_removing:!0}),e.removed=!0,e.unbindAllNativeEvents(),e.hasHiddenInput&&Le(a==null?void 0:a.nextSibling)&&J0.remove(a.nextSibling),Ax(e),e.editorManager.remove(e),!e.inline&&r&&vO(e),zx(e),J0.remove(e.getContainer()),Q0(t),Q0(o),e.destroy()}},NM=(e,t)=>{const{selection:o,dom:r}=e;if(!e.destroyed){if(!t&&!e.removed){e.remove();return}t||(e.editorManager.off("beforeunload",e._beforeUnload),e.theme&&e.theme.destroy&&e.theme.destroy(),Q0(o),Q0(r)),RM(e),DM(e),e.destroyed=!0}},tb=(()=>{const e={};return{add:(a,c)=>{e[a]=c},get:a=>e[a]?e[a]:{icons:{}},has:a=>xo(e,a)}})(),ob=Fi.ModelManager,$S=(e,t)=>t.dom[e],xO=(e,t)=>parseInt(Fs(t,e),10),BM=yt($S,"clientWidth"),kO=yt($S,"clientHeight"),VS=yt(xO,"margin-top"),bw=yt(xO,"margin-left"),wO=e=>e.dom.getBoundingClientRect(),jS=(e,t,o)=>{const r=BM(e),a=kO(e);return t>=0&&o>=0&&t<=r&&o<=a},_O=(e,t,o,r)=>{const a=wO(t),c=e?a.left+t.dom.clientLeft+bw(t):0,d=e?a.top+t.dom.clientTop+VS(t):0,g=o-c,v=r-d;return{x:g,y:v}},IM=(e,t,o)=>{const r=fe.fromDom(e.getBody()),a=e.inline?r:ic(r),c=_O(e.inline,a,t,o);return jS(a,c.x,c.y)},CO=e=>$.from(e).map(fe.fromDom),LM=e=>{const t=e.inline?e.getBody():e.getContentAreaContainer();return CO(t).map(ia).getOr(!1)};var SO=()=>{const e=()=>{throw new Error("Theme did not provide a NotificationManager implementation.")};return{open:e,close:e,getArgs:e}};const US=e=>{const t=[],o=()=>{const P=e.theme;return P&&P.getNotificationManagerImpl?P.getNotificationManagerImpl():SO()},r=()=>$.from(t[0]),a=(P,X)=>P.type===X.type&&P.text===X.text&&!P.progressBar&&!P.timeout&&!X.progressBar&&!X.timeout,c=()=>{r().each(P=>{P.reposition()})},d=P=>{t.push(P)},g=P=>{Kn(t,X=>X===P).each(X=>{t.splice(X,1)})},v=(P,X=!0)=>e.removed||!LM(e)?{}:(X&&e.dispatch("BeforeOpenNotification",{notification:P}),Nn(t,ae=>a(o().getArgs(ae),P)).getOrThunk(()=>{e.editorManager.setActive(e);const ae=o().open(P,()=>{g(ae)},()=>Ph(e));return d(ae),c(),e.dispatch("OpenNotification",{notification:{...ae}}),ae})),A=()=>{r().each(P=>{o().close(P),g(P),c()})},M=_e(t);return(P=>{P.on("SkinLoaded",()=>{const X=Q5(P);X&&v({text:X,type:"warning",timeout:0},!1),c()}),P.on("show ResizeEditor NodeChange",()=>{requestAnimationFrame(c)}),P.on("remove",()=>{We(t.slice(),X=>{o().close(X)})}),P.addShortcut("alt+F12","Focus to notification",()=>r().map(X=>fe.fromDom(X.getEl())).each(X=>x2(X)))})(e),{open:v,close:A,getNotifications:M}},Vy=Fi.PluginManager,Mg=Fi.ThemeManager;var ZS=()=>{const e=()=>{throw new Error("Theme did not provide a WindowManager implementation.")};return{open:e,openUrl:e,alert:e,confirm:e,close:e}};const WS=e=>{let t=[];const o=()=>{const J=e.theme;return J&&J.getWindowManagerImpl?J.getWindowManagerImpl():ZS()},r=(J,ie)=>(...we)=>ie?ie.apply(J,we):void 0,a=J=>{e.dispatch("OpenWindow",{dialog:J})},c=J=>{e.dispatch("CloseWindow",{dialog:J})},d=J=>{t.push(J),a(J)},g=J=>{c(J),t=Ye(t,ie=>ie!==J),t.length===0&&e.focus()},v=()=>$.from(t[t.length-1]),A=J=>{e.editorManager.setActive(e),Hx(e),e.ui.show();const ie=J();return d(ie),ie},M=(J,ie)=>A(()=>o().open(J,ie,g)),B=J=>A(()=>o().openUrl(J,g)),P=(J,ie,we)=>{const Ce=o();Ce.alert(J,r(we||Ce,ie))},X=(J,ie,we)=>{const Ce=o();Ce.confirm(J,r(we||Ce,ie))},ae=()=>{v().each(J=>{o().close(J),g(J)})};return e.on("remove",()=>{We(t,J=>{o().close(J)})}),{open:M,openUrl:B,alert:P,confirm:X,close:ae}},qS=(e,t)=>{e.notificationManager.open({type:"error",text:t})},tv=(e,t)=>{e._skinLoaded?qS(e,t):e.on("SkinLoaded",()=>{qS(e,t)})},EO=(e,t)=>{tv(e,jc.translate(["Failed to upload image: {0}",t]))},ov=(e,t,o)=>{s2(e,t,{message:o}),console.error(o)},nv=(e,t,o)=>o?`Failed to load ${e}: ${o} from url ${t}`:`Failed to load ${e} url: ${t}`,GS=(e,t,o)=>{ov(e,"PluginLoadError",nv("plugin",t,o))},PM=(e,t,o)=>{ov(e,"IconsLoadError",nv("icons",t,o))},AO=(e,t,o)=>{ov(e,"LanguageLoadError",nv("language",t,o))},zO=(e,t,o)=>{ov(e,"ThemeLoadError",nv("theme",t,o))},KS=(e,t,o)=>{ov(e,"ModelLoadError",nv("model",t,o))},YS=(e,t,o)=>{const r=jc.translate(["Failed to initialize plugin: {0}",t]);s2(e,"PluginLoadError",{message:r}),jy(r,o),tv(e,r)},jy=(e,...t)=>{const o=window.console;o&&(o.error?o.error(e,...t):o.log(e,...t))},FM=e=>/^[a-z0-9\-]+$/i.test(e),yw=e=>"content/"+e+"/content.css",HM=e=>tinymce.Resource.has(yw(e)),$M=e=>vw(e,Vl(e)),TO=e=>vw(e,r4(e)),vw=(e,t)=>{const o=e.editorManager.baseURL+"/skins/content",a=`content${e.editorManager.suffix}.css`;return To(t,c=>HM(c)?c:FM(c)&&!e.inline?`${o}/${c}/${a}`:e.documentBaseURI.toAbsolute(c))},VM=e=>{e.contentCSS=e.contentCSS.concat($M(e),TO(e))},xw=e=>e?Po(e.getElementsByTagName("img")):[],jM=(e,t)=>{const o={};return{findAll:(a,c=Ao)=>{const d=Ye(xw(a),v=>{const A=v.src;return v.hasAttribute("data-mce-bogus")||v.hasAttribute("data-mce-placeholder")||!A||A===Wo.transparentSrc?!1:Ln(A,"blob:")?!e.isUploaded(A)&&c(v):Ln(A,"data:")?c(v):!1}),g=To(d,v=>{const A=v.src;if(xo(o,A))return o[A].then(M=>He(M)?M:{image:v,blobInfo:M.blobInfo});{const M=x6(t,A).then(B=>(delete o[A],{image:v,blobInfo:B})).catch(B=>(delete o[A],B));return o[A]=M,M}});return Promise.all(g)}}},OO=()=>{let o={};const r=(P,X)=>({status:P,resultUri:X}),a=P=>P in o;return{hasBlobUri:a,getResultUri:P=>{const X=o[P];return X?X.resultUri:null},isPending:P=>a(P)?o[P].status===1:!1,isUploaded:P=>a(P)?o[P].status===2:!1,markPending:P=>{o[P]=r(1,null)},markUploaded:(P,X)=>{o[P]=r(2,X)},removeFailed:P=>{delete o[P]},destroy:()=>{o={}}}};let UM=0;const DO=()=>{const e=()=>Math.round(Math.random()*4294967295).toString(36);return"s"+new Date().getTime().toString(36)+e()+e()+e()},RO=e=>e+UM+++DO(),ZM=()=>{let e=[];const t=B=>({"image/jpeg":"jpg","image/jpg":"jpg","image/gif":"gif","image/png":"png","image/apng":"apng","image/avif":"avif","image/svg+xml":"svg","image/webp":"webp","image/bmp":"bmp","image/tiff":"tiff"})[B.toLowerCase()]||"dat",o=(B,P,X,ae,J)=>{if(He(B))return r({id:B,name:ae,filename:J,blob:P,base64:X});if(ne(B))return r(B);throw new Error("Unknown input type")},r=B=>{if(!B.blob||!B.base64)throw new Error("blob and base64 representations of the image are required for BlobInfo to be created");const P=B.id||RO("blobid"),X=B.name||P,ae=B.blob;return{id:_e(P),name:_e(X),filename:_e(B.filename||X+"."+t(ae.type)),blob:_e(ae),base64:_e(B.base64),blobUri:_e(B.blobUri||URL.createObjectURL(ae)),uri:_e(B.uri)}},a=B=>{d(B.id())||e.push(B)},c=B=>Nn(e,B).getOrUndefined(),d=B=>c(P=>P.id()===B);return{create:o,add:a,get:d,getByUri:B=>c(P=>P.blobUri()===B),getByData:(B,P)=>c(X=>X.base64()===B&&X.blob().type===P),findFirst:c,removeByUri:B=>{e=Ye(e,P=>P.blobUri()===B?(URL.revokeObjectURL(P.blobUri()),!1):!0)},destroy:()=>{We(e,B=>{URL.revokeObjectURL(B.blobUri())}),e=[]}}},NO=(e,t)=>{const o={},r=(J,ie)=>J?J.replace(/\/$/,"")+"/"+ie.replace(/^\//,""):ie,a=(J,ie)=>new Promise((we,Ce)=>{const Se=new XMLHttpRequest;Se.open("POST",t.url),Se.withCredentials=t.credentials,Se.upload.onprogress=ot=>{ie(ot.loaded/ot.total*100)},Se.onerror=()=>{Ce("Image upload failed due to a XHR Transport error. Code: "+Se.status)},Se.onload=()=>{if(Se.status<200||Se.status>=300){Ce("HTTP Error: "+Se.status);return}const ot=JSON.parse(Se.responseText);if(!ot||!He(ot.location)){Ce("Invalid JSON: "+Se.responseText);return}we(r(t.basePath,ot.location))};const De=new FormData;De.append("file",J.blob(),J.filename()),Se.send(De)}),c=Lt(t.handler)?t.handler:a,d=()=>new Promise(J=>{J([])}),g=(J,ie)=>({url:ie,blobInfo:J,status:!0}),v=(J,ie)=>({url:"",blobInfo:J,status:!1,error:ie}),A=(J,ie)=>{ft.each(o[J],we=>{we(ie)}),delete o[J]},M=(J,ie,we)=>(e.markPending(J.blobUri()),new Promise(Ce=>{let Se,De;try{const ot=()=>{Se&&(Se.close(),De=lo)},vt=Ve=>{ot(),e.markUploaded(J.blobUri(),Ve),A(J.blobUri(),g(J,Ve)),Ce(g(J,Ve))},Nt=Ve=>{ot(),e.removeFailed(J.blobUri()),A(J.blobUri(),v(J,Ve)),Ce(v(J,Ve))};De=Ve=>{Ve<0||Ve>100||$.from(Se).orThunk(()=>$.from(we).map(Zr)).each(Be=>{Se=Be,Be.progressBar.value(Ve)})},ie(J,De).then(vt,Ve=>{Nt(He(Ve)?{message:Ve}:Ve)})}catch(ot){Ce(v(J,ot))}})),B=J=>J===a,P=J=>{const ie=J.blobUri();return new Promise(we=>{o[ie]=o[ie]||[],o[ie].push(we)})},X=(J,ie)=>(J=ft.grep(J,we=>!e.isUploaded(we.blobUri())),Promise.all(ft.map(J,we=>e.isPending(we.blobUri())?P(we):M(we,c,ie))));return{upload:(J,ie)=>!t.url&&B(c)?d():X(J,ie)}},Uy=e=>()=>e.notificationManager.open({text:e.translate("Image uploading..."),type:"info",timeout:-1,progressBar:!0}),XS=(e,t)=>NO(t,{url:k_(e),basePath:t4(e),credentials:w_(e),handler:Y5(e)}),WM=e=>{const t=OO(),o=XS(e,t);return{upload:(r,a=!0)=>o.upload(r,a?Uy(e):void 0)}},MO=(e,t)=>e.dom.isEmpty(t.dom)&&Le(e.schema.getTextBlockElements()[en(t)]),BO=e=>t=>{MO(e,t)&&Dr(t,fe.fromHtml('<br data-mce-bogus="1" />'))},qM=e=>{const t=ZM();let o,r;const a=OO(),c=[],d=Se=>De=>e.selection?Se(De):[],g=Se=>Se+(Se.indexOf("?")===-1?"?":"&")+new Date().getTime(),v=(Se,De,ot)=>{let vt=0;do vt=Se.indexOf(De,vt),vt!==-1&&(Se=Se.substring(0,vt)+ot+Se.substr(vt+De.length),vt+=ot.length-De.length+1);while(vt!==-1);return Se},A=(Se,De,ot)=>{const vt=`src="${ot}"${ot===Wo.transparentSrc?' data-mce-placeholder="1"':""}`;return Se=v(Se,`src="${De}"`,vt),Se=v(Se,'data-mce-src="'+De+'"','data-mce-src="'+ot+'"'),Se},M=(Se,De)=>{We(e.undoManager.data,ot=>{ot.type==="fragmented"?ot.fragments=To(ot.fragments,vt=>A(vt,Se,De)):ot.content=A(ot.content,Se,De)})},B=(Se,De)=>{const ot=e.convertURL(De,"src");M(Se.src,De),Dl(fe.fromDom(Se),{src:lp(e)?g(De):De,"data-mce-src":ot})},P=()=>(o||(o=XS(e,a)),ie().then(d(Se=>{const De=To(Se,ot=>ot.blobInfo);return o.upload(De,Uy(e)).then(d(ot=>{const vt=[];let Nt=!1;const Ve=To(ot,(Be,tt)=>{const{blobInfo:Wt,image:io}=Se[tt];let tn=!1;return Be.status&&Q3(e)?(Be.url&&!In(io.src,Be.url)&&(Nt=!0),t.removeByUri(io.src),Iu(e)||B(io,Be.url)):Be.error&&(Be.error.remove&&(M(io.src,Wo.transparentSrc),vt.push(io),tn=!0),EO(e,Be.error.message)),{element:io,status:Be.status,uploadUri:Be.url,blobInfo:Wt,removed:tn}});return vt.length>0&&!Iu(e)?e.undoManager.transact(()=>{We(Ji(vt),Be=>{const tt=aa(Be);fr(Be),tt.each(BO(e)),t.removeByUri(Be.dom.src)})}):Nt&&e.undoManager.dispatchChange(),Ve}))}))),X=()=>Nr(e)?P():Promise.resolve([]),ae=Se=>Wr(c,De=>De(Se)),J=Se=>{c.push(Se)},ie=()=>(r||(r=jM(a,t)),r.findAll(e.getBody(),ae).then(d(Se=>{const De=Ye(Se,ot=>He(ot)?(tv(e,ot),!1):ot.uriType!=="blob");return Iu(e)||We(De,ot=>{M(ot.image.src,ot.blobInfo.blobUri()),ot.image.src=ot.blobInfo.blobUri(),ot.image.removeAttribute("data-mce-src")}),De}))),we=()=>{t.destroy(),a.destroy(),r=o=null},Ce=Se=>Se.replace(/src="(blob:[^"]+)"/g,(De,ot)=>{const vt=a.getResultUri(ot);if(vt)return'src="'+vt+'"';let Nt=t.getByUri(ot);return Nt||(Nt=fo(e.editorManager.get(),(Ve,Be)=>Ve||Be.editorUpload&&Be.editorUpload.blobCache.getByUri(ot),void 0)),Nt?'src="data:'+Nt.blob().type+";base64,"+Nt.base64()+'"':De});return e.on("SetContent",()=>{Nr(e)?X():ie()}),e.on("RawSaveContent",Se=>{Se.content=Ce(Se.content)}),e.on("GetContent",Se=>{Se.source_view||Se.format==="raw"||Se.format==="tree"||(Se.content=Ce(Se.content))}),e.on("PostRender",()=>{e.parser.addNodeFilter("img",Se=>{We(Se,De=>{const ot=De.attr("src");if(!ot||t.getByUri(ot))return;const vt=a.getResultUri(ot);vt&&De.attr("src",vt)})})}),{blobCache:t,addFilter:J,uploadImages:P,uploadImagesAuto:X,scanForImages:ie,destroy:we}},GM=e=>{const t=e.dom,o=e.schema.type,r={valigntop:[{selector:"td,th",styles:{verticalAlign:"top"}}],valignmiddle:[{selector:"td,th",styles:{verticalAlign:"middle"}}],valignbottom:[{selector:"td,th",styles:{verticalAlign:"bottom"}}],alignleft:[{selector:"figure.image",collapsed:!1,classes:"align-left",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"left"},inherit:!1,preview:!1},{selector:"img,audio,video",collapsed:!1,styles:{float:"left"},preview:"font-family font-size"},{selector:"table",collapsed:!1,styles:{marginLeft:"0px",marginRight:"auto"},onformat:a=>{t.setStyle(a,"float",null)},preview:"font-family font-size"},{selector:".mce-preview-object,[data-ephox-embed-iri]",ceFalseOverride:!0,styles:{float:"left"}}],aligncenter:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"center"},inherit:!1,preview:"font-family font-size"},{selector:"figure.image",collapsed:!1,classes:"align-center",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"img,audio,video",collapsed:!1,styles:{display:"block",marginLeft:"auto",marginRight:"auto"},preview:!1},{selector:"table",collapsed:!1,styles:{marginLeft:"auto",marginRight:"auto"},preview:"font-family font-size"},{selector:".mce-preview-object",ceFalseOverride:!0,styles:{display:"table",marginLeft:"auto",marginRight:"auto"},preview:!1},{selector:"[data-ephox-embed-iri]",ceFalseOverride:!0,styles:{marginLeft:"auto",marginRight:"auto"},preview:!1}],alignright:[{selector:"figure.image",collapsed:!1,classes:"align-right",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"right"},inherit:!1,preview:"font-family font-size"},{selector:"img,audio,video",collapsed:!1,styles:{float:"right"},preview:"font-family font-size"},{selector:"table",collapsed:!1,styles:{marginRight:"0px",marginLeft:"auto"},onformat:a=>{t.setStyle(a,"float",null)},preview:"font-family font-size"},{selector:".mce-preview-object,[data-ephox-embed-iri]",ceFalseOverride:!0,styles:{float:"right"},preview:!1}],alignjustify:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"justify"},inherit:!1,preview:"font-family font-size"}],bold:[{inline:"strong",remove:"all",preserve_attributes:["class","style"]},{inline:"span",styles:{fontWeight:"bold"}},{inline:"b",remove:"all",preserve_attributes:["class","style"]}],italic:[{inline:"em",remove:"all",preserve_attributes:["class","style"]},{inline:"span",styles:{fontStyle:"italic"}},{inline:"i",remove:"all",preserve_attributes:["class","style"]}],underline:[{inline:"span",styles:{textDecoration:"underline"},exact:!0},{inline:"u",remove:"all",preserve_attributes:["class","style"]}],strikethrough:(()=>{const a={inline:"span",styles:{textDecoration:"line-through"},exact:!0},c={inline:"strike",remove:"all",preserve_attributes:["class","style"]},d={inline:"s",remove:"all",preserve_attributes:["class","style"]};return o!=="html4"?[d,a,c]:[a,d,c]})(),forecolor:{inline:"span",styles:{color:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},hilitecolor:{inline:"span",styles:{backgroundColor:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},fontname:{inline:"span",toggle:!1,styles:{fontFamily:"%value"},clear_child_styles:!0},fontsize:{inline:"span",toggle:!1,styles:{fontSize:"%value"},clear_child_styles:!0},lineheight:{selector:"h1,h2,h3,h4,h5,h6,p,li,td,th,div",styles:{lineHeight:"%value"}},fontsize_class:{inline:"span",attributes:{class:"%value"}},blockquote:{block:"blockquote",wrapper:!0,remove:"all"},subscript:{inline:"sub"},superscript:{inline:"sup"},code:{inline:"code"},link:{inline:"a",selector:"a",remove:"all",split:!0,deep:!0,onmatch:(a,c,d)=>jt(a)&&a.hasAttribute("href"),onformat:(a,c,d)=>{ft.each(d,(g,v)=>{t.setAttrib(a,v,g)})}},lang:{inline:"span",clear_child_styles:!0,remove_similar:!0,attributes:{lang:"%value","data-mce-lang":a=>{var c;return(c=a==null?void 0:a.customValue)!==null&&c!==void 0?c:null}}},removeformat:[{selector:"b,strong,em,i,font,u,strike,s,sub,sup,dfn,code,samp,kbd,var,cite,mark,q,del,ins,small",remove:"all",split:!0,expand:!1,block_expand:!0,deep:!0},{selector:"span",attributes:["style","class"],remove:"empty",split:!0,expand:!1,deep:!0},{selector:"*",attributes:["style","class"],split:!1,expand:!1,deep:!0}]};return ft.each("p h1 h2 h3 h4 h5 h6 div address pre dt dd samp".split(/\s/),a=>{r[a]={block:a,remove:"all"}}),r},IO={remove_similar:!0,inherit:!1},Zy={selector:"td,th",...IO},LO={tablecellbackgroundcolor:{styles:{backgroundColor:"%value"},...Zy},tablecellverticalalign:{styles:{"vertical-align":"%value"},...Zy},tablecellbordercolor:{styles:{borderColor:"%value"},...Zy},tablecellclass:{classes:["%value"],...Zy},tableclass:{selector:"table",classes:["%value"],...IO},tablecellborderstyle:{styles:{borderStyle:"%value"},...Zy},tablecellborderwidth:{styles:{borderWidth:"%value"},...Zy}},JS=_e(LO),PO=e=>{const t={},o=d=>Le(d)?t[d]:t,r=d=>xo(t,d),a=(d,g)=>{d&&(He(d)?(ve(g)||(g=[g]),We(g,v=>{gn(v.deep)&&(v.deep=!Xc(v)),gn(v.split)&&(v.split=!Xc(v)||ii(v)),gn(v.remove)&&Xc(v)&&!ii(v)&&(v.remove="none"),Xc(v)&&ii(v)&&(v.mixed=!0,v.block_expand=!0),He(v.classes)&&(v.classes=v.classes.split(/\s+/))}),t[d]=g):Bo(d,(v,A)=>{a(A,v)}))},c=d=>(d&&t[d]&&delete t[d],t);return a(GM(e)),a(JS()),a(tR(e)),{get:o,has:r,register:a,unregister:c}},rv=ft.each,Rd=jn.DOM,kw=e=>Le(e)&&ne(e),FO=(e,t)=>{const o=t&&t.schema||Zf({}),r=(v,A)=>{A.classes.length>0&&Rd.addClass(v,A.classes.join(" ")),Rd.setAttribs(v,A.attrs)},a=v=>{const A=He(v)?{name:v,classes:[],attrs:{}}:v,M=Rd.create(A.name);return r(M,A),M},c=(v,A)=>{const M=o.getElementRule(v.nodeName.toLowerCase()),B=M==null?void 0:M.parentsRequired;return B&&B.length?A&&nn(B,A)?A:B[0]:!1},d=(v,A,M)=>{let B;const P=A[0],X=kw(P)?P.name:void 0,ae=c(v,X);if(ae)X===ae?(B=P,A=A.slice(1)):B=ae;else if(P)B=P,A=A.slice(1);else if(!M)return v;const J=B?a(B):Rd.create("div");J.appendChild(v),M&&ft.each(M,we=>{const Ce=a(we);J.insertBefore(Ce,v)});const ie=kw(B)?B.siblings:void 0;return d(J,A,ie)},g=Rd.create("div");if(e.length>0){const v=e[0],A=a(v),M=kw(v)?v.siblings:void 0;g.appendChild(d(A,e.slice(1),M))}return g},QS=e=>{e=ft.trim(e);let t="div";const o={name:t,classes:[],attrs:{},selector:e};return e!=="*"&&(t=e.replace(/(?:([#\.]|::?)([\w\-]+)|(\[)([^\]]+)\]?)/g,(r,a,c,d,g)=>{switch(a){case"#":o.attrs.id=c;break;case".":o.classes.push(c);break;case":":ft.inArray("checked disabled enabled read-only required".split(" "),c)!==-1&&(o.attrs[c]=c);break}if(d==="["){const v=g.match(/([\w\-]+)(?:\=\"([^\"]+))?/);v&&(o.attrs[v[1]]=v[2])}return""})),o.name=t||"div",o},ww=e=>He(e)?(e=e.split(/\s*,\s*/)[0],e=e.replace(/\s*(~\+|~|\+|>)\s*/g,"$1"),ft.map(e.split(/(?:>|\s+(?![^\[\]]+\]))/),t=>{const o=ft.map(t.split(/(?:~\+|~|\+)/),QS),r=o.pop();return o.length&&(r.siblings=o),r}).reverse()):[],_w=(e,t)=>{let o="",r=oR(e);if(r==="")return"";const a=P=>He(P)?P.replace(/%(\w+)/g,""):"",c=(P,X)=>Rd.getStyle(X??e.getBody(),P,!0);if(He(t)){const P=e.formatter.get(t);if(!P)return"";t=P[0]}if("preview"in t){const P=t.preview;if(P===!1)return"";r=P||r}let d=t.block||t.inline||"span",g;const v=ww(t.selector);v.length>0?(v[0].name||(v[0].name=d),d=t.selector,g=FO(v,e)):g=FO([d],e);const A=Rd.select(d,g)[0]||g.firstChild;rv(t.styles,(P,X)=>{const ae=a(P);ae&&Rd.setStyle(A,X,ae)}),rv(t.attributes,(P,X)=>{const ae=a(P);ae&&Rd.setAttrib(A,X,ae)}),rv(t.classes,P=>{const X=a(P);Rd.hasClass(A,X)||Rd.addClass(A,X)}),e.dispatch("PreviewFormats"),Rd.setStyles(g,{position:"absolute",left:-65535}),e.getBody().appendChild(g);const M=c("fontSize"),B=/px$/.test(M)?parseInt(M,10):0;return rv(r.split(" "),P=>{let X=c(P,A);if(!(P==="background-color"&&/transparent|rgba\s*\([^)]+,\s*0\)/.test(X)&&(X=c(P),ah(X).toLowerCase()==="#ffffff"))&&!(P==="color"&&ah(X).toLowerCase()==="#000000")){if(P==="font-size"&&/em|%$/.test(X)){if(B===0)return;X=parseFloat(X)/(/%$/.test(X)?100:1)*B+"px"}P==="border"&&X&&(o+="padding:0 2px;"),o+=P+":"+X+";"}}),e.dispatch("AfterPreviewFormats"),Rd.remove(g),o},Sp=e=>{e.addShortcut("meta+b","","Bold"),e.addShortcut("meta+i","","Italic"),e.addShortcut("meta+u","","Underline");for(let t=1;t<=6;t++)e.addShortcut("access+"+t,"",["FormatBlock",!1,"h"+t]);e.addShortcut("access+7","",["FormatBlock",!1,"p"]),e.addShortcut("access+8","",["FormatBlock",!1,"div"]),e.addShortcut("access+9","",["FormatBlock",!1,"address"])},sv=e=>{const t=PO(e),o=Ys({});return Sp(e),yz(e),Iu(e)||zz(o,e),{get:t.get,has:t.has,register:t.register,unregister:t.unregister,apply:(r,a,c)=>{pM(e,r,a,c)},remove:(r,a,c,d)=>{gM(e,r,a,c,d)},toggle:(r,a,c)=>{hM(e,r,a,c)},match:(r,a,c,d)=>cM(e,r,a,c,d),closest:r=>mM(e,r),matchAll:(r,a)=>dM(e,r,a),matchNode:(r,a,c,d)=>uM(e,r,a,c,d),canApply:r=>fM(e,r),formatChanged:(r,a,c,d)=>bM(e,o,r,a,c,d),getCssText:yt(_w,e)}},nb=e=>{switch(e.toLowerCase()){case"undo":case"redo":case"mcefocus":return!0;default:return!1}},HO=(e,t,o)=>{const r=Ys(!1),a=v=>{xf(t,!1,o),t.add({},v)};e.on("init",()=>{t.add()}),e.on("BeforeExecCommand",v=>{const A=v.command;nb(A)||(LT(t,o),t.beforeChange())}),e.on("ExecCommand",v=>{const A=v.command;nb(A)||a(v)}),e.on("ObjectResizeStart cut",()=>{t.beforeChange()}),e.on("SaveContent ObjectResized blur",a),e.on("dragend",a),e.on("keyup",v=>{const A=v.keyCode;if(v.isDefaultPrevented())return;const M=Wo.os.isMacOS()&&v.key==="Meta";(A>=33&&A<=36||A>=37&&A<=40||A===45||v.ctrlKey||M)&&(a(),e.nodeChanged()),(A===46||A===8)&&e.nodeChanged(),r.get()&&t.typing&&!K0(cw(e),t.data[0])&&(e.isDirty()||e.setDirty(!0),e.dispatch("TypingUndo"),r.set(!1),e.nodeChanged())}),e.on("keydown",v=>{const A=v.keyCode;if(v.isDefaultPrevented())return;if(A>=33&&A<=36||A>=37&&A<=40||A===45){t.typing&&a(v);return}const M=v.ctrlKey&&!v.altKey||v.metaKey;if((A<16||A>20)&&A!==224&&A!==91&&!t.typing&&!M){t.beforeChange(),xf(t,!0,o),t.add({},v),r.set(!0);return}(Wo.os.isMacOS()?v.metaKey:v.ctrlKey&&!v.altKey)&&t.beforeChange()}),e.on("mousedown",v=>{t.typing&&a(v)});const c=v=>v.inputType==="insertReplacementText",d=v=>v.inputType==="insertText"&&v.data===null,g=v=>v.inputType==="insertFromPaste"||v.inputType==="insertFromDrop";e.on("input",v=>{v.inputType&&(c(v)||d(v)||g(v))&&a(v)}),e.on("AddUndo Undo Redo ClearUndos",v=>{v.isDefaultPrevented()||e.nodeChanged()})},$O=e=>{e.addShortcut("meta+z","","Undo"),e.addShortcut("meta+y,meta+shift+z","","Redo")},Cw=e=>{const t=ct(),o=Ys(0),r=Ys(0),a={data:[],typing:!1,beforeChange:()=>{rM(e,o,t)},add:(c,d)=>ZT(e,a,r,o,t,c,d),dispatchChange:()=>{e.setDirty(!0);const c=cw(e);c.bookmark=xt(e.selection),e.dispatch("change",{level:c,lastLevel:ps(a.data,r.get()).getOrUndefined()})},undo:()=>WT(e,a,o,r),redo:()=>sM(e,r,a.data),clear:()=>{aM(e,a,r)},reset:()=>{Fy(e,a)},hasUndo:()=>iM(e,a,r),hasRedo:()=>lM(e,a,r),transact:c=>qT(e,a,o,c),ignore:c=>{GT(e,o,c)},extra:(c,d)=>{pw(e,a,r,c,d)}};return Iu(e)||HO(e,a,o),$O(e),a},Sw=[9,27,Dt.HOME,Dt.END,19,20,44,144,145,33,34,45,16,17,18,91,92,93,Dt.DOWN,Dt.UP,Dt.LEFT,Dt.RIGHT].concat(Wo.browser.isFirefox()?[224]:[]),Ep="data-mce-placeholder",Bg=e=>e.type==="keydown"||e.type==="keyup",e3=e=>{const t=e.keyCode;return t===Dt.BACKSPACE||t===Dt.DELETE},KM=e=>{if(Bg(e)){const t=e.keyCode;return!e3(e)&&(Dt.metaKeyPressed(e)||e.altKey||t>=112&&t<=123||nn(Sw,t))}else return!1},VO=e=>Bg(e)&&!(e3(e)||e.type==="keyup"&&e.keyCode===229),YM=(e,t,o)=>{if(e.isEmpty(t,void 0,{skipBogus:!1,includeZwsp:!0})){const r=t.firstElementChild;return r?e.getStyle(t.firstElementChild,"padding-left")||e.getStyle(t.firstElementChild,"padding-right")?!1:o===r.nodeName.toLowerCase():!0}else return!1},XM=e=>{var t;const o=e.dom,r=ol(e),a=(t=C_(e))!==null&&t!==void 0?t:"",c=(d,g)=>{if(KM(d))return;const v=e.getBody(),A=VO(d)?!1:YM(o,v,r);(o.getAttrib(v,Ep)!==""!==A||g)&&(o.setAttrib(v,Ep,A?a:null),vE(e,A),e.on(A?"keydown":"keyup",c),e.off(A?"keyup":"keydown",c))};Ds(a)&&e.on("init",d=>{c(d,!0),e.on("change SetContent ExecCommand",c),e.on("paste",g=>Jc.setEditorTimeout(e,()=>c(g)))})},JM=(e,t)=>({block:e,position:t}),t3=(e,t)=>({from:e,to:t}),Ew=(e,t)=>{const o=fe.fromDom(e),r=fe.fromDom(t.container());return lk(o,r).map(a=>JM(a,t))},QM=e=>!(bi(e.to.block,e.from.block)||bi(e.from.block,e.to.block)),jO=e=>!an(e.from.block,e.to.block),UO=(e,t)=>fl(t,a=>Kd(a)||_n(a.dom),a=>an(a,e)).filter(Ri).getOr(e),o3=(e,t)=>{const o=fe.fromDom(e);return an(UO(o,t.from.block),UO(o,t.to.block))},eB=e=>br(e.from.block.dom)===!1&&br(e.to.block.dom)===!1,ZO=e=>{const t=o=>Yf(o)||wi(o.dom)||wu(o);return t(e.from.block)&&t(e.to.block)},n3=(e,t,o,r)=>Yr(r.position.getNode())&&!ca(e,r.block)?iy(!1,r.block.dom).bind(a=>a.isEqual(r.position)?xd(o,t,a).bind(c=>Ew(t,c)):$.some(r)).getOr(r):r,WO=(e,t,o,r)=>{const a=Ew(t,Fe.fromRangeStart(r)),c=a.bind(d=>xd(o,t,d.position).bind(g=>Ew(t,g).map(v=>n3(e,t,o,v))));return Ls(a,c,t3).filter(d=>jO(d)&&o3(t,d)&&eB(d)&&ZO(d)&&QM(d))},r3=(e,t,o,r)=>r.collapsed?WO(e,t,o,r):$.none(),tB=(e,t)=>{const o=ds(e);return Kn(o,r=>t.isBlock(en(r))).fold(_e(o),r=>o.slice(0,r))},s3=(e,t)=>{const o=tB(e,t);return We(o,fr),o},qO=(e,t,o)=>{const r=Ou(o,t);return Nn(r.reverse(),a=>ca(e,a)).each(fr)},GO=(e,t)=>Ye(Bi(t),o=>!ca(e,o)).length===0,KO=(e,t,o,r,a)=>{if(ca(r,o))return Zc(o),ko(o.dom);GO(r,a)&&ca(r,t)&&Ae(a,fe.fromTag("br"));const c=Yc(o.dom,Fe.before(a.dom));return We(s3(t,r),d=>{Ae(a,d)}),qO(r,e,t),c},oB=(e,t)=>e.isInline(en(t)),nB=(e,t,o,r)=>{if(ca(r,o)){if(ca(r,t)){const d=Qt((g=>{const v=(A,M)=>Nm(A).fold(()=>M,B=>oB(r,B)?v(B,M.concat(tl(B))):M);return v(g,[])})(o),(g,v)=>(Ll(g,v),v),$l());ni(t),Dr(t,d)}return fr(o),ko(t.dom)}const a=Xd(o.dom);return We(s3(t,r),c=>{Dr(o,c)}),qO(r,e,t),a},rB=(e,t)=>{const o=Ou(t,e);return $.from(o[o.length-1])},sB=(e,t)=>bi(t,e)?rB(t,e):$.none(),YO=(e,t)=>{iy(e,t.dom).bind(o=>$.from(o.getNode())).map(fe.fromDom).filter(Gd).each(fr)},Ig=(e,t,o,r)=>(YO(!0,t),YO(!1,o),sB(t,o).fold(yt(nB,e,t,o,r),yt(KO,e,t,o,r))),a3=(e,t,o,r,a)=>t?Ig(e,r,o,a):Ig(e,o,r,a),Aw=(e,t)=>{const o=fe.fromDom(e.getBody());return r3(e.schema,o.dom,t,e.selection.getRng()).map(a=>()=>{a3(o,t,a.from.block,a.to.block,e.schema).each(c=>{e.selection.setRng(c.toRange())})})},XO=(e,t,o)=>{const r=t.getRng();return Ls(lk(e,fe.fromDom(r.startContainer)),lk(e,fe.fromDom(r.endContainer)),(a,c)=>an(a,c)?$.none():$.some(()=>{r.deleteContents(),a3(e,!0,a,c,o).each(d=>{t.setRng(d.toRange())})})).getOr($.none())},JO=(e,t)=>{const o=fe.fromDom(t),r=yt(an,e);return xs(o,Kd,r).isSome()},aB=(e,t)=>JO(e,t.startContainer)||JO(e,t.endContainer),Lg=(e,t)=>{const o=Yc(e.dom,Fe.fromRangeStart(t)).isNone(),r=tc(e.dom,Fe.fromRangeEnd(t)).isNone();return!aB(e,t)&&o&&r},QO=e=>$.some(()=>{e.setContent(""),e.selection.setCursorLocation()}),zw=e=>{const t=fe.fromDom(e.getBody()),o=e.selection.getRng();return Lg(t,o)?QO(e):XO(t,e.selection,e.schema)},i3=(e,t)=>e.selection.isCollapsed()?$.none():zw(e),ym=(e,t,o,r,a)=>$.from(t._selectionOverrides.showCaret(e,o,r,a)),iB=e=>{const t=e.ownerDocument.createRange();return t.selectNode(e),t},av=(e,t)=>e.dispatch("BeforeObjectSelected",{target:t}).isDefaultPrevented()?$.none():$.some(iB(t)),l3=(e,t,o)=>{const r=$_(1,e.getBody(),t),a=Fe.fromRangeStart(r),c=a.getNode();if(H1(c))return ym(1,e,c,!a.isAtEnd(),!1);const d=a.getNode(!0);if(H1(d))return ym(1,e,d,!1,!1);const g=ou(e.dom.getRoot(),a.getNode());return H1(g)?ym(1,e,g,!1,o):$.none()},c3=(e,t,o)=>t.collapsed?l3(e,t,o).getOr(t):t,Za=e=>dm(e)||_y(e),lB=e=>hp(e)||Hh(e),cB=(e,t)=>{mt(t)&&t.data.length===0&&e.remove(t)},Tw=(e,t,o,r,a,c)=>{ym(r,e,c.getNode(!a),a,!0).each(d=>{if(t.collapsed){const g=t.cloneRange();a?g.setEnd(d.startContainer,d.startOffset):g.setStart(d.endContainer,d.endOffset),g.deleteContents()}else t.deleteContents();e.selection.setRng(d)}),cB(e.dom,o)},eD=(e,t)=>{const o=e.selection.getRng();if(!mt(o.commonAncestorContainer))return $.none();const r=t?Vi.Forwards:Vi.Backwards,a=po(e.getBody()),c=yt(V_,t?a.next:a.prev),d=t?Za:lB,g=Z1(r,e.getBody(),o),v=c(g),A=v&&tu(t,v);if(!A||!ux(g,A))return $.none();if(d(A))return $.some(()=>Tw(e,o,g.getNode(),r,t,A));const M=c(A);return M&&d(M)&&ux(A,M)?$.some(()=>Tw(e,o,g.getNode(),r,t,M)):$.none()},iv=(e,t)=>eD(e,t),d3=(e,t)=>{const o=e.getBody();return t?ko(o).filter(dm):Xd(o).filter(hp)},u3=e=>{const t=e.selection.getRng();return!t.collapsed&&(d3(e,!0).exists(o=>o.isEqual(Fe.fromRangeStart(t)))||d3(e,!1).exists(o=>o.isEqual(Fe.fromRangeEnd(t))))},dB=e=>Le(e)&&(Kd(fe.fromDom(e))||wu(fe.fromDom(e))),Nd=ho.generate([{remove:["element"]},{moveToElement:["element"]},{moveToPosition:["position"]}]),uB=(e,t)=>{const o=t.getNode(!e),r=e?"after":"before";return jt(o)&&o.getAttribute("data-mce-caret")===r},fB=(e,t,o,r,a)=>{const c=d=>a.isInline(d.nodeName.toLowerCase())&&!rm(o,r,e);return L4(!t,o).fold(()=>L4(t,r).fold(fn,c),c)},tD=(e,t,o,r,a)=>{const c=a.getNode(!o);return lk(fe.fromDom(t),fe.fromDom(r.getNode())).map(d=>ca(e,d)?Nd.remove(d.dom):Nd.moveToElement(c)).orThunk(()=>$.some(Nd.moveToElement(c)))},rb=(e,t,o,r)=>xd(t,e,o).bind(a=>dB(a.getNode())||fB(e,t,o,a,r)?$.none():t&&br(a.getNode())||!t&&br(a.getNode(!0))?tD(r,e,t,o,a):t&&hp(o)||!t&&dm(o)?$.some(Nd.moveToPosition(a)):$.none()),kf=(e,t)=>vo(t)?$.none():e&&br(t.nextSibling)?$.some(Nd.moveToElement(t.nextSibling)):!e&&br(t.previousSibling)?$.some(Nd.moveToElement(t.previousSibling)):$.none(),mB=(e,t,o)=>o.fold(r=>$.some(Nd.remove(r)),r=>$.some(Nd.moveToElement(r)),r=>rm(t,r,e)?$.none():$.some(Nd.moveToPosition(r))),pB=(e,t,o,r)=>uB(t,o)?kf(t,o.getNode(!t)).orThunk(()=>rb(e,t,o,r)):rb(e,t,o,r).bind(a=>mB(e,o,a)),gB=(e,t,o,r)=>{const a=$_(t?1:-1,e,o),c=Fe.fromRangeStart(a),d=fe.fromDom(e);return!t&&hp(c)?$.some(Nd.remove(c.getNode(!0))):t&&dm(c)?$.some(Nd.remove(c.getNode())):!t&&dm(c)&&O0(d,c,r)?_N(d,c,r).map(g=>Nd.remove(g.getNode())):t&&hp(c)&&T0(d,c,r)?um(d,c,r).map(g=>Nd.remove(g.getNode())):pB(e,t,c,r)},hB=(e,t)=>o=>(e._selectionOverrides.hideFakeCaret(),_g(e,t,fe.fromDom(o)),!0),bB=(e,t)=>o=>{const r=t?Fe.before(o):Fe.after(o);return e.selection.setRng(r.toRange()),!0},yB=e=>t=>(e.selection.setRng(t.toRange()),!0),oD=(e,t)=>$.from(ou(e.getBody(),t)),vB=(e,t)=>{const o=e.selection.getNode();return oD(e,o).filter(br).fold(()=>gB(e.getBody(),t,e.selection.getRng(),e.schema).map(r=>()=>r.fold(hB(e,t),bB(e,t),yB(e))),()=>$.some(lo))},xB=e=>{We(ri(e,".mce-offscreen-selection"),fr)},kB=(e,t)=>{const o=e.selection.getNode();return br(o)&&!Pf(o)?oD(e,o.parentNode).filter(br).fold(()=>$.some(()=>{xB(fe.fromDom(e.getBody())),_g(e,t,fe.fromDom(e.selection.getNode())),ck(e)}),()=>$.some(lo)):u3(e)?$.some(()=>{sC(e,e.selection.getRng(),fe.fromDom(e.getBody()))}):$.none()},nD=e=>{const t=e.dom,o=e.selection,r=ou(e.getBody(),o.getNode());if(_n(r)&&t.isBlock(r)&&t.isEmpty(r)){const a=t.create("br",{"data-mce-bogus":"1"});t.setHTML(r,""),r.appendChild(a),o.setRng(Fe.before(a).toRange())}return!0},f3=(e,t)=>e.selection.isCollapsed()?vB(e,t):kB(e,t),wB=(e,t)=>{const o=Fe.fromRangeStart(e.selection.getRng());return xd(t,e.getBody(),o).filter(r=>t?hA(r):A0(r)).bind(r=>cx(t?0:-1,r)).map(r=>()=>e.selection.select(r))},m3=(e,t)=>e.selection.isCollapsed()?wB(e,t):$.none(),Wy=mt,rD=e=>Wy(e)&&e.data[0]===Qs,sD=e=>Wy(e)&&e.data[e.data.length-1]===Qs,aD=e=>{var t;return((t=e.ownerDocument)!==null&&t!==void 0?t:document).createTextNode(Qs)},_B=e=>{var t;if(Wy(e.previousSibling))return sD(e.previousSibling)||e.previousSibling.appendData(Qs),e.previousSibling;if(Wy(e))return rD(e)||e.insertData(0,Qs),e;{const o=aD(e);return(t=e.parentNode)===null||t===void 0||t.insertBefore(o,e),o}},CB=e=>{var t,o;if(Wy(e.nextSibling))return rD(e.nextSibling)||e.nextSibling.insertData(0,Qs),e.nextSibling;if(Wy(e))return sD(e)||e.appendData(Qs),e;{const r=aD(e);return e.nextSibling?(t=e.parentNode)===null||t===void 0||t.insertBefore(r,e.nextSibling):(o=e.parentNode)===null||o===void 0||o.appendChild(r),r}},Ow=(e,t)=>e?_B(t):CB(t),SB=yt(Ow,!0),EB=yt(Ow,!1),iD=(e,t)=>mt(e.container())?Ow(t,e.container()):Ow(t,e.getNode()),lD=(e,t)=>{const o=t.get();return o&&e.container()===o&&ef(o)},p3=(e,t)=>t.fold(o=>{sg(e.get());const r=SB(o);return e.set(r),$.some(Fe(r,r.length-1))},o=>ko(o).map(r=>{if(lD(r,e)){const a=e.get();return Fe(a,1)}else{sg(e.get());const a=iD(r,!0);return e.set(a),Fe(a,1)}}),o=>Xd(o).map(r=>{if(lD(r,e)){const a=e.get();return Fe(a,a.length-1)}else{sg(e.get());const a=iD(r,!1);return e.set(a),Fe(a,a.length-1)}}),o=>{sg(e.get());const r=EB(o);return e.set(r),$.some(Fe(r,1))}),cD=(e,t)=>{for(let o=0;o<e.length;o++){const r=e[o].apply(null,t);if(r.isSome())return r}return $.none()},nc=ho.generate([{before:["element"]},{start:["element"]},{end:["element"]},{after:["element"]}]),dD=(e,t)=>{const o=ag(t,e);return o||e},AB=(e,t,o)=>{const r=NA(o),a=dD(t,r.container());return Cg(e,a,r).fold(()=>tc(a,r).bind(yt(Cg,e,a)).map(c=>nc.before(c)),$.none)},zB=(e,t)=>ig(e,t)===null,g3=(e,t,o)=>Cg(e,t,o).filter(yt(zB,t)),TB=(e,t,o)=>{const r=oC(o);return g3(e,t,r).bind(a=>Yc(a,r).isNone()?$.some(nc.start(a)):$.none())},OB=(e,t,o)=>{const r=NA(o);return g3(e,t,r).bind(a=>tc(a,r).isNone()?$.some(nc.end(a)):$.none())},DB=(e,t,o)=>{const r=oC(o),a=dD(t,r.container());return Cg(e,a,r).fold(()=>Yc(a,r).bind(yt(Cg,e,a)).map(c=>nc.after(c)),$.none)},uD=e=>!Ed(h3(e)),vm=(e,t,o)=>cD([AB,TB,OB,DB],[e,t,o]).filter(uD),h3=e=>e.fold(Tt,Tt,Tt,Tt),fD=e=>e.fold(_e("before"),_e("start"),_e("end"),_e("after")),Dw=e=>e.fold(nc.before,nc.before,nc.after,nc.after),Rw=e=>e.fold(nc.start,nc.start,nc.end,nc.end),RB=(e,t)=>fD(e)===fD(t)&&h3(e)===h3(t),NB=(e,t,o,r,a,c)=>Ls(Cg(t,o,r),Cg(t,o,a),(d,g)=>d!==g&&NN(o,d,g)?nc.after(e?d:g):c).getOr(c),MB=(e,t)=>e.fold(Ao,o=>!RB(o,t)),BB=(e,t,o,r,a)=>{const c=tu(e,a);return xd(e,o,c).map(yt(tu,e)).fold(()=>r.map(Dw),v=>vm(t,o,v).map(yt(NB,e,t,o,c,v)).filter(yt(MB,r))).filter(uD)},IB=(e,t)=>e?t.fold(Ro($.some,nc.start),$.none,Ro($.some,nc.after),$.none):t.fold($.none,Ro($.some,nc.before),$.none,Ro($.some,nc.end)),LB=(e,t,o,r)=>{const a=tu(e,r),c=vm(t,o,a);return vm(t,o,a).bind(yt(IB,e)).orThunk(()=>BB(e,t,o,c,r))},PB=e=>Lt(e.selection.getSel().modify),mD=(e,t,o)=>{const r=e?1:-1;return t.setRng(Fe(o.container(),o.offset()+r).toRange()),t.getSel().modify("move",e?"forward":"backward","word"),!0},pD=(e,t)=>{const o=t.selection.getRng(),r=e?Fe.fromRangeEnd(o):Fe.fromRangeStart(o);return PB(t)?e&&fh(r)?mD(!0,t.selection,r):!e&&Jm(r)?mD(!1,t.selection,r):!1:!1};var wf;(function(e){e[e.Br=0]="Br",e[e.Block=1]="Block",e[e.Wrap=2]="Wrap",e[e.Eol=3]="Eol"})(wf||(wf={}));const Nw=(e,t)=>e===Vi.Backwards?qs(t):t,gD=(e,t,o)=>e===Vi.Forwards?t.next(o):t.prev(o),FB=(e,t,o,r)=>Yr(r.getNode(t===Vi.Forwards))?wf.Br:rm(o,r)===!1?wf.Block:wf.Wrap,hD=(e,t,o,r)=>{const a=po(o);let c=r;const d=[];for(;c;){const g=gD(t,a,c);if(!g)break;if(Yr(g.getNode(!1)))return t===Vi.Forwards?{positions:Nw(t,d).concat([g]),breakType:wf.Br,breakAt:$.some(g)}:{positions:Nw(t,d),breakType:wf.Br,breakAt:$.some(g)};if(!g.isVisible()){c=g;continue}if(e(c,g)){const v=FB(o,t,c,g);return{positions:Nw(t,d),breakType:v,breakAt:$.some(g)}}d.push(g),c=g}return{positions:Nw(t,d),breakType:wf.Eol,breakAt:$.none()}},bD=(e,t,o,r)=>t(o,r).breakAt.map(a=>{const c=t(o,a).positions;return e===Vi.Backwards?c.concat(a):[a].concat(c)}).getOr([]),b3=(e,t)=>fo(e,(o,r)=>o.fold(()=>$.some(r),a=>Ls(lt(a.getClientRects()),lt(r.getClientRects()),(c,d)=>{const g=Math.abs(t-c.left);return Math.abs(t-d.left)<=g?r:a}).or(o)),$.none()),Mw=(e,t)=>lt(t.getClientRects()).bind(o=>b3(e,o.left)),lv=yt(hD,Fe.isAbove,-1),sb=yt(hD,Fe.isBelow,1),Bw=yt(bD,-1,lv),yD=yt(bD,1,sb),y3=(e,t)=>lv(e,t).breakAt.isNone(),vD=(e,t)=>sb(e,t).breakAt.isNone(),HB=e=>ko(e).map(t=>[t].concat(sb(e,t).positions)).getOr([]),$B=e=>Xd(e).map(t=>lv(e,t).positions.concat(t)).getOr([]),VB=(e,t)=>Mw(Bw(e,t),t),jB=(e,t)=>Mw(yD(e,t),t),UB=br,xD=(e,t)=>Math.abs(e.left-t),kD=(e,t)=>Math.abs(e.right-t),v3=e=>Ka(e,"node"),wD=(e,t)=>wl(e,(o,r)=>{const a=Math.min(xD(o,t),kD(o,t)),c=Math.min(xD(r,t),kD(r,t));return c===a&&v3(r)&&UB(r.node)||c<a?r:o}),ZB=e=>{const t=o=>To(o,r=>{const a=Ql(r);return a.node=e,a});if(jt(e))return t(e.getClientRects());if(mt(e)){const o=e.ownerDocument.createRange();return o.setStart(e,0),o.setEnd(e,e.data.length),t(o.getClientRects())}else return[]},_D=e=>zn(e,ZB);var qy;(function(e){e[e.Up=-1]="Up",e[e.Down=1]="Down"})(qy||(qy={}));const ab=(e,t,o,r)=>{let a=r;for(;a=V1(a,e,tp,t);)if(o(a))return},CD=(e,t,o,r,a,c)=>{let d=0;const g=[],v=B=>{let P=_D([B]);e===-1&&(P=P.reverse());for(let X=0;X<P.length;X++){const ae=P[X];if(!o(ae,A)){if(g.length>0&&t(ae,Os(g))&&d++,ae.line=d,a(ae))return!0;g.push(ae)}}return!1},A=Os(c.getClientRects());if(!A)return g;const M=c.getNode();return M&&(v(M),ab(e,r,v,M)),g},WB=(e,t)=>t.line>e,qB=(e,t)=>t.line===e,td=yt(CD,qy.Up,hc,og),SD=yt(CD,qy.Down,og,hc),ED=e=>Os(e.getClientRects()),GB=(e,t,o,r)=>{const a=po(t);let c,d,g,v;const A=[];let M=0;e===1?(c=a.next,d=og,g=hc,v=Fe.after(r)):(c=a.prev,d=hc,g=og,v=Fe.before(r));const B=ED(v);do{if(!v.isVisible())continue;const P=ED(v);if(g(P,B))continue;A.length>0&&d(P,Os(A))&&M++;const X=Ql(P);if(X.position=v,X.line=M,o(X))return A;A.push(X)}while(v=c(v));return A},AD=e=>t=>WB(e,t),x3=e=>t=>qB(e,t),Ap=(e,t)=>{e.selection.setRng(t),Qd(e,e.selection.getRng())},Iw=(e,t,o)=>$.some(c3(e,t,o)),zD=(e,t,o,r,a,c)=>{const d=t===Vi.Forwards,g=po(e.getBody()),v=yt(V_,d?g.next:g.prev),A=d?r:a;if(!o.collapsed){const ae=ng(o);if(c(ae))return ym(t,e,ae,t===Vi.Backwards,!1);if(u3(e)){const J=o.cloneRange();return J.collapse(t===Vi.Backwards),$.from(J)}}const M=Z1(t,e.getBody(),o);if(A(M))return av(e,M.getNode(!d));let B=v(M);const P=ph(o);if(B)B=tu(d,B);else return P?$.some(o):$.none();if(A(B))return ym(t,e,B.getNode(!d),d,!1);const X=v(B);return X&&A(X)&&ux(B,X)?ym(t,e,X.getNode(!d),d,!1):P?Iw(e,B.toRange(),!1):$.none()},TD=(e,t,o,r,a,c)=>{const d=Z1(t,e.getBody(),o),g=Os(d.getClientRects()),v=t===qy.Down,A=e.getBody();if(!g)return $.none();if(u3(e)){const ie=v?Fe.fromRangeEnd(o):Fe.fromRangeStart(o);return(v?jB:VB)(A,ie).orThunk(()=>$.from(ie)).map(Ce=>Ce.toRange())}const B=(v?SD:td)(A,AD(1),d),P=Ye(B,x3(1)),X=g.left,ae=wD(P,X);if(ae&&c(ae.node)){const ie=Math.abs(X-ae.left),we=Math.abs(X-ae.right);return ym(t,e,ae.node,ie<we,!1)}let J;if(r(d)?J=d.getNode():a(d)?J=d.getNode(!0):J=ng(o),J){const ie=GB(t,A,AD(1),J);let we=wD(Ye(ie,x3(1)),X);if(we||(we=Os(Ye(ie,x3(0))),we))return Iw(e,we.position.toRange(),!1)}return P.length===0?k3(e,v).filter(v?a:r).map(ie=>c3(e,ie.toRange(),!1)):$.none()},k3=(e,t)=>{const o=e.selection.getRng(),r=t?Fe.fromRangeEnd(o):Fe.fromRangeStart(o),a=_R(r.container(),e.getBody());if(t){const c=sb(a,r);return ro(c.positions)}else{const c=lv(a,r);return lt(c.positions)}},OD=(e,t,o)=>k3(e,t).filter(o).exists(r=>(e.selection.setRng(r.toRange()),!0)),Lw=(e,t)=>{const o=e.dom.createRng();o.setStart(t.container(),t.offset()),o.setEnd(t.container(),t.offset()),e.selection.setRng(o)},ib=(e,t)=>{e?t.setAttribute("data-mce-selected","inline-boundary"):t.removeAttribute("data-mce-selected")},w3=(e,t,o)=>p3(t,o).map(r=>(Lw(e,r),o)),Pw=(e,t,o)=>{const r=Fe.fromRangeStart(e);if(e.collapsed)return r;{const a=Fe.fromRangeEnd(e);return o?Yc(t,a).getOr(a):tc(t,r).getOr(r)}},_3=(e,t,o)=>{const r=e.getBody(),a=Pw(e.selection.getRng(),r,o),c=yt(Vh,e);return LB(o,c,r,a).bind(g=>w3(e,t,g))},DD=(e,t,o)=>{const r=To(ri(fe.fromDom(t.getRoot()),'*[data-mce-selected="inline-boundary"]'),d=>d.dom),a=Ye(r,e),c=Ye(o,e);We(hr(a,c),yt(ib,!1)),We(hr(c,a),yt(ib,!0))},RD=(e,t)=>{const o=t.get();if(e.selection.isCollapsed()&&!e.composing&&o){const r=Fe.fromRangeStart(e.selection.getRng());Fe.isTextPosition(r)&&!ak(r)&&(Lw(e,xR(o,r)),t.set(null))}},KB=(e,t,o,r)=>{if(t.selection.isCollapsed()){const a=Ye(r,e);We(a,c=>{const d=Fe.fromRangeStart(t.selection.getRng());vm(e,t.getBody(),d).bind(g=>w3(t,o,g))})}},C3=(e,t,o)=>ry(e)?_3(e,t,o).isSome():!1,ND=(e,t,o)=>ry(t)?pD(e,t):!1,MD=e=>{const t=Ys(null),o=yt(Vh,e);return e.on("NodeChange",r=>{ry(e)&&(DD(o,e.dom,r.parents),RD(e,t),KB(o,e,t,r.parents))}),t},BD=yt(ND,!0),ID=yt(ND,!1),cv=(e,t,o)=>{if(ry(e)){const r=k3(e,t).getOrThunk(()=>{const a=e.selection.getRng();return t?Fe.fromRangeEnd(a):Fe.fromRangeStart(a)});return vm(yt(Vh,e),e.getBody(),r).exists(a=>{const c=Dw(a);return p3(o,c).exists(d=>(Lw(e,d),!0))})}else return!1},LD=(e,t)=>{const o=document.createRange();return o.setStart(e.container(),e.offset()),o.setEnd(t.container(),t.offset()),o},PD=e=>Ls(ko(e),Xd(e),(t,o)=>{const r=tu(!0,t),a=tu(!1,o);return tc(e,r).forall(c=>c.isEqual(a))}).getOr(!0),Fw=(e,t)=>o=>p3(t,o).map(r=>()=>Lw(e,r)),S3=(e,t,o,r)=>{const a=e.getBody(),c=yt(Vh,e);e.undoManager.ignore(()=>{e.selection.setRng(LD(o,r)),nC(e),vm(c,a,Fe.fromRangeStart(e.selection.getRng())).map(Rw).bind(Fw(e,t)).each(kn)}),e.nodeChanged()},FD=(e,t)=>{const o=ag(t,e);return o||e},HD=(e,t,o,r)=>{const a=FD(e.getBody(),r.container()),c=yt(Vh,e),d=vm(c,a,r);return d.bind(v=>o?v.fold(_e($.some(Rw(v))),$.none,_e($.some(Dw(v))),$.none):v.fold($.none,_e($.some(Dw(v))),$.none,_e($.some(Rw(v))))).map(Fw(e,t)).getOrThunk(()=>{const v=zh(o,a,r),A=v.bind(M=>vm(c,a,M));return Ls(d,A,()=>Cg(c,a,r).bind(M=>PD(M)?$.some(()=>{_g(e,o,fe.fromDom(M))}):$.none())).getOrThunk(()=>A.bind(()=>v.map(M=>()=>{o?S3(e,t,r,M):S3(e,t,M,r)})))})},Hw=(e,t,o)=>{if(e.selection.isCollapsed()&&ry(e)){const r=Fe.fromRangeStart(e.selection.getRng());return HD(e,t,o,r)}return $.none()},$D=e=>yi(e)>1,E3=(e,t)=>{const o=fe.fromDom(e.getBody()),r=fe.fromDom(e.selection.getStart()),a=Ou(r,o);return Kn(a,t).fold(_e(a),c=>a.slice(0,c))},VD=e=>yi(e)===1,A3=e=>E3(e,t=>e.schema.isBlock(en(t))||$D(t)),z3=e=>E3(e,t=>e.schema.isBlock(en(t))),dv=(e,t)=>{const o=yt(Mk,e);return zn(t,r=>o(r)?[r.dom]:[])},T3=e=>{const t=z3(e);return dv(e,t)},jD=(e,t,o,r)=>{const a=dv(t,r);if(a.length===0)_g(t,e,o);else{const c=Nk(o.dom,a);t.selection.setRng(c.toRange())}},UD=(e,t)=>{const o=Ye(A3(e),VD);return ro(o).bind(r=>{const a=Fe.fromRangeStart(e.selection.getRng());return Ey(t,a,r.dom)&&!kx(r)?$.some(()=>jD(t,e,r,o)):$.none()})},O3=(e,t)=>{const o=t.parentElement;return Yr(t)&&!dt(o)&&e.dom.isEmpty(o)},ZD=e=>kx(fe.fromDom(e)),D3=(e,t)=>{const o=e.selection.getStart(),r=O3(e,o)||ZD(o)?Nk(o,t):NC(e.selection.getRng(),t);e.selection.setRng(r.toRange())},WD=(e,t)=>{const o=hr(t,T3(e));o.length>0&&D3(e,o)},qD=e=>mt(e.startContainer),GD=e=>e.startOffset===0&&qD(e),KD=(e,t)=>{const o=t.startContainer.parentElement;return!dt(o)&&Mk(e,fe.fromDom(o))},YD=e=>{const t=e.startContainer.parentNode,o=e.endContainer.parentNode;return!dt(t)&&!dt(o)&&t.isEqualNode(o)},XD=e=>{const t=e.endContainer;return e.endOffset===(mt(t)?t.length:t.childNodes.length)},JD=e=>YD(e)&&XD(e),R3=e=>!e.endContainer.isEqualNode(e.commonAncestorContainer),YB=e=>JD(e)||R3(e),QD=e=>{const t=e.selection.getRng();return GD(t)&&KD(e,t)&&YB(t)},XB=e=>{if(QD(e)){const t=T3(e);return $.some(()=>{nC(e),WD(e,t)})}else return $.none()},$w=(e,t)=>e.selection.isCollapsed()?UD(e,t):XB(e),e5=(e,t)=>Nf(e,o=>kd(o.dom),o=>t.isBlock(en(o))),JB=e=>e5(fe.fromDom(e.selection.getStart()),e.schema),QB=e=>{const t=e.selection.getRng();return t.collapsed&&(qD(t)||e.dom.isEmpty(t.startContainer))&&!JB(e)},n=e=>(QB(e)&&D3(e,[]),!0),s=(e,t,o)=>Le(o)?$.some(()=>{e._selectionOverrides.hideFakeCaret(),_g(e,t,fe.fromDom(o))}):$.none(),i=(e,t)=>{const o=t?_y:Hh,r=t?Vi.Forwards:Vi.Backwards,a=Z1(r,e.getBody(),e.selection.getRng());return o(a)?s(e,t,a.getNode(!t)):$.from(tu(t,a)).filter(c=>o(c)&&ux(a,c)).bind(c=>s(e,t,c.getNode(!t)))},l=(e,t)=>{const o=e.selection.getNode();return Yl(o)?s(e,t,o):$.none()},u=(e,t)=>e.selection.isCollapsed()?i(e,t):l(e,t),f=e=>fl(e,t=>_n(t.dom)||br(t.dom)).exists(t=>_n(t.dom)),p=e=>ts(e??"").getOr(0),b=(e,t)=>{const o=e||Pv(t)?"margin":"padding",r=Fs(t,"direction")==="rtl"?"-right":"-left";return o+r},y=(e,t,o,r,a,c)=>{const d=b(o,fe.fromDom(c)),g=p(e.getStyle(c,d));if(t==="outdent"){const v=Math.max(0,g-r);e.setStyle(c,d,v?v+a:"")}else{const v=g+r+a;e.setStyle(c,d,v)}},w=(e,t)=>Wr(t,o=>{const r=b(n4(e),o),a=fu(o,r).map(p).getOr(0);return e.dom.getContentEditable(o.dom)!=="false"&&a>0}),E=e=>{const t=L(e);return!e.mode.isReadOnly()&&(t.length>1||w(e,t))},_=e=>Lb(e)||wu(e),O=e=>aa(e).exists(_),L=e=>Ye(Ji(e.selection.getSelectedBlocks()),t=>!_(t)&&!O(t)&&f(t)),I=(e,t)=>{var o,r;const{dom:a}=e,c=vd(e),d=(r=(o=/[a-z%]+$/i.exec(c))===null||o===void 0?void 0:o[0])!==null&&r!==void 0?r:"px",g=p(c),v=n4(e);We(L(e),A=>{y(a,t,v,g,d,A.dom)})},K=e=>I(e,"indent"),q=e=>I(e,"outdent"),se=e=>{if(e.selection.isCollapsed()&&E(e)){const t=e.dom,o=e.selection.getRng(),r=Fe.fromRangeStart(o),a=t.getParent(o.startContainer,t.isBlock);if(a!==null&&Yx(fe.fromDom(a),r,e.schema))return $.some(()=>q(e))}return $.none()},W=(e,t,o)=>gs([se,f3,iv,(r,a)=>Hw(r,t,a),Aw,kp,m3,u,i3,$w],r=>r(e,o)).filter(r=>e.selection.isEditable()),Z=(e,t)=>{W(e,t,!1).fold(()=>{e.selection.isEditable()&&(nC(e),ck(e))},kn)},Y=(e,t)=>{W(e,t,!0).fold(()=>{e.selection.isEditable()&&M0(e)},kn)},oe=(e,t)=>{e.addCommand("delete",()=>{Z(e,t)}),e.addCommand("forwardDelete",()=>{Y(e,t)})},re=5,be=400,Oe=e=>e.touches===void 0||e.touches.length!==1?$.none():$.some(e.touches[0]),Ke=(e,t)=>{const o=Math.abs(e.clientX-t.x),r=Math.abs(e.clientY-t.y);return o>re||r>re},Je=e=>{const t=ct(),o=Ys(!1),r=ch(a=>{e.dispatch("longpress",{...a,type:"longpress"}),o.set(!0)},be);e.on("touchstart",a=>{Oe(a).each(c=>{r.cancel();const d={x:c.clientX,y:c.clientY,target:a.target};r.throttle(a),o.set(!1),t.set(d)})},!0),e.on("touchmove",a=>{r.cancel(),Oe(a).each(c=>{t.on(d=>{Ke(c,d)&&(t.clear(),o.set(!1),e.dispatch("longpresscancel"))})})},!0),e.on("touchend touchcancel",a=>{r.cancel(),a.type!=="touchcancel"&&t.get().filter(c=>c.target.isEqualNode(a.target)).each(()=>{o.get()?a.preventDefault():e.dispatch("tap",{...a,type:"tap"})})},!0)},at=(e,t)=>xo(e,t.nodeName),kt=(e,t)=>mt(t)?!0:jt(t)?!at(e.getBlockElements(),t)&&!wd(t)&&!mc(e,t)&&!k(t):!1,Mt=(e,t,o)=>dr(hl(fe.fromDom(o),fe.fromDom(t)),r=>at(e,r.dom)),qt=(e,t)=>{if(mt(t)){if(t.data.length===0)return!0;if(/^\s+$/.test(t.data))return!t.nextSibling||at(e,t.nextSibling)||k(t.nextSibling)}return!1},so=e=>e.dom.create(ol(e),N1(e)),Lo=e=>{const t=e.dom,o=e.selection,r=e.schema,a=r.getBlockElements(),c=o.getStart(),d=e.getBody();let g,v,A=!1;const M=ol(e);if(!c||!jt(c))return;const B=d.nodeName.toLowerCase();if(!r.isValidChild(B,M.toLowerCase())||Mt(a,d,c))return;const P=o.getRng(),{startContainer:X,startOffset:ae,endContainer:J,endOffset:ie}=P,we=Lh(e);let Ce=d.firstChild;for(;Ce;)if(jt(Ce)&&Jl(r,Ce),kt(r,Ce)){if(qt(a,Ce)){v=Ce,Ce=Ce.nextSibling,t.remove(v);continue}g||(g=so(e),d.insertBefore(g,Ce),A=!0),v=Ce,Ce=Ce.nextSibling,g.appendChild(v)}else g=null,Ce=Ce.nextSibling;A&&we&&(P.setStart(X,ae),P.setEnd(J,ie),o.setRng(P),e.nodeChanged())},ln=(e,t,o)=>{const r=fe.fromDom(so(e)),a=$l();Dr(r,a),o(t,r);const c=document.createRange();return c.setStartBefore(a.dom),c.setEndBefore(a.dom),c},is=e=>{e.on("NodeChange",yt(Lo,e))},ms=e=>t=>(" "+t.attr("class")+" ").indexOf(e)!==-1,co=(e,t,o)=>function(r){const a=arguments,c=a[a.length-2],d=c>0?t.charAt(c-1):"";if(d==='"')return r;if(d===">"){const g=t.lastIndexOf("<",c);if(g!==-1&&t.substring(g,c).indexOf('contenteditable="false"')!==-1)return r}return'<span class="'+o+'" data-mce-content="'+e.dom.encode(a[0])+'">'+e.dom.encode(typeof a[1]=="string"?a[1]:a[0])+"</span>"},As=(e,t,o)=>{let r=t.length,a=o.content;if(o.format!=="raw"){for(;r--;)a=a.replace(t[r],co(e,a,Ch(e)));o.content=a}},wo=e=>{const t="contenteditable",o=" "+ft.trim(mR(e))+" ",r=" "+ft.trim(Ch(e))+" ",a=ms(o),c=ms(r),d=b4(e);d.length>0&&e.on("BeforeSetContent",g=>{As(e,d,g)}),e.parser.addAttributeFilter("class",g=>{let v=g.length;for(;v--;){const A=g[v];a(A)?A.attr(t,"true"):c(A)&&A.attr(t,"false")}}),e.serializer.addAttributeFilter(t,g=>{let v=g.length;for(;v--;){const A=g[v];!a(A)&&!c(A)||(d.length>0&&A.attr("data-mce-content")?(A.name="#text",A.type=3,A.raw=!0,A.value=A.attr("data-mce-content")):A.attr(t,null))}})},Jr=e=>ya(fe.fromDom(e.getBody()),"*[data-mce-caret]").map(t=>t.dom).getOrNull(),sr=(e,t)=>{t.hasAttribute("data-mce-caret")&&(Cu(t),e.selection.setRng(e.selection.getRng()),e.selection.scrollIntoView(t))},yl=(e,t)=>{const o=Jr(e);if(o){if(t.type==="compositionstart"){t.preventDefault(),t.stopPropagation(),sr(e,o);return}C1(o)&&(sr(e,o),e.undoManager.add())}},Zs=e=>{e.on("keyup compositionstart",yt(yl,e))},Wa=br,vc=(e,t,o)=>zD(t,e,o,dm,hp,Wa),Gy=(e,t,o)=>TD(t,e,o,c=>dm(c)||F2(c),c=>hp(c)||H2(c),Wa),Ky=e=>{const t=e.dom.create(ol(e));return t.innerHTML='<br data-mce-bogus="1">',t},zp=(e,t,o)=>{const r=po(e.getBody()),a=yt(V_,t===1?r.next:r.prev);if(o.collapsed){const c=e.dom.getParent(o.startContainer,"PRE");if(!c)return;if(!a(Fe.fromRangeStart(o))){const g=fe.fromDom(Ky(e));t===1?Hs(fe.fromDom(c),g):Ae(fe.fromDom(c),g),e.selection.select(g.dom,!0),e.selection.collapse()}}},Tp=(e,t)=>{const o=t?Vi.Forwards:Vi.Backwards,r=e.selection.getRng();return vc(o,e,r).orThunk(()=>(zp(e,o,r),$.none()))},uv=(e,t)=>{const o=t?1:-1,r=e.selection.getRng();return Gy(o,e,r).orThunk(()=>(zp(e,o,r),$.none()))},Pg=(e,t)=>{const o=t?e.getEnd(!0):e.getStart(!0);return Ed(o)?!t:t},xm=(e,t)=>Tp(e,Pg(e.selection,t)).exists(o=>(Ap(e,o),!0)),Fg=(e,t)=>uv(e,t).exists(o=>(Ap(e,o),!0)),Hg=(e,t)=>OD(e,t,t?hp:dm),$g=(e,t)=>d3(e,!t).map(o=>{const r=o.toRange(),a=e.selection.getRng();return t?r.setStart(a.startContainer,a.startOffset):r.setEnd(a.endContainer,a.endOffset),r}).exists(o=>(Ap(e,o),!0)),Vw=e=>nn(["figcaption"],en(e)),fv=(e,t,o)=>{const r=yt(an,t);return fl(fe.fromDom(e.container()),a=>o.isBlock(en(a)),r).filter(Vw)},Vg=(e,t,o)=>t?vD(e.dom,o):y3(e.dom,o),Op=(e,t)=>{const o=fe.fromDom(e.getBody()),r=Fe.fromRangeStart(e.selection.getRng());return fv(r,o,e.schema).exists(()=>{if(Vg(o,t,r)){const c=ln(e,o,t?Dr:Tc);return e.selection.setRng(c),!0}else return!1})},km=(e,t)=>e.selection.isCollapsed()?Op(e,t):!1,mv=(e,t,o)=>{const r=e.selection.getRng(),a=Fe.fromRangeStart(r);return e.getBody().firstChild===t&&y3(o,a)?(e.execCommand("InsertNewBlockBefore"),!0):!1},pv=(e,t)=>{const o=e.selection.getRng(),r=Fe.fromRangeStart(o);return e.getBody().lastChild===t&&vD(t,r)?(e.execCommand("InsertNewBlockAfter"),!0):!1},Un=(e,t)=>t?$.from(e.dom.getParent(e.selection.getNode(),"details")).map(o=>pv(e,o)).getOr(!1):$.from(e.dom.getParent(e.selection.getNode(),"summary")).bind(o=>$.from(e.dom.getParent(o,"details")).map(r=>mv(e,r,o))).getOr(!1),wm=(e,t)=>Un(e,t),Lu={shiftKey:!1,altKey:!1,ctrlKey:!1,metaKey:!1,keyCode:0},jw=e=>To(e,t=>({...Lu,...t})),Uw=e=>To(e,t=>({...Lu,...t})),_m=(e,t)=>t.keyCode===e.keyCode&&t.shiftKey===e.shiftKey&&t.altKey===e.altKey&&t.ctrlKey===e.ctrlKey&&t.metaKey===e.metaKey,Yy=(e,t)=>zn(jw(e),o=>_m(o,t)?[o]:[]),N3=(e,t)=>zn(Uw(e),o=>_m(o,t)?[o]:[]),Do=(e,...t)=>()=>e.apply(null,t),gv=(e,t)=>Nn(Yy(e,t),o=>o.action()),lb=(e,t)=>gs(N3(e,t),o=>o.action()),t5=(e,t)=>{const o=t?Vi.Forwards:Vi.Backwards,r=e.selection.getRng();return zD(e,o,r,_y,Hh,Yl).exists(a=>(Ap(e,a),!0))},vl=(e,t)=>{const o=t?1:-1,r=e.selection.getRng();return TD(e,o,r,_y,Hh,Yl).exists(a=>(Ap(e,a),!0))},cb=(e,t)=>OD(e,t,t?Hh:_y),o5=ho.generate([{none:["current"]},{first:["current"]},{middle:["current","target"]},{last:["current"]}]),db={...o5,none:e=>o5.none(e)},n5=(e,t)=>M3(e,t,Ao),M3=(e,t,o)=>zn(ds(e),r=>ti(r,t)?o(r)?[r]:[]:M3(r,t,o)),t7=(e,t,o=fn)=>{if(o(t))return $.none();if(nn(e,en(t)))return $.some(t);const r=a=>ti(a,"table")||o(a);return Ze(t,e.join(","),r)},Zw=(e,t)=>t7(["td","th"],e,t),B3=e=>n5(e,"th,td"),jg=(e,t)=>jd(e,"table",t),ub=(e,t,o,r,a=Ao)=>{const c=r===1;if(!c&&o<=0)return db.first(e[0]);if(c&&o>=e.length-1)return db.last(e[e.length-1]);{const d=o+r,g=e[d];return a(g)?db.middle(t,g):ub(e,t,d,r,a)}},I3=(e,t)=>jg(e,t).bind(o=>{const r=B3(o);return Kn(r,c=>an(e,c)).map(c=>({index:c,all:r}))}),r5=(e,t,o)=>I3(e,o).fold(()=>db.none(e),a=>ub(a.all,e,a.index,1,t)),Ww=(e,t,o)=>I3(e,o).fold(()=>db.none(),a=>ub(a.all,e,a.index,-1,t)),Dp=e=>Lv(e).filter(t=>t.trim().length!==0||t.indexOf(us)>-1).isSome(),s5=e=>iu(e)&&Oa(e,"contenteditable")==="false",a5=["img","br"],i5=e=>Dp(e)||nn(a5,en(e))||s5(e),l5=e=>Vd(e,i5),o7=(e,t)=>({left:e.left-t,top:e.top-t,right:e.right+t*2,bottom:e.bottom+t*2,width:e.width+t,height:e.height+t}),Re=(e,t)=>zn(t,o=>{const r=o7(Ql(o.getBoundingClientRect()),-1);return[{x:r.left,y:e(r),cell:o},{x:r.right,y:e(r),cell:o}]}),ao=(e,t,o)=>fo(e,(r,a)=>r.fold(()=>$.some(a),c=>{const d=Math.sqrt(Math.abs(c.x-t)+Math.abs(c.y-o)),g=Math.sqrt(Math.abs(a.x-t)+Math.abs(a.y-o));return $.some(g<d?a:c)}),$.none()),No=(e,t,o,r,a)=>{const c=ri(fe.fromDom(o),"td,th,caption").map(g=>g.dom),d=Ye(Re(e,c),g=>t(g,a));return ao(d,r,a).map(g=>g.cell)},$r=e=>e.bottom,Ns=e=>e.top,ta=(e,t)=>e.y<t,Ws=(e,t)=>e.y>t,_a=yt(No,$r,ta),Xy=yt(No,Ns,Ws),n7=(e,t)=>lt(t.getClientRects()).bind(o=>_a(e,o.left,o.top)).bind(o=>Mw($B(o),t)),c5=(e,t)=>ro(t.getClientRects()).bind(o=>Xy(e,o.left,o.top)).bind(o=>Mw(HB(o),t)),n8=(e,t,o)=>o.breakAt.exists(r=>e(t,r).breakAt.isSome()),eP=e=>e.breakType===wf.Wrap&&e.positions.length===0,tP=e=>e.breakType===wf.Br&&e.positions.length===1,r8=(e,t,o)=>{const r=e(t,o);return eP(r)||!Yr(o.getNode())&&tP(r)?!n8(e,t,r):r.breakAt.isNone()},oP=yt(r8,lv),nP=yt(r8,sb),rP=(e,t,o)=>{const r=Fe.fromRangeStart(t);return iy(!e,o).exists(a=>a.isEqual(r))},sP=(e,t,o,r)=>{const a=e.selection.getRng(),c=t?1:-1;return L_()&&rP(t,a,o)?(ym(c,e,o,!t,!1).each(d=>{Ap(e,d)}),!0):!1},aP=(e,t,o)=>n7(t,o).orThunk(()=>lt(o.getClientRects()).bind(r=>b3(Bw(e,Fe.before(t)),r.left))).getOr(Fe.before(t)),iP=(e,t,o)=>c5(t,o).orThunk(()=>lt(o.getClientRects()).bind(r=>b3(yD(e,Fe.after(t)),r.left))).getOr(Fe.after(t)),s8=(e,t)=>{const o=t.getNode(e);return Bc(o)?$.some(o):$.none()},lP=(e,t,o)=>{t.undoManager.transact(()=>{const r=e?Hs:Ae,a=ln(t,fe.fromDom(o),r);Ap(t,a)})},a8=(e,t,o)=>{const r=s8(!!t,o),a=t===!1;r.fold(()=>Ap(e,o.toRange()),c=>iy(a,e.getBody()).filter(d=>d.isEqual(o)).fold(()=>Ap(e,o.toRange()),d=>lP(t,e,c)))},cP=(e,t,o,r)=>{const a=e.selection.getRng(),c=Fe.fromRangeStart(a),d=e.getBody();if(!t&&oP(r,c)){const g=aP(d,o,c);return a8(e,t,g),!0}else if(t&&nP(r,c)){const g=iP(d,o,c);return a8(e,t,g),!0}else return!1},i8=(e,t,o)=>$.from(e.dom.getParent(e.selection.getNode(),"td,th")).bind(r=>$.from(e.dom.getParent(r,"table")).map(a=>o(e,t,a,r))).getOr(!1),l8=(e,t)=>i8(e,t,sP),r7=(e,t)=>i8(e,t,cP),dP=e=>{const t=pg.exact(e,0,e,0);return QR(t)},c8=(e,t,o)=>o.fold($.none,$.none,(r,a)=>l5(a).map(c=>dP(c)),r=>(e.execCommand("mceTableInsertRowAfter"),d8(e,t,r))),d8=(e,t,o)=>c8(e,t,r5(o,Ii)),uP=(e,t,o)=>c8(e,t,Ww(o,Ii)),u8=(e,t)=>{const o=["table","li","dl"],r=fe.fromDom(e.getBody()),a=g=>{const v=en(g);return an(g,r)||nn(o,v)},c=e.selection.getRng(),d=fe.fromDom(t?c.endContainer:c.startContainer);return Zw(d,a).map(g=>(jg(g,a).each(M=>{e.model.table.clearSelectedCells(M.dom)}),e.selection.collapse(!t),(t?d8:uP)(e,a,g).each(M=>{e.selection.setRng(M)}),!0)).getOr(!1)},fP=(e,t,o)=>{const r=Wo.os.isMacOS()||Wo.os.isiOS();gv([{keyCode:Dt.RIGHT,action:Do(xm,e,!0)},{keyCode:Dt.LEFT,action:Do(xm,e,!1)},{keyCode:Dt.UP,action:Do(Fg,e,!1)},{keyCode:Dt.DOWN,action:Do(Fg,e,!0)},...r?[{keyCode:Dt.UP,action:Do($g,e,!1),metaKey:!0,shiftKey:!0},{keyCode:Dt.DOWN,action:Do($g,e,!0),metaKey:!0,shiftKey:!0}]:[],{keyCode:Dt.RIGHT,action:Do(l8,e,!0)},{keyCode:Dt.LEFT,action:Do(l8,e,!1)},{keyCode:Dt.UP,action:Do(r7,e,!1)},{keyCode:Dt.DOWN,action:Do(r7,e,!0)},{keyCode:Dt.UP,action:Do(r7,e,!1)},{keyCode:Dt.UP,action:Do(wm,e,!1)},{keyCode:Dt.DOWN,action:Do(wm,e,!0)},{keyCode:Dt.RIGHT,action:Do(t5,e,!0)},{keyCode:Dt.LEFT,action:Do(t5,e,!1)},{keyCode:Dt.UP,action:Do(vl,e,!1)},{keyCode:Dt.DOWN,action:Do(vl,e,!0)},{keyCode:Dt.RIGHT,action:Do(C3,e,t,!0)},{keyCode:Dt.LEFT,action:Do(C3,e,t,!1)},{keyCode:Dt.RIGHT,ctrlKey:!r,altKey:r,action:Do(BD,e,t)},{keyCode:Dt.LEFT,ctrlKey:!r,altKey:r,action:Do(ID,e,t)},{keyCode:Dt.UP,action:Do(km,e,!1)},{keyCode:Dt.DOWN,action:Do(km,e,!0)}],o).each(a=>{o.preventDefault()})},mP=(e,t)=>{e.on("keydown",o=>{o.isDefaultPrevented()||fP(e,t,o)})},Rp=(e,t)=>({container:e,offset:t}),d5=jn.DOM,u5=e=>t=>e===t?-1:0,pP=e=>t=>e.isBlock(t)||nn(["BR","IMG","HR","INPUT"],t.nodeName)||e.getContentEditable(t)==="false",s7=(e,t,o)=>{if(mt(e)&&t>=0)return $.some(Rp(e,t));{const r=Qu(d5);return $.from(r.backwards(e,t,u5(e),o)).map(a=>Rp(a.container,a.container.data.length))}},gP=(e,t,o)=>{if(mt(e)&&t>=e.length)return $.some(Rp(e,t));{const r=Qu(d5);return $.from(r.forwards(e,t,u5(e),o)).map(a=>Rp(a.container,0))}},a7=(e,t,o)=>{if(!mt(e))return $.none();const r=e.data;if(t>=0&&t<=r.length)return $.some(Rp(e,t));{const a=Qu(d5);return $.from(a.backwards(e,t,u5(e),o)).bind(c=>{const d=c.container.data;return a7(c.container,t+d.length,o)})}},f8=(e,t,o)=>{if(!mt(e))return $.none();const r=e.data;if(t<=r.length)return $.some(Rp(e,t));{const a=Qu(d5);return $.from(a.forwards(e,t,u5(e),o)).bind(c=>f8(c.container,t-r.length,o))}},i7=(e,t,o,r,a)=>{const c=Qu(e,pP(e));return $.from(c.backwards(t,o,r,a))},hP=e=>e.collapsed&&mt(e.startContainer),bP=e=>wa(e.toString().replace(/\u00A0/g," ")),m8=e=>e!==""&&`  \f
\r	\v`.indexOf(e)!==-1,yP=(e,t)=>e.substring(t.length),vP=(e,t,o,r=!1)=>{let a;const c=o.charAt(0);for(a=t-1;a>=0;a--){const d=e.charAt(a);if(!r&&m8(d))return $.none();if(c===d&&In(e,o,a,t))break}return $.some(a)},l7=(e,t,o,r=!1)=>{if(!hP(t))return $.none();const a={text:"",offset:0},c=(g,v,A)=>(a.text=A+a.text,a.offset+=v,vP(a.text,a.offset,o,r).getOr(v)),d=e.getParent(t.startContainer,e.isBlock)||e.getRoot();return i7(e,t.startContainer,t.startOffset,c,d).bind(g=>{const v=t.cloneRange();if(v.setStart(g.container,g.offset),v.setEnd(t.endContainer,t.endOffset),v.collapsed)return $.none();const A=bP(v);return A.lastIndexOf(o)!==0?$.none():$.some({text:yP(A,o),range:v,trigger:o})})},xP=e=>e.nodeType===Ja,kP=e=>e.nodeType===Ol,p8=e=>{if(xP(e))return Rp(e,e.data.length);{const t=e.childNodes;return t.length>0?p8(t[t.length-1]):Rp(e,t.length)}},g8=(e,t)=>{const o=e.childNodes;return o.length>0&&t<o.length?g8(o[t],0):o.length>0&&kP(e)&&o.length===t?p8(o[o.length-1]):Rp(e,t)},wP=(e,t)=>{var o;const r=(o=e.getParent(t.container,e.isBlock))!==null&&o!==void 0?o:e.getRoot();return i7(e,t.container,t.offset,(a,c)=>c===0?-1:c,r).filter(a=>{const c=a.container.data.charAt(a.offset-1);return!m8(c)}).isSome()},_P=e=>t=>{const o=g8(t.startContainer,t.startOffset);return!wP(e,o)},CP=(e,t,o)=>gs(o.triggers,r=>l7(e,t,r)),SP=(e,t)=>{const o=t(),r=e.selection.getRng();return CP(e.dom,r,o).bind(a=>h8(e,t,a))},h8=(e,t,o,r={})=>{var a;const c=t(),g=(a=e.selection.getRng().startContainer.nodeValue)!==null&&a!==void 0?a:"",v=Ye(c.lookupByTrigger(o.trigger),M=>o.text.length>=M.minChars&&M.matches.getOrThunk(()=>_P(e.dom))(o.range,g,o.text));if(v.length===0)return $.none();const A=Promise.all(To(v,M=>M.fetch(o.text,M.maxResults,r).then(P=>({matchText:o.text,items:P,columns:M.columns,onAction:M.onAction,highlightOn:M.highlightOn}))));return $.some({lookupData:A,context:o})};var Np;(function(e){e[e.Error=0]="Error",e[e.Value=1]="Value"})(Np||(Np={}));const c7=(e,t,o)=>e.stype===Np.Error?t(e.serror):o(e.svalue),EP=e=>{const t=[],o=[];return We(e,r=>{c7(r,a=>o.push(a),a=>t.push(a))}),{values:t,errors:o}},AP=(e,t)=>e.stype===Np.Error?{stype:Np.Error,serror:t(e.serror)}:e,zP=(e,t)=>e.stype===Np.Value?{stype:Np.Value,svalue:t(e.svalue)}:e,TP=(e,t)=>e.stype===Np.Value?t(e.svalue):e,OP=(e,t)=>e.stype===Np.Error?t(e.serror):e,b8=e=>({stype:Np.Value,svalue:e}),y8=e=>({stype:Np.Error,serror:e}),jl={fromResult:e=>e.fold(y8,b8),toResult:e=>c7(e,Gt.error,Gt.value),svalue:b8,partition:EP,serror:y8,bind:TP,bindError:OP,map:zP,mapError:AP,fold:c7},d7=e=>ne(e)&&st(e).length>100?" removed due to size":JSON.stringify(e,null,2),DP=e=>{const t=e.length>10?e.slice(0,10).concat([{path:[],getErrorInfo:_e("... (only showing first ten failures)")}]):e;return To(t,o=>"Failed path: ("+o.path.join(" > ")+`)
`+o.getErrorInfo())},f5=(e,t)=>jl.serror([{path:e,getErrorInfo:t}]),RP=(e,t,o)=>f5(e,()=>'Could not find valid *required* value for "'+t+'" in '+d7(o)),NP=(e,t)=>f5(e,()=>'Choice schema did not contain choice key: "'+t+'"'),MP=(e,t,o)=>f5(e,()=>'The chosen schema: "'+o+'" did not exist in branches: '+d7(t)),BP=(e,t)=>f5(e,_e(t)),IP=(e,t,o,r)=>Hn(o,r).fold(()=>MP(e,o,r),c=>c.extract(e.concat(["branch: "+r]),t)),LP=(e,t)=>({extract:(a,c)=>Hn(c,e).fold(()=>NP(a,e),g=>IP(a,c,t,g)),toString:()=>"chooseOn("+e+"). Possible values: "+st(t)}),PP=(e,t)=>t,FP=(e,t)=>Et(e)&&Et(t)?m5(e,t):t,v8=e=>(...t)=>{if(t.length===0)throw new Error("Can't merge zero objects");const o={};for(let r=0;r<t.length;r++){const a=t[r];for(const c in a)xo(a,c)&&(o[c]=e(o[c],a[c]))}return o},m5=v8(FP),HP=v8(PP),x8=()=>({tag:"required",process:{}}),$P=e=>({tag:"defaultedThunk",process:e}),k8=e=>$P(_e(e)),VP=()=>({tag:"option",process:{}}),jP=(e,t)=>e.length>0?jl.svalue(m5(t,HP.apply(void 0,e))):jl.svalue(t),w8=e=>Ro(jl.serror,Mn)(e),UP={consolidateObj:(e,t)=>{const o=jl.partition(e);return o.errors.length>0?w8(o.errors):jP(o.values,t)},consolidateArr:e=>{const t=jl.partition(e);return t.errors.length>0?w8(t.errors):jl.svalue(t.values)}},ZP=(e,t,o,r)=>({tag:"field",key:e,newKey:t,presence:o,prop:r}),WP=(e,t)=>({tag:"custom",newKey:e,instantiator:t}),_8=(e,t,o)=>{switch(e.tag){case"field":return t(e.key,e.newKey,e.presence,e.prop);case"custom":return o(e.newKey,e.instantiator)}},u7=e=>{const t=(r,a)=>jl.bindError(e(a),c=>BP(r,c)),o=_e("val");return{extract:t,toString:o}},qP=u7(jl.svalue),GP=(e,t,o,r)=>Hn(t,o).fold(()=>RP(e,o,t),r),C8=(e,t,o,r)=>{const a=Hn(e,t).getOrThunk(()=>o(e));return r(a)},KP=(e,t,o)=>o(Hn(e,t)),YP=(e,t,o,r)=>{const a=Hn(e,t).map(c=>c===!0?o(e):c);return r(a)},XP=(e,t,o,r,a)=>{const c=g=>a.extract(t.concat([r]),g),d=g=>g.fold(()=>jl.svalue($.none()),v=>{const A=a.extract(t.concat([r]),v);return jl.map(A,$.some)});switch(e.tag){case"required":return GP(t,o,r,c);case"defaultedThunk":return C8(o,r,e.process,c);case"option":return KP(o,r,d);case"defaultedOptionThunk":return YP(o,r,e.process,d);case"mergeWithThunk":return C8(o,r,_e({}),g=>{const v=m5(e.process(o),g);return c(v)})}},JP=(e,t,o)=>{const r={},a=[];for(const c of o)_8(c,(d,g,v,A)=>{const M=XP(v,e,t,d,A);jl.fold(M,B=>{a.push(...B)},B=>{r[g]=B})},(d,g)=>{r[d]=g(t)});return a.length>0?jl.serror(a):jl.svalue(r)},f7=e=>({extract:(r,a)=>JP(r,a,e),toString:()=>`obj{
`+To(e,a=>_8(a,(c,d,g,v)=>c+" -> "+v.toString(),(c,d)=>"state("+c+")")).join(`
`)+"}"}),S8=e=>({extract:(r,a)=>{const c=To(a,(d,g)=>e.extract(r.concat(["["+g+"]"]),d));return UP.consolidateArr(c)},toString:()=>"array("+e.toString()+")"}),QP=e=>u7(t=>e(t).fold(jl.serror,jl.svalue)),eF=(e,t,o)=>{const r=t.extract([e],o);return jl.mapError(r,a=>({input:o,errors:a}))},tF=(e,t,o)=>jl.toResult(eF(e,t,o)),oF=e=>`Errors: 
`+DP(e.errors).join(`
`)+`

Input object: `+d7(e.input),E8=(e,t)=>LP(e,Wi(t,f7)),nF=_e(qP),p5=(e,t)=>u7(o=>{const r=typeof o;return e(o)?jl.svalue(o):jl.serror(`Expected type: ${t} but got: ${r}`)}),rF=p5(T,"number"),g5=p5(He,"string"),sF=p5(Gn,"boolean"),m7=p5(Lt,"function"),L3=ZP,A8=WP,aF=e=>QP(t=>nn(e,t)?Gt.value(t):Gt.error(`Unsupported value: "${t}", choose one of "${e.join(", ")}".`)),z8=(e,t)=>L3(e,e,x8(),t),T8=e=>z8(e,g5),O8=e=>z8(e,m7),iF=(e,t)=>L3(e,e,x8(),S8(t)),p7=(e,t)=>L3(e,e,VP(),t),h5=e=>p7(e,g5),lF=e=>p7(e,m7),cF=(e,t)=>L3(e,e,k8(t),nF()),qw=(e,t,o)=>L3(e,e,k8(t),o),D8=(e,t)=>qw(e,t,rF),dF=(e,t)=>qw(e,t,g5),R8=(e,t,o)=>qw(e,t,aF(o)),g7=(e,t)=>qw(e,t,sF),h7=(e,t)=>qw(e,t,m7),uF=(e,t,o)=>qw(e,t,S8(o)),fF=T8("type"),mF=O8("fetch"),b7=O8("onAction"),pF=h7("onSetup",()=>lo),gF=h5("text"),hF=h5("icon"),bF=h5("tooltip"),yF=h5("label"),vF=g7("active",!1),xF=g7("enabled",!0),N8=g7("primary",!1),kF=e=>cF("columns",e),P3=e=>dF("type",e),wF=f7([fF,T8("trigger"),D8("minChars",1),kF(1),D8("maxResults",10),lF("matches"),mF,b7,uF("highlightOn",[],g5)]),_F=e=>tF("Autocompleter",wF,e),y7=[xF,bF,hF,gF,pF],M8=[vF].concat(y7),CF=[h7("predicate",fn),R8("scope","node",["node","editor"]),R8("position","selection",["node","selection","line"])],SF=y7.concat([P3("contextformbutton"),N8,b7,A8("original",Tt)]),EF=M8.concat([P3("contextformbutton"),N8,b7,A8("original",Tt)]),AF=y7.concat([P3("contextformbutton")]),zF=M8.concat([P3("contextformtogglebutton")]),TF=E8("type",{contextformbutton:SF,contextformtogglebutton:EF});f7([P3("contextform"),h7("initValue",_e("")),yF,iF("commands",TF),p7("launch",E8("type",{contextformbutton:AF,contextformtogglebutton:zF}))].concat(CF));const OF=e=>{const t=e.ui.registry.getAll().popups,o=Wi(t,d=>_F(d).fold(g=>{throw new Error(oF(g))},Tt)),r=al(ra(o,d=>d.trigger)),a=ui(o);return{dataset:o,triggers:r,lookupByTrigger:d=>Ye(a,g=>g.trigger===d)}},DF=(e,t)=>{const o=ch(t.load,50);e.on("input",r=>{r.inputType==="insertCompositionText"&&!e.composing||o.throttle()}),e.on("keydown",r=>{const a=r.which;a===8?o.throttle():a===27?(o.cancel(),t.cancelIfNecessary()):(a===38||a===40)&&o.cancel()},!0),e.on("remove",o.cancel)},RF=e=>{const t=ct(),o=Ys(!1),r=t.isSet,a=()=>{r()&&(FR(e),o.set(!1),t.clear())},c=B=>{r()||t.set({trigger:B.trigger,matchLength:B.text.length})},d=Ya(()=>OF(e)),g=B=>t.get().map(P=>l7(e.dom,e.selection.getRng(),P.trigger,!0).bind(X=>h8(e,d,X,B))).getOrThunk(()=>SP(e,d)),v=B=>{g(B).fold(a,P=>{c(P.context),P.lookupData.then(X=>{t.get().map(ae=>{const J=P.context;ae.trigger===J.trigger&&(t.set({...ae,matchLength:J.text.length}),o.get()?(l2(e,{range:J.range}),i2(e,{lookupData:X})):(o.set(!0),l2(e,{range:J.range}),a2(e,{lookupData:X})))})})})},A=(B,P)=>{const X=B.compareBoundaryPoints(window.Range.START_TO_START,P),ae=B.compareBoundaryPoints(window.Range.END_TO_END,P);return X>=0&&ae<=0},M=()=>t.get().bind(({trigger:B})=>{const P=e.selection.getRng();return l7(e.dom,P,B,o.get()).filter(({range:X})=>A(P,X)).map(({range:X})=>X)});e.addCommand("mceAutocompleterReload",(B,P)=>{const X=ne(P)?P.fetchOptions:{};v(X)}),e.addCommand("mceAutocompleterClose",a),e.addCommand("mceAutocompleterRefreshActiveRange",()=>{M().each(B=>{l2(e,{range:B})})}),e.editorCommands.addQueryStateHandler("mceAutoCompleterInRange",()=>M().isSome()),DF(e,{cancelIfNecessary:a,load:v})},NF=Jo().browser.isSafari(),B8=e=>Zc(fe.fromDom(e)),I8=(e,t)=>{var o;return e.startOffset===0&&e.endOffset===((o=t.textContent)===null||o===void 0?void 0:o.length)},b5=(e,t)=>$.from(e.getParent(t.container(),"details")),L8=(e,t)=>b5(e,t).isSome(),MF=(e,t)=>{const o=$.from(e.getParent(t.startContainer,"details")),r=$.from(e.getParent(t.endContainer,"details"));if(o.isSome()||r.isSome()){const a=o.bind(c=>$.from(e.select("summary",c)[0]));return $.some({startSummary:a,startDetails:o,endDetails:r})}else return $.none()},BF=(e,t)=>ko(t).exists(o=>o.isEqual(e)),IF=(e,t)=>Xd(t).exists(o=>Yr(o.getNode())&&Yc(t,o).exists(r=>r.isEqual(e))||o.isEqual(e)),LF=(e,t)=>t.startSummary.exists(o=>BF(e,o)),PF=(e,t)=>t.startSummary.exists(o=>IF(e,o)),FF=(e,t)=>t.startDetails.exists(o=>Yc(o,e).forall(r=>t.startSummary.exists(a=>!a.contains(e.container())&&a.contains(r.container())))),HF=(e,t,o)=>o.startDetails.exists(r=>tc(e,t).forall(a=>!r.contains(a.container()))),P8=(e,t)=>{const o=t.getNode();gn(o)||e.selection.setCursorLocation(o,t.offset())},F8=(e,t,o)=>{const r=e.dom.getParent(t.container(),"details");if(r&&!r.open){const a=e.dom.select("summary",r)[0];a&&(o?ko(a):Xd(a)).each(d=>P8(e,d))}else P8(e,t)},$F=(e,t)=>{const o=v=>v.contains(e.startContainer),r=v=>v.contains(e.endContainer),a=t.startSummary.exists(o),c=t.startSummary.exists(r),d=t.startDetails.forall(v=>t.endDetails.forall(A=>v!==A));return(a||c)&&!(a&&c)||d},H8=(e,t,o)=>{const{dom:r,selection:a}=e,c=e.getBody();if(o==="character"){const d=Fe.fromRangeStart(a.getRng()),g=r.getParent(d.container(),r.isBlock),v=b5(r,d),A=g&&r.isEmpty(g),M=dt(g==null?void 0:g.previousSibling),B=dt(g==null?void 0:g.nextSibling);return A&&(t?B:M)&&zh(!t,c,d).exists(ae=>L8(r,ae)&&!Oi(v,b5(r,ae)))?!0:zh(t,c,d).fold(fn,P=>{const X=b5(r,P);if(L8(r,P)&&!Oi(v,X)){if(t||F8(e,P,!1),g&&A){if(t&&M)return!0;if(!t&&B)return!0;F8(e,P,t),e.dom.remove(g)}return!0}else return!1})}else return!1},VF=(e,t,o,r)=>{const c=e.selection.getRng(),d=Fe.fromRangeStart(c),g=e.getBody();return r==="selection"?$F(c,t):o?PF(d,t)||HF(g,d,t):LF(d,t)||FF(d,t)},jF=(e,t,o)=>MF(e.dom,e.selection.getRng()).fold(()=>H8(e,t,o),r=>VF(e,r,t,o)||H8(e,t,o)),UF=(e,t,o)=>{const r=e.selection,a=r.getNode(),c=r.getRng(),d=Fe.fromRangeStart(c);return Yg(a)?(o==="selection"&&I8(c,a)||Ey(t,d,a)?B8(a):e.undoManager.transact(()=>{const g=r.getSel();let{anchorNode:v,anchorOffset:A,focusNode:M,focusOffset:B}=g??{};const P=()=>{Le(v)&&Le(A)&&Le(M)&&Le(B)&&(g==null||g.setBaseAndExtent(v,A,M,B))},X=()=>{v=g==null?void 0:g.anchorNode,A=g==null?void 0:g.anchorOffset,M=g==null?void 0:g.focusNode,B=g==null?void 0:g.focusOffset},ae=(ie,we)=>{We(ie.childNodes,Ce=>{my(Ce)&&we.appendChild(Ce)})},J=e.dom.create("span",{"data-mce-bogus":"1"});ae(a,J),a.appendChild(J),P(),(o==="word"||o==="line")&&(g==null||g.modify("extend",t?"right":"left",o)),!r.isCollapsed()&&I8(r.getRng(),J)?B8(a):(e.execCommand(t?"ForwardDelete":"Delete"),X(),ae(J,a),P()),e.dom.remove(J)}),!0):!1},hv=(e,t,o)=>jF(e,t,o)||NF&&UF(e,t,o)?$.some(lo):$.none(),$8=e=>(t,o,r={})=>{const a=t.getBody(),c={bubbles:!0,composed:!0,data:null,isComposing:!1,detail:0,view:null,target:a,currentTarget:a,eventPhase:Event.AT_TARGET,originalTarget:a,explicitOriginalTarget:a,isTrusted:!1,srcElement:a,cancelable:!1,preventDefault:lo,inputType:o},d=f1(new InputEvent(e));return t.dispatch(e,{...d,...c,...r})},F3=$8("input"),y5=$8("beforeinput"),V8=Jo(),j8=V8.os,U8=j8.isMacOS()||j8.isiOS(),ZF=V8.browser.isFirefox(),WF=(e,t,o)=>{const r=o.keyCode===Dt.BACKSPACE?"deleteContentBackward":"deleteContentForward",a=e.selection.isCollapsed(),c=a?"character":"selection",d=g=>a?g?"word":"line":"selection";lb([{keyCode:Dt.BACKSPACE,action:Do(se,e)},{keyCode:Dt.BACKSPACE,action:Do(f3,e,!1)},{keyCode:Dt.DELETE,action:Do(f3,e,!0)},{keyCode:Dt.BACKSPACE,action:Do(iv,e,!1)},{keyCode:Dt.DELETE,action:Do(iv,e,!0)},{keyCode:Dt.BACKSPACE,action:Do(Hw,e,t,!1)},{keyCode:Dt.DELETE,action:Do(Hw,e,t,!0)},{keyCode:Dt.BACKSPACE,action:Do(kp,e,!1)},{keyCode:Dt.DELETE,action:Do(kp,e,!0)},{keyCode:Dt.BACKSPACE,action:Do(hv,e,!1,c)},{keyCode:Dt.DELETE,action:Do(hv,e,!0,c)},...U8?[{keyCode:Dt.BACKSPACE,altKey:!0,action:Do(hv,e,!1,d(!0))},{keyCode:Dt.DELETE,altKey:!0,action:Do(hv,e,!0,d(!0))},{keyCode:Dt.BACKSPACE,metaKey:!0,action:Do(hv,e,!1,d(!1))}]:[{keyCode:Dt.BACKSPACE,ctrlKey:!0,action:Do(hv,e,!1,d(!0))},{keyCode:Dt.DELETE,ctrlKey:!0,action:Do(hv,e,!0,d(!0))}],{keyCode:Dt.BACKSPACE,action:Do(m3,e,!1)},{keyCode:Dt.DELETE,action:Do(m3,e,!0)},{keyCode:Dt.BACKSPACE,action:Do(u,e,!1)},{keyCode:Dt.DELETE,action:Do(u,e,!0)},{keyCode:Dt.BACKSPACE,action:Do(i3,e,!1)},{keyCode:Dt.DELETE,action:Do(i3,e,!0)},{keyCode:Dt.BACKSPACE,action:Do(Aw,e,!1)},{keyCode:Dt.DELETE,action:Do(Aw,e,!0)},{keyCode:Dt.BACKSPACE,action:Do($w,e,!1)},{keyCode:Dt.DELETE,action:Do($w,e,!0)}],o).filter(g=>e.selection.isEditable()).each(g=>{o.preventDefault(),y5(e,r).isDefaultPrevented()||(g(),F3(e,r))})},qF=(e,t,o)=>gv([{keyCode:Dt.BACKSPACE,action:Do(nD,e)},{keyCode:Dt.DELETE,action:Do(nD,e)},...U8?[{keyCode:Dt.BACKSPACE,altKey:!0,action:Do(n,e)},{keyCode:Dt.DELETE,altKey:!0,action:Do(n,e)},...o?[{keyCode:ZF?224:91,action:Do(n,e)}]:[]]:[{keyCode:Dt.BACKSPACE,ctrlKey:!0,action:Do(n,e)},{keyCode:Dt.DELETE,ctrlKey:!0,action:Do(n,e)}]],t),GF=(e,t)=>{let o=!1;e.on("keydown",r=>{o=r.keyCode===Dt.BACKSPACE,r.isDefaultPrevented()||WF(e,t,r)}),e.on("keyup",r=>{r.isDefaultPrevented()||qF(e,r,o),o=!1})},KF=e=>{for(;e;){if(jt(e)||mt(e)&&e.data&&/[\r\n\s]/.test(e.data))return e;e=e.nextSibling}return null},Gw=(e,t)=>{const o=e.dom,r=e.schema.getMoveCaretBeforeOnEnterElements();if(!t)return;if(/^(LI|DT|DD)$/.test(t.nodeName)){const c=KF(t.firstChild);c&&/^(UL|OL|DL)$/.test(c.nodeName)&&t.insertBefore(o.doc.createTextNode(us),t.firstChild)}const a=o.createRng();if(t.normalize(),t.hasChildNodes()){const c=new Tn(t,t);let d=t,g;for(;g=c.current();){if(mt(g)){a.setStart(g,0),a.setEnd(g,0);break}if(r[g.nodeName.toLowerCase()]){a.setStartBefore(g),a.setEndBefore(g);break}d=g,g=c.next()}g||(a.setStart(d,0),a.setEnd(d,0))}else Yr(t)?t.nextSibling&&o.isBlock(t.nextSibling)?(a.setStartBefore(t),a.setEndBefore(t)):(a.setStartAfter(t),a.setEndAfter(t)):(a.setStart(t,0),a.setEnd(t,0));e.selection.setRng(a),Qd(e,a)},H3=(e,t)=>{const o=e.getRoot();let r,a=t;for(;a!==o&&a&&e.getContentEditable(a)!=="false";){if(e.getContentEditable(a)==="true"){r=a;break}a=a.parentNode}return a!==o?r:o},v7=e=>$.from(e.dom.getParent(e.selection.getStart(!0),e.dom.isBlock)),YF=e=>v7(e).fold(_e(""),t=>t.nodeName.toUpperCase()),XF=e=>v7(e).filter(t=>wu(fe.fromDom(t))).isSome(),x7=e=>{e.innerHTML='<br data-mce-bogus="1">'},JF=(e,t,o)=>{const r=e.dom;$.from(o.style).map(r.parseStyle).each(v=>{const M={...ml(fe.fromDom(t)),...v};r.setStyles(t,M)});const a=$.from(o.class).map(v=>v.split(/\s+/)),c=$.from(t.className).map(v=>Ye(v.split(/\s+/),A=>A!==""));Ls(a,c,(v,A)=>{const M=Ye(A,P=>!nn(v,P)),B=[...v,...M];r.setAttrib(t,"class",B.join(" "))});const d=["style","class"],g=di(o,(v,A)=>!nn(d,A));r.setAttribs(t,g)},$3=(e,t)=>{if(ol(e).toLowerCase()===t.tagName.toLowerCase()){const r=N1(e);JF(e,t,r)}},Z8=(e,t,o,r,a=!0,c,d)=>{const g=e.dom,v=e.schema,A=ol(e),M=o?o.nodeName.toUpperCase():"";let B=t;const P=v.getTextInlineElements();let X;c||M==="TABLE"||M==="HR"?X=g.create(c||A,d||{}):X=o.cloneNode(!1);let ae=X;if(!a)g.setAttrib(X,"style",null),g.setAttrib(X,"class",null);else do if(P[B.nodeName]){if(kd(B)||wd(B))continue;const J=B.cloneNode(!1);g.setAttrib(J,"id",""),X.hasChildNodes()?(J.appendChild(X.firstChild),X.appendChild(J)):(ae=J,X.appendChild(J))}while((B=B.parentNode)&&B!==r);return $3(e,X),x7(ae),X},QF=(e,t)=>e.dom.getParent(t,pu),eH=(e,t,o)=>{let r=t;for(;r&&r!==e&&dt(r.nextSibling);){const a=r.parentElement;if(!a||!o(a))return pu(a);r=a}return!1},tH=(e,t,o)=>!t&&o.nodeName.toLowerCase()===ol(e)&&e.dom.isEmpty(o)&&eH(e.getBody(),o,r=>xo(e.schema.getTextBlockElements(),r.nodeName.toLowerCase())),oH=(e,t,o)=>{var r,a,c;const d=t(ol(e)),g=QF(e,o);g&&(e.dom.insertAfter(d,g),Gw(e,d),((c=(a=(r=o.parentElement)===null||r===void 0?void 0:r.childNodes)===null||a===void 0?void 0:a.length)!==null&&c!==void 0?c:0)>1&&e.dom.remove(o))},nH=(e,t)=>e.firstChild&&e.firstChild.nodeName===t,rH=e=>{var t;return((t=e.parentNode)===null||t===void 0?void 0:t.firstChild)===e},W8=(e,t)=>{const o=e==null?void 0:e.parentNode;return Le(o)&&o.nodeName===t},q8=e=>Le(e)&&/^(OL|UL|LI)$/.test(e.nodeName),k7=e=>Le(e)&&/^(LI|DT|DD)$/.test(e.nodeName),sH=e=>q8(e)&&q8(e.parentNode),v5=e=>{const t=e.parentNode;return k7(t)?t:e},x5=(e,t,o)=>{let r=e[o?"firstChild":"lastChild"];for(;r&&!jt(r);)r=r[o?"nextSibling":"previousSibling"];return r===t},G8=e=>fo(ra(ml(fe.fromDom(e)),(t,o)=>`${o}: ${t};`),(t,o)=>t+o,""),aH=(e,t,o,r,a)=>{const c=e.dom,d=e.selection.getRng(),g=o.parentNode;if(o===e.getBody()||!g)return;sH(o)&&(a="LI");const v=k7(r)?G8(r):void 0;let A=k7(r)&&v?t(a,{style:G8(r)}):t(a);if(x5(o,r,!0)&&x5(o,r,!1))if(W8(o,"LI")){const M=v5(o);c.insertAfter(A,M),rH(o)?c.remove(M):c.remove(o)}else c.replace(A,o);else if(x5(o,r,!0))W8(o,"LI")?(c.insertAfter(A,v5(o)),A.appendChild(c.doc.createTextNode(" ")),A.appendChild(o)):g.insertBefore(A,o),c.remove(r);else if(x5(o,r,!1))c.insertAfter(A,v5(o)),c.remove(r);else{o=v5(o);const M=d.cloneRange();M.setStartAfter(r),M.setEndAfter(o);const B=M.extractContents();if(a==="LI"&&nH(B,"LI")){const P=Ye(To(A.children,fe.fromDom),nt(bs("br")));A=B.firstChild,c.insertAfter(B,o),We(P,X=>Tc(fe.fromDom(A),X)),v&&A.setAttribute("style",v)}else c.insertAfter(B,o),c.insertAfter(A,o);c.remove(r)}Gw(e,A)},iH=e=>{We(xi(fe.fromDom(e),ns),t=>{const o=t.dom;o.nodeValue=wa(o.data)})},lH=(e,t)=>{const o=e.dom.getParent(t,"ol,ul,dl");return o!==null&&e.dom.getContentEditableParent(o)==="false"},cH=(e,t)=>t&&t.nodeName==="A"&&e.isEmpty(t),w7=(e,t)=>e.nodeName===t||e.previousSibling&&e.previousSibling.nodeName===t,_7=(e,t)=>Le(t)&&e.isBlock(t)&&!/^(TD|TH|CAPTION|FORM)$/.test(t.nodeName)&&!/^(fixed|absolute)/i.test(t.style.position)&&e.isEditable(t.parentNode)&&e.getContentEditable(t)!=="false",dH=(e,t,o)=>{var r;const a=[];if(!o)return;let c=o;for(;c=c.firstChild;){if(e.isBlock(c))return;jt(c)&&!t[c.nodeName.toLowerCase()]&&a.push(c)}let d=a.length;for(;d--;)c=a[d],(!c.hasChildNodes()||c.firstChild===c.lastChild&&((r=c.firstChild)===null||r===void 0?void 0:r.nodeValue)===""||cH(e,c))&&e.remove(c)},C7=(e,t,o)=>mt(t)?e?o===1&&t.data.charAt(o-1)===Qs?0:o:o===t.data.length-1&&t.data.charAt(o)===Qs?t.data.length:o:o,uH=e=>{const t=e.cloneRange();return t.setStart(e.startContainer,C7(!0,e.startContainer,e.startOffset)),t.setEnd(e.endContainer,C7(!1,e.endContainer,e.endOffset)),t},fH=e=>{let t=e;do mt(t)&&(t.data=t.data.replace(/^[\r\n]+/,"")),t=t.firstChild;while(t)},mH=(e,t,o,r,a)=>{var c,d;const g=e.dom,v=(c=H3(g,r))!==null&&c!==void 0?c:g.getRoot();let A=g.getParent(r,g.isBlock);if(!A||!_7(g,A)){if(A=A||v,!A.hasChildNodes()){const X=g.create(t);return $3(e,X),A.appendChild(X),o.setStart(X,0),o.setEnd(X,0),X}let M=r;for(;M&&M.parentNode!==A;)M=M.parentNode;let B;for(;M&&!g.isBlock(M);)B=M,M=M.previousSibling;const P=(d=B==null?void 0:B.parentElement)===null||d===void 0?void 0:d.nodeName;if(B&&P&&e.schema.isValidChild(P,t.toLowerCase())){const X=B.parentNode,ae=g.create(t);for($3(e,ae),X.insertBefore(ae,B),M=B;M&&!g.isBlock(M);){const J=M.nextSibling;ae.appendChild(M),M=J}o.setStart(r,a),o.setEnd(r,a)}}return r},pH=(e,t)=>{t.normalize();const o=t.lastChild;(!o||jt(o)&&/^(left|right)$/gi.test(e.getStyle(o,"float",!0)))&&e.add(t,"br")},gH=(e,t)=>{const o=v_(e);return vo(t)?!1:He(o)?nn(ft.explode(o),t.nodeName.toLowerCase()):o},K8={insert:(e,t)=>{let o,r,a,c,d=!1;const g=e.dom,v=e.schema,A=v.getNonEmptyElements(),M=e.selection.getRng(),B=ol(e),P=fe.fromDom(M.startContainer),X=cd(P,M.startOffset),ae=X.exists(tt=>iu(tt)&&!Ii(tt)),J=M.collapsed&&ae,ie=(tt,Wt)=>Z8(e,o,vt,ot,y_(e),tt,Wt),we=tt=>{const Wt=C7(tt,o,r);if(mt(o)&&(tt?Wt>0:Wt<o.data.length))return!1;if((o.parentNode===vt||o===vt)&&d&&!tt||tt&&jt(o)&&o===vt.firstChild)return!0;if(w7(o,"TABLE")||w7(o,"HR"))return d&&!tt||!d&&tt;const io=new Tn(o,vt);mt(o)&&(tt&&Wt===0?io.prev():!tt&&Wt===o.data.length&&io.next());let tn;for(;tn=io.current();){if(jt(tn)){if(!tn.getAttribute("data-mce-bogus")){const pn=tn.nodeName.toLowerCase();if(A[pn]&&pn!=="br")return!1}}else if(mt(tn)&&!va(tn.data))return!1;tt?io.prev():io.next()}return!0},Ce=()=>{let tt;return/^(H[1-6]|PRE|FIGURE)$/.test(a)&&Nt!=="HGROUP"?tt=ie(B):tt=ie(),gH(e,c)&&_7(g,c)&&g.isEmpty(vt,void 0,{includeZwsp:!0})?tt=g.split(c,vt):g.insertAfter(tt,vt),Gw(e,tt),tt};lm(g,M).each(tt=>{M.setStart(tt.startContainer,tt.startOffset),M.setEnd(tt.endContainer,tt.endOffset)}),o=M.startContainer,r=M.startOffset;const Se=!!(t&&t.shiftKey),De=!!(t&&t.ctrlKey);jt(o)&&o.hasChildNodes()&&!J&&(d=r>o.childNodes.length-1,o=o.childNodes[Math.min(r,o.childNodes.length-1)]||o,d&&mt(o)?r=o.data.length:r=0);const ot=H3(g,o);if(!ot||lH(e,o))return;Se||(o=mH(e,B,M,o,r));let vt=g.getParent(o,g.isBlock)||g.getRoot();c=Le(vt==null?void 0:vt.parentNode)?g.getParent(vt.parentNode,g.isBlock):null,a=vt?vt.nodeName.toUpperCase():"";const Nt=c?c.nodeName.toUpperCase():"";if(Nt==="LI"&&!De){const tt=c;vt=tt,c=tt.parentNode,a=Nt}if(jt(c)&&tH(e,Se,vt))return oH(e,ie,vt);if(/^(LI|DT|DD)$/.test(a)&&jt(c)&&g.isEmpty(vt)){aH(e,ie,c,vt,B);return}if(!J&&(vt===e.getBody()||!_7(g,vt)))return;const Ve=vt.parentNode;let Be;if(J)Be=ie(B),X.fold(()=>{Dr(P,fe.fromDom(Be))},tt=>{Ae(tt,fe.fromDom(Be))}),e.selection.setCursorLocation(Be,0);else if(_u(vt))Be=Cu(vt),g.isEmpty(vt)&&x7(vt),$3(e,Be),Gw(e,Be);else if(we(!1))Be=Ce();else if(we(!0)&&Ve){Be=Ve.insertBefore(ie(),vt);const tt=Vu(fe.fromDom(M.startContainer))&&M.collapsed;Gw(e,w7(vt,"HR")||tt?Be:vt)}else{const tt=uH(M).cloneRange();tt.setEndAfter(vt);const Wt=tt.extractContents();iH(Wt),fH(Wt),Be=Wt.firstChild,g.insertAfter(Wt,vt),dH(g,A,Be),pH(g,vt),g.isEmpty(vt)&&x7(vt),Be.normalize(),g.isEmpty(Be)?(g.remove(Be),Ce()):($3(e,Be),Gw(e,Be))}g.setAttrib(Be,"id",""),e.dispatch("NewBlock",{newBlock:Be})},fakeEventName:"insertParagraph"},hH=(e,t,o)=>{const r=new Tn(t,o);let a;const c=e.getNonEmptyElements();for(;a=r.next();)if(c[a.nodeName.toLowerCase()]||mt(a)&&a.length>0)return!0;return!1},Y8=(e,t,o)=>{const r=e.dom.createRng();o?(r.setStartBefore(t),r.setEndBefore(t)):(r.setStartAfter(t),r.setEndAfter(t)),e.selection.setRng(r),Qd(e,r)},bH=(e,t)=>{const o=e.selection,r=e.dom,a=o.getRng();let c,d=!1;lm(r,a).each(X=>{a.setStart(X.startContainer,X.startOffset),a.setEnd(X.endContainer,X.endOffset)});let g=a.startOffset,v=a.startContainer;if(jt(v)&&v.hasChildNodes()){const X=g>v.childNodes.length-1;v=v.childNodes[Math.min(g,v.childNodes.length-1)]||v,X&&mt(v)?g=v.data.length:g=0}let A=r.getParent(v,r.isBlock);const M=A&&A.parentNode?r.getParent(A.parentNode,r.isBlock):null,B=M?M.nodeName.toUpperCase():"",P=!!(t&&t.ctrlKey);B==="LI"&&!P&&(A=M),mt(v)&&g>=v.data.length&&(hH(e.schema,v,A||r.getRoot())||(c=r.create("br"),a.insertNode(c),a.setStartAfter(c),a.setEndAfter(c),d=!0)),c=r.create("br"),ey(r,a,c),Y8(e,c,d),e.undoManager.add()},yH=(e,t)=>{const o=fe.fromTag("br");Ae(fe.fromDom(t),o),e.undoManager.add()},vH=(e,t)=>{kH(e.getBody(),t)||Hs(fe.fromDom(t),fe.fromTag("br"));const o=fe.fromTag("br");Hs(fe.fromDom(t),o),Y8(e,o.dom,!1),e.undoManager.add()},xH=e=>Yr(e.getNode()),kH=(e,t)=>xH(Fe.after(t))?!0:tc(e,Fe.after(t)).map(o=>Yr(o.getNode())).getOr(!1),X8=e=>e&&e.nodeName==="A"&&"href"in e,wH=e=>e.fold(fn,X8,X8,fn),_H=e=>{const t=yt(Vh,e),o=Fe.fromRangeStart(e.selection.getRng());return vm(t,e.getBody(),o).filter(wH)},CH=(e,t)=>{t.fold(lo,yt(yH,e),yt(vH,e),lo)},J8={insert:(e,t)=>{const o=_H(e);o.isSome()?o.each(yt(CH,e)):bH(e,t)},fakeEventName:"insertLineBreak"},Q8=(e,t)=>v7(e).filter(o=>t.length>0&&ti(fe.fromDom(o),t)).isSome(),SH=e=>Q8(e,X3(e)),EH=e=>Q8(e,J3(e)),Pu=ho.generate([{br:[]},{block:[]},{none:[]}]),AH=(e,t)=>EH(e),eI=e=>(t,o)=>XF(t)===e,tI=(e,t)=>(o,r)=>YF(o)===e.toUpperCase()===t,zH=e=>{const t=H3(e.dom,e.selection.getStart());return vo(t)},V3=e=>tI("pre",e),TH=()=>tI("summary",!0),k5=e=>(t,o)=>h_(t)===e,OH=(e,t)=>SH(e),w5=(e,t)=>t,DH=e=>{const t=ol(e),o=H3(e.dom,e.selection.getStart());return Le(o)&&e.schema.isValidChild(o.nodeName,t)},RH=e=>{const t=e.selection.getRng(),o=fe.fromDom(t.startContainer),a=cd(o,t.startOffset).map(c=>iu(c)&&!Ii(c));return t.collapsed&&a.getOr(!0)},_f=(e,t)=>(o,r)=>fo(e,(c,d)=>c&&d(o,r),!0)?$.some(t):$.none(),NH=(e,t)=>cD([_f([AH],Pu.none()),_f([V3(!0),zH],Pu.none()),_f([TH()],Pu.br()),_f([V3(!0),k5(!1),w5],Pu.br()),_f([V3(!0),k5(!1)],Pu.block()),_f([V3(!0),k5(!0),w5],Pu.block()),_f([V3(!0),k5(!0)],Pu.br()),_f([eI(!0),w5],Pu.br()),_f([eI(!0)],Pu.block()),_f([OH],Pu.br()),_f([w5],Pu.br()),_f([DH],Pu.block()),_f([RH],Pu.block())],[e,!!(t&&t.shiftKey)]).getOr(Pu.none()),_5=(e,t,o)=>{t.selection.isCollapsed()||MN(t),!(Le(o)&&y5(t,e.fakeEventName).isDefaultPrevented())&&(e.insert(t,o),Le(o)&&F3(t,e.fakeEventName))},oI=(e,t)=>{const o=()=>_5(J8,e,t),r=()=>_5(K8,e,t),a=NH(e,t);switch(b_(e)){case"linebreak":a.fold(o,o,lo);break;case"block":a.fold(r,r,lo);break;case"invert":a.fold(r,o,lo);break;default:a.fold(o,r,lo);break}},nI=Jo(),MH=nI.os.isiOS()&&nI.browser.isSafari(),rI=(e,t)=>{t.isDefaultPrevented()||(t.preventDefault(),Q6(e.undoManager),e.undoManager.transact(()=>{oI(e,t)}))},BH=e=>{if(!e.collapsed)return!1;const t=e.startContainer;if(mt(t)){const o=/^[\uAC00-\uD7AF\u1100-\u11FF\u3130-\u318F\uA960-\uA97F\uD7B0-\uD7FF]$/,r=t.data.charAt(e.startOffset-1);return o.test(r)}else return!1},IH=e=>{let t=$.none();const o=a=>{t=$.some(a.selection.getBookmark()),a.undoManager.add()},r=(a,c)=>{a.undoManager.undo(),t.fold(lo,d=>a.selection.moveToBookmark(d)),rI(a,c),t=$.none()};e.on("keydown",a=>{a.keyCode===Dt.ENTER&&(MH&&BH(e.selection.getRng())?o(e):rI(e,a))}),e.on("keyup",a=>{a.keyCode===Dt.ENTER&&t.each(()=>r(e,a))})},LH=(e,t,o)=>{const r=Wo.os.isMacOS()||Wo.os.isiOS();gv([{keyCode:Dt.END,action:Do(Hg,e,!0)},{keyCode:Dt.HOME,action:Do(Hg,e,!1)},...r?[]:[{keyCode:Dt.HOME,action:Do($g,e,!1),ctrlKey:!0,shiftKey:!0},{keyCode:Dt.END,action:Do($g,e,!0),ctrlKey:!0,shiftKey:!0}],{keyCode:Dt.END,action:Do(cb,e,!0)},{keyCode:Dt.HOME,action:Do(cb,e,!1)},{keyCode:Dt.END,action:Do(cv,e,!0,t)},{keyCode:Dt.HOME,action:Do(cv,e,!1,t)}],o).each(a=>{o.preventDefault()})},PH=(e,t)=>{e.on("keydown",o=>{o.isDefaultPrevented()||LH(e,t,o)})},FH=e=>{e.on("input",t=>{t.isComposing||zN(e)})},HH=Jo(),$H=(e,t,o)=>{gv([{keyCode:Dt.PAGE_UP,action:Do(cv,e,!1,t)},{keyCode:Dt.PAGE_DOWN,action:Do(cv,e,!0,t)}],o)},sI=e=>e.stopImmediatePropagation(),aI=e=>e.keyCode===Dt.PAGE_UP||e.keyCode===Dt.PAGE_DOWN,iI=(e,t,o)=>{o&&!e.get()?t.on("NodeChange",sI,!0):!o&&e.get()&&t.off("NodeChange",sI),e.set(o)},VH=(e,t)=>{if(HH.os.isMacOS())return;const o=Ys(!1);e.on("keydown",r=>{aI(r)&&iI(o,e,!0)}),e.on("keyup",r=>{r.isDefaultPrevented()||$H(e,t,r),aI(r)&&o.get()&&(iI(o,e,!1),e.nodeChanged())})},jH=e=>{e.on("beforeinput",t=>{(!e.selection.isEditable()||dr(t.getTargetRanges(),o=>!eA(e.dom,o)))&&t.preventDefault()})},lI=(e,t)=>{const o=t.container(),r=t.offset();return mt(o)?(o.insertData(r,e),$.some(Fe(o,r+e.length))):dx(t).map(a=>{const c=fe.fromText(e);return t.isAtEnd()?Hs(a,c):Ae(a,c),Fe(c.dom,e.length)})},cI=yt(lI,us),dI=yt(lI," "),UH=(e,t,o)=>ok(e,t,o)?cI(t):dI(t),ZH=e=>t=>t.fold(o=>Yc(e.dom,Fe.before(o)),o=>ko(o),o=>Xd(o),o=>tc(e.dom,Fe.after(o))),WH=(e,t,o)=>r=>ok(e,r,o)?cI(t):dI(t),uI=e=>t=>{e.selection.setRng(t.toRange()),e.nodeChanged()},qH=(e,t)=>e.isEditable(e.getParent(t,"summary")),GH=e=>{const t=Fe.fromRangeStart(e.selection.getRng()),o=fe.fromDom(e.getBody());if(e.selection.isCollapsed()){const r=yt(Vh,e),a=Fe.fromRangeStart(e.selection.getRng());return vm(r,e.getBody(),a).bind(ZH(o)).map(c=>()=>WH(o,t,e.schema)(c).each(uI(e)))}else return $.none()},KH=e=>{const t=()=>{const o=fe.fromDom(e.getBody());e.selection.isCollapsed()||e.getDoc().execCommand("Delete");const r=Fe.fromRangeStart(e.selection.getRng());UH(o,r,e.schema).each(uI(e))};return rd(Wo.browser.isFirefox()&&e.selection.isEditable()&&qH(e.dom,e.selection.getRng().startContainer),t)},YH=(e,t)=>{lb([{keyCode:Dt.SPACEBAR,action:Do(GH,e)},{keyCode:Dt.SPACEBAR,action:Do(KH,e)}],t).each(o=>{t.preventDefault(),y5(e,"insertText",{data:" "}).isDefaultPrevented()||(o(),F3(e,"insertText",{data:" "}))})},XH=e=>{e.on("keydown",t=>{t.isDefaultPrevented()||YH(e,t)})},JH=e=>w4(e)?[{keyCode:Dt.TAB,action:Do(u8,e,!0)},{keyCode:Dt.TAB,shiftKey:!0,action:Do(u8,e,!1)}]:[],QH=(e,t)=>{gv([...JH(e)],t).each(o=>{t.preventDefault()})},e9=e=>{e.on("keydown",t=>{t.isDefaultPrevented()||QH(e,t)})},t9=e=>{if(e.addShortcut("Meta+P","","mcePrint"),RF(e),Iu(e))return Ys(null);{const t=MD(e);return jH(e),Zs(e),mP(e,t),GF(e,t),IH(e),XH(e),FH(e),e9(e),PH(e,t),VH(e,t),t}};class o9{constructor(t){this.lastPath=[],this.editor=t;let o;const r=this;"onselectionchange"in t.getDoc()||t.on("NodeChange click mouseup keyup focus",a=>{const c=t.selection.getRng(),d={startContainer:c.startContainer,startOffset:c.startOffset,endContainer:c.endContainer,endOffset:c.endOffset};(a.type==="nodechange"||!u0(d,o))&&t.dispatch("SelectionChange"),o=d}),t.on("contextmenu",()=>{Hx(t),t.dispatch("SelectionChange")}),t.on("SelectionChange",()=>{const a=t.selection.getStart(!0);a&&uy(t)&&!r.isSameElementPath(a)&&t.dom.isChildOf(a,t.getBody())&&t.nodeChanged({selectionChange:!0})}),t.on("mouseup",a=>{!a.isDefaultPrevented()&&uy(t)&&(t.selection.getNode().nodeName==="IMG"?Jc.setEditorTimeout(t,()=>{t.nodeChanged()}):t.nodeChanged())})}nodeChanged(t={}){const o=this.editor.selection;let r;if(this.editor.initialized&&o&&!rR(this.editor)&&!this.editor.mode.isReadOnly()){const a=this.editor.getBody();r=o.getStart(!0)||a,(r.ownerDocument!==this.editor.getDoc()||!this.editor.dom.isChildOf(r,a))&&(r=a);const c=[];this.editor.dom.getParent(r,d=>d===a?!0:(c.push(d),!1)),this.editor.dispatch("NodeChange",{...t,element:r,parents:c})}}isSameElementPath(t){let o;const r=this.editor,a=qs(r.dom.getParents(t,Ao,r.getBody()));if(a.length===this.lastPath.length){for(o=a.length;o>=0&&a[o]===this.lastPath[o];o--);if(o===-1)return this.lastPath=a,!0}return this.lastPath=a,!1}}const fI=Qp("image"),n9=e=>{const t=e;return $.from(t[fI])},r9=(e,t)=>{const o=e;o[fI]=t},S7=Qp("event"),s9=e=>{const t=e;return $.from(t[S7])},C5=e=>t=>{const o=t;o[S7]=e},a9=(e,t)=>C5(t)(e),mI=C5(0),i9=C5(2),l9=C5(1),c9=(e=>t=>{const o=t;return $.from(o[S7]).exists(r=>r===e)})(0),d9=()=>Object.freeze({length:0,item:e=>null}),E7=Qp("mode"),u9=e=>{const t=e;return $.from(t[E7])},S5=e=>t=>{const o=t;o[E7]=e},pI=(e,t)=>S5(t)(e),gI=S5(0),A7=S5(2),f9=S5(1),hI=e=>t=>{const o=t;return $.from(o[E7]).exists(r=>r===e)},Kw=hI(0),bI=hI(1),m9=(e,t)=>({...t,get length(){return t.length},add:(o,r)=>{if(Kw(e))if(He(o)){if(!gn(r))return t.add(o,r)}else return t.add(o);return null},remove:o=>{Kw(e)&&t.remove(o)},clear:()=>{Kw(e)&&t.clear()}}),p9=["none","copy","link","move"],g9=["none","copy","copyLink","copyMove","link","linkMove","move","all","uninitialized"],z7=()=>{const e=new window.DataTransfer;let t="move",o="all";const r={get dropEffect(){return t},set dropEffect(a){nn(p9,a)&&(t=a)},get effectAllowed(){return o},set effectAllowed(a){c9(r)&&nn(g9,a)&&(o=a)},get items(){return m9(r,e.items)},get files(){return bI(r)?d9():e.files},get types(){return e.types},setDragImage:(a,c,d)=>{Kw(r)&&(r9(r,{image:a,x:c,y:d}),e.setDragImage(a,c,d))},getData:a=>bI(r)?"":e.getData(a),setData:(a,c)=>{Kw(r)&&e.setData(a,c)},clearData:a=>{Kw(r)&&e.clearData(a)}};return gI(r),r},h9=e=>{const t=z7(),o=u9(e);return A7(e),mI(t),t.dropEffect=e.dropEffect,t.effectAllowed=e.effectAllowed,n9(e).each(r=>t.setDragImage(r.image,r.x,r.y)),We(e.types,r=>{r!=="Files"&&t.setData(r,e.getData(r))}),We(e.files,r=>t.items.add(r)),s9(e).each(r=>{a9(t,r)}),o.each(r=>{pI(e,r),pI(t,r)}),t},b9=e=>{const t=e.getData("text/html");return t===""?$.none():$.some(t)},yI=(e,t)=>e.setData("text/html",t),vI="x-tinymce/html",E5=_e(vI),T7="<!-- "+vI+" -->",y9=e=>T7+e,v9=e=>e.replace(T7,""),xI=e=>e.indexOf(T7)!==-1,x9=e=>!/<(?:\/?(?!(?:div|p|br|span)>)\w+|(?:(?!(?:span style="white-space:\s?pre;?">)|br\s?\/>))\w+\s[^>]+)>/i.test(e),k9=(e,t)=>{let o="<"+e;const r=ra(t,(a,c)=>c+'="'+jf.encodeAllRaw(a)+'"');return r.length&&(o+=" "+r.join(" ")),o+">"},w9=(e,t,o)=>{const r=e.split(/\n\n/),a=k9(t,o),c="</"+t+">",d=To(r,v=>v.split(/\n/).join("<br />")),g=v=>a+v+c;return d.length===1?d[0]:To(d,g).join("")},kI="%MCEPASTEBIN%",_9=(e,t)=>{const{dom:o,selection:r}=e,a=e.getBody();t.set(r.getRng());const c=o.add(e.getBody(),"div",{id:"mcepastebin",class:"mce-pastebin",contentEditable:!0,"data-mce-bogus":"all",style:"position: fixed; top: 50%; width: 10px; height: 10px; overflow: hidden; opacity: 0"},kI);Wo.browser.isFirefox()&&o.setStyle(c,"left",o.getStyle(a,"direction",!0)==="rtl"?65535:-65535),o.bind(c,"beforedeactivate focusin focusout",d=>{d.stopPropagation()}),c.focus(),r.select(c,!0)},C9=(e,t)=>{const o=e.dom;if(O7(e)){let r;const a=t.get();for(;r=O7(e);)o.remove(r),o.unbind(r);a&&e.selection.setRng(a)}t.set(null)},O7=e=>e.dom.get("mcepastebin"),S9=e=>Le(e)&&e.id==="mcepastebin",E9=e=>{const t=e.dom,o=(d,g)=>{d.appendChild(g),t.remove(g,!0)},[r,...a]=Ye(e.getBody().childNodes,S9);We(a,d=>{o(r,d)});const c=t.select("div[id=mcepastebin]",r);for(let d=c.length-1;d>=0;d--){const g=t.create("div");r.insertBefore(g,c[d]),o(g,c[d])}return r?r.innerHTML:""},wI=e=>e===kI,A9=e=>{const t=Ys(null);return{create:()=>_9(e,t),remove:()=>C9(e,t),getEl:()=>O7(e),getHtml:()=>E9(e),getLastRng:t.get}},_I=(e,t)=>(ft.each(t,o=>{yo(o,RegExp)?e=e.replace(o,""):e=e.replace(o[0],o[1])}),e),z9=e=>{const t=Zf(),o=Qh({},t);let r="";const a=t.getVoidElements(),c=ft.makeMap("script noscript style textarea video audio iframe object"," "),d=t.getBlockElements(),g=v=>{const A=v.name,M=v;if(A==="br"){r+=`
`;return}if(A!=="wbr"){if(a[A]&&(r+=" "),c[A]){r+=" ";return}if(v.type===3&&(r+=v.value),!(v.name in t.getVoidElements())){let B=v.firstChild;if(B)do g(B);while(B=B.next)}d[A]&&M.next&&(r+=`
`,A==="p"&&(r+=`
`))}};return e=_I(e,[/<!\[[^\]]+\]>/g]),g(o.parse(e)),r},CI=e=>(e=_I(e,[/^[\s\S]*<body[^>]*>\s*|\s*<\/body[^>]*>[\s\S]*$/ig,/<!--StartFragment-->|<!--EndFragment-->/g,[/( ?)<span class="Apple-converted-space">\u00a0<\/span>( ?)/g,(o,r,a)=>!r&&!a?" ":us],/<br class="Apple-interchange-newline">/g,/<br>$/i]),e),T9=e=>{let t=0;return()=>e+t++},O9=e=>{const t=e.toLowerCase(),o={jpg:"jpeg",jpe:"jpeg",jfi:"jpeg",jif:"jpeg",jfif:"jpeg",pjpeg:"jpeg",pjp:"jpeg",svg:"svg+xml"};return ft.hasOwn(o,t)?"image/"+o[t]:"image/"+t},D9=(e,t)=>{const o=Qh({sanitize:v4(e),sandbox_iframes:R_(e),sandbox_iframes_exclusions:nx(e),convert_unsafe_embeds:C4(e)},e.schema);o.addNodeFilter("meta",a=>{ft.each(a,c=>{c.remove()})});const r=o.parse(t,{forced_root_block:!1,isRootContent:!0});return gp({validate:!0},e.schema).serialize(r)},SI=(e,t)=>({content:e,cancelled:t}),R9=(e,t,o)=>{const r=e.dom.create("div",{style:"display:none"},t),a=Tx(e,r,o);return SI(a.node.innerHTML,a.isDefaultPrevented())},N9=(e,t,o)=>{const r=i0(e,t,o),a=D9(e,r.content);return e.hasEventListeners("PastePostProcess")&&!r.isDefaultPrevented()?R9(e,a,o):SI(a,r.isDefaultPrevented())},M9=(e,t,o)=>N9(e,t,o),D7=(e,t)=>(e.insertContent(t,{merge:dR(e),paste:!0}),!0),R7=e=>/^https?:\/\/[\w\-\/+=.,!;:&%@^~(){}?#]+$/i.test(e),B9=(e,t)=>R7(t)&&dr(D_(e),o=>pi(t.toLowerCase(),`.${o.toLowerCase()}`)),I9=(e,t,o)=>(e.undoManager.extra(()=>{o(e,t)},()=>{e.insertContent('<img src="'+t+'">')}),!0),L9=(e,t,o)=>(e.undoManager.extra(()=>{o(e,t)},()=>{e.execCommand("mceInsertLink",!1,t)}),!0),P9=(e,t,o)=>!e.selection.isCollapsed()&&R7(t)?L9(e,t,o):!1,F9=(e,t,o)=>B9(e,t)?I9(e,t,o):!1,H9=(e,t)=>{ft.each([P9,F9,D7],o=>!o(e,t,D7))},$9=(e,t,o)=>{o||!wh(e)?D7(e,t):H9(e,t)},V9=T9("mceclip"),j9=e=>{const t=z7();return yI(t,e),A7(t),t},EI=(e,t,o,r,a)=>{const c=M9(e,t,o);if(!c.cancelled){const d=c.content,g=()=>$9(e,d,r);a?y5(e,"insertFromPaste",{dataTransfer:j9(d)}).isDefaultPrevented()||(g(),F3(e,"insertFromPaste")):g()}},A5=(e,t,o,r)=>{const a=o||xI(t);EI(e,v9(t),a,!1,r)},N7=(e,t,o)=>{const r=e.dom.encode(t).replace(/\r\n/g,`
`),a=Pp(r,h4(e)),c=w9(a,ol(e),N1(e));EI(e,c,!1,!0,o)},AI=e=>{const t={};if(e&&e.types)for(let o=0;o<e.types.length;o++){const r=e.types[o];try{t[r]=e.getData(r)}catch{t[r]=""}}return t},Jy=(e,t)=>t in e&&e[t].length>0,zI=e=>Jy(e,"text/html")||Jy(e,"text/plain"),U9=(e,t)=>{const o=t.match(/([\s\S]+?)(?:\.[a-z0-9.]+)$/i);return Le(o)?e.dom.encode(o[1]):void 0},Z9=(e,t,o,r)=>{const a=V9(),c=lp(e)&&Le(o.name),d=c?U9(e,o.name):a,g=c?o.name:void 0,v=t.create(a,o,r,d,g);return t.add(v),v},W9=(e,t)=>{Uk(t.uri).each(({data:o,type:r,base64Encoded:a})=>{const c=a?o:btoa(o),d=t.file,g=e.editorUpload.blobCache,v=g.getByData(c,r),A=v??Z9(e,g,d,c);A5(e,`<img src="${A.blobUri()}">`,!1,!0)})},q9=e=>e.type==="paste",G9=e=>Promise.all(To(e,t=>U0(t).then(o=>({file:t,uri:o})))),K9=e=>{const t=D_(e);return o=>Ln(o.type,"image/")&&dr(t,r=>O9(r)===o.type)},Y9=(e,t)=>{const o=t.items?zn(Po(t.items),a=>a.kind==="file"?[a.getAsFile()]:[]):[],r=t.files?Po(t.files):[];return Ye(o.length>0?o:r,K9(e))},TI=(e,t,o)=>{const r=q9(t)?t.clipboardData:t.dataTransfer;if(nm(e)&&r){const a=Y9(e,r);if(a.length>0)return t.preventDefault(),G9(a).then(c=>{o&&e.selection.setRng(o),We(c,d=>{W9(e,d)})}),!0}return!1},X9=e=>{var t,o;return Wo.os.isAndroid()&&((o=(t=e.clipboardData)===null||t===void 0?void 0:t.items)===null||o===void 0?void 0:o.length)===0},J9=e=>Dt.metaKeyPressed(e)&&e.keyCode===86||e.shiftKey&&e.keyCode===45,M7=(e,t,o,r,a)=>{let c=CI(o);const d=Jy(t,E5())||xI(o),g=!d&&x9(c),v=R7(c);(wI(c)||!c.length||g&&!v)&&(r=!0),(r||v)&&(Jy(t,"text/plain")&&g?c=t["text/plain"]:c=z9(c)),!wI(c)&&(r?N7(e,c,a):A5(e,c,d,a))},Q9=(e,t,o)=>{let r;const a=()=>t.getLastRng()||e.selection.getRng();e.on("keydown",c=>{J9(c)&&!c.isDefaultPrevented()&&(r=c.shiftKey&&c.keyCode===86)}),e.on("paste",c=>{if(c.isDefaultPrevented()||X9(c))return;const d=o.get()==="text"||r;r=!1;const g=AI(c.clipboardData);!zI(g)&&TI(e,c,a())||(Jy(g,"text/html")?(c.preventDefault(),M7(e,g,g["text/html"],d,!0)):Jy(g,"text/plain")&&Jy(g,"text/uri-list")?(c.preventDefault(),M7(e,g,g["text/plain"],d,!0)):(t.create(),Jc.setEditorTimeout(e,()=>{const v=t.getHtml();t.remove(),M7(e,g,v,d,!1)},0)))})},e$=e=>{const t=a=>Ln(a,"webkit-fake-url"),o=a=>Ln(a,"data:"),r=a=>{var c;return((c=a.data)===null||c===void 0?void 0:c.paste)===!0};e.parser.addNodeFilter("img",(a,c,d)=>{if(!nm(e)&&r(d))for(const g of a){const v=g.attr("src");He(v)&&!g.attr("data-mce-object")&&v!==Wo.transparentSrc&&(t(v)||!uR(e)&&o(v))&&g.remove()}})},t$=(e,t,o)=>{Q9(e,t,o),e$(e)},o$=(e,t)=>{t.get()==="text"?(t.set("html"),Ox(e,!1)):(t.set("text"),Ox(e,!0)),e.focus()},n$=(e,t)=>{e.addCommand("mceTogglePlainTextPaste",()=>{o$(e,t)}),e.addCommand("mceInsertClipboardContent",(o,r)=>{r.html&&A5(e,r.html,r.internal,!1),r.text&&N7(e,r.text,!1)})},r$=(e,t,o)=>{if(e)try{return e.clearData(),e.setData("text/html",t),e.setData("text/plain",o),e.setData(E5(),t),!0}catch{return!1}else return!1},OI=(e,t,o,r)=>{r$(e.clipboardData,t.html,t.text)?(e.preventDefault(),r()):o(t.html,r)},DI=e=>(t,o)=>{const{dom:r,selection:a}=e,c=r.create("div",{contenteditable:"false","data-mce-bogus":"all"}),d=r.create("div",{contenteditable:"true"},t);r.setStyles(c,{position:"fixed",top:"0",left:"-3000px",width:"1000px",overflow:"hidden"}),c.appendChild(d),r.add(e.getBody(),c);const g=a.getRng();d.focus();const v=r.createRng();v.selectNodeContents(d),a.setRng(v),Jc.setEditorTimeout(e,()=>{a.setRng(g),r.remove(c),o()},0)},RI=e=>({html:y9(e.selection.getContent({contextual:!0})),text:e.selection.getContent({format:"text"})}),s$=e=>!!e.dom.getParent(e.selection.getStart(),"td[data-mce-selected],th[data-mce-selected]",e.getBody()),NI=e=>!e.selection.isCollapsed()||s$(e),a$=e=>t=>{!t.isDefaultPrevented()&&NI(e)&&e.selection.isEditable()&&OI(t,RI(e),DI(e),()=>{if(Wo.browser.isChromium()||Wo.browser.isFirefox()){const o=e.selection.getRng();Jc.setEditorTimeout(e,()=>{e.selection.setRng(o),e.execCommand("Delete")},0)}else e.execCommand("Delete")})},i$=e=>t=>{!t.isDefaultPrevented()&&NI(e)&&OI(t,RI(e),DI(e),lo)},l$=e=>{e.on("cut",a$(e)),e.on("copy",i$(e))},MI=(e,t)=>{var o,r;return gg.getCaretRangeFromPoint((o=t.clientX)!==null&&o!==void 0?o:0,(r=t.clientY)!==null&&r!==void 0?r:0,e.getDoc())},c$=e=>{const t=e["text/plain"];return t?t.indexOf("file://")===0:!1},BI=(e,t)=>{e.focus(),t&&e.selection.setRng(t)},d$=e=>dr(e.files,t=>/^image\//.test(t.type)),u$=(e,t,o,r)=>{const a=e.getParent(o,d=>mc(t,d));if(!dt(e.getParent(o,"summary")))return!0;if(a&&xo(r,"text/html")){const d=new DOMParser().parseFromString(r["text/html"],"text/html").body;return!dt(d.querySelector(a.nodeName.toLowerCase()))}else return!1},f$=e=>{e.on("input",t=>{const o=r=>dt(r.querySelector("summary"));if(t.inputType==="deleteByDrag"){const r=Ye(e.dom.select("details"),o);We(r,a=>{Yr(a.firstChild)&&a.firstChild.remove();const c=e.dom.create("summary");c.appendChild($l().dom),a.prepend(c)})}})},m$=(e,t)=>{af(e)&&e.on("dragend dragover draggesture dragdrop drop drag",o=>{o.preventDefault(),o.stopPropagation()}),nm(e)||e.on("drop",o=>{const r=o.dataTransfer;r&&d$(r)&&o.preventDefault()}),e.on("drop",o=>{if(o.isDefaultPrevented())return;const r=MI(e,o);if(vo(r))return;const a=AI(o.dataTransfer),c=Jy(a,E5());if((!zI(a)||c$(a))&&TI(e,o,r))return;const d=a[E5()],g=d||a["text/html"]||a["text/plain"],v=u$(e.dom,e.schema,r.startContainer,a),A=t.get();A&&!v||g&&(o.preventDefault(),Jc.setEditorTimeout(e,()=>{e.undoManager.transact(()=>{(d||A&&v)&&e.execCommand("Delete"),BI(e,r);const M=CI(g);a["text/html"]?A5(e,M,c,!0):N7(e,M,!0)})}))}),e.on("dragstart",o=>{t.set(!0)}),e.on("dragover dragend",o=>{nm(e)&&!t.get()&&(o.preventDefault(),BI(e,MI(e,o))),o.type==="dragend"&&t.set(!1)}),f$(e)},p$=e=>{const t=a=>c=>{a(e,c)},o=cR(e);Lt(o)&&e.on("PastePreProcess",t(o));const r=L1(e);Lt(r)&&e.on("PastePostProcess",t(r))},g$=(e,t)=>{e.on("PastePreProcess",o=>{o.content=t(e,o.content,o.internal)})},h$=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/gi,II=e=>ft.trim(e).replace(h$,ah).toLowerCase(),b$=(e,t,o)=>{const r=g4(e);if(o||r==="all"||!A_(e))return t;const a=r?r.split(/[, ]/):[];if(a&&r!=="none"){const c=e.dom,d=e.selection.getNode();t=t.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,(g,v,A,M)=>{const B=c.parseStyle(c.decode(A)),P={};for(let ae=0;ae<a.length;ae++){const J=B[a[ae]];let ie=J,we=c.getStyle(d,a[ae],!0);/color/.test(a[ae])&&(ie=II(ie),we=II(we)),we!==ie&&(P[a[ae]]=J)}const X=c.serializeStyle(P,"span");return X?v+' style="'+X+'"'+M:v+M})}else t=t.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,"$1$3");return t=t.replace(/(<[^>]+) data-mce-style="([^"]+)"([^>]*>)/gi,(c,d,g,v)=>d+' style="'+g+'"'+v),t},y$=e=>{(Wo.browser.isChromium()||Wo.browser.isSafari())&&g$(e,b$)},v$=e=>{const t=Ys(!1),o=Ys(_h(e)?"text":"html"),r=A9(e);y$(e),n$(e,o),p$(e),e.on("PreInit",()=>{l$(e),m$(e,t),t$(e,r,o)})},x$=e=>{e.on("click",t=>{e.dom.getParent(t.target,"details")&&t.preventDefault()})},k$=e=>{e.parser.addNodeFilter("details",t=>{const o=ox(e);We(t,r=>{o==="expanded"?r.attr("open","open"):o==="collapsed"&&r.attr("open",null)})}),e.serializer.addNodeFilter("details",t=>{const o=_4(e);We(t,r=>{o==="expanded"?r.attr("open","open"):o==="collapsed"&&r.attr("open",null)})})},w$=e=>{x$(e),k$(e)},_$=Yr,LI=mt,C$=e=>br(e.dom),S$=e=>_n(e.dom),PI=e=>t=>an(fe.fromDom(e),t),E$=(e,t,o)=>fl(fe.fromDom(e),r=>S$(r)||o.isBlock(en(r)),PI(t)).getOr(fe.fromDom(t)).dom,FI=(e,t)=>fl(fe.fromDom(e),C$,PI(t)),HI=(e,t,o)=>{const r=new Tn(e,t),a=o?r.next.bind(r):r.prev.bind(r);let c=e;for(let d=o?e:a();d&&!_$(d);d=a())hd(d)&&(c=d);return c},A$=(e,t,o)=>{const a=Fe.fromRangeStart(e).getNode(),c=E$(a,t,o),d=HI(a,c,!1),g=HI(a,c,!0),v=document.createRange();return FI(d,c).fold(()=>{LI(d)?v.setStart(d,0):v.setStartBefore(d)},A=>v.setStartBefore(A.dom)),FI(g,c).fold(()=>{LI(g)?v.setEnd(g,g.data.length):v.setEndAfter(g)},A=>v.setEndAfter(A.dom)),v},z$=e=>{const t=A$(e.selection.getRng(),e.getBody(),e.schema);e.selection.setRng(L0(t))},T$=e=>{e.on("mousedown",t=>{t.detail>=3&&(t.preventDefault(),z$(e))})};var Yw;(function(e){e.Before="before",e.After="after"})(Yw||(Yw={}));const O$=(e,t)=>Math.abs(e.left-t),D$=(e,t)=>Math.abs(e.right-t),R$=(e,t)=>e>=t.top&&e<=t.bottom,N$=(e,t)=>e.top<t.bottom&&e.bottom>t.top,M$=(e,t)=>{const o=Vb(e,t)/Math.min(e.height,t.height);return N$(e,t)&&o>.5},B$=(e,t)=>{const o=Ye(e,r=>R$(t,r));return hh(o).fold(()=>[[],e],r=>{const{pass:a,fail:c}=it(e,d=>M$(d,r));return[a,c]})},I$=(e,t)=>({node:e.node,position:O$(e,t)<D$(e,t)?Yw.Before:Yw.After}),L$=(e,t,o)=>t>e.left&&t<e.right?0:Math.min(Math.abs(e.left-t),Math.abs(e.right-t)),B7=(e,t,o,r)=>{const a=B=>hd(B.node)?$.some(B):jt(B.node)?B7(Po(B.node.childNodes),t,o,!1):$.none(),c=(B,P,X)=>a(P).filter(ae=>Math.abs(X(B,t,o)-X(ae,t,o))<2&&mt(ae.node)),d=(B,P)=>{const X=Ko(B,(ae,J)=>P(ae,t,o)-P(J,t,o));return gs(X,a).map(ae=>r&&!mt(ae.node)&&X.length>1?c(ae,X[1],P).getOr(ae):ae)},[g,v]=B$(_D(e),o),{pass:A,fail:M}=it(v,B=>B.top<o);return d(g,L$).orThunk(()=>d(M,Qm)).orThunk(()=>d(A,Qm))},P$=(e,t,o,r)=>{const a=(c,d)=>{const g=A=>jt(A)&&A.classList.contains("mce-drag-container"),v=Ye(c.dom.childNodes,nt(g));return d.fold(()=>B7(v,o,r,!0),A=>{const M=Ye(v,B=>B!==A.dom);return B7(M,o,r,!0)}).orThunk(()=>(an(c,e)?$.none():ul(c)).bind(M=>a(M,$.some(c))))};return a(t,$.none())},F$=(e,t,o)=>{const r=fe.fromDom(e),a=Ni(r),d=fe.fromPoint(a,t,o).filter(g=>bi(r,g)).getOr(r);return P$(r,d,t,o)},$I=(e,t,o)=>F$(e,t,o).filter(r=>$1(r.node)).map(r=>I$(r,t)),VI=e=>{var t,o;const r=e.getBoundingClientRect(),a=e.ownerDocument,c=a.documentElement,d=a.defaultView;return{top:r.top+((t=d==null?void 0:d.scrollY)!==null&&t!==void 0?t:0)-c.clientTop,left:r.left+((o=d==null?void 0:d.scrollX)!==null&&o!==void 0?o:0)-c.clientLeft}},H$=e=>e.inline?VI(e.getBody()):{left:0,top:0},$$=e=>{const t=e.getBody();return e.inline?{left:t.scrollLeft,top:t.scrollTop}:{left:0,top:0}},V$=e=>{const t=e.getBody(),o=e.getDoc().documentElement,r={left:t.scrollLeft,top:t.scrollTop},a={left:t.scrollLeft||o.scrollLeft,top:t.scrollTop||o.scrollTop};return e.inline?r:a},j$=(e,t)=>{if(t.target.ownerDocument!==e.getDoc()){const o=VI(e.getContentAreaContainer()),r=V$(e);return{left:t.pageX-o.left+r.left,top:t.pageY-o.top+r.top}}return{left:t.pageX,top:t.pageY}},U$=(e,t,o)=>({pageX:o.left-e.left+t.left,pageY:o.top-e.top+t.top}),Z$=(e,t)=>U$(H$(e),$$(e),j$(e,t)),jI=e=>({target:e,srcElement:e}),W$=(e,t,o,r)=>({...t,dataTransfer:r,type:e,...jI(o)}),q$=(e,t,o)=>{const r=Ot("Function not supported on simulated event.");return{bubbles:!0,cancelBubble:!1,cancelable:!0,composed:!1,currentTarget:null,defaultPrevented:!1,eventPhase:0,isTrusted:!0,returnValue:!1,timeStamp:0,type:e,composedPath:r,initEvent:r,preventDefault:lo,stopImmediatePropagation:lo,stopPropagation:lo,AT_TARGET:window.Event.AT_TARGET,BUBBLING_PHASE:window.Event.BUBBLING_PHASE,CAPTURING_PHASE:window.Event.CAPTURING_PHASE,NONE:window.Event.NONE,altKey:!1,button:0,buttons:0,clientX:0,clientY:0,ctrlKey:!1,metaKey:!1,movementX:0,movementY:0,offsetX:0,offsetY:0,pageX:0,pageY:0,relatedTarget:null,screenX:0,screenY:0,shiftKey:!1,x:0,y:0,detail:0,view:null,which:0,initUIEvent:r,initMouseEvent:r,getModifierState:r,dataTransfer:o,...jI(t)}},G$=(e,t)=>{const o=h9(e);return t==="dragstart"?(mI(o),gI(o)):t==="drop"?(i9(o),A7(o)):(l9(o),f9(o)),o},K$=(e,t,o,r)=>{const a=G$(o,e);return gn(r)?q$(e,t,a):W$(e,r,t,a)},z5=32,Y$=100,T5=8,O5=16,UI=br,X$=Vv(UI,_n),J$=(e,t,o)=>UI(o)&&o!==t&&e.isEditable(o.parentElement),Q$=(e,t,o)=>vo(t)||t===o||e.dom.isChildOf(t,o)?!1:e.dom.isEditable(t),eV=(e,t,o,r)=>{const a=e.dom,c=t.cloneNode(!0);a.setStyles(c,{width:o,height:r}),a.setAttrib(c,"data-mce-selected",null);const d=a.create("div",{class:"mce-drag-container","data-mce-bogus":"all",unselectable:"on",contenteditable:"false"});return a.setStyles(d,{position:"absolute",opacity:.5,overflow:"hidden",border:0,padding:0,margin:0,width:o,height:r}),a.setStyles(c,{margin:0,boxSizing:"border-box"}),d.appendChild(c),d},tV=(e,t)=>{e.parentNode!==t&&t.appendChild(e)},D5=(e,t)=>o=>()=>{const r=e==="left"?o.scrollX:o.scrollY;o.scroll({[e]:r+t,behavior:"smooth"})},ZI=D5("left",-z5),WI=D5("left",z5),qI=D5("top",-z5),GI=D5("top",z5),oV=(e,t,o,r,a,c,d,g,v,A,M,B)=>{let P=0,X=0;e.style.left=t.pageX+"px",e.style.top=t.pageY+"px",t.pageX+o>a&&(P=t.pageX+o-a),t.pageY+r>c&&(X=t.pageY+r-c),e.style.width=o-P+"px",e.style.height=r-X+"px";const ae=v.clientHeight,J=v.clientWidth,ie=d+v.getBoundingClientRect().top,we=g+v.getBoundingClientRect().left;M.on(Ce=>{Ce.intervalId.clear(),Ce.dragging&&B&&(d+T5>=ae?Ce.intervalId.set(GI(A)):d-T5<=0?Ce.intervalId.set(qI(A)):g+T5>=J?Ce.intervalId.set(WI(A)):g-T5<=0?Ce.intervalId.set(ZI(A)):ie+O5>=window.innerHeight?Ce.intervalId.set(GI(window)):ie-O5<=0?Ce.intervalId.set(qI(window)):we+O5>=window.innerWidth?Ce.intervalId.set(WI(window)):we-O5<=0&&Ce.intervalId.set(ZI(window)))})},KI=e=>{e&&e.parentNode&&e.parentNode.removeChild(e)},nV=(e,t)=>{const o=e.getParent(t.parentNode,e.isBlock);KI(t),o&&o!==e.getRoot()&&e.isEmpty(o)&&Zc(fe.fromDom(o))},rV=e=>e.button===0,sV=(e,t)=>({pageX:t.pageX-e.relX,pageY:t.pageY+5}),aV=(e,t)=>o=>{if(rV(o)){const r=Nn(t.dom.getParents(o.target),X$).getOr(null);if(Le(r)&&J$(t.dom,t.getBody(),r)){const a=t.dom.getPos(r),c=t.getBody(),d=t.getDoc().documentElement;e.set({element:r,dataTransfer:z7(),dragging:!1,screenX:o.screenX,screenY:o.screenY,maxX:(t.inline?c.scrollWidth:d.offsetWidth)-2,maxY:(t.inline?c.scrollHeight:d.offsetHeight)-2,relX:o.pageX-a.x,relY:o.pageY-a.y,width:r.offsetWidth,height:r.offsetHeight,ghost:eV(t,r,r.offsetWidth,r.offsetHeight),intervalId:ki(Y$)})}}},iV=(e,t,o)=>{e._selectionOverrides.hideFakeCaret(),$I(e.getBody(),t,o).fold(()=>e.selection.placeCaretAt(t,o),r=>{const a=e._selectionOverrides.showCaret(1,r.node,r.position===Yw.Before,!1);a?e.selection.setRng(a):e.selection.placeCaretAt(t,o)})},j3=(e,t,o,r,a)=>{t==="dragstart"&&yI(r,e.dom.getOuterHTML(o));const c=K$(t,o,r,a);return e.dispatch(t,c)},lV=(e,t)=>{const o=Zm((a,c)=>iV(t,a,c),0);t.on("remove",o.cancel);const r=e;return a=>e.on(c=>{const d=Math.max(Math.abs(a.screenX-c.screenX),Math.abs(a.screenY-c.screenY));if(!c.dragging&&d>10){const g=j3(t,"dragstart",c.element,c.dataTransfer,a);if(Le(g.dataTransfer)&&(c.dataTransfer=g.dataTransfer),g.isDefaultPrevented())return;c.dragging=!0,t.focus()}if(c.dragging){const g=a.currentTarget===t.getDoc().documentElement,v=sV(c,Z$(t,a));tV(c.ghost,t.getBody()),oV(c.ghost,v,c.width,c.height,c.maxX,c.maxY,a.clientY,a.clientX,t.getContentAreaContainer(),t.getWin(),r,g),o.throttle(a.clientX,a.clientY)}})},cV=e=>{const t=e.getSel();if(Le(t)){const r=t.getRangeAt(0).startContainer;return mt(r)?r.parentNode:r}else return null},dV=(e,t)=>o=>{e.on(r=>{var a;if(r.intervalId.clear(),r.dragging){if(Q$(t,cV(t.selection),r.element)){const c=(a=t.getDoc().elementFromPoint(o.clientX,o.clientY))!==null&&a!==void 0?a:t.getBody();j3(t,"drop",c,r.dataTransfer,o).isDefaultPrevented()||t.undoManager.transact(()=>{nV(t.dom,r.element),b9(r.dataTransfer).each(g=>t.insertContent(g)),t._selectionOverrides.hideFakeCaret()})}j3(t,"dragend",t.getBody(),r.dataTransfer,o)}}),XI(e)},YI=(e,t,o)=>{e.on(r=>{r.intervalId.clear(),r.dragging&&o.fold(()=>j3(t,"dragend",r.element,r.dataTransfer),a=>j3(t,"dragend",r.element,r.dataTransfer,a))}),XI(e)},uV=(e,t)=>o=>YI(e,t,$.some(o)),XI=e=>{e.on(t=>{t.intervalId.clear(),KI(t.ghost)}),e.clear()},fV=e=>{const t=ct(),o=jn.DOM,r=document,a=aV(t,e),c=lV(t,e),d=dV(t,e),g=uV(t,e);e.on("mousedown",a),e.on("mousemove",c),e.on("mouseup",d),o.bind(r,"mousemove",c),o.bind(r,"mouseup",g),e.on("remove",()=>{o.unbind(r,"mousemove",c),o.unbind(r,"mouseup",g)}),e.on("keydown",v=>{v.keyCode===Dt.ESC&&YI(t,e,$.none())})},mV=e=>{const t=a=>{if(!a.isDefaultPrevented()){const c=a.dataTransfer;c&&(nn(c.types,"Files")||c.files.length>0)&&(a.preventDefault(),a.type==="drop"&&tv(e,"Dropped file type is not supported"))}},o=a=>{w0(e,a.target)&&t(a)},r=()=>{const a=jn.DOM,c=e.dom,d=document,g=e.inline?e.getBody():e.getDoc(),v=["drop","dragover"];We(v,A=>{a.bind(d,A,o),c.bind(g,A,t)}),e.on("remove",()=>{We(v,A=>{a.unbind(d,A,o),c.unbind(g,A,t)})})};e.on("init",()=>{Jc.setEditorTimeout(e,r,0)})},pV=e=>{fV(e),ex(e)&&mV(e)},gV=e=>{const t=Zm(()=>{if(!e.removed&&e.getBody().contains(document.activeElement)){const o=e.selection.getRng();if(o.collapsed){const r=c3(e,o,!1);e.selection.setRng(r)}}},0);e.on("focus",()=>{t.throttle()}),e.on("blur",()=>{t.cancel()})},hV=e=>{e.on("init",()=>{e.on("focusin",t=>{const o=t.target;if(Yl(o)){const r=ou(e.getBody(),o),a=br(r)?r:o;e.selection.getNode()!==a&&av(e,a).each(c=>e.selection.setRng(c))}})})},U3=br,JI=(e,t)=>ou(e.getBody(),t),bV=e=>{const t=e.selection,o=e.dom,r=e.getBody(),a=D4(e,r,o.isBlock,()=>Lh(e)),c="sel-"+o.uniqueId(),d="data-mce-selected";let g;const v=Nt=>Le(Nt)&&o.hasClass(Nt,"mce-offscreen-selection"),A=Nt=>Nt!==r&&(U3(Nt)||Yl(Nt))&&o.isChildOf(Nt,r)&&o.isEditable(Nt.parentNode),M=Nt=>{Nt&&t.setRng(Nt)},B=(Nt,Ve,Be,tt=!0)=>e.dispatch("ShowCaret",{target:Ve,direction:Nt,before:Be}).isDefaultPrevented()?null:(tt&&t.scrollIntoView(Ve,Nt===-1),a.show(Be,Ve)),P=Nt=>{Nt.hasAttribute("data-mce-caret")&&(Cu(Nt),t.scrollIntoView(Nt))},X=()=>{e.on("click",Ve=>{o.isEditable(Ve.target)||(Ve.preventDefault(),e.focus())}),e.on("blur NewBlock",De),e.on("ResizeWindow FullscreenStateChanged",a.reposition),e.on("tap",Ve=>{const Be=Ve.target,tt=JI(e,Be);U3(tt)?(Ve.preventDefault(),av(e,tt).each(Se)):A(Be)&&av(e,Be).each(Se)},!0),e.on("mousedown",Ve=>{const Be=Ve.target;if(Be!==r&&Be.nodeName!=="HTML"&&!o.isChildOf(Be,r)||!IM(e,Ve.clientX,Ve.clientY))return;De(),vt();const tt=JI(e,Be);U3(tt)?(Ve.preventDefault(),av(e,tt).each(Se)):$I(r,Ve.clientX,Ve.clientY).each(Wt=>{Ve.preventDefault();const io=B(1,Wt.node,Wt.position===Yw.Before,!1);M(io),Pl(tt)?tt.focus():e.getBody().focus()})}),e.on("keypress",Ve=>{Dt.modifierPressed(Ve)||U3(t.getNode())&&Ve.preventDefault()}),e.on("GetSelectionRange",Ve=>{let Be=Ve.range;if(g){if(!g.parentNode){g=null;return}Be=Be.cloneRange(),Be.selectNode(g),Ve.range=Be}}),e.on("SetSelectionRange",Ve=>{Ve.range=ie(Ve.range);const Be=Se(Ve.range,Ve.forward);Be&&(Ve.range=Be)});const Nt=Ve=>jt(Ve)&&Ve.id==="mcepastebin";e.on("AfterSetSelectionRange",Ve=>{const Be=Ve.range,tt=Be.startContainer.parentElement;!J(Be)&&!Nt(tt)&&vt(),v(tt)||De()}),pV(e),gV(e),hV(e)},ae=Nt=>qc(Nt)||Hb(Nt)||mh(Nt),J=Nt=>ae(Nt.startContainer)||ae(Nt.endContainer),ie=Nt=>{const Ve=e.schema.getVoidElements(),Be=o.createRng(),tt=Nt.startContainer,Wt=Nt.startOffset,io=Nt.endContainer,tn=Nt.endOffset;return xo(Ve,tt.nodeName.toLowerCase())?Wt===0?Be.setStartBefore(tt):Be.setStartAfter(tt):Be.setStart(tt,Wt),xo(Ve,io.nodeName.toLowerCase())?tn===0?Be.setEndBefore(io):Be.setEndAfter(io):Be.setEnd(io,tn),Be},we=(Nt,Ve)=>{const Be=fe.fromDom(e.getBody()),tt=e.getDoc(),Wt=ya(Be,"#"+c).getOrThunk(()=>{const pn=fe.fromHtml('<div data-mce-bogus="all" class="mce-offscreen-selection"></div>',tt);return Pn(pn,"id",c),Dr(Be,pn),pn}),io=o.createRng();ni(Wt),_r(Wt,[fe.fromText(us,tt),fe.fromDom(Ve),fe.fromText(us,tt)]),io.setStart(Wt.dom.firstChild,1),io.setEnd(Wt.dom.lastChild,0),oi(Wt,{top:o.getPos(Nt,e.getBody()).y+"px"}),x2(Wt);const tn=t.getSel();return tn&&(tn.removeAllRanges(),tn.addRange(io)),io},Ce=Nt=>{const Ve=Nt.cloneNode(!0),Be=e.dispatch("ObjectSelected",{target:Nt,targetClone:Ve});if(Be.isDefaultPrevented())return null;const tt=we(Nt,Be.targetClone),Wt=fe.fromDom(Nt);return We(ri(fe.fromDom(e.getBody()),`*[${d}]`),io=>{an(Wt,io)||Ks(io,d)}),o.getAttrib(Nt,d)||Nt.setAttribute(d,"1"),g=Nt,vt(),tt},Se=(Nt,Ve)=>{if(!Nt)return null;if(Nt.collapsed){if(!J(Nt)){const io=Ve?1:-1,tn=Z1(io,r,Nt),pn=tn.getNode(!Ve);if(Le(pn)){if($1(pn))return B(io,pn,Ve?!tn.isAtEnd():!1,!1);if(ef(pn)&&br(pn.nextSibling)){const Mr=o.createRng();return Mr.setStart(pn,0),Mr.setEnd(pn,0),Mr}}const xr=tn.getNode(Ve);if(Le(xr)){if($1(xr))return B(io,xr,Ve?!1:!tn.isAtEnd(),!1);if(ef(xr)&&br(xr.previousSibling)){const Mr=o.createRng();return Mr.setStart(xr,1),Mr.setEnd(xr,1),Mr}}}return null}let Be=Nt.startContainer,tt=Nt.startOffset;const Wt=Nt.endOffset;if(mt(Be)&&tt===0&&U3(Be.parentNode)&&(Be=Be.parentNode,tt=o.nodeIndex(Be),Be=Be.parentNode),!jt(Be))return null;if(Wt===tt+1&&Be===Nt.endContainer){const io=Be.childNodes[tt];if(A(io))return Ce(io)}return null},De=()=>{g&&g.removeAttribute(d),ya(fe.fromDom(e.getBody()),"#"+c).each(fr),g=null},ot=()=>{a.destroy(),g=null},vt=()=>{a.hide()};return Iu(e)||X(),{showCaret:B,showBlockCaretContainer:P,hideFakeCaret:vt,destroy:ot}},yV=(e,t)=>{let o=t;for(let r=e.previousSibling;mt(r);r=r.previousSibling)o+=r.data.length;return o},QI=(e,t,o,r,a)=>{if(mt(o)&&(r<0||r>o.data.length))return[];const c=a&&mt(o)?[yV(o,r)]:[r];let d=o;for(;d!==t&&d.parentNode;)c.push(e.nodeIndex(d,a)),d=d.parentNode;return d===t?c.reverse():[]},I7=(e,t,o,r,a,c,d=!1)=>{const g=QI(e,t,o,r,d),v=QI(e,t,a,c,d);return{start:g,end:v}},eL=(e,t)=>{const o=t.slice(),r=o.pop();return T(r)?fo(o,(c,d)=>c.bind(g=>$.from(g.childNodes[d])),$.some(e)).bind(c=>mt(c)&&(r<0||r>c.data.length)?$.none():$.some({node:c,offset:r})):$.none()},tL=(e,t)=>eL(e,t.start).bind(({node:o,offset:r})=>eL(e,t.end).map(({node:a,offset:c})=>{const d=document.createRange();return d.setStart(o,r),d.setEnd(a,c),d})),vV=(e,t,o,r=!1)=>I7(e,t,o.startContainer,o.startOffset,o.endContainer,o.endOffset,r),Xw=(e,t,o)=>{if(t&&e.isEmpty(t)&&!o(t)){const r=t.parentNode;e.remove(t,mt(t.firstChild)&&va(t.firstChild.data)),Xw(e,r,o)}},R5=(e,t,o,r=!0)=>{const a=t.startContainer.parentNode,c=t.endContainer.parentNode;t.deleteContents(),r&&!o(t.startContainer)&&(mt(t.startContainer)&&t.startContainer.data.length===0&&e.remove(t.startContainer),mt(t.endContainer)&&t.endContainer.data.length===0&&e.remove(t.endContainer),Xw(e,a,o),a!==c&&Xw(e,c,o))},N5=(e,t)=>$.from(e.dom.getParent(t.startContainer,e.dom.isBlock)),L7=(e,t,o)=>{const r=e.dynamicPatternsLookup({text:o,block:t});return{...e,blockPatterns:Yd(r).concat(e.blockPatterns),inlinePatterns:Ei(r).concat(e.inlinePatterns)}},P7=(e,t,o,r)=>{const a=e.createRng();return a.setStart(t,0),a.setEnd(o,r),a.toString()},oL=(e,t)=>e.create("span",{"data-mce-type":"bookmark",id:t}),M5=(e,t)=>{const o=e.createRng();return o.setStartAfter(t.start),o.setEndBefore(t.end),o},nL=(e,t,o)=>{const r=tL(e.getRoot(),o).getOrDie("Unable to resolve path range"),a=r.startContainer,c=r.endContainer,d=r.endOffset===0?c:c.splitText(r.endOffset),g=r.startOffset===0?a:a.splitText(r.startOffset),v=g.parentNode,A=d.parentNode;return{prefix:t,end:A.insertBefore(oL(e,t+"-end"),d),start:v.insertBefore(oL(e,t+"-start"),g)}},rL=(e,t,o)=>{Xw(e,e.get(t.prefix+"-end"),o),Xw(e,e.get(t.prefix+"-start"),o)},F7=e=>e.start.length===0,xV=e=>(t,o)=>{const a=t.data.substring(0,o),c=a.lastIndexOf(e.charAt(e.length-1)),d=a.lastIndexOf(e);return d!==-1?d+e.length:c!==-1?c+1:-1},sL=(e,t,o,r)=>{const a=t.start;return i7(e,r.container,r.offset,xV(a),o).bind(d=>{var g,v;const A=(v=(g=o.textContent)===null||g===void 0?void 0:g.indexOf(a))!==null&&v!==void 0?v:-1;if(A!==-1&&d.offset>=A+a.length){const B=e.createRng();return B.setStart(d.container,d.offset-a.length),B.setEnd(d.container,d.offset),$.some(B)}else{const B=d.offset-a.length;return a7(d.container,B,o).map(P=>{const X=e.createRng();return X.setStart(P.container,P.offset),X.setEnd(d.container,d.offset),X}).filter(P=>P.toString()===a).orThunk(()=>sL(e,t,o,Rp(d.container,0)))}})},kV=(e,t,o,r,a,c=!1)=>{if(t.start.length===0&&!c){const d=e.createRng();return d.setStart(o,r),d.setEnd(o,r),$.some(d)}return s7(o,r,a).bind(d=>sL(e,t,a,d).bind(v=>{var A;if(c){if(v.endContainer===d.container&&v.endOffset===d.offset)return $.none();if(d.offset===0&&((A=v.endContainer.textContent)===null||A===void 0?void 0:A.length)===v.endOffset)return $.none()}return $.some(v)}))},wV=(e,t,o,r)=>{const a=e.dom,c=a.getRoot(),d=o.pattern,g=o.position.container,v=o.position.offset;return a7(g,v-o.pattern.end.length,t).bind(A=>{const M=I7(a,c,A.container,A.offset,g,v,r);if(F7(d))return $.some({matches:[{pattern:d,startRng:M,endRng:M}],position:A});{const B=B5(e,o.remainingPatterns,A.container,A.offset,t,r),P=B.getOr({matches:[],position:A}),X=P.position;return kV(a,d,X.container,X.offset,t,B.isNone()).map(J=>{const ie=vV(a,c,J,r);return{matches:P.matches.concat([{pattern:d,startRng:ie,endRng:M}]),position:Rp(J.startContainer,J.startOffset)}})}})},B5=(e,t,o,r,a,c)=>{const d=e.dom;return s7(o,r,d.getRoot()).bind(g=>{const v=P7(d,a,o,r);for(let A=0;A<t.length;A++){const M=t[A];if(!pi(v,M.end))continue;const B=t.slice();B.splice(A,1);const P=wV(e,a,{pattern:M,remainingPatterns:B,position:g},c);if(P.isNone()&&r>0)return B5(e,t,o,r-1,a,c);if(P.isSome())return P}return $.none()})},aL=(e,t,o)=>{e.selection.setRng(o),t.type==="inline-format"?We(t.format,r=>{e.formatter.apply(r)}):e.execCommand(t.cmd,!1,t.value)},_V=(e,t,o,r)=>{const a=M5(e.dom,o);R5(e.dom,a,r),aL(e,t,a)},CV=(e,t,o,r,a)=>{const c=e.dom,d=M5(c,r),g=M5(c,o);R5(c,g,a),R5(c,d,a);const v={prefix:o.prefix,start:o.end,end:r.start},A=M5(c,v);aL(e,t,A)},SV=(e,t)=>{const o=Qp("mce_textpattern"),r=Qt(t,(a,c)=>{const d=nL(e,o+`_end${a.length}`,c.endRng);return a.concat([{...c,endMarker:d}])},[]);return Qt(r,(a,c)=>{const d=r.length-a.length-1,g=F7(c.pattern)?c.endMarker:nL(e,o+`_start${d}`,c.startRng);return a.concat([{...c,startMarker:g}])},[])},EV=e=>Ko(e,(t,o)=>o.end.length-t.end.length),AV=(e,t)=>{const o=Wr(e,r=>dr(t,a=>r.pattern.start===a.pattern.start&&r.pattern.end===a.pattern.end));return e.length===t.length?o?e:t:e.length>t.length?e:t},iL=(e,t,o,r,a,c)=>{const d=B5(e,a.inlinePatterns,o,r,t,c).fold(()=>[],v=>v.matches),g=B5(e,EV(a.inlinePatterns),o,r,t,c).fold(()=>[],v=>v.matches);return AV(d,g)},lL=(e,t)=>{if(t.length===0)return;const o=e.dom,r=e.selection.getBookmark(),a=SV(o,t);We(a,c=>{const d=o.getParent(c.startMarker.start,o.isBlock),g=v=>v===d;F7(c.pattern)?_V(e,c.pattern,c.endMarker,g):CV(e,c.pattern,c.startMarker,c.endMarker,g),rL(o,c.endMarker,g),rL(o,c.startMarker,g)}),e.selection.moveToBookmark(r)},cL=(e,t,o)=>gP(t,0,t).map(r=>{const a=r.container;return f8(a,o.start.length,t).each(c=>{const d=e.createRng();d.setStart(a,0),d.setEnd(c.container,c.offset),R5(e,d,g=>g===t)}),a}),dL=e=>(t,o)=>{const r=t.dom,a=o.pattern,c=tL(r.getRoot(),o.range).getOrDie("Unable to resolve path range"),d=(g,v)=>{const A=v.get(g);return ve(A)&&lt(A).exists(M=>xo(M,"block"))};return N5(t,c).each(g=>{a.type==="block-format"?d(a.format,t.formatter)&&t.undoManager.transact(()=>{e(t.dom,g,a),t.formatter.apply(a.format)}):a.type==="block-command"&&t.undoManager.transact(()=>{e(t.dom,g,a),t.execCommand(a.cmd,!1,a.value)})}),!0},zV=e=>Ko(e,(t,o)=>o.start.length-t.start.length),uL=e=>(t,o)=>{const r=zV(t),a=o.replace(us," ");return Nn(r,c=>e(c,o,a))},fL=(e,t)=>(o,r,a,c,d)=>{var g;d===void 0&&(d=(g=r.textContent)!==null&&g!==void 0?g:"");const v=o.dom,A=ol(o);return v.is(r,A)?e(a.blockPatterns,d).map(M=>t&&ft.trim(d).length===M.start.length?[]:[{pattern:M,range:I7(v,v.getRoot(),r,0,r,0,c)}]).getOr([]):[]},TV=e=>/^\s[^\s]/.test(e),OV=dL((e,t,o)=>{cL(e,t,o).each(r=>{const a=fe.fromDom(r),c=eg(a);TV(c)&&Bb(a,c.slice(1))})}),DV=uL((e,t,o)=>t.indexOf(e.start)===0||o.indexOf(e.start)===0),RV=fL(DV,!0),NV=(e,t)=>{const o=e.selection.getRng();return N5(e,o).map(r=>{var a;const c=Math.max(0,o.startOffset),d=L7(t,r,(a=r.textContent)!==null&&a!==void 0?a:""),g=iL(e,r,o.startContainer,c,d,!0),v=RV(e,r,d,!0);return{inlineMatches:g,blockMatches:v}}).filter(({inlineMatches:r,blockMatches:a})=>a.length>0||r.length>0)},MV=(e,t)=>{if(t.length===0)return;const o=e.selection.getBookmark();We(t,r=>OV(e,r)),e.selection.moveToBookmark(o)},BV=dL(cL),IV=uL((e,t,o)=>t===e.start||o===e.start),LV=fL(IV,!1),PV=(e,t)=>{const o=e.selection.getRng();return N5(e,o).map(r=>{const a=Math.max(0,o.startOffset),c=P7(e.dom,r,o.startContainer,a),d=L7(t,r,c);return LV(e,r,d,!1,c)}).filter(r=>r.length>0)},FV=(e,t)=>{We(t,o=>BV(e,o))},HV=(e,t)=>NV(e,t).fold(fn,({inlineMatches:o,blockMatches:r})=>(e.undoManager.add(),e.undoManager.extra(()=>{e.execCommand("mceInsertNewLine")},()=>{Fb(e),lL(e,o),MV(e,r);const a=e.selection.getRng(),c=s7(a.startContainer,a.startOffset,e.dom.getRoot());e.execCommand("mceInsertNewLine"),c.each(d=>{const g=d.container;g.data.charAt(d.offset-1)===Ip&&(g.deleteData(d.offset-1,1),Xw(e.dom,g.parentNode,v=>v===e.dom.getRoot()))})}),!0)),$V=(e,t)=>{const o=e.selection.getRng();N5(e,o).map(r=>{const a=Math.max(0,o.startOffset-1),c=P7(e.dom,r,o.startContainer,a),d=L7(t,r,c),g=iL(e,r,o.startContainer,a,d,!1);g.length>0&&e.undoManager.transact(()=>{lL(e,g)})})},VV=(e,t)=>PV(e,t).fold(fn,o=>(e.undoManager.transact(()=>{FV(e,o)}),!0)),mL=(e,t,o)=>{for(let r=0;r<e.length;r++)if(o(e[r],t))return!0;return!1},jV=(e,t)=>mL(e,t,(o,r)=>o===r.keyCode&&!Dt.modifierPressed(r)),UV=(e,t)=>mL(e,t,(o,r)=>o.charCodeAt(0)===r.charCode),ZV=e=>{const t=[",",".",";",":","!","?"],o=[32],r=()=>nf(fR(e),P1(e)),a=()=>z_(e);e.on("keydown",d=>{if(d.keyCode===13&&!Dt.modifierPressed(d)&&e.selection.isCollapsed()){const g=rf(r(),"enter");(g.inlinePatterns.length>0||g.blockPatterns.length>0||a())&&HV(e,g)&&d.preventDefault()}},!0),e.on("keydown",d=>{if(d.keyCode===32&&e.selection.isCollapsed()){const g=rf(r(),"space");(g.blockPatterns.length>0||a())&&VV(e,g)&&d.preventDefault()}},!0);const c=()=>{if(e.selection.isCollapsed()){const d=rf(r(),"space");(d.inlinePatterns.length>0||a())&&$V(e,d)}};e.on("keyup",d=>{jV(o,d)&&c()}),e.on("keypress",d=>{UV(t,d)&&Jc.setEditorTimeout(e,c)})},WV=e=>{ZV(e)},qV=e=>{const t=ft.each,o=Dt.BACKSPACE,r=Dt.DELETE,a=e.dom,c=e.selection,d=e.parser,g=Wo.browser,v=g.isFirefox(),A=g.isChromium()||g.isSafari(),M=Wo.deviceType.isiPhone()||Wo.deviceType.isiPad(),B=Wo.os.isMacOS()||Wo.os.isiOS(),P=(zt,go)=>{try{e.getDoc().execCommand(zt,!1,String(go))}catch{}},X=zt=>zt.isDefaultPrevented(),ae=()=>{const zt=on=>{const Rt=a.create("body"),Yo=on.cloneContents();return Rt.appendChild(Yo),c.serializer.serialize(Rt,{format:"html"})},go=on=>{const Rt=zt(on),Yo=a.createRng();Yo.selectNode(e.getBody());const cn=zt(Yo);return Rt===cn};e.on("keydown",on=>{const Rt=on.keyCode;if(!X(on)&&(Rt===r||Rt===o)&&e.selection.isEditable()){const Yo=e.selection.isCollapsed(),cn=e.getBody();if(Yo&&!$s(e.schema,cn)||!Yo&&!go(e.selection.getRng()))return;on.preventDefault(),e.setContent(""),cn.firstChild&&a.isBlock(cn.firstChild)?e.selection.setCursorLocation(cn.firstChild,0):e.selection.setCursorLocation(cn,0),e.nodeChanged()}})},J=()=>{e.shortcuts.add("meta+a",null,"SelectAll")},ie=()=>{e.inline||a.bind(e.getDoc(),"mousedown mouseup",zt=>{let go;if(zt.target===e.getDoc().documentElement)if(go=c.getRng(),e.getBody().focus(),zt.type==="mousedown"){if(qc(go.startContainer))return;c.placeCaretAt(zt.clientX,zt.clientY)}else c.setRng(go)})},we=()=>{e.on("keydown",zt=>{if(!X(zt)&&zt.keyCode===o){if(!e.getBody().getElementsByTagName("hr").length)return;if(c.isCollapsed()&&c.getRng().startOffset===0){const go=c.getNode(),on=go.previousSibling;if(go.nodeName==="HR"){a.remove(go),zt.preventDefault();return}on&&on.nodeName&&on.nodeName.toLowerCase()==="hr"&&(a.remove(on),zt.preventDefault())}}})},Ce=()=>{Range.prototype.getClientRects||e.on("mousedown",zt=>{if(!X(zt)&&zt.target.nodeName==="HTML"){const go=e.getBody();go.blur(),Jc.setEditorTimeout(e,()=>{go.focus()})}})},Se=()=>{const zt=sy(e);e.on("click",go=>{const on=go.target;/^(IMG|HR)$/.test(on.nodeName)&&a.isEditable(on)&&(go.preventDefault(),e.selection.select(on),e.nodeChanged()),on.nodeName==="A"&&a.hasClass(on,zt)&&on.childNodes.length===0&&a.isEditable(on.parentNode)&&(go.preventDefault(),c.select(on))})},De=()=>{const zt=()=>{const on=a.getAttribs(c.getStart().cloneNode(!1));return()=>{const Rt=c.getStart();Rt!==e.getBody()&&(a.setAttrib(Rt,"style",null),t(on,Yo=>{Rt.setAttributeNode(Yo.cloneNode(!0))}))}},go=()=>!c.isCollapsed()&&a.getParent(c.getStart(),a.isBlock)!==a.getParent(c.getEnd(),a.isBlock);e.on("keypress",on=>{let Rt;return!X(on)&&(on.keyCode===8||on.keyCode===46)&&go()?(Rt=zt(),e.getDoc().execCommand("delete",!1),Rt(),on.preventDefault(),!1):!0}),a.bind(e.getDoc(),"cut",on=>{if(!X(on)&&go()){const Rt=zt();Jc.setEditorTimeout(e,()=>{Rt()})}})},ot=()=>{e.on("keydown",zt=>{if(!X(zt)&&zt.keyCode===o&&c.isCollapsed()&&c.getRng().startOffset===0){const go=c.getNode().previousSibling;if(go&&go.nodeName&&go.nodeName.toLowerCase()==="table")return zt.preventDefault(),!1}return!0})},vt=()=>{e.on("keydown",zt=>{if(X(zt)||zt.keyCode!==Dt.BACKSPACE)return;let go=c.getRng();const on=go.startContainer,Rt=go.startOffset,Yo=a.getRoot();let cn=on;if(!(!go.collapsed||Rt!==0)){for(;cn.parentNode&&cn.parentNode.firstChild===cn&&cn.parentNode!==Yo;)cn=cn.parentNode;cn.nodeName==="BLOCKQUOTE"&&(e.formatter.toggle("blockquote",void 0,cn),go=a.createRng(),go.setStart(on,0),go.setEnd(on,0),c.setRng(go))}})},Nt=()=>{const zt=()=>{P("StyleWithCSS",!1),P("enableInlineTableEditing",!1),s4(e)||P("enableObjectResizing",!1)};m4(e)||e.on("BeforeExecCommand mousedown",zt)},Ve=()=>{const zt=()=>{t(a.select("a:not([data-mce-block])"),go=>{var on;let Rt=go.parentNode;const Yo=a.getRoot();if((Rt==null?void 0:Rt.lastChild)===go){for(;Rt&&!a.isBlock(Rt);){if(((on=Rt.parentNode)===null||on===void 0?void 0:on.lastChild)!==Rt||Rt===Yo)return;Rt=Rt.parentNode}a.add(Rt,"br",{"data-mce-bogus":1})}})};e.on("SetContent ExecCommand",go=>{(go.type==="setcontent"||go.command==="mceInsertLink")&&zt()})},Be=()=>{e.on("init",()=>{P("DefaultParagraphSeparator",ol(e))})},tt=zt=>{const go=zt.getBody(),on=zt.selection.getRng();return on.startContainer===on.endContainer&&on.startContainer===go&&on.startOffset===0&&on.endOffset===go.childNodes.length},Wt=()=>{e.on("keyup focusin mouseup",zt=>{!Dt.modifierPressed(zt)&&!tt(e)&&c.normalize()},!0)},io=()=>{e.contentStyles.push("img:-moz-broken {-moz-force-broken-image-icon:1;min-width:24px;min-height:24px}")},tn=()=>{e.inline||e.on("keydown",()=>{document.activeElement===document.body&&e.getWin().focus()})},pn=()=>{e.inline||(e.contentStyles.push("body {min-height: 150px}"),e.on("click",zt=>{let go;zt.target.nodeName==="HTML"&&(go=e.selection.getRng(),e.getBody().focus(),e.selection.setRng(go),e.selection.normalize(),e.nodeChanged())}))},xr=()=>{B&&e.on("keydown",zt=>{Dt.metaKeyPressed(zt)&&!zt.shiftKey&&(zt.keyCode===37||zt.keyCode===39)&&(zt.preventDefault(),e.selection.getSel().modify("move",zt.keyCode===37?"backward":"forward","lineboundary"))})},Mr=()=>{e.on("click",zt=>{let go=zt.target;do if(go.tagName==="A"){zt.preventDefault();return}while(go=go.parentNode)}),e.contentStyles.push(".mce-content-body {-webkit-touch-callout: none}")},oa=()=>{e.on("init",()=>{e.dom.bind(e.getBody(),"submit",zt=>{zt.preventDefault()})})},xl=()=>{d.addNodeFilter("br",zt=>{let go=zt.length;for(;go--;)zt[go].attr("class")==="Apple-interchange-newline"&&zt[go].remove()})},Br=lo,St=()=>{if(!v||e.removed)return!1;const zt=e.selection.getSel();return!zt||!zt.rangeCount||zt.rangeCount===0},Xt=()=>{A&&(ie(),Se(),oa(),J(),M&&(tn(),pn(),Mr())),v&&(Ce(),Nt(),io(),xr())},Zn=()=>{vt(),ae(),Wo.windowsPhone||Wt(),A&&(ie(),Se(),Be(),oa(),ot(),xl(),M?(tn(),pn(),Mr()):J()),v&&(we(),Ce(),De(),Nt(),Ve(),io(),xr(),ot())};return Iu(e)?Xt():Zn(),{refreshContentEditable:Br,isHidden:St}},GV=e=>e.toLowerCase()==="gpl",KV=e=>e.length>=64&&e.length<=255,YV=e=>GV(e)||KV(e)?"VALID":"INVALID",XV=e=>{const t=S4(e);!He(E4(e))&&(gn(t)||YV(t)==="INVALID")&&console.warn("TinyMCE is running in evaluation mode. Provide a valid license key or add license_key: 'gpl' to the init config to agree to the open source license terms. Read more at https://www.tiny.cloud/license-key/")},H7=jn.DOM,JV=(e,t)=>{const o=fe.fromDom(e.getBody()),r=Df(Ac(o)),a=fe.fromTag("style");Pn(a,"type","text/css"),Dr(a,fe.fromText(t)),Dr(r,a),e.on("remove",()=>{fr(a)})},QV=e=>e.inline?e.getElement().nodeName.toLowerCase():void 0,$7=e=>di(e,t=>gn(t)===!1),pL=e=>{const t=e.options.get,o=e.editorUpload.blobCache;return $7({allow_conditional_comments:t("allow_conditional_comments"),allow_html_data_urls:t("allow_html_data_urls"),allow_svg_data_urls:t("allow_svg_data_urls"),allow_html_in_named_anchor:t("allow_html_in_named_anchor"),allow_script_urls:t("allow_script_urls"),allow_unsafe_link_target:t("allow_unsafe_link_target"),convert_unsafe_embeds:t("convert_unsafe_embeds"),convert_fonts_to_spans:t("convert_fonts_to_spans"),fix_list_elements:t("fix_list_elements"),font_size_legacy_values:t("font_size_legacy_values"),forced_root_block:t("forced_root_block"),forced_root_block_attrs:t("forced_root_block_attrs"),preserve_cdata:t("preserve_cdata"),inline_styles:t("inline_styles"),root_name:QV(e),sandbox_iframes:t("sandbox_iframes"),sandbox_iframes_exclusions:nx(e),sanitize:t("xss_sanitization"),validate:!0,blob_cache:o,document:e.getDoc()})},gL=e=>{const t=e.options.get;return $7({custom_elements:t("custom_elements"),extended_valid_elements:t("extended_valid_elements"),invalid_elements:t("invalid_elements"),invalid_styles:t("invalid_styles"),schema:t("schema"),valid_children:t("valid_children"),valid_classes:t("valid_classes"),valid_elements:t("valid_elements"),valid_styles:t("valid_styles"),verify_html:t("verify_html"),padd_empty_block_inline_children:t("format_empty_lines")})},ej=e=>{const t=e.options.get;return{...pL(e),...gL(e),...$7({remove_trailing_brs:t("remove_trailing_brs"),pad_empty_with_br:t("pad_empty_with_br"),url_converter:t("url_converter"),url_converter_scope:t("url_converter_scope"),element_format:t("element_format"),entities:t("entities"),entity_encoding:t("entity_encoding"),indent:t("indent"),indent_after:t("indent_after"),indent_before:t("indent_before")})}},tj=e=>{const t=Qh(pL(e),e.schema);return t.addAttributeFilter("src,href,style,tabindex",(o,r)=>{const a=e.dom,c="data-mce-"+r;let d=o.length;for(;d--;){const g=o[d];let v=g.attr(r);if(v&&!g.attr(c)){if(v.indexOf("data:")===0||v.indexOf("blob:")===0)continue;r==="style"?(v=a.serializeStyle(a.parseStyle(v),g.name),v.length||(v=null),g.attr(c,v),g.attr(r,v)):r==="tabindex"?(g.attr(c,v),g.attr(r,null)):g.attr(c,e.convertURL(v,r,g.name))}}}),t.addNodeFilter("script",o=>{let r=o.length;for(;r--;){const a=o[r],c=a.attr("type")||"no/type";c.indexOf("mce-")!==0&&a.attr("type","mce-"+c)}}),pR(e)&&t.addNodeFilter("#cdata",o=>{var r;let a=o.length;for(;a--;){const c=o[a];c.type=8,c.name="#comment",c.value="[CDATA["+e.dom.encode((r=c.value)!==null&&r!==void 0?r:"")+"]]"}}),t.addNodeFilter("p,h1,h2,h3,h4,h5,h6,div",o=>{let r=o.length;const a=e.schema.getNonEmptyElements();for(;r--;){const c=o[r];c.isEmpty(a)&&c.getAll("br").length===0&&c.append(new Ai("br",1))}}),t},oj=e=>{const t=iR(e);t&&Jc.setEditorTimeout(e,()=>{let o;t===!0?o=e:o=e.editorManager.get(t),o&&!o.destroyed&&(o.focus(),o.selection.scrollIntoView())},100)},nj=e=>{const t=e.dom.getRoot();!e.inline&&(!uy(e)||e.selection.getStart(!0)===t)&&ko(t).each(o=>{const r=o.getNode(),a=Bc(r)?ko(r).getOr(o):o;e.selection.setRng(a.toRange())})},rj=e=>{e.bindPendingEventDelegates(),e.initialized=!0,Ui(e),e.focus(!0),nj(e),e.nodeChanged({initial:!0});const t=sR(e);Lt(t)&&t.call(e,e),oj(e)},V7=e=>e.inline?e.ui.styleSheetLoader:e.dom.styleSheetLoader,sj=(e,t,o)=>{const{pass:r,fail:a}=it(t,g=>tinymce.Resource.has(yw(g))),d=[...r.map(g=>{const v=tinymce.Resource.get(yw(g));return He(v)?Promise.resolve(V7(e).loadRawCss(g,v)):Promise.resolve()}),V7(e).loadAll(a)];return e.inline?d:d.concat([e.ui.styleSheetLoader.loadAll(o)])},hL=e=>{const t=V7(e),o=r4(e),r=e.contentCSS,a=()=>{t.unloadAll(r),e.inline||e.ui.styleSheetLoader.unloadAll(o)},c=()=>{e.removed?a():e.on("remove",a)};if(e.contentStyles.length>0){let v="";ft.each(e.contentStyles,A=>{v+=A+`\r
`}),e.dom.addStyle(v)}const d=Promise.all(sj(e,r,o)).then(c).catch(c),g=oy(e);return g&&JV(e,g),d},aj=e=>{const t=e.getDoc(),o=e.getBody();IR(e),lR(e)||(t.body.spellcheck=!1,H7.setAttrib(o,"spellcheck","false")),e.quirks=qV(e),LR(e);const r=J5(e);r!==void 0&&(o.dir=r);const a=Sn(e);a&&e.on("BeforeSetContent",c=>{ft.each(a,d=>{c.content=c.content.replace(d,g=>"<!--mce:protected "+escape(g)+"-->")})}),e.on("SetContent",()=>{e.addVisual(e.getBody())}),e.on("compositionstart compositionend",c=>{e.composing=c.type==="compositionstart"})},ij=e=>{Iu(e)||e.load({initial:!0,format:"html"}),e.startContent=e.getContent({format:"raw"})},j7=e=>{e.removed!==!0&&(ij(e),rj(e))},lj=e=>{let t=!1;const o=setTimeout(()=>{t||e.setProgressState(!0)},500);return()=>{clearTimeout(o),t=!0,e.setProgressState(!1)}},bL=e=>{const t=e.getElement();let o=e.getDoc();e.inline&&(H7.addClass(t,"mce-content-body"),e.contentDocument=o=document,e.contentWindow=window,e.bodyElement=t,e.contentAreaContainer=t);const r=e.getBody();r.disabled=!0,e.readonly=m4(e),e._editableRoot=Wn(e),!e.readonly&&e.hasEditableRoot()&&(e.inline&&H7.getStyle(r,"position",!0)==="static"&&(r.style.position="relative"),r.contentEditable="true"),r.disabled=!1,e.editorUpload=qM(e),e.schema=Zf(gL(e)),e.dom=jn(o,{keep_values:!0,url_converter:e.convertURL,url_converter_scope:e,update_styles:!0,root_element:e.inline?e.getBody():null,collect:e.inline,schema:e.schema,contentCssCors:o4(e),referrerPolicy:M1(e),onSetAttrib:d=>{e.dispatch("SetAttrib",d)}}),e.parser=tj(e),e.serializer=X0(ej(e),e),e.selection=gw(e.dom,e.getWin(),e.serializer,e),e.annotator=bE(e),e.formatter=sv(e),e.undoManager=Cw(e),e._nodeChangeDispatcher=new o9(e),e._selectionOverrides=bV(e),Je(e),w$(e),wo(e),Iu(e)||(T$(e),WV(e));const a=t9(e);oe(e,a),is(e),XM(e),v$(e);const c=UT(e);aj(e),XV(e),c.fold(()=>{const d=lj(e);hL(e).then(()=>{j7(e),d()})},d=>{e.setProgressState(!0),hL(e).then(()=>{d().then(g=>{e.setProgressState(!1),j7(e),RS(e)},g=>{e.notificationManager.open({type:"error",text:String(g)}),j7(e),RS(e)})})})},cj=Ao,dj=(e,t,o)=>vi(e,t,cj,o),U7=jn.DOM,uj=(e,t,o,r)=>{const a=fe.fromTag("iframe");return r.each(c=>Pn(a,"tabindex",c)),Dl(a,o),Dl(a,{id:e+"_ifr",frameBorder:"0",allowTransparency:"true",title:t}),id(a,"tox-edit-area__iframe"),a},fj=e=>{let t=Au(e)+"<html><head>";yd(e)!==e.documentBaseUrl&&(t+='<base href="'+e.documentBaseURI.getURI()+'" />'),t+='<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />';const o=Qv(e),r=g_(e),a=e.translate(I1(e));return Y3(e)&&(t+='<meta http-equiv="Content-Security-Policy" content="'+Y3(e)+'" />'),t+=`</head><body id="${o}" class="mce-content-body ${r}" data-id="${e.id}" aria-label="${a}"><br></body></html>`,t},mj=(e,t)=>{const o=Wo.browser.isFirefox()?I1(e):"Rich Text Area",r=e.translate(o),a=Kl(fe.fromDom(e.getElement()),"tabindex").bind(ts),c=uj(e.id,r,gl(e),a).dom;c.onload=()=>{c.onload=null,e.dispatch("load")},e.contentAreaContainer=t.iframeContainer,e.iframeElement=c,e.iframeHTML=fj(e),U7.add(t.iframeContainer,c)},pj=e=>{const t=e.iframeElement,o=()=>{e.contentDocument=t.contentDocument,bL(e)};if(x4(e)||Wo.browser.isFirefox()){const r=e.getDoc();r.open(),r.write(e.iframeHTML),r.close(),o()}else{const r=dj(fe.fromDom(t),"load",()=>{r.unbind(),o()});t.srcdoc=e.iframeHTML}},gj=(e,t)=>{mj(e,t),t.editorContainer&&(t.editorContainer.style.display=e.orgDisplay,e.hidden=U7.isHidden(t.editorContainer)),e.getElement().style.display="none",U7.setAttrib(e.id,"aria-hidden","true"),e.getElement().style.visibility=e.orgVisibility,pj(e)},yL=jn.DOM,hj=(e,t,o)=>{const r=Vy.get(o),a=Vy.urls[o]||e.documentBaseUrl.replace(/\/$/,"");if(o=ft.trim(o),r&&ft.inArray(t,o)===-1){if(e.plugins[o])return;try{const c=r(e,a)||{};e.plugins[o]=c,Lt(c.init)&&(c.init(e,a),t.push(o))}catch(c){YS(e,o,c)}}},bj=e=>e.replace(/^\-/,""),yj=e=>{const t=[];We(zu(e),o=>{hj(e,t,bj(o))})},vj=e=>{const t=ft.trim(x_(e)),o=e.ui.registry.getAll().icons,r={...tb.get("default").icons,...tb.get(t).icons};Bo(r,(a,c)=>{xo(o,c)||e.ui.registry.addIcon(c,a)})},xj=e=>{const t=ny(e);if(He(t)){const o=Mg.get(t);e.theme=o(e,Mg.urls[t])||{},Lt(e.theme.init)&&e.theme.init(e,Mg.urls[t]||e.documentBaseUrl.replace(/\/$/,""))}else e.theme={}},kj=e=>{const t=B1(e),o=ob.get(t);e.model=o(e,ob.urls[t])},wj=e=>{const t=e.theme.renderUI;return t?t():xL(e)},_j=e=>{const t=e.getElement(),r=ny(e)(e,t);return r.editorContainer.nodeType&&(r.editorContainer.id=r.editorContainer.id||e.id+"_parent"),r.iframeContainer&&r.iframeContainer.nodeType&&(r.iframeContainer.id=r.iframeContainer.id||e.id+"_iframecontainer"),r.height=r.iframeHeight?r.iframeHeight:t.offsetHeight,r},vL=(e,t)=>({editorContainer:e,iframeContainer:t,api:{}}),Cj=e=>{const t=yL.create("div");return yL.insertAfter(t,e),vL(t,t)},xL=e=>{const t=e.getElement();return e.inline?vL(null):Cj(t)},Sj=e=>{const t=e.getElement();return e.orgDisplay=t.style.display,He(ny(e))?wj(e):Lt(ny(e))?_j(e):xL(e)},Ej=(e,t)=>{const o={show:$.from(t.show).getOr(lo),hide:$.from(t.hide).getOr(lo),isEnabled:$.from(t.isEnabled).getOr(Ao),setEnabled:r=>{e.mode.isReadOnly()||$.from(t.setEnabled).each(a=>a(r))}};e.ui={...e.ui,...o}},Aj=async e=>{e.dispatch("ScriptsLoaded"),vj(e),xj(e),kj(e),yj(e);const t=await Sj(e);Ej(e,$.from(t.api).getOr({})),e.editorContainer=t.editorContainer,VM(e),e.inline?bL(e):gj(e,{editorContainer:t.editorContainer,iframeContainer:t.iframeContainer})},bv=jn.DOM,kL=e=>e.charAt(0)==="-",zj=(e,t)=>{const o=__(t),r=X5(t);if(!jc.hasCode(o)&&o!=="en"){const a=Ds(r)?r:`${t.editorManager.baseURL}/langs/${o}.js`;e.add(a).catch(()=>{AO(t,a,o)})}},Tj=(e,t)=>{const o=ny(e);if(He(o)&&!kL(o)&&!xo(Mg.urls,o)){const r=eR(e),a=r?e.documentBaseURI.toAbsolute(r):`themes/${o}/theme${t}.js`;Mg.load(o,a).catch(()=>{zO(e,a,o)})}},Oj=(e,t)=>{const o=B1(e);if(o!=="plugin"&&!xo(ob.urls,o)){const r=S_(e),a=He(r)?e.documentBaseURI.toAbsolute(r):`models/${o}/model${t}.js`;ob.load(o,a).catch(()=>{KS(e,a,o)})}},Dj=e=>$.from(e4(e)).filter(Ds).map(t=>({url:t,name:$.none()})),wL=(e,t,o)=>$.from(t).filter(r=>Ds(r)&&!tb.has(r)).map(r=>({url:`${e.editorManager.baseURL}/icons/${r}/icons${o}.js`,name:$.some(r)})),Rj=(e,t,o)=>{const r=wL(t,"default",o),a=Dj(t).orThunk(()=>wL(t,x_(t),""));We(zl([r,a]),c=>{e.add(c.url).catch(()=>{PM(t,c.url,c.name.getOrUndefined())})})},Nj=(e,t)=>{const o=(r,a)=>{Vy.load(r,a).catch(()=>{GS(e,a,r)})};Bo(om(e),(r,a)=>{o(a,r),e.options.set("plugins",zu(e).concat(a))}),We(zu(e),r=>{r=ft.trim(r),r&&!Vy.urls[r]&&!kL(r)&&o(r,`plugins/${r}/plugin${t}.js`)})},Mj=e=>{const t=ny(e);return!He(t)||Le(Mg.get(t))},Bj=e=>{const t=B1(e);return Le(ob.get(t))},Ij=(e,t)=>{const o=gc.ScriptLoader,r=()=>{!e.removed&&Mj(e)&&Bj(e)&&Aj(e)};Tj(e,t),Oj(e,t),zj(o,e),Rj(o,e,t),Nj(e,t),o.loadQueue().then(r,r)},Lj=(e,t)=>Pi.forElement(e,{contentCssCors:p4(t),referrerPolicy:M1(t)}),Pj=e=>{const t=e.id;jc.setCode(__(e));const o=()=>{bv.unbind(window,"ready",o),e.render()};if(!Xs.Event.domLoaded){bv.bind(window,"ready",o);return}if(!e.getElement())return;const r=fe.fromDom(e.getElement()),a=Ss(r);e.on("remove",()=>{et(r.dom.attributes,d=>Ks(r,d.name)),Dl(r,a)}),e.ui.styleSheetLoader=Lj(r,e),kh(e)?e.inline=!0:(e.orgVisibility=e.getElement().style.visibility,e.getElement().style.visibility="hidden");const c=e.getElement().form||bv.getParent(t,"form");c&&(e.formElement=c,E_(e)&&!Zu(e.getElement())&&(bv.insertAfter(bv.create("input",{type:"hidden",name:t}),t),e.hasHiddenInput=!0),e.formEventDelegate=d=>{e.dispatch(d.type,d)},bv.bind(c,"submit reset",e.formEventDelegate),e.on("reset",()=>{e.resetContent()}),c4(e)&&!c.submit.nodeType&&!c.submit.length&&!c._mceOldSubmit&&(c._mceOldSubmit=c.submit,c.submit=()=>(e.editorManager.triggerSave(),e.setDirty(!1),c._mceOldSubmit(c)))),e.windowManager=WS(e),e.notificationManager=US(e),k4(e)&&e.on("GetContent",d=>{d.save&&(d.content=bv.encode(d.content))}),d4(e)&&e.on("submit",()=>{e.initialized&&e.save()}),u4(e)&&(e._beforeUnload=()=>{e.initialized&&!e.destroyed&&!e.isHidden()&&e.save({format:"raw",no_events:!0,set_dirty:!1})},e.editorManager.on("BeforeUnload",e._beforeUnload)),e.editorManager.add(e),Ij(e,e.suffix)},Fj=(e,t)=>{e._editableRoot!==t&&(e._editableRoot=t,e.readonly||(e.getBody().contentEditable=String(e.hasEditableRoot()),e.nodeChanged()),HR(e,t))},Hj=e=>e._editableRoot,$j=(e,t)=>({sections:_e(e),options:_e(t)}),_L=Jo().deviceType,CL=_L.isPhone(),Vj=_L.isTablet(),Z3=e=>{if(vo(e))return[];{const t=ve(e)?e:e.split(/[ ,]/),o=To(t,ll);return Ye(o,Ds)}},jj=(e,t)=>{const o=Ba(t,(r,a)=>nn(e,a));return $j(o.t,o.f)},Uj=(e,t,o={})=>{const r=e.sections(),a=Hn(r,t).getOr({});return ft.extend({},o,a)},Z7=(e,t)=>xo(e.sections(),t),Zj=(e,t)=>Z7(e,t)?e.sections()[t]:{},Wj=(e,t)=>({...{table_grid:!1,object_resizing:!1,resize:!1,toolbar_mode:Hn(e,"toolbar_mode").getOr("scrolling"),toolbar_sticky:!1},...t?{menubar:!1}:{}}),qj=(e,t)=>{var o;const r=(o=t.external_plugins)!==null&&o!==void 0?o:{};return e&&e.external_plugins?ft.extend({},e.external_plugins,r):r},Gj=(e,t)=>[...Z3(e),...Z3(t)],Kj=(e,t,o,r)=>e&&Z7(t,"mobile")?r:o,Yj=(e,t,o,r)=>{const a=Z3(o.forced_plugins),c=Z3(r.plugins),d=Zj(t,"mobile"),g=d.plugins?Z3(d.plugins):c,v=Kj(e,t,c,g),A=Gj(a,v);return ft.extend(r,{forced_plugins:a,plugins:A})},Xj=(e,t)=>e&&Z7(t,"mobile"),Jj=(e,t,o,r,a)=>{var c;const d=e?{mobile:Wj((c=a.mobile)!==null&&c!==void 0?c:{},t)}:{},g=jj(["mobile"],m5(d,a)),v=ft.extend(o,r,g.options(),Xj(e,g)?Uj(g,"mobile"):{},{external_plugins:qj(r,g.options())});return Yj(e,g,r,v)},Qj=(e,t)=>Jj(CL||Vj,CL,t,e,t),eU=(e,t)=>YT(e,t),tU=e=>{const t=(r,a)=>{e.formatter.toggle(r,a),e.nodeChanged()},o=r=>()=>{We("left,center,right,justify".split(","),a=>{r!==a&&e.formatter.remove("align"+a)}),r!=="none"&&t("align"+r)};e.editorCommands.addCommands({JustifyLeft:o("left"),JustifyCenter:o("center"),JustifyRight:o("right"),JustifyFull:o("justify"),JustifyNone:o("none")})},oU=e=>{const t=o=>()=>{const r=e.selection,a=r.isCollapsed()?[e.dom.getParent(r.getNode(),e.dom.isBlock)]:r.getSelectedBlocks();return dr(a,c=>Le(e.formatter.matchNode(c,o)))};e.editorCommands.addCommands({JustifyLeft:t("alignleft"),JustifyCenter:t("aligncenter"),JustifyRight:t("alignright"),JustifyFull:t("alignjustify")},"state")},nU=e=>{tU(e),oU(e)},rU=e=>{e.editorCommands.addCommands({"Cut,Copy,Paste":t=>{const o=e.getDoc();let r;try{o.execCommand(t)}catch{r=!0}if(t==="paste"&&!o.queryCommandEnabled(t)&&(r=!0),r||!o.queryCommandSupported(t)){let a=e.translate("Your browser doesn't support direct access to the clipboard. Please use the Ctrl+X/C/V keyboard shortcuts instead.");(Wo.os.isMacOS()||Wo.os.isiOS())&&(a=a.replace(/Ctrl\+/g,"⌘+")),e.notificationManager.open({text:a,type:"error"})}}})},sU=(e,t,o,r)=>{const a=fe.fromDom(e.getRoot());return Cy(a,Fe.fromRangeStart(t),r)?o=o.replace(/^ /,"&nbsp;"):o=o.replace(/^&nbsp;/," "),$h(a,Fe.fromRangeEnd(t),r)?o=o.replace(/(&nbsp;| )(<br( \/)>)?$/,"&nbsp;"):o=o.replace(/&nbsp;(<br( \/)?>)?$/," "),o},aU=e=>{if(typeof e!="string"){const t=ft.extend({paste:e.paste,data:{paste:e.paste}},e);return{content:e.content,details:t}}return{content:e,details:{}}},iU=(e,t)=>{const o=e.selection,r=e.dom;return/^ | $/.test(t)?sU(r,o.getRng(),t,e.schema):t},I5=(e,t)=>{if(e.selection.isEditable()){const{content:o,details:r}=aU(t);yS(e,{...r,content:iU(e,o),format:"html",set:!1,selection:!0}).each(a=>{const c=KT(e,a.content,r);tw(e,c,a),e.addVisual()})}},lU=e=>{e.editorCommands.addCommands({mceCleanup:()=>{const t=e.selection.getBookmark();e.setContent(e.getContent()),e.selection.moveToBookmark(t)},insertImage:(t,o,r)=>{I5(e,e.dom.createHTML("img",{src:r}))},insertHorizontalRule:()=>{e.execCommand("mceInsertContent",!1,"<hr>")},insertText:(t,o,r)=>{I5(e,e.dom.encode(r))},insertHTML:(t,o,r)=>{I5(e,r)},mceInsertContent:(t,o,r)=>{I5(e,r)},mceSetContent:(t,o,r)=>{e.setContent(r)},mceReplaceContent:(t,o,r)=>{e.execCommand("mceInsertContent",!1,r.replace(/\{\$selection\}/g,e.selection.getContent({format:"text"})))},mceNewDocument:()=>{e.setContent(Fn(e))}})},cU={"font-size":"size","font-family":"face"},dU=bs("font"),uU=(e,t,o)=>{const r=c=>fu(c,e).orThunk(()=>dU(c)?Hn(cU,e).bind(d=>Kl(c,d)):$.none()),a=c=>an(fe.fromDom(t),c);return AC(fe.fromDom(o),c=>r(c),a)},fU=e=>e.replace(/[\'\"\\]/g,"").replace(/,\s+/g,","),mU=(e,t)=>$.from(jn.DOM.getStyle(t,e,!0)),SL=e=>(t,o)=>$.from(o).map(fe.fromDom).filter(Ri).bind(r=>uU(e,t,r.dom).or(mU(e,r.dom))).getOr(""),pU=SL("font-size"),gU=Ro(fU,SL("font-family")),hU=e=>ko(e.getBody()).bind(t=>{const o=t.container();return $.from(mt(o)?o.parentNode:o)}),bU=e=>$.from(e.selection.getRng()).bind(t=>{const o=e.getBody();return t.startContainer===o&&t.startOffset===0?$.none():$.from(e.selection.getStart(!0))}),yU=(e,t)=>bU(e).orThunk(yt(hU,e)).map(fe.fromDom).filter(Ri).bind(t),W7=(e,t)=>yU(e,Cr($.some,t)),EL=(e,t)=>{if(/^[0-9.]+$/.test(t)){const o=parseInt(t,10);if(o>=1&&o<=7){const r=T_(e),a=O_(e);return a.length>0?a[o-1]||t:r[o-1]||t}else return t}else return t},vU=e=>{const t=e.split(/\s*,\s*/);return To(t,o=>o.indexOf(" ")!==-1&&!(Ln(o,'"')||Ln(o,"'"))?`'${o}'`:o).join(",")},xU=(e,t)=>{const o=EL(e,t);e.formatter.toggle("fontname",{value:vU(o)}),e.nodeChanged()},kU=e=>W7(e,t=>gU(e.getBody(),t.dom)).getOr(""),wU=(e,t)=>{e.formatter.toggle("fontsize",{value:EL(e,t)}),e.nodeChanged()},_U=e=>W7(e,t=>pU(e.getBody(),t.dom)).getOr(""),CU=e=>W7(e,t=>{const o=fe.fromDom(e.getBody()),r=AC(t,c=>fu(c,"line-height"),yt(an,o)),a=()=>{const c=parseFloat(Fs(t,"line-height")),d=parseFloat(Fs(t,"font-size"));return String(c/d)};return r.getOrThunk(a)}).getOr(""),SU=(e,t)=>{e.formatter.toggle("lineheight",{value:String(t)}),e.nodeChanged()},EU=e=>{const t=(o,r)=>{e.formatter.toggle(o,r),e.nodeChanged()};e.editorCommands.addCommands({"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":o=>{t(o)},"ForeColor,HiliteColor":(o,r,a)=>{t(o,{value:a})},BackColor:(o,r,a)=>{t("hilitecolor",{value:a})},FontName:(o,r,a)=>{xU(e,a)},FontSize:(o,r,a)=>{wU(e,a)},LineHeight:(o,r,a)=>{SU(e,a)},Lang:(o,r,a)=>{var c;t(o,{value:a.code,customValue:(c=a.customCode)!==null&&c!==void 0?c:null})},RemoveFormat:o=>{e.formatter.remove(o)},mceBlockQuote:()=>{t("blockquote")},FormatBlock:(o,r,a)=>{t(He(a)?a:"p")},mceToggleFormat:(o,r,a)=>{t(a)}})},AU=e=>{const t=o=>e.formatter.match(o);e.editorCommands.addCommands({"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":o=>t(o),mceBlockQuote:()=>t("blockquote")},"state"),e.editorCommands.addQueryValueHandler("FontName",()=>kU(e)),e.editorCommands.addQueryValueHandler("FontSize",()=>_U(e)),e.editorCommands.addQueryValueHandler("LineHeight",()=>CU(e))},zU=e=>{EU(e),AU(e)},TU=e=>{e.editorCommands.addCommands({mceAddUndoLevel:()=>{e.undoManager.add()},mceEndUndoLevel:()=>{e.undoManager.add()},Undo:()=>{e.undoManager.undo()},Redo:()=>{e.undoManager.redo()}})},OU=e=>{e.editorCommands.addCommands({Indent:()=>{K(e)},Outdent:()=>{q(e)}}),e.editorCommands.addCommands({Outdent:()=>E(e)},"state")},DU=e=>{const t=(o,r,a)=>{const c=He(a)?{href:a}:a,d=e.dom.getParent(e.selection.getNode(),"a");ne(c)&&He(c.href)&&(c.href=c.href.replace(/ /g,"%20"),(!d||!c.href)&&e.formatter.remove("link"),c.href&&e.formatter.apply("link",c,d))};e.editorCommands.addCommands({unlink:()=>{if(e.selection.isEditable()){if(e.selection.isCollapsed()){const o=e.dom.getParent(e.selection.getStart(),"a");o&&e.dom.remove(o,!0);return}e.formatter.remove("link")}},mceInsertLink:t,createLink:t})},RU=(e,t,o,r)=>{const a=e.dom,c=g=>a.isBlock(g)&&g.parentElement===o,d=c(t)?t:a.getParent(r,c,o);return $.from(d).map(fe.fromDom)},AL=(e,t)=>{const o=e.dom,r=e.selection.getRng(),a=t?e.selection.getStart():e.selection.getEnd(),c=t?r.startContainer:r.endContainer,d=H3(o,c);if(!d||!d.isContentEditable)return;const g=t?Ae:Hs,v=ol(e);RU(e,a,d,c).each(A=>{const M=Z8(e,c,A.dom,d,!1,v);g(A,fe.fromDom(M)),e.selection.setCursorLocation(M,0),e.dispatch("NewBlock",{newBlock:M}),F3(e,"insertParagraph")})},NU=e=>AL(e,!0),MU=e=>AL(e,!1),BU=e=>{e.editorCommands.addCommands({InsertNewBlockBefore:()=>{NU(e)},InsertNewBlockAfter:()=>{MU(e)}})},IU=e=>{e.editorCommands.addCommands({insertParagraph:()=>{_5(K8,e)},mceInsertNewLine:(t,o,r)=>{oI(e,r)},InsertLineBreak:(t,o,r)=>{_5(J8,e)}})},LU=e=>{e.editorCommands.addCommands({mceSelectNodeDepth:(t,o,r)=>{let a=0;e.dom.getParent(e.selection.getNode(),c=>jt(c)&&a++===r?(e.selection.select(c),!1):!0,e.getBody())},mceSelectNode:(t,o,r)=>{e.selection.select(r)},selectAll:()=>{const t=e.dom.getParent(e.selection.getStart(),_n);if(t){const o=e.dom.createRng();o.selectNodeContents(t),e.selection.setRng(o)}}})},PU=e=>{e.editorCommands.addCommands({mceRemoveNode:(t,o,r)=>{const a=r??e.selection.getNode();if(a!==e.getBody()){const c=e.selection.getBookmark();e.dom.remove(a,!0),e.selection.moveToBookmark(c)}},mcePrint:()=>{e.getWin().print()},mceFocus:(t,o,r)=>{QE(e,r===!0)},mceToggleVisualAid:()=>{e.hasVisual=!e.hasVisual,e.addVisual()}})},FU=e=>{nU(e),rU(e),TU(e),LU(e),lU(e),DU(e),OU(e),BU(e),IU(e),zU(e),PU(e)},HU=["toggleview"],zL=e=>nn(HU,e.toLowerCase());class TL{constructor(t){this.commands={state:{},exec:{},value:{}},this.editor=t}execCommand(t,o=!1,r,a){const c=this.editor,d=t.toLowerCase(),g=a==null?void 0:a.skip_focus;if(c.removed||(d!=="mcefocus"&&(!/^(mceAddUndoLevel|mceEndUndoLevel)$/i.test(d)&&!g?c.focus():aN(c)),c.dispatch("BeforeExecCommand",{command:t,ui:o,value:r}).isDefaultPrevented()))return!1;const A=this.commands.exec[d];return Lt(A)?(A(d,o,r),c.dispatch("ExecCommand",{command:t,ui:o,value:r}),!0):!1}queryCommandState(t){if(!zL(t)&&this.editor.quirks.isHidden()||this.editor.removed)return!1;const o=t.toLowerCase(),r=this.commands.state[o];return Lt(r)?r(o):!1}queryCommandValue(t){if(!zL(t)&&this.editor.quirks.isHidden()||this.editor.removed)return"";const o=t.toLowerCase(),r=this.commands.value[o];return Lt(r)?r(o):""}addCommands(t,o="exec"){const r=this.commands;Bo(t,(a,c)=>{We(c.toLowerCase().split(","),d=>{r[o][d]=a})})}addCommand(t,o,r){const a=t.toLowerCase();this.commands.exec[a]=(c,d,g)=>o.call(r??this.editor,d,g)}queryCommandSupported(t){const o=t.toLowerCase();return!!this.commands.exec[o]}addQueryStateHandler(t,o,r){this.commands.state[t.toLowerCase()]=()=>o.call(r??this.editor)}addQueryValueHandler(t,o,r){this.commands.value[t.toLowerCase()]=()=>o.call(r??this.editor)}}const yv="data-mce-contenteditable",$U=(e,t,o)=>{ei(e,t)&&!o?ac(e,t):o&&id(e,t)},q7=(e,t,o)=>{try{e.getDoc().execCommand(t,!1,String(o))}catch{}},L5=(e,t)=>{e.dom.contentEditable=t?"true":"false"},VU=e=>{We(ri(e,'*[contenteditable="true"]'),t=>{Pn(t,yv,"true"),L5(t,!1)})},jU=e=>{We(ri(e,`*[${yv}="true"]`),t=>{Ks(t,yv),L5(t,!0)})},UU=e=>{$.from(e.selection.getNode()).each(t=>{t.removeAttribute("data-mce-selected")})},ZU=e=>{e.selection.setRng(e.selection.getRng())},WU=(e,t)=>{const o=fe.fromDom(e.getBody());$U(o,"mce-content-readonly",t),t?(e.selection.controlSelection.hideResizeRect(),e._selectionOverrides.hideFakeCaret(),UU(e),e.readonly=!0,L5(o,!1),VU(o)):(e.readonly=!1,e.hasEditableRoot()&&L5(o,!0),jU(o),q7(e,"StyleWithCSS",!1),q7(e,"enableInlineTableEditing",!1),q7(e,"enableObjectResizing",!1),Ph(e)&&e.focus(),ZU(e),e.nodeChanged())},vv=e=>e.readonly,OL=e=>{e.parser.addAttributeFilter("contenteditable",t=>{vv(e)&&We(t,o=>{o.attr(yv,o.attr("contenteditable")),o.attr("contenteditable","false")})}),e.serializer.addAttributeFilter(yv,t=>{vv(e)&&We(t,o=>{o.attr("contenteditable",o.attr(yv))})}),e.serializer.addTempAttr(yv)},qU=e=>{e.serializer?OL(e):e.on("PreInit",()=>{OL(e)})},GU=e=>e.type==="click",KU=["copy"],YU=e=>nn(KU,e.type),XU=(e,t)=>jd(t,"a",r=>an(r,fe.fromDom(e.getBody()))).bind(r=>Kl(r,"href")),JU=(e,t)=>{if(GU(t)&&!Dt.metaKeyPressed(t)){const o=fe.fromDom(t.target);XU(e,o).each(r=>{if(t.preventDefault(),/^#/.test(r)){const a=e.dom.select(`${r},[name="${Id(r,"#")}"]`);a.length&&e.selection.scrollIntoView(a[0],!0)}else window.open(r,"_blank","rel=noopener noreferrer,menubar=yes,toolbar=yes,location=yes,status=yes,resizable=yes,scrollbars=yes")})}else YU(t)&&e.dispatch(t.type,t)},QU=e=>{e.on("ShowCaret",t=>{vv(e)&&t.preventDefault()}),e.on("ObjectSelected",t=>{vv(e)&&t.preventDefault()})},eZ=ft.makeMap("focus blur focusin focusout click dblclick mousedown mouseup mousemove mouseover beforepaste paste cut copy selectionchange mouseout mouseenter mouseleave wheel keydown keypress keyup input beforeinput contextmenu dragstart dragend dragover draggesture dragdrop drop drag submit compositionstart compositionend compositionupdate touchstart touchmove touchend touchcancel"," ");class G7{static isNative(t){return!!eZ[t.toLowerCase()]}constructor(t){this.bindings={},this.settings=t||{},this.scope=this.settings.scope||this,this.toggleEvent=this.settings.toggleEvent||fn}fire(t,o){return this.dispatch(t,o)}dispatch(t,o){const r=t.toLowerCase(),a=Sb(r,o??{},this.scope);this.settings.beforeFire&&this.settings.beforeFire(a);const c=this.bindings[r];if(c)for(let d=0,g=c.length;d<g;d++){const v=c[d];if(!v.removed){if(v.once&&this.off(r,v.func),a.isImmediatePropagationStopped())return a;if(v.func.call(this.scope,a)===!1)return a.preventDefault(),a}}return a}on(t,o,r,a){if(o===!1&&(o=fn),o){const c={func:o,removed:!1};a&&ft.extend(c,a);const d=t.toLowerCase().split(" ");let g=d.length;for(;g--;){const v=d[g];let A=this.bindings[v];A||(A=[],this.toggleEvent(v,!0)),r?A=[c,...A]:A=[...A,c],this.bindings[v]=A}}return this}off(t,o){if(t){const r=t.toLowerCase().split(" ");let a=r.length;for(;a--;){const c=r[a];let d=this.bindings[c];if(!c)return Bo(this.bindings,(g,v)=>{this.toggleEvent(v,!1),delete this.bindings[v]}),this;if(d){if(!o)d.length=0;else{const g=it(d,v=>v.func===o);d=g.fail,this.bindings[c]=d,We(g.pass,v=>{v.removed=!0})}d.length||(this.toggleEvent(t,!1),delete this.bindings[c])}}}else Bo(this.bindings,(r,a)=>{this.toggleEvent(a,!1)}),this.bindings={};return this}once(t,o,r){return this.on(t,o,r,{once:!0})}has(t){t=t.toLowerCase();const o=this.bindings[t];return!(!o||o.length===0)}}const W3=e=>(e._eventDispatcher||(e._eventDispatcher=new G7({scope:e,toggleEvent:(t,o)=>{G7.isNative(t)&&e.toggleNativeEvent&&e.toggleNativeEvent(t,o)}})),e._eventDispatcher),K7={fire(e,t,o){return this.dispatch(e,t,o)},dispatch(e,t,o){const r=this;if(r.removed&&e!=="remove"&&e!=="detach")return Sb(e.toLowerCase(),t??{},r);const a=W3(r).dispatch(e,t);if(o!==!1&&r.parent){let c=r.parent();for(;c&&!a.isPropagationStopped();)c.dispatch(e,a,!1),c=c.parent?c.parent():void 0}return a},on(e,t,o){return W3(this).on(e,t,o)},off(e,t){return W3(this).off(e,t)},once(e,t){return W3(this).once(e,t)},hasEventListeners(e){return W3(this).has(e)}},P5=jn.DOM;let xv;const F5=(e,t)=>{if(t==="selectionchange")return e.getDoc();if(!e.inline&&/^(?:mouse|touch|click|contextmenu|drop|dragover|dragend)/.test(t))return e.getDoc().documentElement;const o=i4(e);return o?(e.eventRoot||(e.eventRoot=P5.select(o)[0]),e.eventRoot):e.getBody()},tZ=e=>!e.hidden&&!vv(e),DL=(e,t,o)=>{tZ(e)?e.dispatch(t,o):vv(e)&&JU(e,o)},RL=(e,t)=>{if(e.delegates||(e.delegates={}),e.delegates[t]||e.removed)return;const o=F5(e,t);if(i4(e)){if(xv||(xv={},e.editorManager.on("removeEditor",()=>{e.editorManager.activeEditor||xv&&(Bo(xv,(a,c)=>{e.dom.unbind(F5(e,c))}),xv=null)})),xv[t])return;const r=a=>{const c=a.target,d=e.editorManager.get();let g=d.length;for(;g--;){const v=d[g].getBody();(v===c||P5.isChildOf(c,v))&&DL(d[g],t,a)}};xv[t]=r,P5.bind(o,t,r)}else{const r=a=>{DL(e,t,a)};P5.bind(o,t,r),e.delegates[t]=r}},NL={...K7,bindPendingEventDelegates(){const e=this;ft.each(e._pendingNativeEvents,t=>{RL(e,t)})},toggleNativeEvent(e,t){const o=this;e==="focus"||e==="blur"||o.removed||(t?o.initialized?RL(o,e):o._pendingNativeEvents?o._pendingNativeEvents.push(e):o._pendingNativeEvents=[e]:o.initialized&&o.delegates&&(o.dom.unbind(F5(o,e),e,o.delegates[e]),delete o.delegates[e]))},unbindAllNativeEvents(){const e=this,t=e.getBody(),o=e.dom;e.delegates&&(Bo(e.delegates,(r,a)=>{e.dom.unbind(F5(e,a),a,r)}),delete e.delegates),!e.inline&&t&&o&&(t.onload=null,o.unbind(e.getWin()),o.unbind(e.getDoc())),o&&(o.unbind(t),o.unbind(e.getContainer()))}},oZ=e=>He(e)?{value:e.split(/[ ,]/),valid:!0}:Eo(e,He)?{value:e,valid:!0}:{valid:!1,message:"The value must be a string[] or a comma/space separated string."},nZ=e=>{const t=(()=>{switch(e){case"array":return ve;case"boolean":return Gn;case"function":return Lt;case"number":return T;case"object":return ne;case"string":return He;case"string[]":return oZ;case"object[]":return o=>Eo(o,ne);case"regexp":return o=>yo(o,RegExp);default:return Ao}})();return o=>Y7(o,t,`The value must be a ${e}.`)},rZ=e=>He(e.processor),ML=(e,t)=>{const o=Gr(t.message)?"":`. ${t.message}`;return e+o},BL=e=>e.valid,Y7=(e,t,o="")=>{const r=t(e);return Gn(r)?r?{value:e,valid:!0}:{valid:!1,message:o}:r},sZ=(e,t,o)=>{if(!gn(t)){const r=Y7(t,o);if(BL(r))return r.value;console.error(ML(`Invalid default value passed for the "${e}" option`,r))}},aZ=(e,t)=>{const o={},r={},a=(B,P,X)=>{const ae=Y7(P,X);return BL(ae)?(r[B]=ae.value,!0):(console.warn(ML(`Invalid value passed for the ${B} option`,ae)),!1)},c=(B,P)=>{const X=rZ(P)?nZ(P.processor):P.processor,ae=sZ(B,P.default,X);o[B]={...P,default:ae,processor:X},Hn(r,B).orThunk(()=>Hn(t,B)).each(ie=>a(B,ie,X))},d=B=>xo(o,B);return{register:c,isRegistered:d,get:B=>Hn(r,B).orThunk(()=>Hn(o,B).map(P=>P.default)).getOrUndefined(),set:(B,P)=>{if(d(B)){const X=o[B];return X.immutable?(console.error(`"${B}" is an immutable option and cannot be updated`),!1):a(B,P,X.processor)}else return console.warn(`"${B}" is not a registered option. Ensure the option has been registered before setting a value.`),!1},unset:B=>{const P=d(B);return P&&delete r[B],P},isSet:B=>xo(r,B)}},iZ=["design","readonly"],IL=(e,t,o,r)=>{const a=o[t.get()],c=o[r];try{c.activate()}catch(d){console.error(`problem while activating editor mode ${r}:`,d);return}a.deactivate(),a.editorReadOnly!==c.editorReadOnly&&WU(e,c.editorReadOnly),t.set(r),yE(e,r)},lZ=(e,t,o,r)=>{if(r!==o.get()){if(!xo(t,r))throw new Error(`Editor mode '${r}' is invalid`);e.initialized?IL(e,o,t,r):e.on("init",()=>IL(e,o,t,r))}},cZ=(e,t,o)=>{if(nn(iZ,t))throw new Error(`Cannot override default mode ${t}`);return{...e,[t]:{...o,deactivate:()=>{try{o.deactivate()}catch(r){console.error(`problem while deactivating editor mode ${t}:`,r)}}}}},dZ=e=>{const t=Ys("design"),o=Ys({design:{activate:lo,deactivate:lo,editorReadOnly:!1},readonly:{activate:lo,deactivate:lo,editorReadOnly:!0}});return qU(e),QU(e),{isReadOnly:()=>vv(e),set:r=>lZ(e,o.get(),t,r),get:()=>t.get(),register:(r,a)=>{o.set(cZ(o.get(),r,a))}}},X7=ft.each,J7=ft.explode,uZ={f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123},LL=ft.makeMap("alt,ctrl,shift,meta,access"),fZ=e=>e in LL,mZ=e=>{const t={},o=Wo.os.isMacOS()||Wo.os.isiOS();X7(J7(e.toLowerCase(),"+"),c=>{fZ(c)?t[c]=!0:/^[0-9]{2,}$/.test(c)?t.keyCode=parseInt(c,10):(t.charCode=c.charCodeAt(0),t.keyCode=uZ[c]||c.toUpperCase().charCodeAt(0))});const r=[t.keyCode];let a;for(a in LL)t[a]?r.push(a):t[a]=!1;return t.id=r.join(","),t.access&&(t.alt=!0,o?t.ctrl=!0:t.shift=!0),t.meta&&(o?t.meta=!0:(t.ctrl=!0,t.meta=!1)),t};class PL{constructor(t){this.shortcuts={},this.pendingPatterns=[],this.editor=t;const o=this;t.on("keyup keypress keydown",r=>{(o.hasModifier(r)||o.isFunctionKey(r))&&!r.isDefaultPrevented()&&(X7(o.shortcuts,a=>{o.matchShortcut(r,a)&&(o.pendingPatterns=a.subpatterns.slice(0),r.type==="keydown"&&o.executeShortcutAction(a))}),o.matchShortcut(r,o.pendingPatterns[0])&&(o.pendingPatterns.length===1&&r.type==="keydown"&&o.executeShortcutAction(o.pendingPatterns[0]),o.pendingPatterns.shift()))})}add(t,o,r,a){const c=this,d=c.normalizeCommandFunc(r);return X7(J7(ft.trim(t)),g=>{const v=c.createShortcut(g,o,d,a);c.shortcuts[v.id]=v}),!0}remove(t){const o=this.createShortcut(t);return this.shortcuts[o.id]?(delete this.shortcuts[o.id],!0):!1}normalizeCommandFunc(t){const o=this,r=t;return typeof r=="string"?()=>{o.editor.execCommand(r,!1,null)}:ft.isArray(r)?()=>{o.editor.execCommand(r[0],r[1],r[2])}:r}createShortcut(t,o,r,a){const c=ft.map(J7(t,">"),mZ);return c[c.length-1]=ft.extend(c[c.length-1],{func:r,scope:a||this.editor}),ft.extend(c[0],{desc:this.editor.translate(o),subpatterns:c.slice(1)})}hasModifier(t){return t.altKey||t.ctrlKey||t.metaKey}isFunctionKey(t){return t.type==="keydown"&&t.keyCode>=112&&t.keyCode<=123}matchShortcut(t,o){return!o||o.ctrl!==t.ctrlKey||o.meta!==t.metaKey||o.alt!==t.altKey||o.shift!==t.shiftKey?!1:t.keyCode===o.keyCode||t.charCode&&t.charCode===o.charCode?(t.preventDefault(),!0):!1}executeShortcutAction(t){return t.func?t.func.call(t.scope):null}}const pZ=()=>{const e={},t={},o={},r={},a={},c={},d={},g={},v=(M,B)=>(P,X)=>{M[P.toLowerCase()]={...X,type:B}},A=(M,B)=>r[M.toLowerCase()]=B;return{addButton:v(e,"button"),addGroupToolbarButton:v(e,"grouptoolbarbutton"),addToggleButton:v(e,"togglebutton"),addMenuButton:v(e,"menubutton"),addSplitButton:v(e,"splitbutton"),addMenuItem:v(t,"menuitem"),addNestedMenuItem:v(t,"nestedmenuitem"),addToggleMenuItem:v(t,"togglemenuitem"),addAutocompleter:v(o,"autocompleter"),addContextMenu:v(a,"contextmenu"),addContextToolbar:v(c,"contexttoolbar"),addContextForm:v(c,"contextform"),addSidebar:v(d,"sidebar"),addView:v(g,"views"),addIcon:A,getAll:()=>({buttons:e,menuItems:t,icons:r,popups:o,contextMenus:a,contextToolbars:c,sidebars:d,views:g})}},gZ=()=>{const e=pZ();return{addAutocompleter:e.addAutocompleter,addButton:e.addButton,addContextForm:e.addContextForm,addContextMenu:e.addContextMenu,addContextToolbar:e.addContextToolbar,addIcon:e.addIcon,addMenuButton:e.addMenuButton,addMenuItem:e.addMenuItem,addNestedMenuItem:e.addNestedMenuItem,addSidebar:e.addSidebar,addSplitButton:e.addSplitButton,addToggleButton:e.addToggleButton,addGroupToolbarButton:e.addGroupToolbarButton,addToggleMenuItem:e.addToggleMenuItem,addView:e.addView,getAll:e.getAll}},kv=jn.DOM,FL=ft.extend,hZ=ft.each;class H5{constructor(t,o,r){this.plugins={},this.contentCSS=[],this.contentStyles=[],this.loadedCSS={},this.isNotDirty=!1,this.composing=!1,this.destroyed=!1,this.hasHiddenInput=!1,this.iframeElement=null,this.initialized=!1,this.readonly=!1,this.removed=!1,this.startContent="",this._pendingNativeEvents=[],this._skinLoaded=!1,this._editableRoot=!0,this.editorManager=r,this.documentBaseUrl=r.documentBaseURL,FL(this,NL);const a=this;this.id=t,this.hidden=!1;const c=Qj(r.defaultOptions,o);this.options=aZ(a,c),Jv(a);const d=this.options.get;d("deprecation_warnings")&&HS(o,c);const g=d("suffix");g&&(r.suffix=g),this.suffix=r.suffix;const v=d("base_url");v&&r._setBaseUrl(v),this.baseUri=r.baseURI;const A=M1(a);A&&(gc.ScriptLoader._setReferrerPolicy(A),jn.DOM.styleSheetLoader._setReferrerPolicy(A));const M=p4(a);Le(M)&&jn.DOM.styleSheetLoader._setContentCssCors(M),Fi.languageLoad=d("language_load"),Fi.baseURL=r.baseURL,this.setDirty(!1),this.documentBaseURI=new Bu(yd(a),{base_uri:this.baseUri}),this.baseURI=this.baseUri,this.inline=kh(a),this.hasVisual=Kc(a),this.shortcuts=new PL(this),this.editorCommands=new TL(this),FU(this);const B=d("cache_suffix");B&&(Wo.cacheSuffix=B.replace(/^[\?\&]+/,"")),this.ui={registry:gZ(),styleSheetLoader:void 0,show:lo,hide:lo,setEnabled:lo,isEnabled:Ao},this.mode=dZ(a),r.dispatch("SetupEditor",{editor:this});const P=ay(a);Lt(P)&&P.call(a,a)}render(){Pj(this)}focus(t){this.execCommand("mceFocus",!1,t)}hasFocus(){return Lh(this)}translate(t){return jc.translate(t)}getParam(t,o,r){const a=this.options;return a.isRegistered(t)||(Le(r)?a.register(t,{processor:r,default:o}):a.register(t,{processor:Ao,default:o})),!a.isSet(t)&&!gn(o)?o:a.get(t)}hasPlugin(t,o){return nn(zu(this),t)?o?Vy.get(t)!==void 0:!0:!1}nodeChanged(t){this._nodeChangeDispatcher.nodeChanged(t)}addCommand(t,o,r){this.editorCommands.addCommand(t,o,r)}addQueryStateHandler(t,o,r){this.editorCommands.addQueryStateHandler(t,o,r)}addQueryValueHandler(t,o,r){this.editorCommands.addQueryValueHandler(t,o,r)}addShortcut(t,o,r,a){this.shortcuts.add(t,o,r,a)}execCommand(t,o,r,a){return this.editorCommands.execCommand(t,o,r,a)}queryCommandState(t){return this.editorCommands.queryCommandState(t)}queryCommandValue(t){return this.editorCommands.queryCommandValue(t)}queryCommandSupported(t){return this.editorCommands.queryCommandSupported(t)}show(){const t=this;t.hidden&&(t.hidden=!1,t.inline?t.getBody().contentEditable="true":(kv.show(t.getContainer()),kv.hide(t.id)),t.load(),t.dispatch("show"))}hide(){const t=this;t.hidden||(t.save(),t.inline?(t.getBody().contentEditable="false",t===t.editorManager.focusedEditor&&(t.editorManager.focusedEditor=null)):(kv.hide(t.getContainer()),kv.setStyle(t.id,"display",t.orgDisplay)),t.hidden=!0,t.dispatch("hide"))}isHidden(){return this.hidden}setProgressState(t,o){this.dispatch("ProgressState",{state:t,time:o})}load(t={}){const o=this,r=o.getElement();if(o.removed)return"";if(r){const a={...t,load:!0},c=Zu(r)?r.value:r.innerHTML,d=o.setContent(c,a);return a.no_events||o.dispatch("LoadContent",{...a,element:r}),d}else return""}save(t={}){const o=this;let r=o.getElement();if(!r||!o.initialized||o.removed)return"";const a={...t,save:!0,element:r};let c=o.getContent(a);const d={...a,content:c};if(d.no_events||o.dispatch("SaveContent",d),d.format==="raw"&&o.dispatch("RawSaveContent",d),c=d.content,Zu(r))r.value=c;else{(t.is_removing||!o.inline)&&(r.innerHTML=c);const g=kv.getParent(o.id,"form");g&&hZ(g.elements,v=>v.name===o.id?(v.value=c,!1):!0)}return d.element=a.element=r=null,d.set_dirty!==!1&&o.setDirty(!1),c}setContent(t,o){return PS(this,t,o)}getContent(t){return uO(this,t)}insertContent(t,o){o&&(t=FL({content:t},o)),this.execCommand("mceInsertContent",!1,t)}resetContent(t){t===void 0?PS(this,this.startContent,{format:"raw"}):PS(this,t),this.undoManager.reset(),this.setDirty(!1),this.nodeChanged()}isDirty(){return!this.isNotDirty}setDirty(t){const o=!this.isNotDirty;this.isNotDirty=!t,t&&t!==o&&this.dispatch("dirty")}getContainer(){const t=this;return t.container||(t.container=t.editorContainer||kv.get(t.id+"_parent")),t.container}getContentAreaContainer(){return this.contentAreaContainer}getElement(){return this.targetElm||(this.targetElm=kv.get(this.id)),this.targetElm}getWin(){const t=this;if(!t.contentWindow){const o=t.iframeElement;o&&(t.contentWindow=o.contentWindow)}return t.contentWindow}getDoc(){const t=this;if(!t.contentDocument){const o=t.getWin();o&&(t.contentDocument=o.document)}return t.contentDocument}getBody(){var t,o;const r=this.getDoc();return(o=(t=this.bodyElement)!==null&&t!==void 0?t:r==null?void 0:r.body)!==null&&o!==void 0?o:null}convertURL(t,o,r){const a=this,c=a.options.get,d=aR(a);if(Lt(d))return d.call(a,t,r,!0,o);if(!c("convert_urls")||r==="link"||ne(r)&&r.nodeName==="LINK"||t.indexOf("file:")===0||t.length===0)return t;const g=new Bu(t);return g.protocol!=="http"&&g.protocol!=="https"&&g.protocol!==""?t:c("relative_urls")?a.documentBaseURI.toRelative(t):(t=a.documentBaseURI.toAbsolute(t,c("remove_script_host")),t)}addVisual(t){eU(this,t)}setEditableRoot(t){Fj(this,t)}hasEditableRoot(){return Hj(this)}remove(){ev(this)}destroy(t){NM(this,t)}uploadImages(){return this.editorUpload.uploadImages()}_scanForImages(){return this.editorUpload.scanForImages()}}const Jw=jn.DOM,$5=ft.each;let HL=!1,V5,Md=[];const j5=e=>{const t=e.type;$5(Qy.get(),o=>{switch(t){case"scroll":o.dispatch("ScrollWindow",e);break;case"resize":o.dispatch("ResizeWindow",e);break}})},$L=e=>{if(e!==HL){const t=jn.DOM;e?(t.bind(window,"resize",j5),t.bind(window,"scroll",j5)):(t.unbind(window,"resize",j5),t.unbind(window,"scroll",j5)),HL=e}},VL=e=>{const t=Md;return Md=Ye(Md,o=>e!==o),Qy.activeEditor===e&&(Qy.activeEditor=Md.length>0?Md[0]:null),Qy.focusedEditor===e&&(Qy.focusedEditor=null),t.length!==Md.length},bZ=e=>{e&&e.initialized&&!(e.getContainer()||e.getBody()).parentNode&&(VL(e),e.unbindAllNativeEvents(),e.destroy(!0),e.removed=!0)},yZ=document.compatMode!=="CSS1Compat",Qy={...K7,baseURI:null,baseURL:null,defaultOptions:{},documentBaseURL:null,suffix:null,majorVersion:"7",minorVersion:"1.2",releaseDate:"TBD",i18n:jc,activeEditor:null,focusedEditor:null,setup(){const e=this;let t="",o="",r=Bu.getDocumentBaseUrl(document.location);/^[^:]+:\/\/\/?[^\/]+\//.test(r)&&(r=r.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(r)||(r+="/"));const a=window.tinymce||window.tinyMCEPreInit;if(a)t=a.base||a.baseURL,o=a.suffix;else{const c=document.getElementsByTagName("script");for(let d=0;d<c.length;d++){const g=c[d].src||"";if(g==="")continue;const v=g.substring(g.lastIndexOf("/"));if(/tinymce(\.full|\.jquery|)(\.min|\.dev|)\.js/.test(g)){v.indexOf(".min")!==-1&&(o=".min"),t=g.substring(0,g.lastIndexOf("/"));break}}if(!t&&document.currentScript){const d=document.currentScript.src;d.indexOf(".min")!==-1&&(o=".min"),t=d.substring(0,d.lastIndexOf("/"))}}e.baseURL=new Bu(r).toAbsolute(t),e.documentBaseURL=r,e.baseURI=new Bu(e.baseURL),e.suffix=o,dN(e)},overrideDefaults(e){const t=e.base_url;t&&this._setBaseUrl(t);const o=e.suffix;o&&(this.suffix=o),this.defaultOptions=e;const r=e.plugin_base_urls;r!==void 0&&Bo(r,(a,c)=>{Fi.PluginManager.urls[c]=a})},init(e){const t=this;let o;const r=ft.makeMap("area base basefont br col frame hr img input isindex link meta param embed source wbr track colgroup option table tbody tfoot thead tr th td script noscript style textarea video audio iframe object menu"," "),a=(M,B)=>M.inline&&B.tagName.toLowerCase()in r,c=M=>{let B=M.id;return B||(B=Hn(M,"name").filter(P=>!Jw.get(P)).getOrThunk(Jw.uniqueId),M.setAttribute("id",B)),B},d=M=>{const B=e[M];if(B)return B.apply(t,[])},g=M=>Wo.browser.isIE()||Wo.browser.isEdge()?(jy("TinyMCE does not support the browser you are using. For a list of supported browsers please see: https://www.tiny.cloud/docs/tinymce/7/support/#supportedwebbrowsers"),[]):yZ?(jy("Failed to initialize the editor as the document is not in standards mode. TinyMCE requires standards mode."),[]):He(M.selector)?Jw.select(M.selector):Le(M.target)?[M.target]:[];let v=M=>{o=M};const A=()=>{let M=0;const B=[];let P;const X=(ae,J,ie)=>{const we=new H5(ae,J,t);B.push(we),we.on("init",()=>{++M===P.length&&v(B)}),we.targetElm=we.targetElm||ie,we.render()};Jw.unbind(window,"ready",A),d("onpageload"),P=Ea(g(e)),ft.each(P,ae=>{bZ(t.get(ae.id))}),P=ft.grep(P,ae=>!t.get(ae.id)),P.length===0?v([]):$5(P,ae=>{a(e,ae)?jy("Could not initialize inline editor on invalid inline target element",ae):X(c(ae),e,ae)})};return Jw.bind(window,"ready",A),new Promise(M=>{o?M(o):v=B=>{M(B)}})},get(e){return arguments.length===0?Md.slice(0):He(e)?Nn(Md,t=>t.id===e).getOr(null):T(e)&&Md[e]?Md[e]:null},add(e){const t=this,o=t.get(e.id);return o===e||(o===null&&Md.push(e),$L(!0),t.activeEditor=e,t.dispatch("AddEditor",{editor:e}),V5||(V5=r=>{const a=t.dispatch("BeforeUnload");if(a.returnValue)return r.preventDefault(),r.returnValue=a.returnValue,a.returnValue},window.addEventListener("beforeunload",V5))),e},createEditor(e,t){return this.add(new H5(e,t,this))},remove(e){const t=this;let o;if(!e){for(let r=Md.length-1;r>=0;r--)t.remove(Md[r]);return}if(He(e)){$5(Jw.select(e),r=>{o=t.get(r.id),o&&t.remove(o)});return}return o=e,dt(t.get(o.id))?null:(VL(o)&&t.dispatch("RemoveEditor",{editor:o}),Md.length===0&&window.removeEventListener("beforeunload",V5),o.remove(),$L(Md.length>0),o)},execCommand(e,t,o){var r;const a=this,c=ne(o)?(r=o.id)!==null&&r!==void 0?r:o.index:o;switch(e){case"mceAddEditor":{if(!a.get(c)){const d=o.options;new H5(c,d,a).render()}return!0}case"mceRemoveEditor":{const d=a.get(c);return d&&d.remove(),!0}case"mceToggleEditor":{const d=a.get(c);return d?(d.isHidden()?d.show():d.hide(),!0):(a.execCommand("mceAddEditor",!1,o),!0)}}return a.activeEditor?a.activeEditor.execCommand(e,t,o):!1},triggerSave:()=>{$5(Md,e=>{e.save()})},addI18n:(e,t)=>{jc.add(e,t)},translate:e=>jc.translate(e),setActive(e){const t=this.activeEditor;this.activeEditor!==e&&(t&&t.dispatch("deactivate",{relatedTarget:e}),e.dispatch("activate",{relatedTarget:t})),this.activeEditor=e},_setBaseUrl(e){this.baseURL=new Bu(this.documentBaseURL).toAbsolute(e.replace(/\/+$/,"")),this.baseURI=new Bu(this.baseURL)}};Qy.setup();const vZ=(()=>{const e=ct(),t=c=>({items:c,types:st(c),getType:d=>Hn(c,d).getOrUndefined()}),o=c=>{e.set(c)},r=()=>e.get().getOrUndefined(),a=e.clear;return{FakeClipboardItem:t,write:o,read:r,clear:a}})(),jL=Math.min,Qw=Math.max,U5=Math.round,UL=(e,t,o)=>{let r=t.x,a=t.y;const c=e.w,d=e.h,g=t.w,v=t.h,A=(o||"").split("");return A[0]==="b"&&(a+=v),A[1]==="r"&&(r+=g),A[0]==="c"&&(a+=U5(v/2)),A[1]==="c"&&(r+=U5(g/2)),A[3]==="b"&&(a-=d),A[4]==="r"&&(r-=c),A[3]==="c"&&(a-=U5(d/2)),A[4]==="c"&&(r-=U5(c/2)),e_(r,a,c,d)},xZ=(e,t,o,r)=>{for(let a=0;a<r.length;a++){const c=UL(e,t,r[a]);if(c.x>=o.x&&c.x+c.w<=o.w+o.x&&c.y>=o.y&&c.y+c.h<=o.h+o.y)return r[a]}return null},kZ=(e,t,o)=>e_(e.x-t,e.y-o,e.w+t*2,e.h+o*2),wZ=(e,t)=>{const o=Qw(e.x,t.x),r=Qw(e.y,t.y),a=jL(e.x+e.w,t.x+t.w),c=jL(e.y+e.h,t.y+t.h);return a-o<0||c-r<0?null:e_(o,r,a-o,c-r)},_Z=(e,t,o)=>{let r=e.x,a=e.y,c=e.x+e.w,d=e.y+e.h;const g=t.x+t.w,v=t.y+t.h,A=Qw(0,t.x-r),M=Qw(0,t.y-a),B=Qw(0,c-g),P=Qw(0,d-v);return r+=A,a+=M,o&&(c+=A,d+=M,r-=B,a-=P),c-=B,d-=P,e_(r,a,c-r,d-a)},e_=(e,t,o,r)=>({x:e,y:t,w:o,h:r}),CZ={inflate:kZ,relativePosition:UL,findBestRelativePosition:xZ,intersect:wZ,clamp:_Z,create:e_,fromClientRect:e=>e_(e.left,e.top,e.width,e.height)},SZ=(e,t,o=1e3)=>{let r=!1,a=null;const c=A=>(...M)=>{r||(r=!0,a!==null&&(clearTimeout(a),a=null),A.apply(null,M))},d=c(e),g=c(t);return{start:(...A)=>{!r&&a===null&&(a=setTimeout(()=>g.apply(null,A),o))},resolve:d,reject:g}},EZ=(()=>{const e={},t={},o={};return{load:(v,A)=>{const M=`Script at URL "${A}" failed to load`,B=`Script at URL "${A}" did not call \`tinymce.Resource.add('${v}', data)\` within 1 second`;if(e[v]!==void 0)return e[v];{const P=new Promise((X,ae)=>{const J=SZ(X,ae);t[v]=J.resolve,gc.ScriptLoader.loadScript(A).then(()=>J.start(B),()=>J.reject(M))});return e[v]=P,P}},add:(v,A)=>{t[v]!==void 0&&(t[v](A),delete t[v]),e[v]=Promise.resolve(A),o[v]=A},has:v=>v in o,get:v=>o[v],unload:v=>{delete e[v],delete o[v]}}})(),AZ=()=>(()=>{let e={},t=[];const o={getItem:r=>{const a=e[r];return a||null},setItem:(r,a)=>{t.push(r),e[r]=String(a)},key:r=>t[r],removeItem:r=>{t=t.filter(a=>a===r),delete e[r]},clear:()=>{t=[],e={}},length:0};return Object.defineProperty(o,"length",{get:()=>t.length,configurable:!1,enumerable:!1}),o})();let q3;try{const e="__storage_test__";q3=window.localStorage,q3.setItem(e,e),q3.removeItem(e)}catch{q3=AZ()}var zZ=q3;const TZ={geom:{Rect:CZ},util:{Delay:Jc,Tools:ft,VK:Dt,URI:Bu,EventDispatcher:G7,Observable:K7,I18n:jc,LocalStorage:zZ,ImageUploader:WM},dom:{EventUtils:Xs,TreeWalker:Tn,TextSeeker:Qu,DOMUtils:jn,ScriptLoader:gc,RangeUtils:gg,Serializer:X0,StyleSheetLoader:Rr,ControlSelection:yr,BookmarkManager:Tr,Selection:gw,Event:Xs.Event},html:{Styles:u1,Entities:jf,Node:Ai,Schema:Zf,DomParser:Qh,Writer:M2,Serializer:gp},Env:Wo,AddOnManager:Fi,Annotator:bE,Formatter:sv,UndoManager:Cw,EditorCommands:TL,WindowManager:WS,NotificationManager:US,EditorObservable:NL,Shortcuts:PL,Editor:H5,FocusManager:x0,EditorManager:Qy,DOM:jn.DOM,ScriptLoader:gc.ScriptLoader,PluginManager:Vy,ThemeManager:Mg,ModelManager:ob,IconManager:tb,Resource:EZ,FakeClipboard:vZ,trim:ft.trim,isArray:ft.isArray,is:ft.is,toArray:ft.toArray,makeMap:ft.makeMap,each:ft.each,map:ft.map,grep:ft.grep,inArray:ft.inArray,extend:ft.extend,walk:ft.walk,resolve:ft.resolve,explode:ft.explode,_addCacheSuffix:ft._addCacheSuffix},ZL=ft.extend(Qy,TZ),OZ=e=>{try{na.exports=e}catch{}};(e=>{window.tinymce=e,window.tinyMCE=e})(ZL),OZ(ZL)})()})(QL);var BZ=QL.exports;const IZ=MZ(BZ);tinymce.IconManager.add("default",{icons:{"accessibility-check":'<svg width="24" height="24"><path d="M12 2a2 2 0 0 1 2 2 2 2 0 0 1-2 2 2 2 0 0 1-2-2c0-1.1.9-2 2-2Zm8 7h-5v12c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-5c0-.6-.4-1-1-1a1 1 0 0 0-1 1v5c0 .6-.4 1-1 1a1 1 0 0 1-1-1V9H4a1 1 0 1 1 0-2h16c.6 0 1 .4 1 1s-.4 1-1 1Z" fill-rule="nonzero"/></svg>',"accordion-toggle":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M12 15c0-.6.4-1 1-1h6c.6 0 1 .4 1 1s-.4 1-1 1h-6a1 1 0 0 1-1-1Z"/><path opacity=".2" fill-rule="evenodd" clip-rule="evenodd" d="M4 15c0-.6.4-1 1-1h6c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1-1-1Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M12 19c0-.6.4-1 1-1h6c.6 0 1 .4 1 1s-.4 1-1 1h-6a1 1 0 0 1-1-1Z"/><path opacity=".2" fill-rule="evenodd" clip-rule="evenodd" d="M4 19c0-.6.4-1 1-1h6c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1-1-1Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M12.3 7.3a1 1 0 0 1 1.4 0L16 9.6l2.3-2.3a1 1 0 1 1 1.4 1.4L16 12.4l-3.7-3.7a1 1 0 0 1 0-1.4ZM4.3 11.7a1 1 0 0 1 0-1.4L6.6 8 4.3 5.7a1 1 0 0 1 1.4-1.4L9.4 8l-3.7 3.7a1 1 0 0 1-1.4 0Z"/></svg>',accordion:'<svg width="24" height="24"><rect x="12" y="7" width="10" height="2" rx="1"/><rect x="12" y="11" width="10" height="2" rx="1"/><rect x="12" y="15" width="6" height="2" rx="1"/><path fill-rule="evenodd" clip-rule="evenodd" d="M2.3 7.3a1 1 0 0 1 1.4 0L6 9.6l2.3-2.3a1 1 0 0 1 1.4 1.4L6 12.4 2.3 8.7a1 1 0 0 1 0-1.4Z"/></svg>',"action-next":'<svg width="24" height="24"><path fill-rule="nonzero" d="M5.7 7.3a1 1 0 0 0-1.4 1.4l7.7 7.7 7.7-7.7a1 1 0 1 0-1.4-1.4L12 13.6 5.7 7.3Z"/></svg>',"action-prev":'<svg width="24" height="24"><path fill-rule="nonzero" d="M18.3 15.7a1 1 0 0 0 1.4-1.4L12 6.6l-7.7 7.7a1 1 0 0 0 1.4 1.4L12 9.4l6.3 6.3Z"/></svg>',addtag:'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M15 5a2 2 0 0 1 1.6.8L21 12l-4.4 6.2a2 2 0 0 1-1.6.8h-3v-2h3l3.5-5L15 7H5v3H3V7c0-1.1.9-2 2-2h10Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M6 12a1 1 0 0 0-1 1v2H3a1 1 0 1 0 0 2h2v2a1 1 0 1 0 2 0v-2h2a1 1 0 1 0 0-2H7v-2c0-.6-.4-1-1-1Z"/></svg>',"ai-prompt":'<svg width="24" height="24"><g clip-path="url(#a)"><path fill-rule="evenodd" clip-rule="evenodd" d="M15 6.7a1 1 0 0 0-1.4 0l-9.9 10a1 1 0 0 0 0 1.3l2.1 2.1c.4.4 1 .4 1.4 0l10-9.9c.3-.3.3-1 0-1.4l-2.2-2Zm1.4 2.8-2-2-3 2.7 2.2 2.2 2.8-2.9Z"/><path d="m18.5 7.3-.7-1.5-1.5-.8 1.5-.7.7-1.5.7 1.5 1.5.7-1.5.8-.7 1.5ZM18.5 16.5l-.7-1.6-1.5-.7 1.5-.7.7-1.6.7 1.6 1.5.7-1.5.7-.7 1.6ZM9.7 7.3 9 5.8 7.5 5 9 4.3l.7-1.5.7 1.5L12 5l-1.5.8-.7 1.5Z"/></g><defs><clipPath id="a"><path d="M0 0h24v24H0z"/></clipPath></defs></svg>',ai:'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M5 3a3 3 0 0 0-3 3v12a3 3 0 0 0 3 3h14a3 3 0 0 0 3-3V6a3 3 0 0 0-3-3H5Zm6.8 11.5.5 1.2a68.3 68.3 0 0 0 .7 1.1l.4.1c.3 0 .5 0 .7-.3.2-.1.3-.3.3-.6l-.3-1-2.6-6.2a20.4 20.4 0 0 0-.5-1.3l-.5-.4-.7-.2c-.2 0-.5 0-.6.2-.2 0-.4.2-.5.4l-.3.6-.3.7L5.7 15l-.2.6-.1.4c0 .3 0 .5.3.7l.6.2c.3 0 .5 0 .7-.2l.4-1 .5-1.2h3.9ZM9.8 9l1.5 4h-3l1.5-4Zm5.6-.9v7.6c0 .4 0 .7.2 1l.7.2c.3 0 .6 0 .8-.3l.2-.9V8.1c0-.4 0-.7-.2-.9a1 1 0 0 0-.8-.3c-.2 0-.5.1-.7.3l-.2 1Z"/></svg>',"align-center":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm3 4h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 1 1 0-2Zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Zm-3-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"align-justify":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"align-left":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 4h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Zm0-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"align-none":'<svg width="24" height="24"><path d="M14.2 5 13 7H5a1 1 0 1 1 0-2h9.2Zm4 0h.8a1 1 0 0 1 0 2h-2l1.2-2Zm-6.4 4-1.2 2H5a1 1 0 0 1 0-2h6.8Zm4 0H19a1 1 0 0 1 0 2h-4.4l1.2-2Zm-6.4 4-1.2 2H5a1 1 0 0 1 0-2h4.4Zm4 0H19a1 1 0 0 1 0 2h-6.8l1.2-2ZM7 17l-1.2 2H5a1 1 0 0 1 0-2h2Zm4 0h8a1 1 0 0 1 0 2H9.8l1.2-2Zm5.2-13.5 1.3.7-9.7 16.3-1.3-.7 9.7-16.3Z" fill-rule="evenodd"/></svg>',"align-right":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm6 4h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm-6-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"arrow-left":'<svg width="24" height="24"><path d="m5.6 13 12 6a1 1 0 0 0 1.4-1V6a1 1 0 0 0-1.4-.9l-12 6a1 1 0 0 0 0 1.8Z" fill-rule="evenodd"/></svg>',"arrow-right":'<svg width="24" height="24"><path d="m18.5 13-12 6A1 1 0 0 1 5 18V6a1 1 0 0 1 1.4-.9l12 6a1 1 0 0 1 0 1.8Z" fill-rule="evenodd"/></svg>',bold:'<svg width="24" height="24"><path d="M7.8 19c-.3 0-.5 0-.6-.2l-.2-.5V5.7c0-.2 0-.4.2-.5l.6-.2h5c1.5 0 2.7.3 3.5 1 .7.6 1.1 1.4 1.1 2.5a3 3 0 0 1-.6 1.9c-.4.6-1 1-1.6 1.2.4.1.9.3 1.3.6s.8.7 1 1.2c.4.4.5 1 .5 1.6 0 1.3-.4 2.3-1.3 3-.8.7-2.1 1-3.8 1H7.8Zm5-8.3c.6 0 1.2-.1 1.6-.5.4-.3.6-.7.6-1.3 0-1.1-.8-1.7-2.3-1.7H9.3v3.5h3.4Zm.5 6c.7 0 1.3-.1 1.7-.4.4-.4.6-.9.6-1.5s-.2-1-.7-1.4c-.4-.3-1-.4-2-.4H9.4v3.8h4Z" fill-rule="evenodd"/></svg>',bookmark:'<svg width="24" height="24"><path d="M6 4v17l6-4 6 4V4c0-.6-.4-1-1-1H7a1 1 0 0 0-1 1Z" fill-rule="nonzero"/></svg>',"border-style":'<svg width="24" height="24"><g fill-rule="evenodd"><rect width="18" height="2" x="3" y="6" rx="1"/><rect width="2.8" height="2" x="3" y="16" rx="1"/><rect width="2.8" height="2" x="6.8" y="16" rx="1"/><rect width="2.8" height="2" x="10.6" y="16" rx="1"/><rect width="2.8" height="2" x="14.4" y="16" rx="1"/><rect width="2.8" height="2" x="18.2" y="16" rx="1"/><rect width="8" height="2" x="3" y="11" rx="1"/><rect width="8" height="2" x="13" y="11" rx="1"/></g></svg>',"border-width":'<svg width="24" height="24"><g fill-rule="evenodd"><rect width="18" height="5" x="3" y="5" rx="1"/><rect width="18" height="3.5" x="3" y="11.5" rx="1"/><rect width="18" height="2" x="3" y="17" rx="1"/></g></svg>',brightness:'<svg width="24" height="24"><path d="M12 17c.3 0 .5.1.7.3.2.2.3.4.3.7v1c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3 1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7v-1c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3Zm0-10a1 1 0 0 1-.7-.3A1 1 0 0 1 11 6V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3.3 0 .5.1.7.3.2.2.3.4.3.7v1c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3Zm7 4c.3 0 .5.1.7.3.2.2.3.4.3.7 0 .3-.1.5-.3.7a1 1 0 0 1-.7.3h-1a1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h1ZM7 12c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3H5a1 1 0 0 1-.7-.3A1 1 0 0 1 4 12c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h1c.3 0 .5.1.7.3.2.2.3.4.3.7Zm10 3.5.7.8c.2.1.3.4.3.6 0 .3-.1.6-.3.8a1 1 0 0 1-.8.3 1 1 0 0 1-.6-.3l-.8-.7a1 1 0 0 1-.3-.8c0-.2.1-.5.3-.7a1 1 0 0 1 1.4 0Zm-10-7-.7-.8a1 1 0 0 1-.3-.6c0-.3.1-.6.3-.8.2-.2.5-.3.8-.3.2 0 .5.1.7.3l.7.7c.2.2.3.5.3.8 0 .2-.1.5-.3.7a1 1 0 0 1-.7.3 1 1 0 0 1-.8-.3Zm10 0a1 1 0 0 1-.8.3 1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7c0-.3.1-.6.3-.8l.8-.7c.1-.2.4-.3.6-.3.3 0 .6.1.8.3.2.2.3.5.3.8 0 .2-.1.5-.3.7l-.7.7Zm-10 7c.2-.2.5-.3.8-.3.2 0 .5.1.7.3a1 1 0 0 1 0 1.4l-.8.8a1 1 0 0 1-.6.3 1 1 0 0 1-.8-.3 1 1 0 0 1-.3-.8c0-.2.1-.5.3-.6l.7-.8ZM12 8a4 4 0 0 1 3.7 2.4 4 4 0 0 1 0 3.2A4 4 0 0 1 12 16a4 4 0 0 1-3.7-2.4 4 4 0 0 1 0-3.2A4 4 0 0 1 12 8Zm0 6.5c.7 0 1.3-.2 1.8-.7.5-.5.7-1.1.7-1.8s-.2-1.3-.7-1.8c-.5-.5-1.1-.7-1.8-.7s-1.3.2-1.8.7c-.5.5-.7 1.1-.7 1.8s.2 1.3.7 1.8c.5.5 1.1.7 1.8.7Z" fill-rule="evenodd"/></svg>',browse:'<svg width="24" height="24"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2h-4v-2h4V8H5v10h4v2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 9.4-2.3 2.3a1 1 0 1 1-1.4-1.4l4-4a1 1 0 0 1 1.4 0l4 4a1 1 0 0 1-1.4 1.4L13 13.4V20a1 1 0 0 1-2 0v-6.6Z" fill-rule="nonzero"/></svg>',cancel:'<svg width="24" height="24"><path d="M12 4.6a7.4 7.4 0 1 1 0 14.8 7.4 7.4 0 0 1 0-14.8ZM12 3a9 9 0 1 0 0 18 9 9 0 0 0 0-18Zm0 8L14.8 8l1 1.1-2.7 2.8 2.7 2.7-1.1 1.1-2.7-2.7-2.7 2.7-1-1.1 2.6-2.7-2.7-2.7 1-1.1 2.8 2.7Z" fill-rule="nonzero"/></svg>',"cell-background-color":'<svg width="24" height="24"><path d="m15.7 2 1.6 1.6-2.7 2.6 5.9 5.8c.7.7.7 1.7 0 2.4l-6.3 6.1a1.7 1.7 0 0 1-2.4 0l-6.3-6.1c-.7-.7-.7-1.7 0-2.4L15.7 2ZM18 12l-4.5-4L9 12h9ZM4 16s2 2.4 2 3.8C6 21 5.1 22 4 22s-2-1-2-2.2C2 18.4 4 16 4 16Z"/></svg>',"cell-border-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M5 13v5h2v2H5a2 2 0 0 1-2-2v-5h2zm8-7V4h6a2 2 0 0 1 2 2h-8z" opacity=".2"/><path fill-rule="nonzero" d="M13 4v2H5v7H3V6c0-1.1.9-2 2-2h8zm-2.6 14.1.1-.1.1.1.2.3.2.2.2.2c.4.6.8 1.2.8 1.7 0 .8-.7 1.5-1.5 1.5S9 21.3 9 20.5c0-.5.4-1.1.8-1.7l.2-.2.2-.2.2-.3z"/><path d="m13 11-2 2H5v-2h6V6h2z"/><path fill-rule="nonzero" d="m18.4 8 1 1-1.8 1.9 4 4c.5.4.5 1.1 0 1.6l-4.3 4.2a1.2 1.2 0 0 1-1.6 0l-4.4-4.2c-.4-.5-.4-1.2 0-1.7l7-6.8Zm1.6 7-3-3-3 3h6Z"/></g></svg>',"change-case":'<svg width="24" height="24"><path d="M18.4 18.2v-.6c-.5.8-1.3 1.2-2.4 1.2-2.2 0-3.3-1.6-3.3-4.8 0-3.1 1-4.7 3.3-4.7 1.1 0 1.8.3 2.4 1.1v-.6c0-.5.4-.8.8-.8s.8.3.8.8v8.4c0 .5-.4.8-.8.8a.8.8 0 0 1-.8-.8zm-2-7.4c-1.3 0-1.8.9-1.8 3.2 0 2.4.5 3.3 1.7 3.3 1.3 0 1.8-.9 1.8-3.2 0-2.4-.5-3.3-1.7-3.3zM10 15.7H5.5l-.8 2.6a1 1 0 0 1-1 .7h-.2a.7.7 0 0 1-.7-1l4-12a1 1 0 0 1 2 0l4 12a.7.7 0 0 1-.8 1h-.2a1 1 0 0 1-1-.7l-.8-2.6zm-.3-1.5-2-6.5-1.9 6.5h3.9z" fill-rule="evenodd"/></svg>',"character-count":'<svg width="24" height="24"><path d="M4 11.5h16v1H4v-1Zm4.8-6.8V10H7.7V5.8h-1v-1h2ZM11 8.3V9h2v1h-3V7.7l2-1v-.9h-2v-1h3v2.4l-2 1Zm6.3-3.4V10h-3.1V9h2.1V8h-2.1V6.8h2.1v-1h-2.1v-1h3.1ZM5.8 16.4c0-.5.2-.8.5-1 .2-.2.6-.3 1.2-.3l.8.1c.2 0 .4.2.5.3l.4.4v2.8l.2.3H8.2V18.7l-.6.3H7c-.4 0-.7 0-1-.2a1 1 0 0 1-.3-.9c0-.3 0-.6.3-.8.3-.2.7-.4 1.2-.4l.6-.2h.3v-.2l-.1-.2a.8.8 0 0 0-.5-.1 1 1 0 0 0-.4 0l-.3.4h-1Zm2.3.8h-.2l-.2.1-.4.1a1 1 0 0 0-.4.2l-.2.2.1.3.5.1h.4l.4-.4v-.6Zm2-3.4h1.2v1.7l.5-.3h.5c.5 0 .9.1 1.2.5.3.4.5.8.5 1.4 0 .6-.2 1.1-.5 1.5-.3.4-.7.6-1.3.6l-.6-.1-.4-.4v.4h-1.1v-5.4Zm1.1 3.3c0 .3 0 .6.2.8a.7.7 0 0 0 1.2 0l.2-.8c0-.4 0-.6-.2-.8a.7.7 0 0 0-.6-.3l-.6.3-.2.8Zm6.1-.5c0-.2 0-.3-.2-.4a.8.8 0 0 0-.5-.2c-.3 0-.5.1-.6.3l-.2.9c0 .3 0 .6.2.8.1.2.3.3.6.3.2 0 .4 0 .5-.2l.2-.4h1.1c0 .5-.3.8-.6 1.1a2 2 0 0 1-1.3.4c-.5 0-1-.2-1.3-.6a2 2 0 0 1-.5-1.4c0-.6.1-1.1.5-1.5.3-.4.8-.5 1.4-.5.5 0 1 0 1.2.3.4.3.5.7.5 1.2h-1v-.1Z" fill-rule="evenodd"/></svg>',"checklist-rtl":'<svg width="24" height="24"><path d="M5 17h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2zm14.2 11c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 20c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 14c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 8c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8z" fill-rule="evenodd"/></svg>',checklist:'<svg width="24" height="24"><path d="M11 17h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8a1 1 0 0 1 0 2h-8a1 1 0 0 1 0-2ZM7.2 16c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 20c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8Zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 14c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8Zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 8c-.2.3-.7.4-1 0L3.8 6.9a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8Z" fill-rule="evenodd"/></svg>',checkmark:'<svg width="24" height="24"><path d="M18.2 5.4a1 1 0 0 1 1.6 1.2l-8 12a1 1 0 0 1-1.5.1l-5-5a1 1 0 1 1 1.4-1.4l4.1 4.1 7.4-11Z" fill-rule="nonzero"/></svg>',"chevron-down":'<svg width="10" height="10"><path d="M8.7 2.2c.3-.3.8-.3 1 0 .4.4.4.9 0 1.2L5.7 7.8c-.3.3-.9.3-1.2 0L.2 3.4a.8.8 0 0 1 0-1.2c.3-.3.8-.3 1.1 0L5 6l3.7-3.8Z" fill-rule="nonzero"/></svg>',"chevron-left":'<svg width="10" height="10"><path d="M7.8 1.3 4 5l3.8 3.7c.3.3.3.8 0 1-.4.4-.9.4-1.2 0L2.2 5.7a.8.8 0 0 1 0-1.2L6.6.2C7 0 7.4 0 7.8.2c.3.3.3.8 0 1.1Z" fill-rule="nonzero"/></svg>',"chevron-right":'<svg width="10" height="10"><path d="M2.2 1.3a.8.8 0 0 1 0-1c.4-.4.9-.4 1.2 0l4.4 4.1c.3.4.3.9 0 1.2L3.4 9.8c-.3.3-.8.3-1.2 0a.8.8 0 0 1 0-1.1L6 5 2.2 1.3Z" fill-rule="nonzero"/></svg>',"chevron-up":'<svg width="10" height="10"><path d="M8.7 7.8 5 4 1.3 7.8c-.3.3-.8.3-1 0a.8.8 0 0 1 0-1.2l4.1-4.4c.3-.3.9-.3 1.2 0l4.2 4.4c.3.3.3.9 0 1.2-.3.3-.8.3-1.1 0Z" fill-rule="nonzero"/></svg>',close:'<svg width="24" height="24"><path d="M17.3 8.2 13.4 12l3.9 3.8a1 1 0 0 1-1.5 1.5L12 13.4l-3.8 3.9a1 1 0 0 1-1.5-1.5l3.9-3.8-3.9-3.8a1 1 0 0 1 1.5-1.5l3.8 3.9 3.8-3.9a1 1 0 0 1 1.5 1.5Z" fill-rule="evenodd"/></svg>',"code-sample":'<svg width="24" height="26"><path d="M7.1 11a2.8 2.8 0 0 1-.8 2 2.8 2.8 0 0 1 .8 2v1.7c0 .3.1.6.4.8.2.3.5.4.8.4.3 0 .4.2.4.4v.8c0 .2-.1.4-.4.4-.7 0-1.4-.3-2-.8-.5-.6-.8-1.3-.8-2V15c0-.3-.1-.6-.4-.8-.2-.3-.5-.4-.8-.4a.4.4 0 0 1-.4-.4v-.8c0-.2.2-.4.4-.4.3 0 .6-.1.8-.4.3-.2.4-.5.4-.8V9.3c0-.7.3-1.4.8-2 .6-.5 1.3-.8 2-.8.3 0 .4.2.4.4v.8c0 .2-.1.4-.4.4-.3 0-.6.1-.8.4-.3.2-.4.5-.4.8V11Zm9.8 0V9.3c0-.3-.1-.6-.4-.8-.2-.3-.5-.4-.8-.4a.4.4 0 0 1-.4-.4V7c0-.2.1-.4.4-.4.7 0 1.4.3 2 .8.5.6.8 1.3.8 2V11c0 .3.1.6.4.8.2.3.5.4.8.4.2 0 .4.2.4.4v.8c0 .2-.2.4-.4.4-.3 0-.6.1-.8.4-.3.2-.4.5-.4.8v1.7c0 .7-.3 1.4-.8 2-.6.5-1.3.8-2 .8a.4.4 0 0 1-.4-.4v-.8c0-.2.1-.4.4-.4.3 0 .6-.1.8-.4.3-.2.4-.5.4-.8V15a2.8 2.8 0 0 1 .8-2 2.8 2.8 0 0 1-.8-2Zm-3.3-.4c0 .4-.1.8-.5 1.1-.3.3-.7.5-1.1.5-.4 0-.8-.2-1.1-.5-.4-.3-.5-.7-.5-1.1 0-.5.1-.9.5-1.2.3-.3.7-.4 1.1-.4.4 0 .8.1 1.1.4.4.3.5.7.5 1.2ZM12 13c.4 0 .8.1 1.1.5.4.3.5.7.5 1.1 0 1-.1 1.6-.5 2a3 3 0 0 1-1.1 1c-.4.3-.8.4-1.1.4a.5.5 0 0 1-.5-.5V17a3 3 0 0 0 1-.2l.6-.6c-.6 0-1-.2-1.3-.5-.2-.3-.3-.7-.3-1 0-.5.1-1 .5-1.2.3-.4.7-.5 1.1-.5Z" fill-rule="evenodd"/></svg>',"color-levels":'<svg width="24" height="24"><path d="M17.5 11.4A9 9 0 0 1 18 14c0 .5 0 1-.2 1.4 0 .4-.3.9-.5 1.3a6.2 6.2 0 0 1-3.7 3 5.7 5.7 0 0 1-3.2 0A5.9 5.9 0 0 1 7.6 18a6.2 6.2 0 0 1-1.4-2.6 6.7 6.7 0 0 1 0-2.8c0-.4.1-.9.3-1.3a13.6 13.6 0 0 1 2.3-4A20 20 0 0 1 12 4a26.4 26.4 0 0 1 3.2 3.4 18.2 18.2 0 0 1 2.3 4Zm-2 4.5c.4-.7.5-1.4.5-2a7.3 7.3 0 0 0-1-3.2c.2.6.2 1.2.2 1.9a4.5 4.5 0 0 1-1.3 3 5.3 5.3 0 0 1-2.3 1.5 4.9 4.9 0 0 1-2 .1 4.3 4.3 0 0 0 2.4.8 4 4 0 0 0 2-.6 4 4 0 0 0 1.5-1.5Z" fill-rule="evenodd"/></svg>',"color-picker":'<svg width="24" height="24"><path d="M12 3a9 9 0 0 0 0 18 1.5 1.5 0 0 0 1.1-2.5c-.2-.3-.4-.6-.4-1 0-.8.7-1.5 1.5-1.5H16a5 5 0 0 0 5-5c0-4.4-4-8-9-8Zm-5.5 9a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Zm3-4a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Zm5 0a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Zm3 4a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Z" fill-rule="nonzero"/></svg>',"color-swatch-remove-color":'<svg width="24" height="24"><path stroke="#000" stroke-width="2" d="M21 3 3 21" fill-rule="evenodd"/></svg>',"color-swatch":'<svg width="24" height="24"><rect x="3" y="3" width="18" height="18" rx="1" fill-rule="evenodd"/></svg>',"comment-add":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="m9 19 3-2h7c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H5a1 1 0 0 0-1 1v10c0 .6.4 1 1 1h4v2Zm-2 4v-4H5a3 3 0 0 1-3-3V6a3 3 0 0 1 3-3h14a3 3 0 0 1 3 3v10a3 3 0 0 1-3 3h-6.4L7 23Z"/><path d="M13 10h2a1 1 0 0 1 0 2h-2v2a1 1 0 0 1-2 0v-2H9a1 1 0 0 1 0-2h2V8a1 1 0 0 1 2 0v2Z"/></g></svg>',comment:'<svg width="24" height="24"><path fill-rule="nonzero" d="m9 19 3-2h7c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H5a1 1 0 0 0-1 1v10c0 .6.4 1 1 1h4v2Zm-2 4v-4H5a3 3 0 0 1-3-3V6a3 3 0 0 1 3-3h14a3 3 0 0 1 3 3v10a3 3 0 0 1-3 3h-6.4L7 23Z"/></svg>',contrast:'<svg width="24" height="24"><path d="M12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 1 1 12 4Zm-6 8a6 6 0 0 0 6 6V6a6 6 0 0 0-6 6Z" fill-rule="evenodd"/></svg>',copy:'<svg width="24" height="24"><path d="M16 3H6a2 2 0 0 0-2 2v11h2V5h10V3Zm1 4a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-7a2 2 0 0 1-2-2V9c0-1.2.9-2 2-2h7Zm0 12V9h-7v10h7Z" fill-rule="nonzero"/></svg>',crop:'<svg width="24" height="24"><path d="M17 8v7h2c.6 0 1 .4 1 1s-.4 1-1 1h-2v2c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-2H7V9H5a1 1 0 1 1 0-2h2V5c0-.6.4-1 1-1s1 .4 1 1v2h7l3-3 1 1-3 3ZM9 9v5l5-5H9Zm1 6h5v-5l-5 5Z" fill-rule="evenodd"/></svg>',"cut-column":'<svg width="24" height="24"><path fill-rule="evenodd" d="M7.2 4.5c.9 0 1.6.4 2.2 1A3.7 3.7 0 0 1 10.5 8v.5l1 1 4-4 1-.5a3.3 3.3 0 0 1 2 0c.4 0 .7.3 1 .5L17 8h4v13h-6V10l-1.5 1.5.5.5v4l-2.5-2.5-1 1v.5c0 .4 0 .8-.3 1.2-.2.5-.4.9-.8 1.2-.6.7-1.3 1-2.2 1-.8.2-1.5 0-2-.6l-.5-.8-.2-1c0-.4 0-.8.3-1.2A3.9 3.9 0 0 1 7 12.7c.5-.2 1-.3 1.5-.2l1-1-1-1c-.5 0-1 0-1.5-.2-.5-.1-1-.4-1.4-.9-.4-.3-.6-.7-.8-1.2L4.5 7c0-.4 0-.7.2-1 0-.3.3-.6.5-.8.5-.5 1.2-.8 2-.7Zm12.3 5h-3v10h3v-10ZM8 13.8h-.3l-.4.2a2.8 2.8 0 0 0-.7.4v.1a2.8 2.8 0 0 0-.6.8l-.1.4v.7l.2.5.5.2h.7a2.6 2.6 0 0 0 .8-.3 2.4 2.4 0 0 0 .7-.7 2.5 2.5 0 0 0 .3-.8 1.5 1.5 0 0 0 0-.8 1 1 0 0 0-.2-.4 1 1 0 0 0-.5-.2H8Zm3.5-3.7c-.4 0-.7.1-1 .4-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4s.7-.1 1-.4c.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4ZM7 5.8h-.4a1 1 0 0 0-.5.3 1 1 0 0 0-.2.5v.7a2.5 2.5 0 0 0 .3.8l.2.3h.1l.4.4.4.2.4.1h.7L9 9l.2-.4a1.6 1.6 0 0 0 0-.8 2.6 2.6 0 0 0-.3-.8A2.5 2.5 0 0 0 7.7 6l-.4-.1H7Z"/></svg>',"cut-row":'<svg width="24" height="24"><path fill-rule="evenodd" d="M22 3v5H9l3 3 2-2h4l-4 4 1 1h.5c.4 0 .8 0 1.2.3.5.2.9.4 1.2.8.7.6 1 1.3 1 2.2.2.8 0 1.5-.6 2l-.8.5-1 .2c-.4 0-.8 0-1.2-.3a3.9 3.9 0 0 1-2.1-2.2c-.2-.5-.3-1-.2-1.5l-1-1-1 1c0 .5 0 1-.2 1.5-.1.5-.4 1-.9 1.4-.3.4-.7.6-1.2.8l-1.2.3c-.4 0-.7 0-1-.2-.3 0-.6-.3-.8-.5-.5-.5-.8-1.2-.7-2 0-.9.4-1.6 1-2.2A3.7 3.7 0 0 1 8.6 14H9l1-1-4-4-.5-1a3.3 3.3 0 0 1 0-2c0-.4.3-.7.5-1l2 2V3h14ZM8.5 15.3h-.3a2.6 2.6 0 0 0-.8.4 2.5 2.5 0 0 0-.9 1.1l-.1.4v.7l.2.5.5.2h.7a2.5 2.5 0 0 0 .8-.3L9 18V18l.4-.4.2-.4.1-.4v-.7a1 1 0 0 0-.2-.5 1 1 0 0 0-.4-.2h-.5Zm7 0H15a1 1 0 0 0-.4.3 1 1 0 0 0-.2.5 1.5 1.5 0 0 0 0 .7v.4a2.8 2.8 0 0 0 .5.7h.1a2.8 2.8 0 0 0 .8.6l.4.1h.7l.5-.2.2-.5v-.7a2.6 2.6 0 0 0-.3-.8 2.4 2.4 0 0 0-.7-.7 2.5 2.5 0 0 0-.8-.3h-.3ZM12 11.6c-.4 0-.7.1-1 .4-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4s.7-.1 1-.4c.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4Zm8.5-7.1h-11v2h11v-2Z"/></svg>',cut:'<svg width="24" height="24"><path d="M18 15c.6.7 1 1.4 1 2.3 0 .8-.2 1.5-.7 2l-.8.5-1 .2c-.4 0-.8 0-1.2-.3a3.9 3.9 0 0 1-2.1-2.2c-.2-.5-.3-1-.2-1.5l-1-1-1 1c0 .5 0 1-.2 1.5-.1.5-.4 1-.9 1.4-.3.4-.7.6-1.2.8l-1.2.3c-.4 0-.7 0-1-.2-.3 0-.6-.3-.8-.5-.5-.5-.8-1.2-.7-2 0-.9.4-1.6 1-2.2A3.7 3.7 0 0 1 8.6 14H9l1-1-4-4-.5-1a3.3 3.3 0 0 1 0-2c0-.4.3-.7.5-1l6 6 6-6 .5 1a3.3 3.3 0 0 1 0 2c0 .4-.3.7-.5 1l-4 4 1 1h.5c.4 0 .8 0 1.2.3.5.2.9.4 1.2.8Zm-8.5 2.2.1-.4v-.7a1 1 0 0 0-.2-.5 1 1 0 0 0-.4-.2 1.6 1.6 0 0 0-.8 0 2.6 2.6 0 0 0-.8.3 2.5 2.5 0 0 0-.9 1.1l-.1.4v.7l.2.5.5.2h.7a2.5 2.5 0 0 0 .8-.3 2.8 2.8 0 0 0 1-1Zm2.5-2.8c.4 0 .7-.1 1-.4.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4s-.7.1-1 .4c-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4Zm5.4 4 .2-.5v-.7a2.6 2.6 0 0 0-.3-.8 2.4 2.4 0 0 0-.7-.7 2.5 2.5 0 0 0-.8-.3 1.5 1.5 0 0 0-.8 0 1 1 0 0 0-.4.2 1 1 0 0 0-.2.5 1.5 1.5 0 0 0 0 .7v.4l.3.4.3.4a2.8 2.8 0 0 0 .8.5l.4.1h.7l.5-.2Z" fill-rule="evenodd"/></svg>',"document-properties":'<svg width="24" height="24"><path d="M14.4 3H7a2 2 0 0 0-2 2v14c0 1.1.9 2 2 2h10a2 2 0 0 0 2-2V7.6L14.4 3ZM17 19H7V5h6v4h4v10Z" fill-rule="nonzero"/></svg>',drag:'<svg width="24" height="24"><path d="M13 5h2v2h-2V5Zm0 4h2v2h-2V9ZM9 9h2v2H9V9Zm4 4h2v2h-2v-2Zm-4 0h2v2H9v-2Zm0 4h2v2H9v-2Zm4 0h2v2h-2v-2ZM9 5h2v2H9V5Z" fill-rule="evenodd"/></svg>',"duplicate-column":'<svg width="24" height="24"><path d="M17 6v16h-7V6h7Zm-2 2h-3v12h3V8Zm-2-6v2H8v15H6V2h7Z"/></svg>',"duplicate-row":'<svg width="24" height="24"><path d="M22 11v7H6v-7h16Zm-2 2H8v3h12v-3Zm-1-6v2H4v5H2V7h17Z"/></svg>',duplicate:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M16 3v2H6v11H4V5c0-1.1.9-2 2-2h10Zm3 8h-2V9h-7v10h9a2 2 0 0 1-2 2h-7a2 2 0 0 1-2-2V9c0-1.2.9-2 2-2h7a2 2 0 0 1 2 2v2Z"/><path d="M17 14h1a1 1 0 0 1 0 2h-1v1a1 1 0 0 1-2 0v-1h-1a1 1 0 0 1 0-2h1v-1a1 1 0 0 1 2 0v1Z"/></g></svg>',"edit-block":'<svg width="24" height="24"><path fill-rule="nonzero" d="m19.8 8.8-9.4 9.4c-.2.2-.5.4-.9.4l-5.4 1.2 1.2-5.4.5-.8 9.4-9.4c.7-.7 1.8-.7 2.5 0l2.1 2.1c.7.7.7 1.8 0 2.5Zm-2-.2 1-.9v-.3l-2.2-2.2a.3.3 0 0 0-.3 0l-1 1L18 8.5Zm-1 1-2.5-2.4-6 6 2.5 2.5 6-6Zm-7 7.1-2.6-2.4-.3.3-.1.2-.7 3 3.1-.6h.1l.4-.5Z"/></svg>',"edit-image":'<svg width="24" height="24"><path d="M18 16h2V7a2 2 0 0 0-2-2H7v2h11v9ZM6 17h15a1 1 0 0 1 0 2h-1v1a1 1 0 0 1-2 0v-1H6a2 2 0 0 1-2-2V7H3a1 1 0 1 1 0-2h1V4a1 1 0 1 1 2 0v13Zm3-5.3 1.3 2 3-4.7 3.7 6H7l2-3.3Z" fill-rule="nonzero"/></svg>',"embed-page":'<svg width="24" height="24"><path d="M19 6V5H5v14h2A13 13 0 0 1 19 6Zm0 1.4c-.8.8-1.6 2.4-2.2 4.6H19V7.4Zm0 5.6h-2.4c-.4 1.8-.6 3.8-.6 6h3v-6Zm-4 6c0-2.2.2-4.2.6-6H13c-.7 1.8-1.1 3.8-1.1 6h3Zm-4 0c0-2.2.4-4.2 1-6H9.6A12 12 0 0 0 8 19h3ZM4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm11.8 9c.4-1.9 1-3.4 1.8-4.5a9.2 9.2 0 0 0-4 4.5h2.2Zm-3.4 0a12 12 0 0 1 2.8-4 12 12 0 0 0-5 4h2.2Z" fill-rule="nonzero"/></svg>',embed:'<svg width="24" height="24"><path d="M4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm1 2v14h14V5H5Zm4.8 2.6 5.6 4a.5.5 0 0 1 0 .8l-5.6 4A.5.5 0 0 1 9 16V8a.5.5 0 0 1 .8-.4Z" fill-rule="nonzero"/></svg>',emoji:'<svg width="24" height="24"><path d="M9 11c.6 0 1-.4 1-1s-.4-1-1-1a1 1 0 0 0-1 1c0 .6.4 1 1 1Zm6 0c.6 0 1-.4 1-1s-.4-1-1-1a1 1 0 0 0-1 1c0 .6.4 1 1 1Zm-3 5.5c2.1 0 4-1.5 4.4-3.5H7.6c.5 2 2.3 3.5 4.4 3.5ZM12 4a8 8 0 1 0 0 16 8 8 0 0 0 0-16Zm0 14.5a6.5 6.5 0 1 1 0-13 6.5 6.5 0 0 1 0 13Z" fill-rule="nonzero"/></svg>',export:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M14.4 3 18 7v1h-5V5H7v14h9a1 1 0 0 1 2 0c0 1-.8 2-1.9 2H7c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2h7.5Z"/><path d="M18.1 12c.5 0 .9.4.9 1 0 .5-.3 1-.8 1h-7.3c-.5 0-.9-.4-.9-1 0-.5.3-1 .8-1h7.3Z"/><path d="M16.4 9.2a1 1 0 0 1 1.4.2l2.4 3.6-2.4 3.6a1 1 0 0 1-1.7-1v-.2l1.7-2.4-1.6-2.4a1 1 0 0 1 .2-1.4Z"/></g></svg>',fill:'<svg width="24" height="26"><path d="m16.6 12-9-9-1.4 1.4 2.4 2.4-5.2 5.1c-.5.6-.5 1.6 0 2.2L9 19.6a1.5 1.5 0 0 0 2.2 0l5.5-5.5c.5-.6.5-1.6 0-2.2ZM5.2 13 10 8.2l4.8 4.8H5.2ZM19 14.5s-2 2.2-2 3.5c0 1.1.9 2 2 2a2 2 0 0 0 2-2c0-1.3-2-3.5-2-3.5Z" fill-rule="nonzero"/></svg>',"flip-horizontally":'<svg width="24" height="24"><path d="M14 19h2v-2h-2v2Zm4-8h2V9h-2v2ZM4 7v10c0 1.1.9 2 2 2h3v-2H6V7h3V5H6a2 2 0 0 0-2 2Zm14-2v2h2a2 2 0 0 0-2-2Zm-7 16h2V3h-2v18Zm7-6h2v-2h-2v2Zm-4-8h2V5h-2v2Zm4 12a2 2 0 0 0 2-2h-2v2Z" fill-rule="nonzero"/></svg>',"flip-vertically":'<svg width="24" height="24"><path d="M5 14v2h2v-2H5Zm8 4v2h2v-2h-2Zm4-14H7a2 2 0 0 0-2 2v3h2V6h10v3h2V6a2 2 0 0 0-2-2Zm2 14h-2v2a2 2 0 0 0 2-2ZM3 11v2h18v-2H3Zm6 7v2h2v-2H9Zm8-4v2h2v-2h-2ZM5 18c0 1.1.9 2 2 2v-2H5Z" fill-rule="nonzero"/></svg>',footnote:'<svg width="24" height="24"><path d="M19 13c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2h14Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M19 4v6h-1V5h-1.5V4h2.6Z"/><path d="M12 18c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2h7ZM14 8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2h9Z"/></svg>',"format-painter":'<svg width="24" height="24"><path d="M18 5V4c0-.5-.4-1-1-1H5a1 1 0 0 0-1 1v4c0 .6.5 1 1 1h12c.6 0 1-.4 1-1V7h1v4H9v9c0 .6.4 1 1 1h2c.6 0 1-.4 1-1v-7h8V5h-3Z" fill-rule="nonzero"/></svg>',format:'<svg width="24" height="24"><path fill-rule="evenodd" d="M17 5a1 1 0 0 1 0 2h-4v11a1 1 0 0 1-2 0V7H7a1 1 0 1 1 0-2h10Z"/></svg>',fullscreen:'<svg width="24" height="24"><path d="m15.3 10-1.2-1.3 2.9-3h-2.3a.9.9 0 1 1 0-1.7H19c.5 0 .9.4.9.9v4.4a.9.9 0 1 1-1.8 0V7l-2.9 3Zm0 4 3 3v-2.3a.9.9 0 1 1 1.7 0V19c0 .5-.4.9-.9.9h-4.4a.9.9 0 1 1 0-1.8H17l-3-2.9 1.3-1.2ZM10 15.4l-2.9 3h2.3a.9.9 0 1 1 0 1.7H5a.9.9 0 0 1-.9-.9v-4.4a.9.9 0 1 1 1.8 0V17l2.9-3 1.2 1.3ZM8.7 10 5.7 7v2.3a.9.9 0 0 1-1.7 0V5c0-.5.4-.9.9-.9h4.4a.9.9 0 0 1 0 1.8H7l3 2.9-1.3 1.2Z" fill-rule="nonzero"/></svg>',gallery:'<svg width="24" height="24"><path fill-rule="nonzero" d="m5 15.7 2.3-2.2c.3-.3.7-.3 1 0L11 16l5.1-5c.3-.4.8-.4 1 0l2 1.9V8H5v7.7ZM5 18V19h3l1.8-1.9-2-2L5 17.9Zm14-3-2.5-2.4-6.4 6.5H19v-4ZM4 6h16c.6 0 1 .4 1 1v13c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V7c0-.6.4-1 1-1Zm6 7a2 2 0 1 1 0-4 2 2 0 0 1 0 4ZM4.5 4h15a.5.5 0 1 1 0 1h-15a.5.5 0 0 1 0-1Zm2-2h11a.5.5 0 1 1 0 1h-11a.5.5 0 0 1 0-1Z"/></svg>',gamma:'<svg width="24" height="24"><path d="M4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm1 2v14h14V5H5Zm6.5 11.8V14L9.2 8.7a5.1 5.1 0 0 0-.4-.8l-.1-.2H8v-1l.3-.1.3-.1h.7a1 1 0 0 1 .6.5l.1.3a8.5 8.5 0 0 1 .3.6l1.9 4.6 2-5.2a1 1 0 0 1 1-.6.5.5 0 0 1 .5.6L13 14v2.8a.7.7 0 0 1-1.4 0Z" fill-rule="nonzero"/></svg>',help:'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M12 5.5a6.5 6.5 0 0 0-6 9 6.3 6.3 0 0 0 1.4 2l1 1a6.3 6.3 0 0 0 3.6 1 6.5 6.5 0 0 0 6-9 6.3 6.3 0 0 0-1.4-2l-1-1a6.3 6.3 0 0 0-3.6-1ZM12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 1 1 12 4Z"/><path d="M9.6 9.7a.7.7 0 0 1-.7-.8c0-1.1 1.5-1.8 3.2-1.8 1.8 0 3.2.8 3.2 2.4 0 1.4-.4 2.1-1.5 2.8-.2 0-.3.1-.3.2a2 2 0 0 0-.8.8.8.8 0 0 1-1.4-.6c.3-.7.8-1 1.3-1.5l.4-.2c.7-.4.8-.6.8-1.5 0-.5-.6-.9-1.7-.9-.5 0-1 .1-1.4.3-.2 0-.3.1-.3.2v-.2c0 .4-.4.8-.8.8Z" fill-rule="nonzero"/><circle cx="12" cy="16" r="1"/></g></svg>',"highlight-bg-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path class="tox-icon-highlight-bg-color__color" d="M3 18h18v3H3z"/><path fill-rule="nonzero" d="M7.7 16.7H3l3.3-3.3-.7-.8L10.2 8l4 4.1-4 4.2c-.2.2-.6.2-.8 0l-.6-.7-1.1 1.1zm5-7.5L11 7.4l3-2.9a2 2 0 0 1 2.6 0L18 6c.7.7.7 2 0 2.7l-2.9 2.9-1.8-1.8-.5-.6"/></g></svg>',home:'<svg width="24" height="24"><path fill-rule="nonzero" d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/></svg>',"horizontal-rule":'<svg width="24" height="24"><path d="M4 11h16v2H4z" fill-rule="evenodd"/></svg>',"image-options":'<svg width="24" height="24"><path d="M6 10a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm12 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm-6 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Z" fill-rule="nonzero"/></svg>',image:'<svg width="24" height="24"><path d="m5 15.7 3.3-3.2c.3-.3.7-.3 1 0L12 15l4.1-4c.3-.4.8-.4 1 0l2 1.9V5H5v10.7ZM5 18V19h3l2.8-2.9-2-2L5 17.9Zm14-3-2.5-2.4-6.4 6.5H19v-4ZM4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm6 8a2 2 0 1 0 0-4 2 2 0 0 0 0 4Z" fill-rule="nonzero"/></svg>',indent:'<svg width="24" height="24"><path d="M7 5h12c.6 0 1 .4 1 1s-.4 1-1 1H7a1 1 0 1 1 0-2Zm5 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm0 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm-5 4h12a1 1 0 0 1 0 2H7a1 1 0 0 1 0-2Zm-2.6-3.8L6.2 12l-1.8-1.2a1 1 0 0 1 1.2-1.6l3 2a1 1 0 0 1 0 1.6l-3 2a1 1 0 1 1-1.2-1.6Z" fill-rule="evenodd"/></svg>',info:'<svg width="24" height="24"><path d="M12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 1 1 12 4Zm-1 3v2h2V7h-2Zm3 10v-1h-1v-5h-3v1h1v4h-1v1h4Z" fill-rule="evenodd"/></svg>',"insert-character":'<svg width="24" height="24"><path d="M15 18h4l1-2v4h-6v-3.3l1.4-1a6 6 0 0 0 1.8-2.9 6.3 6.3 0 0 0-.1-4.1 5.8 5.8 0 0 0-3-3.2c-.6-.3-1.3-.5-2.1-.5a5.1 5.1 0 0 0-3.9 1.8 6.3 6.3 0 0 0-1.3 6 6.2 6.2 0 0 0 1.8 3l1.4.9V20H4v-4l1 2h4v-.5l-2-1L5.4 15A6.5 6.5 0 0 1 4 11c0-1 .2-1.9.6-2.7A7 7 0 0 1 6.3 6C7.1 5.4 8 5 9 4.5c1-.3 2-.5 3.1-.5a8.8 8.8 0 0 1 5.7 2 7 7 0 0 1 1.7 2.3 6 6 0 0 1 .2 4.8c-.2.7-.6 1.3-1 1.9a7.6 7.6 0 0 1-3.6 2.5v.5Z" fill-rule="evenodd"/></svg>',"insert-time":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M12 19a7 7 0 1 0 0-14 7 7 0 0 0 0 14Zm0 2a9 9 0 1 1 0-18 9 9 0 0 1 0 18Z"/><path d="M16 12h-3V7c0-.6-.4-1-1-1a1 1 0 0 0-1 1v7h5c.6 0 1-.4 1-1s-.4-1-1-1Z"/></g></svg>',invert:'<svg width="24" height="24"><path d="M18 19.3 16.5 18a5.8 5.8 0 0 1-3.1 1.9 6.1 6.1 0 0 1-5.5-1.6A5.8 5.8 0 0 1 6 14v-.3l.1-1.2A13.9 13.9 0 0 1 7.7 9l-3-3 .7-.8 2.8 2.9 9 8.9 1.5 1.6-.7.6Zm0-5.5v.3l-.1 1.1-.4 1-1.2-1.2a4.3 4.3 0 0 0 .2-1v-.2c0-.4 0-.8-.2-1.3l-.5-1.4a14.8 14.8 0 0 0-3-4.2L12 6a26.1 26.1 0 0 0-2.2 2.5l-1-1a20.9 20.9 0 0 1 2.9-3.3L12 4l1 .8a22.2 22.2 0 0 1 4 5.4c.6 1.2 1 2.4 1 3.6Z" fill-rule="evenodd"/></svg>',italic:'<svg width="24" height="24"><path d="m16.7 4.7-.1.9h-.3c-.6 0-1 0-1.4.3-.3.3-.4.6-.5 1.1l-2.1 9.8v.6c0 .5.4.8 1.4.8h.2l-.2.8H8l.2-.8h.2c1.1 0 1.8-.5 2-1.5l2-9.8.1-.5c0-.6-.4-.8-1.4-.8h-.3l.2-.9h5.8Z" fill-rule="evenodd"/></svg>',language:'<svg width="24" height="24"><path d="M12 3a9 9 0 1 1 0 18 9 9 0 0 1 0-18Zm4.3 13.3c-.5 1-1.2 2-2 2.9a7.5 7.5 0 0 0 3.2-2.1l-.2-.2a6 6 0 0 0-1-.6Zm-8.6 0c-.5.2-.9.5-1.2.8.9 1 2 1.7 3.2 2a10 10 0 0 1-2-2.8Zm3.6-.8c-.8 0-1.6.1-2.2.3.5 1 1.2 1.9 2.1 2.7Zm1.5 0v3c.9-.8 1.6-1.7 2.1-2.7-.6-.2-1.4-.3-2.1-.3Zm-6-2.7H4.5c.2 1 .5 2.1 1 3h.3l1.3-1a10 10 0 0 1-.3-2Zm12.7 0h-2.3c0 .7-.1 1.4-.3 2l1.6 1.1c.5-1 .9-2 1-3.1Zm-3.8 0h-3V14c1 0 2 .1 2.7.4.2-.5.3-1 .3-1.6Zm-4.4 0h-3l.3 1.6c.8-.3 1.7-.4 2.7-.4v-1.3Zm-5.5-5c-.7 1-1.1 2.2-1.3 3.5h2.3c0-1 .2-1.8.5-2.6l-1.5-1Zm2.9 1.4v.1c-.2.6-.4 1.3-.4 2h3V9.4c-1 0-1.8-.1-2.6-.3Zm6.6 0h-.1l-2.4.3v1.8h3l-.5-2.1Zm3-1.4-.3.1-1.3.8c.3.8.5 1.6.5 2.6h2.3a7.5 7.5 0 0 0-1.3-3.5Zm-9 0 2 .2V5.5a9 9 0 0 0-2 2.2Zm3.5-2.3V8c.6 0 1.3 0 1.9-.2a9 9 0 0 0-2-2.3Zm-3-.7h-.1c-1.1.4-2.1 1-3 1.8l1.2.7a10 10 0 0 1 1.9-2.5Zm4.4 0 .1.1a10 10 0 0 1 1.8 2.4l1.1-.7a7.5 7.5 0 0 0-3-1.8Z"/></svg>',"line-height":'<svg width="24" height="24"><path d="M21 5a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zm0 4a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zm0 4a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zm0 4a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zM7 3.6l3.7 3.7a1 1 0 0 1-1.3 1.5h-.1L8 7.3v9.2l1.3-1.3a1 1 0 0 1 1.3 0h.1c.4.4.4 1 0 1.3v.1L7 20.4l-3.7-3.7a1 1 0 0 1 1.3-1.5h.1L6 16.7V7.4L4.7 8.7a1 1 0 0 1-1.3 0h-.1a1 1 0 0 1 0-1.3v-.1L7 3.6z"/></svg>',line:'<svg width="24" height="24"><path d="m15 9-8 8H4v-3l8-8 3 3Zm1-1-3-3 1-1h1c-.2 0 0 0 0 0l2 2s0 .2 0 0v1l-1 1ZM4 18h16v2H4v-2Z" fill-rule="evenodd"/></svg>',link:'<svg width="24" height="24"><path d="M6.2 12.3a1 1 0 0 1 1.4 1.4l-2 2a2 2 0 1 0 2.6 2.8l4.8-4.8a1 1 0 0 0 0-1.4 1 1 0 1 1 1.4-1.3 2.9 2.9 0 0 1 0 4L9.6 20a3.9 3.9 0 0 1-5.5-5.5l2-2Zm11.6-.6a1 1 0 0 1-1.4-1.4l2-2a2 2 0 1 0-2.6-2.8L11 10.3a1 1 0 0 0 0 1.4A1 1 0 1 1 9.6 13a2.9 2.9 0 0 1 0-4L14.4 4a3.9 3.9 0 0 1 5.5 5.5l-2 2Z" fill-rule="nonzero"/></svg>',"list-bull-circle":'<svg width="48" height="48"><g fill-rule="evenodd"><path d="M11 16a2 2 0 1 0 0-4 2 2 0 0 0 0 4Zm0 1a3 3 0 1 1 0-6 3 3 0 0 1 0 6ZM11 26a2 2 0 1 0 0-4 2 2 0 0 0 0 4Zm0 1a3 3 0 1 1 0-6 3 3 0 0 1 0 6ZM11 36a2 2 0 1 0 0-4 2 2 0 0 0 0 4Zm0 1a3 3 0 1 1 0-6 3 3 0 0 1 0 6Z" fill-rule="nonzero"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-bull-default":'<svg width="48" height="48"><g fill-rule="evenodd"><circle cx="11" cy="14" r="3"/><circle cx="11" cy="24" r="3"/><circle cx="11" cy="34" r="3"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-bull-square":'<svg width="48" height="48"><g fill-rule="evenodd"><path d="M8 11h6v6H8zM8 21h6v6H8zM8 31h6v6H8z"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-num-default-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M37.4 17v-4.8h-.1l-1.5 1v-1.1l1.6-1.1h1.2v6zM33.3 17.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm1.7 5.7c0-1.2 1-2 2.2-2 1.3 0 2.1.8 2.1 1.8 0 .7-.3 1.2-1.3 2.2l-1.2 1v.2h2.6v1h-4.3v-.9l2-1.9c.8-.8 1-1.1 1-1.5 0-.5-.4-.8-1-.8-.5 0-.9.3-.9.9H35zm-1.7 4.3c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm3.2 7.3v-1h.7c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7s-1 .3-1 .8H35c0-1.1 1-1.8 2.2-1.8 1.2 0 2.1.6 2.1 1.6 0 .7-.4 1.2-1 1.3v.1c.7.1 1.3.7 1.3 1.4 0 1-1 1.9-2.4 1.9-1.3 0-2.2-.8-2.3-2h1.2c0 .6.5 1 1.1 1 .6 0 1-.4 1-1 0-.5-.3-.8-1-.8h-.7zm-3.3 2.7c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7z"/></g></svg>',"list-num-default":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10 17v-4.8l-1.5 1v-1.1l1.6-1h1.2V17h-1.2Zm3.6.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7Zm-5 5.7c0-1.2.8-2 2.1-2s2.1.8 2.1 1.8c0 .7-.3 1.2-1.4 2.2l-1.1 1v.2h2.6v1H8.6v-.9l2-1.9c.8-.8 1-1.1 1-1.5 0-.5-.4-.8-1-.8-.5 0-.9.3-.9.9H8.5Zm6.3 4.3c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7ZM10 34.4v-1h.7c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7s-1 .3-1 .8H8.6c0-1.1 1-1.8 2.2-1.8 1.3 0 2.1.6 2.1 1.6 0 .7-.4 1.2-1 1.3v.1c.8.1 1.3.7 1.3 1.4 0 1-1 1.9-2.4 1.9-1.3 0-2.2-.8-2.3-2h1.2c0 .6.5 1 1.1 1 .7 0 1-.4 1-1 0-.5-.3-.8-1-.8h-.7Zm4.7 2.7c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7Z"/></g></svg>',"list-num-lower-alpha-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M36.5 16c-.9 0-1.5-.5-1.5-1.3s.6-1.3 1.8-1.4h1v-.4c0-.4-.2-.6-.7-.6-.4 0-.7.1-.8.4h-1.1c0-.8.8-1.4 2-1.4S39 12 39 13V16h-1.2v-.6c-.3.4-.8.7-1.4.7Zm.4-.8c.6 0 1-.4 1-.9V14h-1c-.5.1-.7.3-.7.6 0 .4.3.6.7.6ZM33.1 16.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7ZM37.7 26c-.7 0-1.2-.2-1.5-.7v.7H35v-6.3h1.2v2.5c.3-.5.8-.9 1.5-.9 1.1 0 1.8 1 1.8 2.4 0 1.5-.7 2.4-1.8 2.4Zm-.5-3.6c-.6 0-1 .5-1 1.3s.4 1.4 1 1.4c.7 0 1-.6 1-1.4 0-.8-.3-1.3-1-1.3ZM33.2 26.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7zm6 7h-1c-.1-.5-.4-.8-1-.8s-1 .5-1 1.4c0 1 .4 1.4 1 1.4.5 0 .9-.2 1-.7h1c0 1-.8 1.7-2 1.7-1.4 0-2.2-.9-2.2-2.4s.8-2.4 2.2-2.4c1.2 0 2 .7 2 1.7zm-6.1 3c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-lower-alpha":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10.3 15.2c.5 0 1-.4 1-.9V14h-1c-.5.1-.8.3-.8.6 0 .4.3.6.8.6Zm-.4.9c-1 0-1.5-.6-1.5-1.4 0-.8.6-1.3 1.7-1.4h1.1v-.4c0-.4-.2-.6-.7-.6-.5 0-.8.1-.9.4h-1c0-.8.8-1.4 2-1.4 1.1 0 1.8.6 1.8 1.6V16h-1.1v-.6h-.1c-.2.4-.7.7-1.3.7Zm4.6 0c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm-3.2 10c-.6 0-1.2-.3-1.4-.8v.7H8.5v-6.3H10v2.5c.3-.5.8-.9 1.4-.9 1.2 0 1.9 1 1.9 2.4 0 1.5-.7 2.4-1.9 2.4Zm-.4-3.7c-.7 0-1 .5-1 1.3s.3 1.4 1 1.4c.6 0 1-.6 1-1.4 0-.8-.4-1.3-1-1.3Zm4 3.7c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm-2.2 7h-1.2c0-.5-.4-.8-.9-.8-.6 0-1 .5-1 1.4 0 1 .4 1.4 1 1.4.5 0 .8-.2 1-.7h1c0 1-.8 1.7-2 1.7-1.4 0-2.2-.9-2.2-2.4s.8-2.4 2.2-2.4c1.2 0 2 .7 2 1.7Zm1.8 3c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-lower-greek-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M37.4 16c-1.2 0-2-.8-2-2.3 0-1.5.8-2.4 2-2.4.6 0 1 .4 1.3 1v-.9H40v3.2c0 .4.1.5.4.5h.2v.9h-.6c-.6 0-1-.2-1-.7h-.2c-.2.4-.7.8-1.3.8Zm.3-1c.6 0 1-.5 1-1.3s-.4-1.3-1-1.3-1 .5-1 1.3.4 1.4 1 1.4ZM33.3 16.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7ZM36 21.9c0-1.5.8-2.3 2.1-2.3 1.2 0 2 .6 2 1.6 0 .6-.3 1-.9 1.3.9.3 1.3.8 1.3 1.7 0 1.2-.7 1.9-1.8 1.9-.6 0-1.1-.3-1.4-.8v2.2H36V22Zm1.8 1.2v-1h.3c.5 0 .9-.2.9-.7 0-.5-.3-.8-.9-.8-.5 0-.8.3-.8 1v2.2c0 .8.4 1.3 1 1.3s1-.4 1-1-.4-1-1.2-1h-.3ZM33.3 26.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7ZM37.1 34.6 34.8 30h1.4l1.7 3.5 1.7-3.5h1.1l-2.2 4.6v.1c.5.8.7 1.4.7 1.8 0 .4-.2.8-.4 1-.2.2-.6.3-1 .3-.9 0-1.3-.4-1.3-1.2 0-.5.2-1 .5-1.7l.1-.2Zm.7 1a2 2 0 0 0-.4.9c0 .3.1.4.4.4.3 0 .4-.1.4-.4 0-.2-.1-.6-.4-1ZM33.3 36.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-lower-greek":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10.5 15c.7 0 1-.5 1-1.3s-.3-1.3-1-1.3c-.5 0-.9.5-.9 1.3s.4 1.4 1 1.4Zm-.3 1c-1.1 0-1.8-.8-1.8-2.3 0-1.5.7-2.4 1.8-2.4.7 0 1.1.4 1.3 1h.1v-.9h1.2v3.2c0 .4.1.5.4.5h.2v.9h-.6c-.6 0-1-.2-1.1-.7h-.1c-.2.4-.7.8-1.4.8Zm5 .1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7Zm-4.9 7v-1h.3c.6 0 1-.2 1-.7 0-.5-.4-.8-1-.8-.5 0-.8.3-.8 1v2.2c0 .8.4 1.3 1.1 1.3.6 0 1-.4 1-1s-.5-1-1.3-1h-.3ZM8.6 22c0-1.5.7-2.3 2-2.3 1.2 0 2 .6 2 1.6 0 .6-.3 1-.8 1.3.8.3 1.3.8 1.3 1.7 0 1.2-.8 1.9-1.9 1.9-.6 0-1.1-.3-1.3-.8v2.2H8.5V22Zm6.2 4.2c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7Zm-4.5 8.5L8 30h1.4l1.7 3.5 1.7-3.5h1.1l-2.2 4.6v.1c.5.8.7 1.4.7 1.8 0 .4-.1.8-.4 1-.2.2-.6.3-1 .3-.9 0-1.3-.4-1.3-1.2 0-.5.2-1 .5-1.7l.1-.2Zm.7 1a2 2 0 0 0-.4.9c0 .3.1.4.4.4.3 0 .4-.1.4-.4 0-.2-.1-.6-.4-1Zm4.5.5c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-lower-roman-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M32.9 16v-1.2h-1.3V16H33Zm0 10v-1.2h-1.3V26H33Zm0 10v-1.2h-1.3V36H33Z"/><path fill-rule="nonzero" d="M36 21h-1.5v5H36zM36 31h-1.5v5H36zM39 21h-1.5v5H39zM39 31h-1.5v5H39zM42 31h-1.5v5H42zM36 11h-1.5v5H36zM36 19h-1.5v1H36zM36 29h-1.5v1H36zM39 19h-1.5v1H39zM39 29h-1.5v1H39zM42 29h-1.5v1H42zM36 9h-1.5v1H36z"/></g></svg>',"list-num-lower-roman":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M15.1 16v-1.2h1.3V16H15Zm0 10v-1.2h1.3V26H15Zm0 10v-1.2h1.3V36H15Z"/><path fill-rule="nonzero" d="M12 21h1.5v5H12zM12 31h1.5v5H12zM9 21h1.5v5H9zM9 31h1.5v5H9zM6 31h1.5v5H6zM12 11h1.5v5H12zM12 19h1.5v1H12zM12 29h1.5v1H12zM9 19h1.5v1H9zM9 29h1.5v1H9zM6 29h1.5v1H6zM12 9h1.5v1H12z"/></g></svg>',"list-num-upper-alpha-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="m39.3 17-.5-1.4h-2l-.5 1.4H35l2-6h1.6l2 6h-1.3Zm-1.6-4.7-.7 2.3h1.6l-.8-2.3ZM33.4 17c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7Zm4.7 9.9h-2.7v-6H38c1.2 0 1.9.6 1.9 1.5 0 .6-.5 1.2-1 1.3.7.1 1.3.7 1.3 1.5 0 1-.8 1.7-2 1.7Zm-1.4-5v1.5h1c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7h-1Zm0 4h1.1c.7 0 1.1-.3 1.1-.8 0-.6-.4-.9-1.1-.9h-1.1V26ZM33 27.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm4.9 10c-1.8 0-2.8-1.1-2.8-3.1s1-3.1 2.8-3.1c1.4 0 2.5.9 2.6 2.2h-1.3c0-.7-.6-1.1-1.3-1.1-1 0-1.6.7-1.6 2s.6 2 1.6 2c.7 0 1.2-.4 1.4-1h1.2c-.1 1.3-1.2 2.2-2.6 2.2Zm-4.5 0c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-upper-alpha":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="m12.6 17-.5-1.4h-2L9.5 17H8.3l2-6H12l2 6h-1.3ZM11 12.3l-.7 2.3h1.6l-.8-2.3Zm4.7 4.8c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7ZM11.4 27H8.7v-6h2.6c1.2 0 1.9.6 1.9 1.5 0 .6-.5 1.2-1 1.3.7.1 1.3.7 1.3 1.5 0 1-.8 1.7-2 1.7ZM10 22v1.5h1c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7h-1Zm0 4H11c.7 0 1.1-.3 1.1-.8 0-.6-.4-.9-1.1-.9H10V26Zm5.4 1.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm-4.1 10c-1.8 0-2.8-1.1-2.8-3.1s1-3.1 2.8-3.1c1.4 0 2.5.9 2.6 2.2h-1.3c0-.7-.6-1.1-1.3-1.1-1 0-1.6.7-1.6 2s.6 2 1.6 2c.7 0 1.2-.4 1.4-1h1.2c-.1 1.3-1.2 2.2-2.6 2.2Zm4.5 0c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-upper-roman-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M31.6 17v-1.2H33V17h-1.3Zm0 10v-1.2H33V27h-1.3Zm0 10v-1.2H33V37h-1.3Z"/><path fill-rule="nonzero" d="M34.5 20H36v7h-1.5zM34.5 30H36v7h-1.5zM37.5 20H39v7h-1.5zM37.5 30H39v7h-1.5zM40.5 30H42v7h-1.5zM34.5 10H36v7h-1.5z"/></g></svg>',"list-num-upper-roman":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M15.1 17v-1.2h1.3V17H15Zm0 10v-1.2h1.3V27H15Zm0 10v-1.2h1.3V37H15Z"/><path fill-rule="nonzero" d="M12 20h1.5v7H12zM12 30h1.5v7H12zM9 20h1.5v7H9zM9 30h1.5v7H9zM6 30h1.5v7H6zM12 10h1.5v7H12z"/></g></svg>',lock:'<svg width="24" height="24"><path d="M16.3 11c.2 0 .3 0 .5.2l.2.6v7.4c0 .3 0 .4-.2.6l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6v-7.4c0-.3 0-.4.2-.6l.5-.2H8V8c0-.8.3-1.5.9-2.1.6-.6 1.3-.9 2.1-.9h2c.8 0 1.5.3 2.1.9.6.6.9 1.3.9 2.1v3h.3ZM10 8v3h4V8a1 1 0 0 0-.3-.7A1 1 0 0 0 13 7h-2a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7Z" fill-rule="evenodd"/></svg>',ltr:'<svg width="24" height="24"><path d="M11 5h7a1 1 0 0 1 0 2h-1v11a1 1 0 0 1-2 0V7h-2v11a1 1 0 0 1-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 7.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L11 5ZM4.4 16.2 6.2 15l-1.8-1.2a1 1 0 0 1 1.2-1.6l3 2a1 1 0 0 1 0 1.6l-3 2a1 1 0 1 1-1.2-1.6Z" fill-rule="evenodd"/></svg>',"math-equation":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M9 4.8c.1-.5.5-.8 1-.8h10a1 1 0 1 1 0 2h-9.2L8.3 19.2a1 1 0 0 1-1.7.4l-3.4-4.2a1 1 0 0 1 1.6-1.2l2 2.5L9 4.8Zm9.7 5.5c.4.4.4 1 0 1.4L17 13.5l1.8 1.8a1 1 0 1 1-1.4 1.4L15.5 15l-1.8 1.8a1 1 0 0 1-1.4-1.4l1.8-1.8-1.8-1.8a1 1 0 0 1 1.4-1.4l1.8 1.8 1.8-1.8a1 1 0 0 1 1.4 0Z"/></svg>',minus:'<svg width="24" height="24"><path d="M19 11a1 1 0 0 1 .1 2H5a1 1 0 0 1-.1-2H19Z"/></svg>',"more-drawer":'<svg width="24" height="24"><path d="M6 10a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm12 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm-6 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Z" fill-rule="nonzero"/></svg>',"new-document":'<svg width="24" height="24"><path d="M14.4 3H7a2 2 0 0 0-2 2v14c0 1.1.9 2 2 2h10a2 2 0 0 0 2-2V7.6L14.4 3ZM17 19H7V5h6v4h4v10Z" fill-rule="nonzero"/></svg>',"new-tab":'<svg width="24" height="24"><path d="m15 13 2-2v8H5V7h8l-2 2H7v8h8v-4Zm4-8v5.5l-2-2-5.6 5.5H10v-1.4L15.5 7l-2-2H19Z" fill-rule="evenodd"/></svg>',"non-breaking":'<svg width="24" height="24"><path d="M11 11H8a1 1 0 1 1 0-2h3V6c0-.6.4-1 1-1s1 .4 1 1v3h3c.6 0 1 .4 1 1s-.4 1-1 1h-3v3c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-3Zm10 4v5H3v-5c0-.6.4-1 1-1s1 .4 1 1v3h14v-3c0-.6.4-1 1-1s1 .4 1 1Z" fill-rule="evenodd"/></svg>',notice:'<svg width="24" height="24"><path d="M15.5 4 20 8.5v7L15.5 20h-7L4 15.5v-7L8.5 4h7ZM13 17v-2h-2v2h2Zm0-4V7h-2v6h2Z" fill-rule="evenodd" clip-rule="evenodd"/></svg>',"ordered-list-rtl":'<svg width="24" height="24"><path d="M6 17h8a1 1 0 0 1 0 2H6a1 1 0 0 1 0-2Zm0-6h8a1 1 0 0 1 0 2H6a1 1 0 0 1 0-2Zm0-6h8a1 1 0 0 1 0 2H6a1 1 0 1 1 0-2Zm13-1v3.5a.5.5 0 1 1-1 0V5h-.5a.5.5 0 1 1 0-1H19Zm-1 8.8.2.2h1.3a.5.5 0 1 1 0 1h-1.6a1 1 0 0 1-.9-1V13c0-.4.3-.8.6-1l1.2-.4.2-.3a.2.2 0 0 0-.2-.2h-1.3a.5.5 0 0 1-.5-.5c0-.3.2-.5.5-.5h1.6c.5 0 .9.4.9 1v.1c0 .4-.3.8-.6 1l-1.2.4-.2.3Zm2 4.2v2c0 .6-.4 1-1 1h-1.5a.5.5 0 0 1 0-1h1.2a.3.3 0 1 0 0-.6h-1.3a.4.4 0 1 1 0-.8h1.3a.3.3 0 0 0 0-.6h-1.2a.5.5 0 1 1 0-1H19c.6 0 1 .4 1 1Z" fill-rule="evenodd"/></svg>',"ordered-list":'<svg width="24" height="24"><path d="M10 17h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 1 1 0-2ZM6 4v3.5c0 .3-.2.5-.5.5a.5.5 0 0 1-.5-.5V5h-.5a.5.5 0 0 1 0-1H6Zm-1 8.8.2.2h1.3c.3 0 .5.2.5.5s-.2.5-.5.5H4.9a1 1 0 0 1-.9-1V13c0-.4.3-.8.6-1l1.2-.4.2-.3a.2.2 0 0 0-.2-.2H4.5a.5.5 0 0 1-.5-.5c0-.3.2-.5.5-.5h1.6c.5 0 .9.4.9 1v.1c0 .4-.3.8-.6 1l-1.2.4-.2.3ZM7 17v2c0 .6-.4 1-1 1H4.5a.5.5 0 0 1 0-1h1.2c.2 0 .3-.1.3-.3 0-.2-.1-.3-.3-.3H4.4a.4.4 0 1 1 0-.8h1.3c.2 0 .3-.1.3-.3 0-.2-.1-.3-.3-.3H4.5a.5.5 0 1 1 0-1H6c.6 0 1 .4 1 1Z" fill-rule="evenodd"/></svg>',orientation:'<svg width="24" height="24"><path d="M7.3 6.4 1 13l6.4 6.5 6.5-6.5-6.5-6.5ZM3.7 13l3.6-3.7L11 13l-3.7 3.7-3.6-3.7ZM12 6l2.8 2.7c.3.3.3.8 0 1-.3.4-.9.4-1.2 0L9.2 5.7a.8.8 0 0 1 0-1.2L13.6.2c.3-.3.9-.3 1.2 0 .3.3.3.8 0 1.1L12 4h1a9 9 0 1 1-4.3 16.9l1.5-1.5A7 7 0 1 0 13 6h-1Z" fill-rule="nonzero"/></svg>',outdent:'<svg width="24" height="24"><path d="M7 5h12c.6 0 1 .4 1 1s-.4 1-1 1H7a1 1 0 1 1 0-2Zm5 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm0 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm-5 4h12a1 1 0 0 1 0 2H7a1 1 0 0 1 0-2Zm1.6-3.8a1 1 0 0 1-1.2 1.6l-3-2a1 1 0 0 1 0-1.6l3-2a1 1 0 0 1 1.2 1.6L6.8 12l1.8 1.2Z" fill-rule="evenodd"/></svg>',"page-break":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M5 11c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h1c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Zm4 0c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h1c.6 0 1 .4 1 1s-.4 1-1 1h-1a1 1 0 0 1 0-2Zm4 0c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2ZM7 3v5h10V3c0-.6.4-1 1-1s1 .4 1 1v7H5V3c0-.6.4-1 1-1s1 .4 1 1ZM6 22a1 1 0 0 1-1-1v-7h14v7c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-5H7v5c0 .6-.4 1-1 1Z"/></g></svg>',paragraph:'<svg width="24" height="24"><path fill-rule="evenodd" d="M10 5h7a1 1 0 0 1 0 2h-1v11a1 1 0 0 1-2 0V7h-2v11a1 1 0 0 1-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 6.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L10 5Z"/></svg>',"paste-column-after":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V7h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h7v2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm8 7v12h-6V8h6Zm-1.5 1.5h-3v9h3v-9ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-column-before":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V18c0 1-.8 2-1.9 2H11v-2h7V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v2H4V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm-2 7v12H4V8h6ZM8.5 9.5h-3v9h3v-9ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-row-after":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V11h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h14c0 1-.8 2-1.9 2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm10 11v5H8v-5h14Zm-1.5 1.5h-11v2h11v-2ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-row-before":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V7h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h12v-4h2v4c0 1-.8 2-1.9 2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm10 7v5H8V8h14Zm-1.5 1.5h-11v2h11v-2ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-text":'<svg width="24" height="24"><path d="M18 9V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h3V9h9ZM9 20H6a2 2 0 0 1-2-2V5c0-1.1.9-2 2-2h3.2A3 3 0 0 1 12 1a3 3 0 0 1 2.8 2H18a2 2 0 0 1 2 2v4h1v12H9v-1Zm1.5-9.5v9h9v-9h-9ZM12 3a1 1 0 0 0-1 1c0 .5.4 1 1 1s1-.5 1-1-.4-1-1-1Zm0 9h6v2h-.5l-.5-1h-1v4h.8v1h-3.6v-1h.8v-4h-1l-.5 1H12v-2Z" fill-rule="nonzero"/></svg>',paste:'<svg width="24" height="24"><path d="M18 9V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h3V9h9ZM9 20H6a2 2 0 0 1-2-2V5c0-1.1.9-2 2-2h3.2A3 3 0 0 1 12 1a3 3 0 0 1 2.8 2H18a2 2 0 0 1 2 2v4h1v12H9v-1Zm1.5-9.5v9h9v-9h-9ZM12 3a1 1 0 0 0-1 1c0 .5.4 1 1 1s1-.5 1-1-.4-1-1-1Z" fill-rule="nonzero"/></svg>',"permanent-pen":'<svg width="24" height="24"><path d="M10.5 17.5 8 20H3v-3l3.5-3.5a2 2 0 0 1 0-3L14 3l1 1-7.3 7.3a1 1 0 0 0 0 1.4l3.6 3.6c.4.4 1 .4 1.4 0L20 9l1 1-7.6 7.6a2 2 0 0 1-2.8 0l-.1-.1Z" fill-rule="nonzero"/></svg>',plus:'<svg width="24" height="24"><path d="M12 4c.5 0 1 .4 1 .9V11h6a1 1 0 0 1 .1 2H13v6a1 1 0 0 1-2 .1V13H5a1 1 0 0 1-.1-2H11V5c0-.6.4-1 1-1Z"/></svg>',preferences:'<svg width="24" height="24"><path d="m20.1 13.5-1.9.2a5.8 5.8 0 0 1-.6 1.5l1.2 1.5c.4.4.3 1 0 1.4l-.7.7a1 1 0 0 1-1.4 0l-1.5-1.2a6.2 6.2 0 0 1-1.5.6l-.2 1.9c0 .5-.5.9-1 .9h-1a1 1 0 0 1-1-.9l-.2-1.9a5.8 5.8 0 0 1-1.5-.6l-1.5 1.2a1 1 0 0 1-1.4 0l-.7-.7a1 1 0 0 1 0-1.4l1.2-1.5a6.2 6.2 0 0 1-.6-1.5l-1.9-.2a1 1 0 0 1-.9-1v-1c0-.5.4-1 .9-1l1.9-.2a5.8 5.8 0 0 1 .6-1.5L5.2 7.3a1 1 0 0 1 0-1.4l.7-.7a1 1 0 0 1 1.4 0l1.5 1.2a6.2 6.2 0 0 1 1.5-.6l.2-1.9c0-.5.5-.9 1-.9h1c.5 0 1 .4 1 .9l.2 1.9a5.8 5.8 0 0 1 1.5.6l1.5-1.2a1 1 0 0 1 1.4 0l.7.7c.3.4.4 1 0 1.4l-1.2 1.5a6.2 6.2 0 0 1 .6 1.5l1.9.2c.5 0 .9.5.9 1v1c0 .5-.4 1-.9 1ZM12 15a3 3 0 1 0 0-6 3 3 0 0 0 0 6Z" fill-rule="evenodd"/></svg>',preview:'<svg width="24" height="24"><path d="M3.5 12.5c.5.8 1.1 1.6 1.8 2.3 2 2 4.2 3.2 6.7 3.2s4.7-1.2 6.7-3.2a16.2 16.2 0 0 0 2.1-2.8 15.7 15.7 0 0 0-2.1-2.8c-2-2-4.2-3.2-6.7-3.2a9.3 9.3 0 0 0-6.7 3.2A16.2 16.2 0 0 0 3.2 12c0 .2.2.3.3.5Zm-2.4-1 .7-1.2L4 7.8C6.2 5.4 8.9 4 12 4c3 0 5.8 1.4 8.1 3.8a18.2 18.2 0 0 1 2.8 3.7v1l-.7 1.2-2.1 2.5c-2.3 2.4-5 3.8-8.1 3.8-3 0-5.8-1.4-8.1-3.8a18.2 18.2 0 0 1-2.8-3.7 1 1 0 0 1 0-1Zm12-3.3a2 2 0 1 0 2.7 2.6 4 4 0 1 1-2.6-2.6Z" fill-rule="nonzero"/></svg>',print:'<svg width="24" height="24"><path d="M18 8H6a3 3 0 0 0-3 3v6h2v3h14v-3h2v-6a3 3 0 0 0-3-3Zm-1 10H7v-4h10v4Zm.5-5c-.8 0-1.5-.7-1.5-1.5s.7-1.5 1.5-1.5 1.5.7 1.5 1.5-.7 1.5-1.5 1.5Zm.5-8H6v2h12V5Z" fill-rule="nonzero"/></svg>',quote:'<svg width="24" height="24"><path d="M7.5 17h.9c.4 0 .7-.2.9-.6L11 13V8c0-.6-.4-1-1-1H6a1 1 0 0 0-1 1v4c0 .6.4 1 1 1h2l-1.3 2.7a1 1 0 0 0 .8 1.3Zm8 0h.9c.4 0 .7-.2.9-.6L19 13V8c0-.6-.4-1-1-1h-4a1 1 0 0 0-1 1v4c0 .6.4 1 1 1h2l-1.3 2.7a1 1 0 0 0 .8 1.3Z" fill-rule="nonzero"/></svg>',redo:'<svg width="24" height="24"><path d="M17.6 10H12c-2.8 0-4.4 1.4-4.9 3.5-.4 2 .3 4 1.4 4.6a1 1 0 1 1-1 1.8c-2-1.2-2.9-4.1-2.3-6.8.6-3 3-5.1 6.8-5.1h5.6l-3.3-3.3a1 1 0 1 1 1.4-1.4l5 5a1 1 0 0 1 0 1.4l-5 5a1 1 0 0 1-1.4-1.4l3.3-3.3Z" fill-rule="nonzero"/></svg>',reload:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="m5 22.1-1.2-4.7v-.2a1 1 0 0 1 1-1l5 .4a1 1 0 1 1-.2 2l-2.2-.2a7.8 7.8 0 0 0 8.4.2 7.5 7.5 0 0 0 3.5-6.4 1 1 0 1 1 2 0 9.5 9.5 0 0 1-4.5 8 9.9 9.9 0 0 1-10.2 0l.4 1.4a1 1 0 1 1-2 .5ZM13.6 7.4c0-.5.5-1 1-.9l2.8.2a8 8 0 0 0-9.5-1 7.5 7.5 0 0 0-3.6 7 1 1 0 0 1-2 0 9.5 9.5 0 0 1 4.5-8.6 10 10 0 0 1 10.9.3l-.3-1a1 1 0 0 1 2-.5l1.1 4.8a1 1 0 0 1-1 1.2l-5-.4a1 1 0 0 1-.9-1Z"/></g></svg>',"remove-formatting":'<svg width="24" height="24"><path d="M13.2 6a1 1 0 0 1 0 .2l-2.6 10a1 1 0 0 1-1 .8h-.2a.8.8 0 0 1-.8-1l2.6-10H8a1 1 0 1 1 0-2h9a1 1 0 0 1 0 2h-3.8ZM5 18h7a1 1 0 0 1 0 2H5a1 1 0 0 1 0-2Zm13 1.5L16.5 18 15 19.5a.7.7 0 0 1-1-1l1.5-1.5-1.5-1.5a.7.7 0 0 1 1-1l1.5 1.5 1.5-1.5a.7.7 0 0 1 1 1L17.5 17l1.5 1.5a.7.7 0 0 1-1 1Z" fill-rule="evenodd"/></svg>',remove:'<svg width="24" height="24"><path d="M16 7h3a1 1 0 0 1 0 2h-1v9a3 3 0 0 1-3 3H9a3 3 0 0 1-3-3V9H5a1 1 0 1 1 0-2h3V6a3 3 0 0 1 3-3h2a3 3 0 0 1 3 3v1Zm-2 0V6c0-.6-.4-1-1-1h-2a1 1 0 0 0-1 1v1h4Zm2 2H8v9c0 .6.4 1 1 1h6c.6 0 1-.4 1-1V9Zm-7 3a1 1 0 0 1 2 0v4a1 1 0 0 1-2 0v-4Zm4 0a1 1 0 0 1 2 0v4a1 1 0 0 1-2 0v-4Z" fill-rule="nonzero"/></svg>',"resize-handle":'<svg width="10" height="10"><g fill-rule="nonzero"><path d="M8.1 1.1A.5.5 0 1 1 9 2l-7 7A.5.5 0 1 1 1 8l7-7ZM8.1 5.1A.5.5 0 1 1 9 6l-3 3A.5.5 0 1 1 5 8l3-3Z"/></g></svg>',resize:'<svg width="24" height="24"><path d="M4 5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h6c.3 0 .5.1.7.3.2.2.3.4.3.7 0 .3-.1.5-.3.7a1 1 0 0 1-.7.3H7.4L18 16.6V13c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3.3 0 .5.1.7.3.2.2.3.4.3.7v6c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3h-6a1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h3.6L6 7.4V11c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3 1 1 0 0 1-.7-.3A1 1 0 0 1 4 11V5Z" fill-rule="evenodd"/></svg>',"restore-draft":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M17 13c0 .6-.4 1-1 1h-4V8c0-.6.4-1 1-1s1 .4 1 1v4h2c.6 0 1 .4 1 1Z"/><path d="M4.7 10H9a1 1 0 0 1 0 2H3a1 1 0 0 1-1-1V5a1 1 0 1 1 2 0v3l2.5-2.4a9.2 9.2 0 0 1 10.8-1.5A9 9 0 0 1 13.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 1 1 1.3-1.5 7.2 7.2 0 0 0 11.6-3.7 7 7 0 0 0-3.5-7.7A7.2 7.2 0 0 0 8 7L4.7 10Z" fill-rule="nonzero"/></g></svg>',"revision-history":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M17 13c0 .6-.4 1-1 1h-4V8c0-.6.4-1 1-1s1 .4 1 1v4h2c.6 0 1 .4 1 1Z"/><path d="M4.7 10H9a1 1 0 0 1 0 2H3a1 1 0 0 1-1-1V5a1 1 0 1 1 2 0v3l2.5-2.4a9.2 9.2 0 0 1 10.8-1.5A9 9 0 0 1 13.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 1 1 1.3-1.5 7.2 7.2 0 0 0 11.6-3.7 7 7 0 0 0-3.5-7.7A7.2 7.2 0 0 0 8 7L4.7 10Z" fill-rule="nonzero"/></g></svg>',"rotate-left":'<svg width="24" height="24"><path d="M4.7 10H9a1 1 0 0 1 0 2H3a1 1 0 0 1-1-1V5a1 1 0 1 1 2 0v3l2.5-2.4a9.2 9.2 0 0 1 10.8-1.5A9 9 0 0 1 13.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 1 1 1.3-1.5 7.2 7.2 0 0 0 11.6-3.7 7 7 0 0 0-3.5-7.7A7.2 7.2 0 0 0 8 7L4.7 10Z" fill-rule="nonzero"/></svg>',"rotate-right":'<svg width="24" height="24"><path d="M20 8V5a1 1 0 0 1 2 0v6c0 .6-.4 1-1 1h-6a1 1 0 0 1 0-2h4.3L16 7A7.2 7.2 0 0 0 7.7 6a7 7 0 0 0 3 13.1c1.9.1 3.7-.5 5-1.7a1 1 0 0 1 1.4 1.5A9.2 9.2 0 0 1 2.2 14c-.9-3.9 1-8 4.5-9.9 3.5-1.9 8-1.3 10.8 1.5L20 8Z" fill-rule="nonzero"/></svg>',rtl:'<svg width="24" height="24"><path d="M8 5h8v2h-2v12h-2V7h-2v12H8v-7c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 4.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L8 5Zm12 11.2a1 1 0 1 1-1 1.6l-3-2a1 1 0 0 1 0-1.6l3-2a1 1 0 1 1 1 1.6L18.4 15l1.8 1.2Z" fill-rule="evenodd"/></svg>',save:'<svg width="24" height="24"><path d="M5 16h14a2 2 0 0 1 2 2v2a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-2c0-1.1.9-2 2-2Zm0 2v2h14v-2H5Zm10 0h2v2h-2v-2Zm-4-6.4L8.7 9.3a1 1 0 1 0-1.4 1.4l4 4c.4.4 1 .4 1.4 0l4-4a1 1 0 1 0-1.4-1.4L13 11.6V4a1 1 0 0 0-2 0v7.6Z" fill-rule="nonzero"/></svg>',search:'<svg width="24" height="24"><path d="M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3Zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12Z" fill-rule="nonzero"/></svg>',"select-all":'<svg width="24" height="24"><path d="M3 5h2V3a2 2 0 0 0-2 2Zm0 8h2v-2H3v2Zm4 8h2v-2H7v2ZM3 9h2V7H3v2Zm10-6h-2v2h2V3Zm6 0v2h2a2 2 0 0 0-2-2ZM5 21v-2H3c0 1.1.9 2 2 2Zm-2-4h2v-2H3v2ZM9 3H7v2h2V3Zm2 18h2v-2h-2v2Zm8-8h2v-2h-2v2Zm0 8a2 2 0 0 0 2-2h-2v2Zm0-12h2V7h-2v2Zm0 8h2v-2h-2v2Zm-4 4h2v-2h-2v2Zm0-16h2V3h-2v2ZM7 17h10V7H7v10Zm2-8h6v6H9V9Z" fill-rule="nonzero"/></svg>',selected:'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2Zm3.6 10.9L7 12.3a.7.7 0 0 0-1 1L9.6 17 18 8.6a.7.7 0 0 0 0-1 .7.7 0 0 0-1 0l-7.4 7.3Z"/></svg>',send:'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="m13.3 22 7-18.3-18.3 7L9 15l4.3 7ZM18 6.8l-.7-.7L9.4 14l.7.7L18 6.8Z"/></svg>',settings:'<svg width="24" height="24"><path d="M11 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8v.3c0 .2 0 .3-.2.5l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V8H5a1 1 0 1 1 0-2h2v-.3c0-.2 0-.3.2-.5l.5-.2h2.5c.3 0 .4 0 .6.2l.2.5V6ZM8 8h2V6H8v2Zm9 2.8v.2h2c.6 0 1 .4 1 1s-.4 1-1 1h-2v.3c0 .2 0 .3-.2.5l-.6.2h-2.4c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V13H5a1 1 0 0 1 0-2h8v-.3c0-.2 0-.3.2-.5l.6-.2h2.4c.3 0 .4 0 .6.2l.2.6ZM14 13h2v-2h-2v2Zm-3 2.8v.2h8c.6 0 1 .4 1 1s-.4 1-1 1h-8v.3c0 .2 0 .3-.2.5l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V18H5a1 1 0 0 1 0-2h2v-.3c0-.2 0-.3.2-.5l.5-.2h2.5c.3 0 .4 0 .6.2l.2.6ZM8 18h2v-2H8v2Z" fill-rule="evenodd"/></svg>',sharpen:'<svg width="24" height="24"><path d="m16 6 4 4-8 9-8-9 4-4h8Zm-4 10.2 5.5-6.2-.1-.1H12v-.3h5.1l-.2-.2H12V9h4.6l-.2-.2H12v-.3h4.1l-.2-.2H12V8h3.6l-.2-.2H8.7L6.5 10l.1.1H12v.3H6.9l.2.2H12v.3H7.3l.2.2H12v.3H7.7l.3.2h4v.3H8.2l.2.2H12v.3H8.6l.3.2H12v.3H9l.3.2H12v.3H9.5l.2.2H12v.3h-2l.2.2H12v.3h-1.6l.2.2H12v.3h-1.1l.2.2h.9v.3h-.7l.2.2h.5v.3h-.3l.3.2Z" fill-rule="evenodd"/></svg>',sourcecode:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M9.8 15.7c.3.3.3.8 0 1-.3.4-.9.4-1.2 0l-4.4-4.1a.8.8 0 0 1 0-1.2l4.4-4.2c.3-.3.9-.3 1.2 0 .3.3.3.8 0 1.1L6 12l3.8 3.7ZM14.2 15.7c-.3.3-.3.8 0 1 .4.4.9.4 1.2 0l4.4-4.1c.3-.3.3-.9 0-1.2l-4.4-4.2a.8.8 0 0 0-1.2 0c-.3.3-.3.8 0 1.1L18 12l-3.8 3.7Z"/></g></svg>',"spell-check":'<svg width="24" height="24"><path d="M6 8v3H5V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h2c.3 0 .5.1.7.3.2.2.3.4.3.7v6H8V8H6Zm0-3v2h2V5H6Zm13 0h-3v5h3v1h-3a1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h3v1Zm-5 1.5-.1.7c-.1.2-.3.3-.6.3.3 0 .5.1.6.3l.1.7V10c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3h-3V4h3c.3 0 .5.1.7.3.2.2.3.4.3.7v1.5ZM13 10V8h-2v2h2Zm0-3V5h-2v2h2Zm3 5 1 1-6.5 7L7 15.5l1.3-1 2.2 2.2L16 12Z" fill-rule="evenodd"/></svg>',"strike-through":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M15.6 8.5c-.5-.7-1-1.1-1.3-1.3-.6-.4-1.3-.6-2-.6-2.7 0-2.8 1.7-2.8 2.1 0 1.6 1.8 2 3.2 2.3 4.4.9 4.6 2.8 4.6 3.9 0 1.4-.7 4.1-5 4.1A6.2 6.2 0 0 1 7 16.4l1.5-1.1c.4.6 1.6 2 3.7 2 1.6 0 2.5-.4 3-1.2.4-.8.3-2-.8-2.6-.7-.4-1.6-.7-2.9-1-1-.2-3.9-.8-3.9-3.6C7.6 6 10.3 5 12.4 5c2.9 0 4.2 1.6 4.7 2.4l-1.5 1.1Z"/><path d="M5 11h14a1 1 0 0 1 0 2H5a1 1 0 0 1 0-2Z" fill-rule="nonzero"/></g></svg>',subscript:'<svg width="24" height="24"><path d="m10.4 10 4.6 4.6-1.4 1.4L9 11.4 4.4 16 3 14.6 7.6 10 3 5.4 4.4 4 9 8.6 13.6 4 15 5.4 10.4 10ZM21 19h-5v-1l1-.8 1.7-1.6c.3-.4.5-.8.5-1.2 0-.3 0-.6-.2-.7-.2-.2-.5-.3-.9-.3a2 2 0 0 0-.8.2l-.7.3-.4-1.1 1-.6 1.2-.2c.8 0 1.4.3 1.8.7.4.4.6.9.6 1.5s-.2 1.1-.5 1.6a8 8 0 0 1-1.3 1.3l-.6.6h2.6V19Z" fill-rule="nonzero"/></svg>',superscript:'<svg width="24" height="24"><path d="M15 9.4 10.4 14l4.6 4.6-1.4 1.4L9 15.4 4.4 20 3 18.6 7.6 14 3 9.4 4.4 8 9 12.6 13.6 8 15 9.4Zm5.9 1.6h-5v-1l1-.8 1.7-1.6c.3-.5.5-.9.5-1.3 0-.3 0-.5-.2-.7-.2-.2-.5-.3-.9-.3l-.8.2-.7.4-.4-1.2c.2-.2.5-.4 1-.5.3-.2.8-.2 1.2-.2.8 0 1.4.2 1.8.6.4.4.6 1 .6 1.6 0 .5-.2 1-.5 1.5l-1.3 1.4-.6.5h2.6V11Z" fill-rule="nonzero"/></svg>',"table-caption":'<svg width="24" height="24"><g fill-rule="nonzero"><rect width="12" height="2" x="3" y="4" rx="1"/><path d="M19 8a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-8c0-1.1.9-2 2-2h14ZM5 15v3h6v-3H5Zm14 0h-6v3h6v-3Zm0-5h-6v3h6v-3ZM5 13h6v-3H5v3Z"/></g></svg>',"table-cell-classes":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M13 4v9H3V6c0-1.1.9-2 2-2h8Zm-2 2H5v5h6V6Z"/><path fill-rule="nonzero" d="M13 4h6a2 2 0 0 1 2 2v7h-8v-2h6V6h-6V4Z" opacity=".2"/><path d="m18 20-2.6 1.6.7-3-2.4-2 3.1-.2 1.2-2.9 1.2 2.9 3.1.2-2.4 2 .7 3z"/><path fill-rule="nonzero" d="M3 13v5c0 1.1.9 2 2 2h8v-7h-2v5H5v-5H3Z" opacity=".2"/></g></svg>',"table-cell-properties":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 9H5v5h6v-5Zm8 0h-6v5h6v-5Zm-8-7H5v5h6V6Z"/></svg>',"table-cell-select-all":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 2H5v12h14V6Z"/><path d="M13 6v5h6v2h-6v5h-2v-5H5v-2h6V6h2Z" opacity=".2"/></g></svg>',"table-cell-select-inner":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 2H5v12h14V6Z" opacity=".2"/><path d="M13 6v5h6v2h-6v5h-2v-5H5v-2h6V6h2Z"/></g></svg>',"table-classes":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v7h-8v7H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 9H5v5h6v-5Zm8-7h-6v5h6V6Zm-8 0H5v5h6V6Z"/><path d="m18 20-2.6 1.6.7-3-2.4-2 3.1-.2 1.2-2.9 1.2 2.9 3.1.2-2.4 2 .7 3z"/></g></svg>',"table-delete-column":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-4 4h-2V6h-2v2H9V6H5v12h4v-2h2v2h2v-2h2v2h4V6h-4v2Zm.3.5 1 1.2-3 2.3 3 2.3-1 1.2L12 13l-3.3 2.6-1-1.2 3-2.3-3-2.3 1-1.2L12 11l3.3-2.5Z"/></svg>',"table-delete-row":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 2H5v3h2.5v2H5v2h2.5v2H5v3h14v-3h-2.5v-2H19v-2h-2.5V9H19V6Zm-4.7 1.8 1.2 1L13 12l2.6 3.3-1.2 1-2.3-3-2.3 3-1.2-1L11 12 8.5 8.7l1.2-1 2.3 3 2.3-3Z"/></svg>',"table-delete-table":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 6v12h14V6H5Z"/><path d="m14.4 8.6 1.1 1-2.4 2.4 2.4 2.4-1.1 1.1-2.4-2.4-2.4 2.4-1-1.1 2.3-2.4-2.3-2.4 1-1 2.4 2.3z"/></g></svg>',"table-insert-column-after":'<svg width="24" height="24"><path fill-rule="nonzero" d="M20 4c.6 0 1 .4 1 1v2a1 1 0 0 1-2 0V6h-8v12h8v-1a1 1 0 0 1 2 0v2c0 .5-.4 1-.9 1H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h15ZM9 13H5v5h4v-5Zm7-5c.5 0 1 .4 1 .9V11h2a1 1 0 0 1 .1 2H17v2a1 1 0 0 1-2 .1V13h-2a1 1 0 0 1-.1-2H15V9c0-.6.4-1 1-1ZM9 6H5v5h4V6Z"/></svg>',"table-insert-column-before":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H4a1 1 0 0 1-1-1v-2a1 1 0 0 1 2 0v1h8V6H5v1a1 1 0 1 1-2 0V5c0-.6.4-1 1-1h15Zm0 9h-4v5h4v-5ZM8 8c.5 0 1 .4 1 .9V11h2a1 1 0 0 1 .1 2H9v2a1 1 0 0 1-2 .1V13H5a1 1 0 0 1-.1-2H7V9c0-.6.4-1 1-1Zm11-2h-4v5h4V6Z"/></svg>',"table-insert-row-above":'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4a1 1 0 1 1 0 2H5v6h14V6h-1a1 1 0 0 1 0-2h2c.6 0 1 .4 1 1v13a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5c0-.6.4-1 1-1h2Zm5 10H5v4h6v-4Zm8 0h-6v4h6v-4ZM12 3c.5 0 1 .4 1 .9V6h2a1 1 0 0 1 0 2h-2v2a1 1 0 0 1-2 .1V8H9a1 1 0 0 1 0-2h2V4c0-.6.4-1 1-1Z"/></svg>',"table-insert-row-after":'<svg width="24" height="24"><path fill-rule="nonzero" d="M12 13c.5 0 1 .4 1 .9V16h2a1 1 0 0 1 .1 2H13v2a1 1 0 0 1-2 .1V18H9a1 1 0 0 1-.1-2H11v-2c0-.6.4-1 1-1Zm6 7a1 1 0 0 1 0-2h1v-6H5v6h1a1 1 0 0 1 0 2H4a1 1 0 0 1-1-1V6c0-1.1.9-2 2-2h14a2 2 0 0 1 2 2v13c0 .5-.4 1-.9 1H18ZM11 6H5v4h6V6Zm8 0h-6v4h6V6Z"/></svg>',"table-left-header":'<svg width="24" height="24"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 9h-4v5h4v-5Zm-6 0H9v5h4v-5Zm0-7H9v5h4V6Zm6 0h-4v5h4V6Z"/></svg>',"table-merge-cells":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 15.5V18h3v-2.5H5Zm14-5h-9V18h9v-7.5ZM19 6h-4v2.5h4V6ZM8 6H5v2.5h3V6Zm5 0h-3v2.5h3V6Zm-8 7.5h3v-3H5v3Z"/></svg>',"table-row-numbering-rtl":'<svg width="24" height="24"><path d="M6 4a2 2 0 0 0-2 2v13c0 1.1.9 2 2 2h12a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2H6Zm0 12h8v3H6v-3Zm11 0c.6 0 1 .4 1 1v1a1 1 0 0 1-2 0v-1c0-.6.4-1 1-1ZM6 11h8v3H6v-3Zm11 0c.6 0 1 .4 1 1v1a1 1 0 0 1-2 0v-1c0-.6.4-1 1-1ZM6 6h8v3H6V6Zm11 0c.6 0 1 .4 1 1v1a1 1 0 1 1-2 0V7c0-.6.4-1 1-1Z"/></svg>',"table-row-numbering":'<svg width="24" height="24"><path d="M18 4a2 2 0 0 1 2 2v13a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h12Zm0 12h-8v3h8v-3ZM7 16a1 1 0 0 0-1 1v1a1 1 0 0 0 2 0v-1c0-.6-.4-1-1-1Zm11-5h-8v3h8v-3ZM7 11a1 1 0 0 0-1 1v1a1 1 0 0 0 2 0v-1c0-.6-.4-1-1-1Zm11-5h-8v3h8V6ZM7 6a1 1 0 0 0-1 1v1a1 1 0 1 0 2 0V7c0-.6-.4-1-1-1Z"/></svg>',"table-row-properties":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 15v3h6v-3H5Zm14 0h-6v3h6v-3Zm0-9h-6v3h6V6ZM5 9h6V6H5v3Z"/></svg>',"table-split-cells":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM8 15.5H5V18h3v-2.5Zm11-5h-9V18h9v-7.5Zm-2.5 1 1 1-2 2 2 2-1 1-2-2-2 2-1-1 2-2-2-2 1-1 2 2 2-2Zm-8.5-1H5v3h3v-3ZM19 6h-4v2.5h4V6ZM8 6H5v2.5h3V6Zm5 0h-3v2.5h3V6Z"/></svg>',"table-top-header":'<svg width="24" height="24"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 11H5v3h6v-3Zm8 0h-6v3h6v-3Zm0-5h-6v3h6v-3ZM5 13h6v-3H5v3Z"/></svg>',table:'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 14v4h6v-4H5Zm14 0h-6v4h6v-4Zm0-6h-6v4h6V8ZM5 12h6V8H5v4Z"/></svg>',"template-add":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M9 12v4H5a2 2 0 0 0-2 2v3h9.3a6 6 0 0 1-.3-2H5v-1h7a6 6 0 0 1 .8-2H11v-5l-.8-.6a3 3 0 1 1 3.6 0l-.8.6v4.7a6 6 0 0 1 2-1.9V12a5 5 0 1 0-6 0Z"/><path d="M18 15c.5 0 1 .4 1 .9V18h2a1 1 0 0 1 .1 2H19v2a1 1 0 0 1-2 .1V20h-2a1 1 0 0 1-.1-2H17v-2c0-.6.4-1 1-1Z"/></svg>',template:'<svg width="24" height="24"><path d="M19 19v-1H5v1h14ZM9 16v-4a5 5 0 1 1 6 0v4h4a2 2 0 0 1 2 2v3H3v-3c0-1.1.9-2 2-2h4Zm4 0v-5l.8-.6a3 3 0 1 0-3.6 0l.8.6v5h2Z" fill-rule="nonzero"/></svg>',"temporary-placeholder":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M9 7.6V6h2.5V4.5a.5.5 0 1 1 1 0V6H15v1.6a8 8 0 1 1-6 0Zm-2.6 5.3a.5.5 0 0 0 .3.6c.3 0 .6 0 .6-.3l.1-.2a5 5 0 0 1 3.3-2.8c.3-.1.4-.4.4-.6-.1-.3-.4-.5-.6-.4a6 6 0 0 0-4.1 3.7Z"/><circle cx="14" cy="4" r="1"/><circle cx="12" cy="2" r="1"/><circle cx="10" cy="4" r="1"/></g></svg>',"text-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path class="tox-icon-text-color__color" d="M3 18h18v3H3z"/><path d="M8.7 16h-.8a.5.5 0 0 1-.5-.6l2.7-9c.1-.3.3-.4.5-.4h2.8c.2 0 .4.1.5.4l2.7 9a.5.5 0 0 1-.5.6h-.8a.5.5 0 0 1-.4-.4l-.7-2.2c0-.3-.3-.4-.5-.4h-3.4c-.2 0-.4.1-.5.4l-.7 2.2c0 .3-.2.4-.4.4Zm2.6-7.6-.6 2a.5.5 0 0 0 .5.6h1.6a.5.5 0 0 0 .5-.6l-.6-2c0-.3-.3-.4-.5-.4h-.4c-.2 0-.4.1-.5.4Z"/></g></svg>',"text-size-decrease":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M14 5a1 1 0 1 1 0 2h-4v11a1 1 0 1 1-2 0V7H4a1 1 0 0 1 0-2h10ZM14 12a1 1 0 1 0 0 2h6a1 1 0 1 0 0-2h-6Z"/></svg>',"text-size-increase":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M14 5a1 1 0 1 1 0 2h-4v11a1 1 0 1 1-2 0V7H4a1 1 0 0 1 0-2h10ZM17 9a1 1 0 0 0-1 1v2h-2a1 1 0 1 0 0 2h2v2a1 1 0 1 0 2 0v-2h2a1 1 0 1 0 0-2h-2v-2c0-.6-.4-1-1-1Z"/></svg>',toc:'<svg width="24" height="24"><path d="M5 5c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 1 1 0-2Zm3 0h11c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 1 1 0-2Zm-3 8c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h11c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Zm0-4c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 1 1 0-2Zm3 0h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm-3 8c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',translate:'<svg width="24" height="24"><path d="m12.7 14.3-.3.7-.4.7-2.2-2.2-3.1 3c-.3.4-.8.4-1 0a.7.7 0 0 1 0-1l3.1-3A12.4 12.4 0 0 1 6.7 9H8a10.1 10.1 0 0 0 1.7 2.4c.5-.5 1-1.1 1.4-1.8l.9-2H4.7a.7.7 0 1 1 0-1.5h4.4v-.7c0-.4.3-.8.7-.8.4 0 .7.4.7.8v.7H15c.4 0 .8.3.8.7 0 .4-.4.8-.8.8h-1.4a12.3 12.3 0 0 1-1 2.4 13.5 13.5 0 0 1-1.7 2.3l1.9 1.8Zm4.3-3 2.7 7.3a.5.5 0 0 1-.4.7 1 1 0 0 1-1-.7l-.6-1.5h-3.4l-.6 1.5a1 1 0 0 1-1 .7.5.5 0 0 1-.4-.7l2.7-7.4a1 1 0 0 1 2 0Zm-2.2 4.4h2.4L16 12.5l-1.2 3.2Z" fill-rule="evenodd"/></svg>',typography:'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M17 5a1 1 0 1 1 0 2h-4v11a1 1 0 1 1-2 0V7H7a1 1 0 0 1 0-2h10Z"/><path d="m17.5 14 .8-1.7 1.7-.8-1.7-.8-.8-1.7-.8 1.7-1.7.8 1.7.8.8 1.7ZM7 14l1 2 2 1-2 1-1 2-1-2-2-1 2-1 1-2Z"/></svg>',underline:'<svg width="24" height="24"><path d="M16 5c.6 0 1 .4 1 1v5.5a4 4 0 0 1-.4 1.8l-1 1.4a5.3 5.3 0 0 1-5.5 1 5 5 0 0 1-1.6-1c-.5-.4-.8-.9-1.1-1.4a4 4 0 0 1-.4-1.8V6c0-.6.4-1 1-1s1 .4 1 1v5.5c0 .3 0 .6.2 1l.6.7a3.3 3.3 0 0 0 2.2.8 3.4 3.4 0 0 0 2.2-.8c.3-.2.4-.5.6-.8l.2-.9V6c0-.6.4-1 1-1ZM8 17h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',undo:'<svg width="24" height="24"><path d="M6.4 8H12c3.7 0 6.2 2 6.8 5.1.6 2.7-.4 5.6-2.3 6.8a1 1 0 0 1-1-1.8c1.1-.6 1.8-2.7 1.4-4.6-.5-2.1-2.1-3.5-4.9-3.5H6.4l3.3 3.3a1 1 0 1 1-1.4 1.4l-5-5a1 1 0 0 1 0-1.4l5-5a1 1 0 0 1 1.4 1.4L6.4 8Z" fill-rule="nonzero"/></svg>',unlink:'<svg width="24" height="24"><path d="M6.2 12.3a1 1 0 0 1 1.4 1.4l-2 2a2 2 0 1 0 2.6 2.8l4.8-4.8a1 1 0 0 0 0-1.4 1 1 0 1 1 1.4-1.3 2.9 2.9 0 0 1 0 4L9.6 20a3.9 3.9 0 0 1-5.5-5.5l2-2Zm11.6-.6a1 1 0 0 1-1.4-1.4l2.1-2a2 2 0 1 0-2.7-2.8L11 10.3a1 1 0 0 0 0 1.4A1 1 0 1 1 9.6 13a2.9 2.9 0 0 1 0-4L14.4 4a3.9 3.9 0 0 1 5.5 5.5l-2 2ZM7.6 6.3a.8.8 0 0 1-1 1.1L3.3 4.2a.7.7 0 1 1 1-1l3.2 3.1ZM5.1 8.6a.8.8 0 0 1 0 1.5H3a.8.8 0 0 1 0-1.5H5Zm5-3.5a.8.8 0 0 1-1.5 0V3a.8.8 0 0 1 1.5 0V5Zm6 11.8a.8.8 0 0 1 1-1l3.2 3.2a.8.8 0 0 1-1 1L16 17Zm-2.2 2a.8.8 0 0 1 1.5 0V21a.8.8 0 0 1-1.5 0V19Zm5-3.5a.7.7 0 1 1 0-1.5H21a.8.8 0 0 1 0 1.5H19Z" fill-rule="nonzero"/></svg>',unlock:'<svg width="24" height="24"><path d="M16 5c.8 0 1.5.3 2.1.9.6.6.9 1.3.9 2.1v3h-2V8a1 1 0 0 0-.3-.7A1 1 0 0 0 16 7h-2a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7v3h.3c.2 0 .3 0 .5.2l.2.6v7.4c0 .3 0 .4-.2.6l-.6.2H4.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6v-7.4c0-.3 0-.4.2-.6l.5-.2H11V8c0-.8.3-1.5.9-2.1.6-.6 1.3-.9 2.1-.9h2Z" fill-rule="evenodd"/></svg>',"unordered-list":'<svg width="24" height="24"><path d="M11 5h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2ZM4.5 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1Zm0 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1Zm0 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1Z" fill-rule="evenodd"/></svg>',unselected:'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2Zm0 1a1 1 0 0 0-1 1v12c0 .6.4 1 1 1h12c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H6Z"/></svg>',upload:'<svg width="24" height="24"><path d="M18 19v-2a1 1 0 0 1 2 0v3c0 .6-.4 1-1 1H5a1 1 0 0 1-1-1v-3a1 1 0 0 1 2 0v2h12ZM11 6.4 8.7 8.7a1 1 0 0 1-1.4-1.4l4-4a1 1 0 0 1 1.4 0l4 4a1 1 0 1 1-1.4 1.4L13 6.4V16a1 1 0 0 1-2 0V6.4Z" fill-rule="nonzero"/></svg>',user:'<svg width="24" height="24"><path d="M12 24a12 12 0 1 1 0-24 12 12 0 0 1 0 24Zm-8.7-5.3a11 11 0 0 0 17.4 0C19.4 16.3 14.6 15 12 15c-2.6 0-7.4 1.3-8.7 3.7ZM12 13c2.2 0 4-2 4-4.5S14.2 4 12 4 8 6 8 8.5 9.8 13 12 13Z" fill-rule="nonzero"/></svg>',"vertical-align":'<svg width="24" height="24"><g fill-rule="nonzero"><rect width="18" height="2" x="3" y="11" rx="1"/><path d="M12 2c.6 0 1 .4 1 1v4l2-1.3a1 1 0 0 1 1.2 1.5l-.1.1-4.1 3-4-3a1 1 0 0 1 1-1.7l2 1.5V3c0-.6.4-1 1-1zm0 11.8 4 2.9a1 1 0 0 1-1 1.7l-2-1.5V21c0 .5-.4 1-.9 1H12a1 1 0 0 1-1-1v-4l-2 1.3a1 1 0 0 1-1.2-.1l-.1-.1a1 1 0 0 1 .1-1.3l.1-.1 4.1-3z"/></g></svg>',visualblocks:'<svg width="24" height="24"><path d="M9 19v2H7v-2h2Zm-4 0v2a2 2 0 0 1-2-2h2Zm8 0v2h-2v-2h2Zm8 0a2 2 0 0 1-2 2v-2h2Zm-4 0v2h-2v-2h2ZM15 7a1 1 0 0 1 0 2v7a1 1 0 0 1-2 0V9h-1v7a1 1 0 0 1-2 0v-4a2.5 2.5 0 0 1-.2-5H15ZM5 15v2H3v-2h2Zm16 0v2h-2v-2h2ZM5 11v2H3v-2h2Zm16 0v2h-2v-2h2ZM5 7v2H3V7h2Zm16 0v2h-2V7h2ZM5 3v2H3c0-1.1.9-2 2-2Zm8 0v2h-2V3h2Zm6 0a2 2 0 0 1 2 2h-2V3ZM9 3v2H7V3h2Zm8 0v2h-2V3h2Z" fill-rule="evenodd"/></svg>',visualchars:'<svg width="24" height="24"><path d="M10 5h7a1 1 0 0 1 0 2h-1v11a1 1 0 0 1-2 0V7h-2v11a1 1 0 0 1-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 6.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L10 5Z" fill-rule="evenodd"/></svg>',warning:'<svg width="24" height="24"><path d="M19.8 18.3c.2.5.3.9 0 1.2-.1.3-.5.5-1 .5H5.2c-.5 0-.9-.2-1-.5-.3-.3-.2-.7 0-1.2L11 4.7l.5-.5.5-.2c.2 0 .3 0 .5.2.2 0 .3.3.5.5l6.8 13.6ZM12 18c.3 0 .5-.1.7-.3.2-.2.3-.4.3-.7a1 1 0 0 0-.3-.7 1 1 0 0 0-.7-.3 1 1 0 0 0-.7.3 1 1 0 0 0-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3Zm.7-3 .3-4a1 1 0 0 0-.3-.7 1 1 0 0 0-.7-.3 1 1 0 0 0-.7.3 1 1 0 0 0-.3.7l.3 4h1.4Z" fill-rule="evenodd"/></svg>',"zoom-in":'<svg width="24" height="24"><path d="M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3Zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12Zm-1-9a1 1 0 0 1 2 0v6a1 1 0 0 1-2 0V8Zm-2 4a1 1 0 0 1 0-2h6a1 1 0 0 1 0 2H8Z" fill-rule="nonzero"/></svg>',"zoom-out":'<svg width="24" height="24"><path d="M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3Zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12Zm-3-5a1 1 0 0 1 0-2h6a1 1 0 0 1 0 2H8Z" fill-rule="nonzero"/></svg>',"export-pdf":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M7 3h7.4L19 7.6V17h-2V9h-4V5H7v3H5V5c0-1.1.9-2 2-2Z"/><path d="M2.6 15.2v-1.9h1c.6 0 1-.2 1.4-.5.3-.3.5-.7.5-1.2s-.2-.9-.5-1.2a2 2 0 0 0-1.3-.4H1v5.2h1.6Zm.4-3h-.4v-1.1h.5l.6.1.2.5c0 .1 0 .3-.2.4l-.7.1Zm5.7 3 1-.1c.3 0 .5-.2.7-.4l.5-.8c.2-.3.2-.7.2-1.3v-1l-.5-.8c-.2-.3-.4-.5-.7-.6L8.7 10H6.3v5.2h2.4Zm-.4-1.1H8v-3h.4c.5 0 .8.2 1 .4l.2 1.1-.1 1-.3.3-.8.2Zm5.3 1.2V13h2v-1h-2v-1H16V10h-4v5.2h1.6Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M15 17a1 1 0 1 0-2 0v3.1l-1.4-1a1 1 0 1 0-1.2 1.7l3.6 2.4 3.6-2.4a1 1 0 0 0-1.2-1.6l-1.4 1V17Z"/></svg>',"export-word":'<svg width="24" height="24"><path d="M9.5 7A1.5 1.5 0 0 1 11 8.4v7.1A1.5 1.5 0 0 1 9.6 17H2.5A1.5 1.5 0 0 1 1 15.6V8.5A1.5 1.5 0 0 1 2.4 7h7.1Zm-1 2.8-1 2.6-1-2.5v-.1a.6.6 0 0 0-1 0l-.1.1-.9 2.5-1-2.5v-.1a.6.6 0 0 0-1 .4v.1l1.5 4v.1a.6.6 0 0 0 1 0v-.1l1-2.5.9 2.5v.1a.6.6 0 0 0 1 0H8l1.6-4v-.2a.6.6 0 0 0-1.1-.4Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M7 3h7.4L19 7.6V17h-2V9h-4V5H5c0-1.1.9-2 2-2ZM15 17a1 1 0 1 0-2 0v3.1l-1.4-1a1 1 0 1 0-1.2 1.7l3.6 2.4 3.6-2.4a1 1 0 0 0-1.2-1.6l-1.4 1V17Z"/></svg>',"import-word":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M7 3h7.4L19 7.6V15h-2V9h-4V5H5c0-1.1.9-2 2-2Z"/><path d="M9.5 7A1.5 1.5 0 0 1 11 8.4v7.1A1.5 1.5 0 0 1 9.6 17H2.5A1.5 1.5 0 0 1 1 15.6V8.5A1.5 1.5 0 0 1 2.4 7h7.1Zm-1 2.8-1 2.6-1-2.5v-.1a.6.6 0 0 0-1 0l-.1.1-.9 2.5-1-2.5v-.1a.6.6 0 0 0-1 .4v.1l1.5 4v.1a.6.6 0 0 0 1 0v-.1l1-2.5.9 2.5v.1a.6.6 0 0 0 1 0H8l1.6-4v-.2a.6.6 0 0 0-1.1-.4Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M11.4 18.2a1 1 0 0 0 1.2 1.6l1.4-1V22a1 1 0 1 0 2 0v-3.1l1.4 1a1 1 0 0 0 1.2-1.7L15 15.8l-3.6 2.4Z"/></svg>'}});(function(){const na=Object.getPrototypeOf,Sa=(n,s,i)=>{var l;return!!i(n,s.prototype)||((l=n.constructor)===null||l===void 0?void 0:l.name)===s.name},pa=n=>s=>(i=>{const l=typeof i;return i===null?"null":l==="object"&&Array.isArray(i)?"array":l==="object"&&Sa(i,String,(u,f)=>f.isPrototypeOf(u))?"string":l})(s)===n,Qr=n=>s=>typeof s===n,ar=n=>s=>n===s,So=pa("string"),ir=pa("object"),lr=n=>((s,i)=>ir(s)&&Sa(s,i,(l,u)=>na(l)===u))(n,Object),Xo=pa("array"),Rn=ar(null),Qn=Qr("boolean"),cr=ar(void 0),Ur=n=>n==null,It=n=>!Ur(n),Jt=Qr("function"),Ho=Qr("number"),er=(n,s)=>{if(Xo(n)){for(let i=0,l=n.length;i<l;++i)if(!s(n[i]))return!1;return!0}return!1},ut=()=>{},yo=n=>()=>n(),He=(n,s)=>(...i)=>n(s.apply(null,i)),ne=n=>()=>n,Et=n=>n,ve=(n,s)=>n===s;function dt(n,...s){return(...i)=>{const l=s.concat(i);return n.apply(null,l)}}const Gn=n=>s=>!n(s),gn=n=>()=>{throw new Error(n)},vo=n=>n(),Le=ne(!1),Lt=ne(!0);class T{constructor(s,i){this.tag=s,this.value=i}static some(s){return new T(!0,s)}static none(){return T.singletonNone}fold(s,i){return this.tag?i(this.value):s()}isSome(){return this.tag}isNone(){return!this.tag}map(s){return this.tag?T.some(s(this.value)):T.none()}bind(s){return this.tag?s(this.value):T.none()}exists(s){return this.tag&&s(this.value)}forall(s){return!this.tag||s(this.value)}filter(s){return!this.tag||s(this.value)?this:T.none()}getOr(s){return this.tag?this.value:s}or(s){return this.tag?this:s}getOrThunk(s){return this.tag?this.value:s()}orThunk(s){return this.tag?this:s()}getOrDie(s){if(this.tag)return this.value;throw new Error(s??"Called getOrDie on None")}static from(s){return It(s)?T.some(s):T.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(s){this.tag&&s(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}T.singletonNone=new T(!1);const Eo=Array.prototype.slice,lo=Array.prototype.indexOf,Ro=Array.prototype.push,Cr=(n,s)=>lo.call(n,s),_e=(n,s)=>Cr(n,s)>-1,Tt=(n,s)=>{for(let i=0,l=n.length;i<l;i++)if(s(n[i],i))return!0;return!1},un=(n,s)=>{const i=[];for(let l=0;l<n;l++)i.push(s(l));return i},yt=(n,s)=>{const i=[];for(let l=0;l<n.length;l+=s){const u=Eo.call(n,l,l+s);i.push(u)}return i},nt=(n,s)=>{const i=n.length,l=new Array(i);for(let u=0;u<i;u++){const f=n[u];l[u]=s(f,u)}return l},Ot=(n,s)=>{for(let i=0,l=n.length;i<l;i++)s(n[i],i)},Zr=(n,s)=>{const i=[],l=[];for(let u=0,f=n.length;u<f;u++){const p=n[u];(s(p,u)?i:l).push(p)}return{pass:i,fail:l}},kn=(n,s)=>{const i=[];for(let l=0,u=n.length;l<u;l++){const f=n[l];s(f,l)&&i.push(f)}return i},fn=(n,s,i)=>(((l,u)=>{for(let f=l.length-1;f>=0;f--)u(l[f],f)})(n,(l,u)=>{i=s(i,l,u)}),i),Ao=(n,s,i)=>(Ot(n,(l,u)=>{i=s(i,l,u)}),i),$=(n,s)=>((i,l,u)=>{for(let f=0,p=i.length;f<p;f++){const b=i[f];if(l(b,f))return T.some(b);if(u(b,f))break}return T.none()})(n,s,Le),zs=(n,s)=>{for(let i=0,l=n.length;i<l;i++)if(s(n[i],i))return T.some(i);return T.none()},An=n=>{const s=[];for(let i=0,l=n.length;i<l;++i){if(!Xo(n[i]))throw new Error("Arr.flatten item "+i+" was not an array, input: "+n);Ro.apply(s,n[i])}return s},mn=(n,s)=>An(nt(n,s)),Ga=(n,s)=>{for(let i=0,l=n.length;i<l;++i)if(s(n[i],i)!==!0)return!1;return!0},sl=n=>{const s=Eo.call(n,0);return s.reverse(),s},nn=(n,s)=>kn(n,i=>!_e(s,i)),dr=(n,s)=>{const i={};for(let l=0,u=n.length;l<u;l++){const f=n[l];i[String(f)]=s(f,l)}return i},To=n=>[n],We=(n,s)=>{const i=Eo.call(n,0);return i.sort(s),i},et=(n,s)=>s>=0&&s<n.length?T.some(n[s]):T.none(),it=n=>et(n,0),Ye=n=>et(n,n.length-1),Qt=Jt(Array.from)?Array.from:n=>Eo.call(n),fo=(n,s)=>{for(let i=0;i<n.length;i++){const l=s(n[i],i);if(l.isSome())return l}return T.none()},$o=Object.keys,Nn=Object.hasOwnProperty,Kn=(n,s)=>{const i=$o(n);for(let l=0,u=i.length;l<u;l++){const f=i[l];s(n[f],f)}},Mn=(n,s)=>zn(n,(i,l)=>({k:l,v:s(i,l)})),zn=(n,s)=>{const i={};return Kn(n,(l,u)=>{const f=s(l,u);i[f.k]=f.v}),i},Wr=n=>(s,i)=>{n[i]=s},qs=(n,s,i,l)=>{Kn(n,(u,f)=>{(s(u,f)?i:l)(u,f)})},hr=(n,s)=>{const i={};return qs(n,s,Wr(i),ut),i},tr=(n,s)=>{const i=[];return Kn(n,(l,u)=>{i.push(s(l,u))}),i},Ko=(n,s)=>{const i=$o(n);for(let l=0,u=i.length;l<u;l++){const f=i[l],p=n[f];if(s(p,f,n))return T.some(p)}return T.none()},ps=n=>tr(n,Et),lt=(n,s)=>ro(n,s)?T.from(n[s]):T.none(),ro=(n,s)=>Nn.call(n,s),Po=(n,s)=>ro(n,s)&&n[s]!==void 0&&n[s]!==null,gs=(n,s,i=ve)=>n.exists(l=>i(l,s)),Ea=n=>{const s=[],i=l=>{s.push(l)};for(let l=0;l<n.length;l++)n[l].each(i);return s},st=(n,s,i)=>n.isSome()&&s.isSome()?T.some(i(n.getOrDie(),s.getOrDie())):T.none(),ga=(n,s)=>n!=null?T.some(s(n)):T.none(),Bo=(n,s)=>n?T.some(s):T.none(),Wi=(n,s,i)=>s===""||n.length>=s.length&&n.substr(i,i+s.length)===s,Bn=(n,s)=>kl(n,s)?((i,l)=>i.substring(l))(n,s.length):n,Ts=(n,s,i=0,l)=>{const u=n.indexOf(s,i);return u!==-1&&(!!cr(l)||u+s.length<=l)},kl=(n,s)=>Wi(n,s,0),Ba=(n,s)=>Wi(n,s,n.length-s.length),di=(Ld=/^\s+|\s+$/g,n=>n.replace(Ld,"")),ra=n=>n.length>0,ui=n=>!ra(n),Hn=n=>n.style!==void 0&&Jt(n.style.getPropertyValue),xo=n=>{if(n==null)throw new Error("Node cannot be null or undefined");return{dom:n}},Ka=(n,s)=>{const i=document.createElement("div");if(i.innerHTML=n,!i.hasChildNodes()||i.childNodes.length>1){const l="HTML does not have a single root node";throw console.error(l,n),new Error(l)}return xo(i.childNodes[0])},_s=(n,s)=>{const i=document.createElement(n);return xo(i)},al=(n,s)=>{const i=document.createTextNode(n);return xo(i)},wt=xo,fi=typeof window<"u"?window:Function("return this;")(),Ul=(n,s)=>((i,l)=>{let u=l??fi;for(let f=0;f<i.length&&u!=null;++f)u=u[i[f]];return u})(n.split("."),s),wr=Object.getPrototypeOf,od=n=>{const s=Ul("ownerDocument.defaultView",n);return ir(n)&&((i=>((l,u)=>{const f=((p,b)=>Ul(p,b))(l,u);if(f==null)throw new Error(l+" not available on this browser");return f})("HTMLElement",i))(s).prototype.isPrototypeOf(n)||/^HTML\w*Element$/.test(wr(n).constructor.name))},Aa=n=>n.dom.nodeName.toLowerCase(),Cs=n=>s=>(i=>i.dom.nodeType)(s)===n,wl=n=>Sr(n)&&od(n.dom),Sr=Cs(1),Os=Cs(3),Ya=Cs(9),_l=Cs(11),za=n=>s=>Sr(s)&&Aa(s)===n,Cl=(n,s)=>{const i=n.dom;if(i.nodeType!==1)return!1;{const l=i;if(l.matches!==void 0)return l.matches(s);if(l.msMatchesSelector!==void 0)return l.msMatchesSelector(s);if(l.webkitMatchesSelector!==void 0)return l.webkitMatchesSelector(s);if(l.mozMatchesSelector!==void 0)return l.mozMatchesSelector(s);throw new Error("Browser lacks native selectors")}},il=n=>n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11||n.childElementCount===0,_c=(n,s)=>{const i=s===void 0?document:s.dom;return il(i)?T.none():T.from(i.querySelector(n)).map(wt)},hn=(n,s)=>n.dom===s.dom,Vr=(n,s)=>{const i=n.dom,l=s.dom;return i!==l&&i.contains(l)},Gs=n=>wt(n.dom.ownerDocument),Sl=n=>Ya(n)?n:Gs(n),nd=n=>wt(Sl(n).dom.documentElement),Bd=n=>wt(Sl(n).dom.defaultView),mi=n=>T.from(n.dom.parentNode).map(wt),qr=n=>T.from(n.dom.parentElement).map(wt),Id=n=>T.from(n.dom.offsetParent).map(wt),In=n=>nt(n.dom.childNodes,wt),Ln=(n,s)=>{const i=n.dom.childNodes;return T.from(i[s]).map(wt)},pi=n=>Ln(n,0),Ia=(n,s)=>({element:n,offset:s}),ll=(n,s)=>{const i=In(n);return i.length>0&&s<i.length?Ia(i[s],0):Ia(n,s)},El=n=>_l(n)&&It(n.dom.host),Al=Jt(Element.prototype.attachShadow)&&Jt(Node.prototype.getRootNode),Ds=ne(Al),Gr=Al?n=>wt(n.dom.getRootNode()):Sl,es=n=>El(n)?n:wt(Sl(n).dom.body),ts=n=>{const s=Gr(n);return El(s)?T.some(s):T.none()},Xa=n=>wt(n.dom.host),Yn=n=>{const s=Os(n)?n.dom.parentNode:n.dom;if(s==null||s.ownerDocument===null)return!1;const i=s.ownerDocument;return ts(wt(s)).fold(()=>i.body.contains(s),(l=Yn,u=Xa,f=>l(u(f))));var l,u},ha=()=>La(wt(document)),La=n=>{const s=n.dom.body;if(s==null)throw new Error("Body is not available yet");return wt(s)},Is=(n,s,i)=>{if(!(So(i)||Qn(i)||Ho(i)))throw console.error("Invalid call to Attribute.set. Key ",s,":: Value ",i,":: Element ",n),new Error("Attribute value was not simple");n.setAttribute(s,i+"")},uo=(n,s,i)=>{Is(n.dom,s,i)},qi=(n,s)=>{const i=n.dom;Kn(s,(l,u)=>{Is(i,u,l)})},hs=(n,s)=>{const i=n.dom.getAttribute(s);return i===null?void 0:i},ls=(n,s)=>T.from(hs(n,s)),sa=(n,s)=>{const i=n.dom;return!(!i||!i.hasAttribute)&&i.hasAttribute(s)},Er=(n,s)=>{n.dom.removeAttribute(s)},jr=(n,s,i)=>{if(!So(i))throw console.error("Invalid call to CSS.set. Property ",s,":: Value ",i,":: Element ",n),new Error("CSS value must be a string: "+i);Hn(n)&&n.style.setProperty(s,i)},gi=(n,s)=>{Hn(n)&&n.style.removeProperty(s)},mo=(n,s,i)=>{const l=n.dom;jr(l,s,i)},cl=(n,s)=>{const i=n.dom;Kn(s,(l,u)=>{jr(i,u,l)})},Ta=(n,s)=>{const i=n.dom;Kn(s,(l,u)=>{l.fold(()=>{gi(i,u)},f=>{jr(i,u,f)})})},ur=(n,s)=>{const i=n.dom,l=window.getComputedStyle(i).getPropertyValue(s);return l!==""||Yn(n)?l:Pa(i,s)},Pa=(n,s)=>Hn(n)?n.style.getPropertyValue(s):"",cs=(n,s)=>{const i=n.dom,l=Pa(i,s);return T.from(l).filter(u=>u.length>0)},Zl=n=>{const s={},i=n.dom;if(Hn(i))for(let l=0;l<i.style.length;l++){const u=i.style.item(l);s[u]=i.style[u]}return s},Wl=(n,s,i)=>{const l=_s(n);return mo(l,s,i),cs(l,s).isSome()},sn=(n,s)=>{const i=n.dom;gi(i,s),gs(ls(n,"style").map(di),"")&&Er(n,"style")},ql=n=>n.dom.offsetWidth,G=(n,s)=>{const i=u=>{const f=s(u);if(f<=0||f===null){const p=ur(u,n);return parseFloat(p)||0}return f},l=(u,f)=>Ao(f,(p,b)=>{const y=ur(u,b),w=y===void 0?0:parseInt(y,10);return isNaN(w)?p:p+w},0);return{set:(u,f)=>{if(!Ho(f)&&!f.match(/^[0-9]+$/))throw new Error(n+".set accepts only positive integer values. Value was "+f);const p=u.dom;Hn(p)&&(p.style[n]=f+"px")},get:i,getOuter:i,aggregate:l,max:(u,f,p)=>{const b=l(u,p);return f>b?f-b:0}}},pe=G("height",n=>{const s=n.dom;return Yn(n)?s.getBoundingClientRect().height:s.offsetHeight}),ke=n=>pe.get(n),$e=n=>pe.getOuter(n),gt=(n,s)=>({left:n,top:s,translate:(i,l)=>gt(n+i,s+l)}),_t=gt,Jo=(n,s)=>n!==void 0?n:s!==void 0?s:0,or=n=>{const s=n.dom.ownerDocument,i=s.body,l=s.defaultView,u=s.documentElement;if(i===n.dom)return _t(i.offsetLeft,i.offsetTop);const f=Jo(l==null?void 0:l.pageYOffset,u.scrollTop),p=Jo(l==null?void 0:l.pageXOffset,u.scrollLeft),b=Jo(u.clientTop,i.clientTop),y=Jo(u.clientLeft,i.clientLeft);return rn(n).translate(p-y,f-b)},rn=n=>{const s=n.dom,i=s.ownerDocument.body;return i===s?_t(i.offsetLeft,i.offsetTop):Yn(n)?(l=>{const u=l.getBoundingClientRect();return _t(u.left,u.top)})(s):_t(0,0)},Xn=G("width",n=>n.dom.offsetWidth),Uo=n=>Xn.get(n),Or=n=>Xn.getOuter(n),Ti=n=>{let s,i=!1;return(...l)=>(i||(i=!0,s=n.apply(null,l)),s)},Wo=()=>Cc(0,0),Cc=(n,s)=>({major:n,minor:s}),Sc={nu:Cc,detect:(n,s)=>{const i=String(s).toLowerCase();return n.length===0?Wo():((l,u)=>{const f=((b,y)=>{for(let w=0;w<b.length;w++){const E=b[w];if(E.test(y))return E}})(l,u);if(!f)return{major:0,minor:0};const p=b=>Number(u.replace(f,"$"+b));return Cc(p(1),p(2))})(n,i)},unknown:Wo},F=(n,s)=>{const i=String(s).toLowerCase();return $(n,l=>l.search(i))},Q=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,ue=n=>s=>Ts(s,n),Ne=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:n=>Ts(n,"edge/")&&Ts(n,"chrome")&&Ts(n,"safari")&&Ts(n,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,Q],search:n=>Ts(n,"chrome")&&!Ts(n,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:n=>Ts(n,"msie")||Ts(n,"trident")},{name:"Opera",versionRegexes:[Q,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:ue("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:ue("firefox")},{name:"Safari",versionRegexes:[Q,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:n=>(Ts(n,"safari")||Ts(n,"mobile/"))&&Ts(n,"applewebkit")}],At=[{name:"Windows",search:ue("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:n=>Ts(n,"iphone")||Ts(n,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:ue("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:ue("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:ue("linux"),versionRegexes:[]},{name:"Solaris",search:ue("sunos"),versionRegexes:[]},{name:"FreeBSD",search:ue("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:ue("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],Qo={browsers:ne(Ne),oses:ne(At)},os="Edge",hi="Chromium",ft="Opera",Gi="Firefox",Oi="Safari",zl=n=>{const s=n.current,i=n.version,l=u=>()=>s===u;return{current:s,version:i,isEdge:l(os),isChromium:l(hi),isIE:l("IE"),isOpera:l(ft),isFirefox:l(Gi),isSafari:l(Oi)}},Ls=()=>zl({current:void 0,version:Sc.unknown()}),zf=zl,rd="Windows",Ec="Android",Tl="Linux",au="macOS",sd="Solaris",t1="FreeBSD",Zg="ChromeOS",Wg=n=>{const s=n.current,i=n.version,l=u=>()=>s===u;return{current:s,version:i,isWindows:l(rd),isiOS:l("iOS"),isAndroid:l(Ec),isMacOS:l(au),isLinux:l(Tl),isSolaris:l(sd),isFreeBSD:l(t1),isChromeOS:l(Zg)}},pb=()=>Wg({current:void 0,version:Sc.unknown()}),sc=Wg,Om=n=>window.matchMedia(n).matches;var Ld;let Ol=Ti(()=>((n,s,i)=>{const l=Qo.browsers(),u=Qo.oses(),f=s.bind(y=>((w,E)=>fo(E.brands,_=>{const O=_.brand.toLowerCase();return $(w,L=>{var I;return O===((I=L.brand)===null||I===void 0?void 0:I.toLowerCase())}).map(L=>({current:L.name,version:Sc.nu(parseInt(_.version,10),0)}))}))(l,y)).orThunk(()=>((y,w)=>F(y,w).map(E=>{const _=Sc.detect(E.versionRegexes,w);return{current:E.name,version:_}}))(l,n)).fold(Ls,zf),p=((y,w)=>F(y,w).map(E=>{const _=Sc.detect(E.versionRegexes,w);return{current:E.name,version:_}}))(u,n).fold(pb,sc),b=((y,w,E,_)=>{const O=y.isiOS()&&/ipad/i.test(E)===!0,L=y.isiOS()&&!O,I=y.isiOS()||y.isAndroid(),K=I||_("(pointer:coarse)"),q=O||!L&&I&&_("(min-device-width:768px)"),se=L||I&&!q,W=w.isSafari()&&y.isiOS()&&/safari/i.test(E)===!1,Z=!se&&!q&&!W;return{isiPad:ne(O),isiPhone:ne(L),isTablet:ne(q),isPhone:ne(se),isTouch:ne(K),isAndroid:y.isAndroid,isiOS:y.isiOS,isWebView:ne(W),isDesktop:ne(Z)}})(p,f,n,i);return{browser:f,os:p,deviceType:b}})(navigator.userAgent,T.from(navigator.userAgentData),Om));const Ja=()=>Ol(),en=n=>{const s=wt((f=>{if(Ds()&&It(f.target)){const p=wt(f.target);if(Sr(p)&&(b=>It(b.dom.shadowRoot))(p)&&f.composed&&f.composedPath){const b=f.composedPath();if(b)return it(b)}}return T.from(f.target)})(n).getOr(n.target)),i=()=>n.stopPropagation(),l=()=>n.preventDefault(),u=He(l,i);return((f,p,b,y,w,E,_)=>({target:f,x:p,y:b,stop:y,prevent:w,kill:E,raw:_}))(s,n.clientX,n.clientY,i,l,u,n)},Gl=(n,s,i,l,u)=>{const f=((p,b)=>y=>{p(y)&&b(en(y))})(i,l);return n.dom.addEventListener(s,f,u),{unbind:dt(Di,n,s,f,u)}},Di=(n,s,i,l)=>{n.dom.removeEventListener(s,i,l)},ad=(n,s)=>{mi(n).each(i=>{i.dom.insertBefore(s.dom,n.dom)})},iu=(n,s)=>{(l=>T.from(l.dom.nextSibling).map(wt))(n).fold(()=>{mi(n).each(l=>{ns(l,s)})},l=>{ad(l,s)})},Ri=(n,s)=>{pi(n).fold(()=>{ns(n,s)},i=>{n.dom.insertBefore(s.dom,i.dom)})},ns=(n,s)=>{n.dom.appendChild(s.dom)},Dm=(n,s)=>{Ot(s,i=>{ns(n,i)})},Ki=n=>{n.dom.textContent="",Ot(In(n),s=>{bs(s)})},bs=n=>{const s=n.dom;s.parentNode!==null&&s.parentNode.removeChild(s)},ys=n=>{const s=n!==void 0?n.dom:document,i=s.body.scrollLeft||s.documentElement.scrollLeft,l=s.body.scrollTop||s.documentElement.scrollTop;return _t(i,l)},Pn=(n,s,i)=>{const l=(i!==void 0?i.dom:document).defaultView;l&&l.scrollTo(n,s)},Dl=(n,s,i,l)=>({x:n,y:s,width:i,height:l,right:n+i,bottom:s+l}),Oa=n=>{const s=n===void 0?window:n,i=s.document,l=ys(wt(i));return(u=>{const f=u===void 0?window:u;return Ja().browser.isFirefox()?T.none():T.from(f.visualViewport)})(s).fold(()=>{const u=s.document.documentElement,f=u.clientWidth,p=u.clientHeight;return Dl(l.left,l.top,f,p)},u=>Dl(Math.max(u.pageLeft,l.left),Math.max(u.pageTop,l.top),u.width,u.height))},Kl=()=>wt(document),vs=(n,s)=>n.view(s).fold(ne([]),i=>{const l=n.owner(i),u=vs(n,l);return[i].concat(u)});var Ks=Object.freeze({__proto__:null,view:n=>{var s;return(n.dom===document?T.none():T.from((s=n.dom.defaultView)===null||s===void 0?void 0:s.frameElement)).map(wt)},owner:n=>Gs(n)});const Fu=n=>{const s=Kl(),i=ys(s);return((u,f)=>{const p=f.owner(u),b=vs(f,p);return T.some(b)})(n,Ks).fold(dt(or,n),u=>{const f=rn(n),p=fn(u,(b,y)=>{const w=rn(y);return{left:b.left+w.left,top:b.top+w.top}},{left:0,top:0});return _t(p.left+f.left+i.left,p.top+f.top+i.top)})},Ss=(n,s,i,l)=>({x:n,y:s,width:i,height:l,right:n+i,bottom:s+l}),$n=n=>{const s=or(n),i=Or(n),l=$e(n);return Ss(s.left,s.top,i,l)},Rl=n=>{const s=Fu(n),i=Or(n),l=$e(n);return Ss(s.left,s.top,i,l)},Nl=(n,s)=>{const i=Math.max(n.x,s.x),l=Math.max(n.y,s.y),u=Math.min(n.right,s.right),f=Math.min(n.bottom,s.bottom);return Ss(i,l,u-i,f-l)},Kr=()=>Oa(window),eo=n=>{let s=n;return{get:()=>s,set:i=>{s=i}}},lu=n=>{const s=eo(T.none()),i=()=>s.get().each(n);return{clear:()=>{i(),s.set(T.none())},isSet:()=>s.get().isSome(),get:()=>s.get(),set:l=>{i(),s.set(T.some(l))}}},Qa=()=>lu(n=>n.unbind()),Vn=()=>{const n=lu(ut);return{...n,on:s=>n.get().each(s)}};var id=tinymce.util.Tools.resolve("tinymce.ThemeManager");const Pd=n=>{const s=f=>f(n),i=ne(n),l=()=>u,u={tag:!0,inner:n,fold:(f,p)=>p(n),isValue:Lt,isError:Le,map:f=>qo.value(f(n)),mapError:l,bind:s,exists:s,forall:s,getOr:i,or:l,getOrThunk:i,orThunk:l,getOrDie:i,each:f=>{f(n)},toOptional:()=>T.some(n)};return u},ac=n=>{const s=()=>i,i={tag:!1,inner:n,fold:(l,u)=>l(n),isValue:Le,isError:Lt,map:s,mapError:l=>qo.error(l(n)),bind:s,exists:Le,forall:Lt,getOr:Et,or:Et,getOrThunk:vo,orThunk:vo,getOrDie:gn(String(n)),each:ut,toOptional:T.none};return i},qo={value:Pd,error:ac,fromOption:(n,s)=>n.fold(()=>ac(s),Pd)};var ei;(function(n){n[n.Error=0]="Error",n[n.Value=1]="Value"})(ei||(ei={}));const Tf=(n,s,i)=>n.stype===ei.Error?s(n.serror):i(n.svalue),Of=n=>({stype:ei.Value,svalue:n}),Fd=n=>({stype:ei.Error,serror:n}),dl=Of,Hd=Fd,fe=Tf,ld=(n,s,i,l)=>({tag:"field",key:n,newKey:s,presence:i,prop:l}),ti=(n,s,i)=>{switch(n.tag){case"field":return s(n.key,n.newKey,n.presence,n.prop);case"custom":return i(n.newKey,n.instantiator)}},Hu=n=>(...s)=>{if(s.length===0)throw new Error("Can't merge zero objects");const i={};for(let l=0;l<s.length;l++){const u=s[l];for(const f in u)ro(u,f)&&(i[f]=n(i[f],u[f]))}return i},Ir=Hu((n,s)=>lr(n)&&lr(s)?Ir(n,s):s),Bp=Hu((n,s)=>s),an=n=>({tag:"defaultedThunk",process:n}),bi=n=>an(ne(n)),$u=n=>({tag:"mergeWithThunk",process:n}),Ni=n=>{const s=(l=>{const u=[],f=[];return Ot(l,p=>{Tf(p,b=>f.push(b),b=>u.push(b))}),{values:u,errors:f}})(n);return s.errors.length>0?(i=s.errors,He(Hd,An)(i)):dl(s.values);var i},ic=n=>ir(n)&&$o(n).length>100?" removed due to size":JSON.stringify(n,null,2),Mi=(n,s)=>Hd([{path:n,getErrorInfo:s}]),aa=n=>({extract:(s,i)=>((l,u)=>l.stype===ei.Error?u(l.serror):l)(n(i),l=>((u,f)=>Mi(u,ne(f)))(s,l)),toString:ne("val")}),ul=aa(dl),cu=(n,s,i,l)=>l(lt(n,s).getOrThunk(()=>i(n))),Rm=(n,s,i,l,u)=>{const f=b=>u.extract(s.concat([l]),b),p=b=>b.fold(()=>dl(T.none()),y=>((w,E)=>w.stype===ei.Value?{stype:ei.Value,svalue:E(w.svalue)}:w)(u.extract(s.concat([l]),y),T.some));switch(n.tag){case"required":return((b,y,w,E)=>lt(y,w).fold(()=>((_,O,L)=>Mi(_,()=>'Could not find valid *required* value for "'+O+'" in '+ic(L)))(b,w,y),E))(s,i,l,f);case"defaultedThunk":return cu(i,l,n.process,f);case"option":return((b,y,w)=>w(lt(b,y)))(i,l,p);case"defaultedOptionThunk":return((b,y,w,E)=>E(lt(b,y).map(_=>_===!0?w(b):_)))(i,l,n.process,p);case"mergeWithThunk":return cu(i,l,ne({}),b=>{const y=Ir(n.process(i),b);return f(y)})}},Ml=n=>({extract:(s,i)=>n().extract(s,i),toString:()=>n().toString()}),lc=n=>$o(hr(n,It)),Bi=n=>{const s=to(n),i=fn(n,(l,u)=>ti(u,f=>Ir(l,{[f]:!0}),ne(l)),{});return{extract:(l,u)=>{const f=Qn(u)?[]:lc(u),p=kn(f,b=>!Po(i,b));return p.length===0?s.extract(l,u):((b,y)=>Mi(b,()=>"There are unsupported fields: ["+y.join(", ")+"] specified"))(l,p)},toString:s.toString}},to=n=>({extract:(s,i)=>((l,u,f)=>{const p={},b=[];for(const y of f)ti(y,(w,E,_,O)=>{const L=Rm(_,l,u,w,O);fe(L,I=>{b.push(...I)},I=>{p[E]=I})},(w,E)=>{p[w]=E(u)});return b.length>0?Hd(b):dl(p)})(s,i,n),toString:()=>`obj{
`+nt(n,i=>ti(i,(l,u,f,p)=>l+" -> "+p.toString(),(l,u)=>"state("+l+")")).join(`
`)+"}"}),ds=n=>({extract:(s,i)=>{const l=nt(i,(u,f)=>n.extract(s.concat(["["+f+"]"]),u));return Ni(l)},toString:()=>"array("+n.toString()+")"}),cd=(n,s)=>{const i=s!==void 0?s:Et;return{extract:(l,u)=>{const f=[];for(const p of n){const b=p.extract(l,u);if(b.stype===ei.Value)return{stype:ei.Value,svalue:i(b.svalue)};f.push(b)}return Ni(f)},toString:()=>"oneOf("+nt(n,l=>l.toString()).join(", ")+")"}},Nm=(n,s)=>({extract:(i,l)=>{const u=$o(l),f=((p,b)=>ds(aa(n)).extract(p,b))(i,u);return((p,b)=>p.stype===ei.Value?b(p.svalue):p)(f,p=>{const b=nt(p,y=>ld(y,y,{tag:"required",process:{}},s));return to(b).extract(i,l)})},toString:()=>"setOf("+s.toString()+")"}),du=He(ds,to),yi=ne(ul),Vu=(n,s)=>aa(i=>{const l=typeof i;return n(i)?dl(i):Hd(`Expected type: ${s} but got: ${l}`)}),uu=Vu(Ho,"number"),Ps=Vu(So,"string"),dd=Vu(Qn,"boolean"),cc=Vu(Jt,"function"),Ac=n=>{if(Object(n)!==n)return!0;switch({}.toString.call(n).slice(8,-1)){case"Boolean":case"Number":case"String":case"Date":case"RegExp":case"Blob":case"FileList":case"ImageData":case"ImageBitmap":case"ArrayBuffer":return!0;case"Array":case"Object":return Object.keys(n).every(s=>Ac(n[s]));default:return!1}},Df=aa(n=>Ac(n)?dl(n):Hd("Expected value to be acceptable for sending via postMessage")),$d=(n,s)=>({extract:(i,l)=>lt(l,n).fold(()=>((u,f)=>Mi(u,()=>'Choice schema did not contain choice key: "'+f+'"'))(i,n),u=>((f,p,b,y)=>lt(b,y).fold(()=>((w,E,_)=>Mi(w,()=>'The chosen schema: "'+_+'" did not exist in branches: '+ic(E)))(f,b,y),w=>w.extract(f.concat(["branch: "+y]),p)))(i,l,s,u)),toString:()=>"chooseOn("+n+"). Possible values: "+$o(s)}),zc=n=>aa(s=>n(s).fold(Hd,dl)),ju=(n,s)=>Nm(i=>n(i).fold(Fd,Of),s),Lr=(n,s,i)=>{return l=((u,f,p)=>((b,y)=>b.stype===ei.Error?{stype:ei.Error,serror:y(b.serror)}:b)(f.extract([u],p),b=>({input:p,errors:b})))(n,s,i),Tf(l,qo.error,qo.value);var l},Yi=n=>n.fold(s=>{throw new Error(dc(s))},Et),ia=(n,s,i)=>Yi(Lr(n,s,i)),dc=n=>`Errors: 
`+(s=>{const i=s.length>10?s.slice(0,10).concat([{path:[],getErrorInfo:ne("... (only showing first ten failures)")}]):s;return nt(i,l=>"Failed path: ("+l.path.join(" > ")+`)
`+l.getErrorInfo())})(n.errors).join(`
`)+`

Input object: `+ic(n.input),xs=(n,s)=>$d(n,Mn(s,to)),fl=(n,s)=>((i,l)=>{const u=Ti(l);return{extract:(f,p)=>u().extract(f,p),toString:()=>u().toString()}})(0,s),la=ld,ba=(n,s)=>({tag:"custom",newKey:n,instantiator:s}),Vd=n=>zc(s=>_e(n,s)?qo.value(s):qo.error(`Unsupported value: "${s}", choose one of "${n.join(", ")}".`)),Ze=n=>la(n,n,{tag:"required",process:{}},yi()),ya=(n,s)=>la(n,n,{tag:"required",process:{}},s),jd=n=>ya(n,uu),rs=n=>ya(n,Ps),Ii=(n,s)=>la(n,n,{tag:"required",process:{}},Vd(s)),Bl=n=>ya(n,cc),Il=(n,s)=>la(n,n,{tag:"required",process:{}},to(s)),Uu=(n,s)=>la(n,n,{tag:"required",process:{}},du(s)),Fa=(n,s)=>la(n,n,{tag:"required",process:{}},ds(s)),wn=n=>la(n,n,{tag:"option",process:{}},yi()),oi=(n,s)=>la(n,n,{tag:"option",process:{}},s),Fs=n=>oi(n,uu),Da=n=>oi(n,Ps),fu=(n,s)=>oi(n,Vd(s)),ml=n=>oi(n,cc),Ud=(n,s)=>oi(n,ds(s)),Li=(n,s)=>oi(n,to(s)),Ae=(n,s)=>la(n,n,bi(s),yi()),Hs=(n,s,i)=>la(n,n,bi(s),i),Tc=(n,s)=>Hs(n,s,uu),Dr=(n,s)=>Hs(n,s,Ps),Ll=(n,s,i)=>Hs(n,s,Vd(i)),Ha=(n,s)=>Hs(n,s,dd),_r=(n,s)=>Hs(n,s,cc),ni=(n,s,i)=>Hs(n,s,ds(i)),fr=(n,s,i)=>Hs(n,s,to(i)),Pr=n=>{if(!Xo(n))throw new Error("cases must be an array");if(n.length===0)throw new Error("there must be at least one case");const s=[],i={};return Ot(n,(l,u)=>{const f=$o(l);if(f.length!==1)throw new Error("one and only one name per case");const p=f[0],b=l[p];if(i[p]!==void 0)throw new Error("duplicate key detected:"+p);if(p==="cata")throw new Error("cannot have a case named cata (sorry)");if(!Xo(b))throw new Error("case arguments must be an array");s.push(p),i[p]=(...y)=>{const w=y.length;if(w!==b.length)throw new Error("Wrong number of arguments to case "+p+". Expected "+b.length+" ("+b+"), got "+w);return{fold:(...E)=>{if(E.length!==n.length)throw new Error("Wrong number of arguments to fold. Expected "+n.length+", got "+E.length);return E[u].apply(null,y)},match:E=>{const _=$o(E);if(s.length!==_.length)throw new Error("Wrong number of arguments to match. Expected: "+s.join(",")+`
Actual: `+_.join(","));if(!Ga(s,O=>_e(_,O)))throw new Error("Not all branches were specified when using match. Specified: "+_.join(", ")+`
Required: `+s.join(", "));return E[p].apply(null,y)},log:E=>{console.log(E,{constructors:s,constructor:p,params:y})}}}}),i};Pr([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]);const Xi=(n,s)=>((i,l)=>({[i]:l}))(n,s),Ji=n=>(s=>{const i={};return Ot(s,l=>{i[l.key]=l.value}),i})(n),ud=n=>Jt(n)?n:Le,Oc=(n,s,i)=>{let l=n.dom;const u=ud(i);for(;l.parentNode;){l=l.parentNode;const f=wt(l),p=s(f);if(p.isSome())return p;if(u(f))break}return T.none()},Zd=(n,s,i)=>{const l=s(n),u=ud(i);return l.orThunk(()=>u(n)?T.none():Oc(n,s,u))},Rf=(n,s)=>hn(n.element,s.event.target),Mm={can:Lt,abort:Le,run:ut},fd=n=>{if(!Po(n,"can")&&!Po(n,"abort")&&!Po(n,"run"))throw new Error("EventHandler defined by: "+JSON.stringify(n,null,2)+" does not have can, abort, or run!");return{...Mm,...n}},Rs=ne,vi=Rs("touchstart"),md=Rs("touchmove"),C=Rs("touchend"),N=Rs("touchcancel"),j=Rs("mousedown"),ce=Rs("mousemove"),ye=Rs("mouseout"),rt=Rs("mouseup"),Vt=Rs("mouseover"),bo=Rs("focusin"),Oo=Rs("focusout"),Ht=Rs("keydown"),mr=Rs("keyup"),Fr=Rs("input"),$a=Rs("change"),xi=Rs("click"),ri=Rs("transitioncancel"),Nf=Rs("transitionend"),_v=Rs("transitionstart"),qg=Rs("selectstart"),Tn=n=>ne("alloy."+n),Ip={tap:Tn("tap")},us=Tn("focus"),Dc=Tn("blur.post"),Mf=Tn("paste.post"),mu=Tn("receive"),va=Tn("execute"),pd=Tn("focus.item"),Bm=Ip.tap,Im=Tn("longpress"),Lp=Tn("sandbox.close"),Pp=Tn("typeahead.cancel"),Rc=Tn("system.init"),Bf=Tn("system.touchmove"),jt=Tn("system.touchend"),Pl=Tn("system.scroll"),If=Tn("system.resize"),Qi=Tn("system.attached"),si=Tn("system.detached"),Nc=Tn("system.dismissRequested"),gb=Tn("system.repositionRequested"),Mc=Tn("focusmanager.shifted"),Gg=Tn("slotcontainer.visibility"),Bc=Tn("system.external.element.scroll"),Lf=Tn("change.tab"),Zu=Tn("dismiss.tab"),mt=Tn("highlight"),Kg=Tn("dehighlight"),jo=(n,s)=>{Yr(n,n.element,s,{})},Zt=(n,s,i)=>{Yr(n,n.element,s,i)},uc=n=>{jo(n,va())},Lm=(n,s,i)=>{Yr(n,s,i,{})},Yr=(n,s,i,l)=>{const u={target:s,...l};n.getSystem().triggerEvent(i,s,u)},fc=(n,s,i,l)=>{n.getSystem().triggerEvent(i,s,l.event)},_n=n=>Ji(n),br=(n,s)=>({key:n,value:fd({abort:s})}),Pf=n=>({key:n,value:fd({run:(s,i)=>{i.event.prevent()}})}),Ue=(n,s)=>({key:n,value:fd({run:s})}),Yl=(n,s,i)=>({key:n,value:fd({run:(l,u)=>{s.apply(void 0,[l,u].concat(i))}})}),Fp=n=>s=>({key:n,value:fd({run:(i,l)=>{Rf(i,l)&&s(i,l)}})}),pu=(n,s,i)=>((l,u)=>Ue(l,(f,p)=>{f.getSystem().getByUid(u).each(b=>{fc(b,b.element,l,p)})}))(n,s.partUids[i]),Yg=(n,s)=>Ue(n,(i,l)=>{const u=l.event,f=i.getSystem().getByDom(u.target).getOrThunk(()=>Zd(u.target,p=>i.getSystem().getByDom(p).toOptional(),Le).getOr(i));s(i,f,l)}),Ic=n=>Ue(n,(s,i)=>{i.cut()}),hb=n=>Ue(n,(s,i)=>{i.stop()}),Wu=(n,s)=>Fp(n)(s),Ar=Fp(Qi()),gd=Fp(si()),Xg=Fp(Rc()),Lc=(Up=va(),n=>Ue(Up,n)),Ff=n=>nt(n,s=>Ba(s,"/*")?s.substring(0,s.length-2):s),Wd=(n,s)=>{const i=n.toString(),l=i.indexOf(")")+1,u=i.indexOf("("),f=i.substring(u+1,l-1).split(/,\s*/);return n.toFunctionAnnotation=()=>({name:s,parameters:Ff(f)}),n},$s=n=>({classes:cr(n.classes)?[]:n.classes,attributes:cr(n.attributes)?{}:n.attributes,styles:cr(n.styles)?{}:n.styles}),ca=(n,s,i)=>Xg((l,u)=>{i(l,n,s)}),Hp=n=>({key:n,value:void 0}),Ys=(n,s,i,l,u,f,p)=>{const b=E=>Po(E,i)?E[i]():T.none(),y=Mn(u,(E,_)=>((O,L,I)=>((K,q,se)=>{const W=se.toString(),Z=W.indexOf(")")+1,Y=W.indexOf("("),oe=W.substring(Y+1,Z-1).split(/,\s*/);return K.toFunctionAnnotation=()=>({name:q,parameters:Ff(oe.slice(0,1).concat(oe.slice(3)))}),K})((K,...q)=>{const se=[K].concat(q);return K.config({name:ne(O)}).fold(()=>{throw new Error("We could not find any behaviour configuration for: "+O+". Using API: "+I)},W=>{const Z=Array.prototype.slice.call(se,1);return L.apply(void 0,[K,W.config,W.state].concat(Z))})},I,L))(i,E,_)),w={...Mn(f,(E,_)=>Wd(E,_)),...y,revoke:dt(Hp,i),config:E=>{const _=ia(i+"-config",n,E);return{key:i,value:{config:_,me:w,configAsRaw:Ti(()=>ia(i+"-config",n,E)),initialConfig:E,state:p}}},schema:ne(s),exhibit:(E,_)=>st(b(E),lt(l,"exhibit"),(O,L)=>L(_,O.config,O.state)).getOrThunk(()=>$s({})),name:ne(i),handlers:E=>b(E).map(_=>lt(l,"events").getOr(()=>({}))(_.config,_.state)).getOr({})};return w},Xl={init:()=>ki({readState:ne("No State required")})},ki=n=>n,ct=n=>Ji(n),Jg=Bi([Ze("fields"),Ze("name"),Ae("active",{}),Ae("apis",{}),Ae("state",Xl),Ae("extra",{})]),ks=n=>{const s=ia("Creating behaviour: "+n.name,Jg,n);return((i,l,u,f,p,b)=>{const y=Bi(i),w=Li(l,[(E=i,oi("config",Bi(E)))]);var E;return Ys(y,w,l,u,f,p,b)})(s.fields,s.name,s.active,s.apis,s.extra,s.state)},k=Bi([Ze("branchKey"),Ze("branches"),Ze("name"),Ae("active",{}),Ae("apis",{}),Ae("state",Xl),Ae("extra",{})]),z=n=>{const s=ia("Creating behaviour: "+n.name,k,n);return((i,l,u,f,p,b)=>{const y=i,w=Li(l,[oi("config",i)]);return Ys(y,w,l,u,f,p,b)})(xs(s.branchKey,s.branches),s.name,s.active,s.apis,s.extra,s.state)},V=ne(void 0),ee=(n,s)=>{const i=hs(n,s);return i===void 0||i===""?[]:i.split(" ")},ge=n=>n.dom.classList!==void 0,je=n=>ee(n,"class"),pt=(n,s)=>((i,l,u)=>{const f=ee(i,l).concat([u]);return uo(i,l,f.join(" ")),!0})(n,"class",s),Bt=(n,s)=>((i,l,u)=>{const f=kn(ee(i,l),p=>p!==u);return f.length>0?uo(i,l,f.join(" ")):Er(i,l),!1})(n,"class",s),$t=(n,s)=>{ge(n)?n.dom.classList.add(s):pt(n,s)},Fo=n=>{(ge(n)?n.dom.classList:je(n)).length===0&&Er(n,"class")},Io=(n,s)=>{ge(n)?n.dom.classList.remove(s):Bt(n,s),Fo(n)},Zo=(n,s)=>ge(n)&&n.dom.classList.contains(s),pr=(n,s)=>{Ot(s,i=>{$t(n,i)})},Cn=(n,s)=>{Ot(s,i=>{Io(n,i)})},Jl=n=>ge(n)?(s=>{const i=s.dom.classList,l=new Array(i.length);for(let u=0;u<i.length;u++){const f=i.item(u);f!==null&&(l[u]=f)}return l})(n):je(n),Es=(n,s,i,l,u)=>{const f=p=>p+"px";return{position:n,left:s.map(f),top:i.map(f),right:l.map(f),bottom:u.map(f)}},wi=(n,s)=>{Ta(n,(i=>({...i,position:T.some(i.position)}))(s))},gu=n=>(gs(cs(n,"position"),"fixed")?T.none():Id(n)).orThunk(()=>{const s=_s("span");return mi(n).bind(i=>{ns(i,s);const l=Id(s);return bs(s),l})}),hu=n=>gu(n).map(or).getOrThunk(()=>_t(0,0)),mc=(n,s)=>{const i=n.element;$t(i,s.transitionClass),Io(i,s.fadeOutClass),$t(i,s.fadeInClass),s.onShow(n)},Hf=(n,s)=>{const i=n.element;$t(i,s.transitionClass),Io(i,s.fadeInClass),$t(i,s.fadeOutClass),s.onHide(n)},qd=(n,s)=>n.y>=s.y,$f=(n,s)=>n.bottom<=s.bottom,bu=(n,s,i)=>({location:"top",leftX:s,topY:i.bounds.y-n.y}),Pm=(n,s,i)=>({location:"bottom",leftX:s,bottomY:n.bottom-i.bounds.bottom}),$p=n=>n.box.x-n.win.x,On=(n,s,i)=>i.getInitialPos().map(l=>{const u=((f,p)=>{const b=p.optScrollEnv.fold(ne(f.bounds.y),y=>y.scrollElmTop+(f.bounds.y-y.currentScrollTop));return _t(f.bounds.x,b)})(l,s);return{box:Ss(u.left,u.top,Uo(n),ke(n)),location:l.location}}),Rr=(n,s,i,l,u)=>{const f=((b,y)=>{const w=y.optScrollEnv.fold(ne(b.y),E=>b.y+E.currentScrollTop-E.scrollElmTop);return _t(b.x,w)})(s,i),p=Ss(f.left,f.top,s.width,s.height);l.setInitialPos({style:Zl(n),position:ur(n,"position")||"static",bounds:p,location:u.location})},el=(n,s,i)=>i.getInitialPos().bind(l=>{var u;switch(i.clearInitialPos(),l.position){case"static":return T.some({morph:"static"});case"absolute":const f=gu(n).getOr(ha()),p=$n(f),b=(u=f.dom.scrollTop)!==null&&u!==void 0?u:0;return T.some({morph:"absolute",positionCss:Es("absolute",lt(l.style,"left").map(y=>s.x-p.x),lt(l.style,"top").map(y=>s.y-p.y+b),lt(l.style,"right").map(y=>p.right-s.right),lt(l.style,"bottom").map(y=>p.bottom-s.bottom))});default:return T.none()}}),Pi=n=>{switch(n.location){case"top":return T.some({morph:"fixed",positionCss:Es("fixed",T.some(n.leftX),T.some(n.topY),T.none(),T.none())});case"bottom":return T.some({morph:"fixed",positionCss:Es("fixed",T.some(n.leftX),T.none(),T.none(),T.some(n.bottomY))});default:return T.none()}},bb=(n,s,i)=>{const l=n.element;return gs(cs(l,"position"),"fixed")?((u,f,p)=>((b,y,w)=>On(b,y,w).filter(({box:E})=>((_,O,L)=>Ga(_,I=>{switch(I){case"bottom":return $f(O,L.bounds);case"top":return qd(O,L.bounds)}}))(w.getModes(),E,y)).bind(({box:E})=>el(b,E,w)))(u,f,p).orThunk(()=>f.optScrollEnv.bind(b=>On(u,f,p)).bind(({box:b,location:y})=>{const w=Kr(),E=$p({win:w,box:b}),_=y==="top"?bu(w,E,f):Pm(w,E,f);return Pi(_)})))(l,s,i):((u,f,p)=>{const b=$n(u),y=Kr(),w=((E,_,O)=>{const L=_.win,I=_.box,K=$p(_);return fo(E,q=>{switch(q){case"bottom":return $f(I,O.bounds)?T.none():T.some(Pm(L,K,O));case"top":return qd(I,O.bounds)?T.none():T.some(bu(L,K,O));default:return T.none()}}).getOr({location:"no-dock"})})(p.getModes(),{win:y,box:b},f);return w.location==="top"||w.location==="bottom"?(Rr(u,b,f,p,w),Pi(w)):T.none()})(l,s,i)},Vp=(n,s,i)=>{i.setDocked(!1),Ot(["left","right","top","bottom","position"],l=>sn(n.element,l)),s.onUndocked(n)},qu=(n,s,i,l)=>{const u=l.position==="fixed";i.setDocked(u),wi(n.element,l),(u?s.onDocked:s.onUndocked)(n)},Gu=(n,s,i,l,u=!1)=>{s.contextual.each(f=>{f.lazyContext(n).each(p=>{const b=((y,w)=>y.y<w.bottom&&y.bottom>w.y)(p,l.bounds);b!==i.isVisible()&&(i.setVisible(b),u&&!b?(pr(n.element,[f.fadeOutClass]),f.onHide(n)):(b?mc:Hf)(n,f))})})},o1=(n,s,i,l,u)=>{Gu(n,s,i,l,!0),qu(n,s,i,u.positionCss)},Qg=(n,s,i)=>{n.getSystem().isConnected()&&((l,u,f)=>{const p=u.lazyViewport(l);Gu(l,u,f,p),bb(l,p,f).each(b=>{((y,w,E,_,O)=>{switch(O.morph){case"static":return Vp(y,w,E);case"absolute":return qu(y,w,E,O.positionCss);case"fixed":o1(y,w,E,_,O)}})(l,u,f,p,b)})})(n,s,i)},n1=(n,s,i)=>{i.isDocked()&&((l,u,f)=>{const p=l.element;f.setDocked(!1);const b=u.lazyViewport(l);((y,w,E)=>{const _=y.element;return On(_,w,E).bind(({box:O})=>el(_,O,E))})(l,b,f).each(y=>{switch(y.morph){case"static":Vp(l,u,f);break;case"absolute":qu(l,u,f,y.positionCss)}}),f.setVisible(!0),u.contextual.each(y=>{Cn(p,[y.fadeInClass,y.fadeOutClass,y.transitionClass]),y.onShow(l)}),Qg(l,u,f)})(n,s,i)},jp=n=>(s,i,l)=>{const u=i.lazyViewport(s);((f,p,b,y)=>{const w=$n(f),E=Kr(),_=y(E,$p({win:E,box:w}),p);return _.location==="bottom"||_.location==="top"?(((O,L,I,K,q)=>{K.getInitialPos().fold(()=>Rr(O,L,I,K,q),()=>ut)})(f,w,p,b,_),Pi(_)):T.none()})(s.element,u,l,n).each(f=>{o1(s,i,l,u,f)})},Cv=jp(bu),eh=jp(Pm);var Up,Fm=Object.freeze({__proto__:null,refresh:Qg,reset:n1,isDocked:(n,s,i)=>i.isDocked(),getModes:(n,s,i)=>i.getModes(),setModes:(n,s,i,l)=>i.setModes(l),forceDockToTop:Cv,forceDockToBottom:eh}),Zp=Object.freeze({__proto__:null,events:(n,s)=>_n([Wu(Nf(),(i,l)=>{n.contextual.each(u=>{Zo(i.element,u.transitionClass)&&(Cn(i.element,[u.transitionClass,u.fadeInClass]),(s.isVisible()?u.onShown:u.onHidden)(i)),l.stop()})}),Ue(Pl(),(i,l)=>{Qg(i,n,s)}),Ue(Bc(),(i,l)=>{Qg(i,n,s)}),Ue(If(),(i,l)=>{n1(i,n,s)})])});const th=n=>n.dom.innerHTML,Pc=(n,s)=>{const i=Gs(n).dom,l=wt(i.createDocumentFragment()),u=((f,p)=>{const b=(p||document).createElement("div");return b.innerHTML=f,In(wt(b))})(s,i);Dm(l,u),Ki(n),ns(n,l)},r1=(n,s)=>wt(n.dom.cloneNode(s)),Fc=n=>(s=>{if(El(s))return"#shadow-root";{const i=(l=>r1(l,!1))(s);return(l=>{const u=_s("div"),f=wt(l.dom.cloneNode(!0));return ns(u,f),th(u)})(i)}})(n);var Vf;(function(n){n[n.STOP=0]="STOP",n[n.NORMAL=1]="NORMAL",n[n.LOGGING=2]="LOGGING"})(Vf||(Vf={}));const Wp=eo({}),s1=["alloy/data/Fields","alloy/debugging/Debugging"],a1=(n,s,i)=>((l,u,f)=>{switch(lt(Wp.get(),l).orThunk(()=>{const p=$o(Wp.get());return fo(p,b=>l.indexOf(b)>-1?T.some(Wp.get()[b]):T.none())}).getOr(Vf.NORMAL)){case Vf.NORMAL:return f(i1());case Vf.LOGGING:{const p=((y,w)=>{const E=[],_=new Date().getTime();return{logEventCut:(O,L,I)=>{E.push({outcome:"cut",target:L,purpose:I})},logEventStopped:(O,L,I)=>{E.push({outcome:"stopped",target:L,purpose:I})},logNoParent:(O,L,I)=>{E.push({outcome:"no-parent",target:L,purpose:I})},logEventNoHandlers:(O,L)=>{E.push({outcome:"no-handlers-left",target:L})},logEventResponse:(O,L,I)=>{E.push({outcome:"response",purpose:I,target:L})},write:()=>{const O=new Date().getTime();_e(["mousemove","mouseover","mouseout",Rc()],y)||console.log(y,{event:y,time:O-_,target:w.dom,sequence:nt(E,L=>_e(["cut","stopped","response"],L.outcome)?"{"+L.purpose+"} "+L.outcome+" at ("+Fc(L.target)+")":L.outcome)})}}})(l,u),b=f(p);return p.write(),b}case Vf.STOP:return!0}})(n,s,i),i1=ne({logEventCut:ut,logEventStopped:ut,logNoParent:ut,logEventNoHandlers:ut,logEventResponse:ut,write:ut}),pc=ne([Ze("menu"),Ze("selectedMenu")]),l1=ne([Ze("item"),Ze("selectedItem")]);ne(to(l1().concat(pc())));const n_=ne(to(l1())),jf=Il("initSize",[Ze("numColumns"),Ze("numRows")]),xa=()=>Il("markers",[Ze("backgroundMenu")].concat(pc()).concat(l1())),yu=n=>Il("markers",nt(n,Ze)),yb=(n,s,i)=>((()=>{const l=new Error;if(l.stack!==void 0){const u=l.stack.split(`
`);$(u,f=>f.indexOf("alloy")>0&&!Tt(s1,p=>f.indexOf(p)>-1)).getOr("unknown")}})(),la(s,s,i,zc(l=>qo.value((...u)=>l.apply(void 0,u))))),vn=n=>yb(0,n,bi(ut)),Fl=n=>yb(0,n,bi(T.none)),Ku=n=>yb(0,n,{tag:"required",process:{}}),Hm=n=>yb(0,n,{tag:"required",process:{}}),bn=(n,s)=>ba(n,ne(s)),oh=n=>ba(n,Et),nh=ne(jf);var r_=[Li("contextual",[rs("fadeInClass"),rs("fadeOutClass"),rs("transitionClass"),Bl("lazyContext"),vn("onShow"),vn("onShown"),vn("onHide"),vn("onHidden")]),_r("lazyViewport",()=>({bounds:Kr(),optScrollEnv:T.none()})),ni("modes",["top","bottom"],Ps),vn("onDocked"),vn("onUndocked")];const fs=ks({fields:r_,name:"docking",active:Zp,apis:Fm,state:Object.freeze({__proto__:null,init:n=>{const s=eo(!1),i=eo(!0),l=Vn(),u=eo(n.modes);return ki({isDocked:s.get,setDocked:s.set,getInitialPos:l.get,setInitialPos:l.set,clearInitialPos:l.clear,isVisible:i.get,setVisible:i.set,getModes:u.get,setModes:u.set,readState:()=>`docked:  ${s.get()}, visible: ${i.get()}, modes: ${u.get().join(",")}`})}})}),c1=_n([((n,s)=>({key:n,value:fd({can:(i,l)=>{const u=l.event,f=u.originator,p=u.target;return!((b,y,w)=>hn(y,b.element)&&!hn(y,w))(i,f,p)||(console.warn(us()+` did not get interpreted by the desired target. 
Originator: `+Fc(f)+`
Target: `+Fc(p)+`
Check the `+us()+" event handlers"),!1)}})}))(us())]);var vb=Object.freeze({__proto__:null,events:c1});let xb=0;const Pt=n=>{const s=new Date().getTime(),i=Math.floor(1e9*Math.random());return xb++,n+"_"+i+xb+String(s)},Sv=ne("alloy-id-"),rh=ne("data-alloy-id"),qp=Sv(),Hc=rh(),sh=(n,s)=>{Object.defineProperty(n.dom,Hc,{value:s,writable:!0})},Uf=n=>{const s=Sr(n)?n.dom[Hc]:null;return T.from(s)},vu=n=>Pt(n),Ev=Et,Gp=n=>{const s=u=>`The component must be in a context to execute: ${u}`+(n?`
`+Fc(n().element)+" is not in context.":""),i=u=>()=>{throw new Error(s(u))},l=u=>()=>{console.warn(s(u))};return{debugInfo:ne("fake"),triggerEvent:l("triggerEvent"),triggerFocus:l("triggerFocus"),triggerEscape:l("triggerEscape"),broadcast:l("broadcast"),broadcastOn:l("broadcastOn"),broadcastEvent:l("broadcastEvent"),build:i("build"),buildOrPatch:i("buildOrPatch"),addToWorld:i("addToWorld"),removeFromWorld:i("removeFromWorld"),addToGui:i("addToGui"),removeFromGui:i("removeFromGui"),getByUid:i("getByUid"),getByDom:i("getByDom"),isConnected:Le}},Zf=Gp(),kb=Pt("alloy-premade"),Av=n=>(Object.defineProperty(n.element.dom,kb,{value:n.uid,writable:!0}),Xi(kb,n)),wb=n=>lt(n,kb),_b=n=>((s,i)=>{const l=i.toString(),u=l.indexOf(")")+1,f=l.indexOf("("),p=l.substring(f+1,u-1).split(/,\s*/);return s.toFunctionAnnotation=()=>({name:"OVERRIDE",parameters:Ff(p.slice(1))}),s})((s,...i)=>n(s.getApis(),s,...i),n),d1=(n,s)=>{const i={};return Kn(n,(l,u)=>{Kn(l,(f,p)=>{const b=lt(i,p).getOr([]);i[p]=b.concat([s(u,f)])})}),i},Cb=n=>n.cHandler,s_=(n,s)=>({name:n,handler:s}),zv=(n,s)=>{const i={};return Ot(n,l=>{i[l.name()]=l.handlers(s)}),i},a_=(n,s,i)=>{const l=s[i];return l?((u,f,p,b)=>{try{const y=We(p,(w,E)=>{const _=w[f],O=E[f],L=b.indexOf(_),I=b.indexOf(O);if(L===-1)throw new Error("The ordering for "+u+" does not have an entry for "+_+`.
Order specified: `+JSON.stringify(b,null,2));if(I===-1)throw new Error("The ordering for "+u+" does not have an entry for "+O+`.
Order specified: `+JSON.stringify(b,null,2));return L<I?-1:I<L?1:0});return qo.value(y)}catch(y){return qo.error([y])}})("Event: "+i,"name",n,l).map(u=>(f=>({can:((y,w)=>(...E)=>Ao(y,(_,O)=>_&&(L=>L.can)(O).apply(void 0,E),!0))(f),abort:((y,w)=>(...E)=>Ao(y,(_,O)=>_||(L=>L.abort)(O).apply(void 0,E),!1))(f),run:(...y)=>{Ot(f,w=>{w.run.apply(void 0,y)})}}))(nt(u,f=>f.handler))):((u,f)=>qo.error(["The event ("+u+`) has more than one behaviour that listens to it.
When this occurs, you must specify an event ordering for the behaviours in your spec (e.g. [ "listing", "toggling" ]).
The behaviours that can trigger it are: `+JSON.stringify(nt(f,p=>p.name),null,2)]))(i,n)},Tv=(n,s)=>((i,l)=>{const u=(p=>{const b=[],y=[];return Ot(p,w=>{w.fold(E=>{b.push(E)},E=>{y.push(E)})}),{errors:b,values:y}})(i);return u.errors.length>0?(f=u.errors,qo.error(An(f))):((p,b)=>p.length===0?qo.value(b):qo.value(Ir(b,Bp.apply(void 0,p))))(u.values,l);var f})(tr(n,(i,l)=>(i.length===1?qo.value(i[0].handler):a_(i,s,l)).map(u=>{const f=(b=>{const y=(w=>Jt(w)?{can:Lt,abort:Le,run:w}:w)(b);return(w,E,..._)=>{const O=[w,E].concat(_);y.abort.apply(void 0,O)?E.stop():y.can.apply(void 0,O)&&y.run.apply(void 0,O)}})(u),p=i.length>1?kn(s[l],b=>Tt(i,y=>y.name===b)).join(" > "):i[0].name;return Xi(l,((b,y)=>({handler:b,purpose:y}))(f,p))})),{}),$m="alloy.base.behaviour",ah=to([la("dom","dom",{tag:"required",process:{}},to([Ze("tag"),Ae("styles",{}),Ae("classes",[]),Ae("attributes",{}),wn("value"),wn("innerHtml")])),Ze("components"),Ze("uid"),Ae("events",{}),Ae("apis",{}),la("eventOrder","eventOrder",(p1={[va()]:["disabling",$m,"toggling","typeaheadevents"],[us()]:[$m,"focusing","keying"],[Rc()]:[$m,"disabling","toggling","representing"],[Fr()]:[$m,"representing","streaming","invalidating"],[si()]:[$m,"representing","item-events","toolbar-button-events","tooltipping"],[j()]:["focusing",$m,"item-type-events"],[vi()]:["focusing",$m,"item-type-events"],[Vt()]:["item-type-events","tooltipping"],[mu()]:["receiving","reflecting","tooltipping"]},$u(ne(p1))),yi()),wn("domModification")]),u1=n=>n.events,Yu=n=>n.dom.value,Vm=(n,s)=>{if(s===void 0)throw new Error("Value.set was undefined");n.dom.value=s},Ov=(n,s,i)=>{i.fold(()=>ns(n,s),l=>{hn(l,s)||(ad(l,s),bs(l))})},Dv=(n,s,i)=>{const l=nt(s,i),u=In(n);return Ot(u.slice(l.length),bs),l},f1=(n,s,i,l)=>{const u=Ln(n,s),f=l(i,u),p=((b,y,w)=>Ln(b,y).map(E=>{if(w.exists(_=>!hn(_,E))){const _=w.map(Aa).getOr("span"),O=_s(_);return ad(E,O),O}return E}))(n,s,u);return Ov(n,f.element,p),f},Sb=(n,s)=>{const i=$o(n),l=$o(s),u=nn(l,i),f=((p,b)=>{const y={},w={};return qs(p,(E,_)=>!ro(s,_)||E!==s[_],Wr(y),Wr(w)),{t:y,f:w}})(n).t;return{toRemove:u,toSet:f}},i_=(n,s)=>{const i=s.filter(l=>Aa(l)===n.tag&&!(u=>u.innerHtml.isSome()&&u.domChildren.length>0)(n)&&!(u=>ro(u.dom,kb))(l)).bind(l=>((u,f)=>{try{const p=((b,y)=>{const{class:w,style:E,..._}=(Y=>Ao(Y.dom.attributes,(oe,re)=>(oe[re.name]=re.value,oe),{}))(y),{toSet:O,toRemove:L}=Sb(b.attributes,_),I=Zl(y),{toSet:K,toRemove:q}=Sb(b.styles,I),se=Jl(y),W=nn(se,b.classes),Z=nn(b.classes,se);return Ot(L,Y=>Er(y,Y)),qi(y,O),pr(y,Z),Cn(y,W),Ot(q,Y=>sn(y,Y)),cl(y,K),b.innerHtml.fold(()=>{const Y=b.domChildren;((oe,re)=>{Dv(oe,re,(be,Oe)=>{const Ke=Ln(oe,Oe);return Ov(oe,be,Ke),be})})(y,Y)},Y=>{Pc(y,Y)}),(()=>{const Y=y,oe=b.value.getOrUndefined();oe!==Yu(Y)&&Vm(Y,oe??"")})(),y})(u,f);return T.some(p)}catch{return T.none()}})(n,l)).getOrThunk(()=>(l=>{const u=_s(l.tag);qi(u,l.attributes),pr(u,l.classes),cl(u,l.styles),l.innerHtml.each(p=>Pc(u,p));const f=l.domChildren;return Dm(u,f),l.value.each(p=>{Vm(u,p)}),u})(n));return sh(i,n.uid),i},Rv=n=>{const s=(i=>{const l=lt(i,"behaviours").getOr({});return mn($o(l),u=>{const f=l[u];return It(f)?[f.me]:[]})})(n);return((i,l)=>((u,f)=>{const p=nt(f,y=>Li(y.name(),[Ze("config"),Ae("state",Xl)])),b=Lr("component.behaviours",to(p),u.behaviours).fold(y=>{throw new Error(dc(y)+`
Complete spec:
`+JSON.stringify(u,null,2))},Et);return{list:f,data:Mn(b,y=>{const w=y.map(E=>({config:E.config,state:E.state.init(E.config)}));return ne(w)})}})(i,l))(n,s)},Eb=(n,s)=>{const i=()=>O,l=eo(Zf),u=Yi((L=>Lr("custom.definition",ah,L))(n)),f=Rv(n),p=(L=>L.list)(f),b=(L=>L.data)(f),y=((L,I,K)=>{const q={...(se=L).dom,uid:se.uid,domChildren:nt(se.components,be=>be.element)};var se;const W=(be=>be.domModification.fold(()=>$s({}),$s))(L),Z={"alloy.base.modification":W},Y=I.length>0?((be,Oe,Ke,Je)=>{const at={...Oe};Ot(Ke,ln=>{at[ln.name()]=ln.exhibit(be,Je)});const kt=d1(at,(ln,is)=>({name:ln,modification:is})),Mt=ln=>fn(ln,(is,ms)=>({...ms.modification,...is}),{}),qt=fn(kt.classes,(ln,is)=>is.modification.concat(ln),[]),so=Mt(kt.attributes),Lo=Mt(kt.styles);return $s({classes:qt,attributes:so,styles:Lo})})(K,Z,I,q):W;return oe=q,re=Y,{...oe,attributes:{...oe.attributes,...re.attributes},styles:{...oe.styles,...re.styles},classes:oe.classes.concat(re.classes)};var oe,re})(u,p,b),w=i_(y,s),E=((L,I,K)=>{const q={"alloy.base.behaviour":u1(L)};return((se,W,Z,Y)=>{const oe=((re,be,Oe)=>{const Ke={...Oe,...zv(be,re)};return d1(Ke,s_)})(se,Z,Y);return Tv(oe,W)})(K,L.eventOrder,I,q).getOrDie()})(u,p,b),_=eo(u.components),O={uid:n.uid,getSystem:l.get,config:L=>{const I=b;return(Jt(I[L.name()])?I[L.name()]:()=>{throw new Error("Could not find "+L.name()+" in "+JSON.stringify(n,null,2))})()},hasConfigured:L=>Jt(b[L.name()]),spec:n,readState:L=>b[L]().map(I=>I.state.readState()).getOr("not enabled"),getApis:()=>u.apis,connect:L=>{l.set(L)},disconnect:()=>{l.set(Gp(i))},element:w,syncComponents:()=>{const L=In(w),I=mn(L,K=>l.get().getByDom(K).fold(()=>[],To));_.set(I)},components:_.get,events:E};return O},zr=n=>{const s=al(n);return ih({element:s})},ih=n=>{const s=ia("external.component",Bi([Ze("element"),wn("uid")]),n),i=eo(Gp()),l=s.uid.getOrThunk(()=>vu("external"));sh(s.element,l);const u={uid:l,getSystem:i.get,config:T.none,hasConfigured:Le,connect:f=>{i.set(f)},disconnect:()=>{i.set(Gp(()=>u))},getApis:()=>({}),element:s.element,spec:n,readState:ne("No state"),syncComponents:ut,components:ne([]),events:{}};return Av(u)},da=vu,m1=(n,s)=>wb(n).getOrThunk(()=>((i,l)=>{const{events:u,...f}=Ev(i),p=((y,w)=>{const E=lt(y,"components").getOr([]);return w.fold(()=>nt(E,Xs),_=>nt(E,(O,L)=>m1(O,Ln(_,L))))})(f,l),b={...f,events:{...vb,...u},components:p};return qo.value(Eb(b,l))})((i=>ro(i,"uid"))(n)?n:{uid:da(""),...n},s).getOrDie()),Xs=n=>m1(n,T.none()),Hl=Av;var p1,lh=(n,s,i,l,u)=>n(i,l)?T.some(i):Jt(u)&&u(i)?T.none():s(i,l,u);const Kp=(n,s,i)=>{let l=n.dom;const u=Jt(i)?i:Le;for(;l.parentNode;){l=l.parentNode;const f=wt(l);if(s(f))return T.some(f);if(u(f))break}return T.none()},jm=(n,s,i)=>lh((l,u)=>u(l),Kp,n,s,i),Xu=(n,s)=>$(n.dom.childNodes,i=>s(wt(i))).map(wt),Wf=(n,s,i)=>jm(n,s,i).isSome(),xu=(n,s,i)=>Kp(n,l=>Cl(l,s),i),l_=(n,s)=>((i,l)=>{const u=i.dom;return u.parentNode?Xu(wt(u.parentNode),f=>!hn(i,f)&&Cl(f,s)):T.none()})(n),Ab=(n,s)=>Xu(n,i=>Cl(i,s)),ss=(n,s)=>_c(s,n),jn=(n,s,i)=>lh((l,u)=>Cl(l,u),xu,n,s,i),Yp="aria-controls",g1=()=>{const n=Pt(Yp);return{id:n,link:s=>{uo(s,Yp,n)},unlink:s=>{Er(s,Yp)}}},qf=(n,s)=>Wf(s,i=>hn(i,n.element),Le)||((i,l)=>(u=>jm(u,f=>{if(!Sr(f))return!1;const p=hs(f,"id");return p!==void 0&&p.indexOf(Yp)>-1}).bind(f=>{const p=hs(f,"id"),b=Gr(f);return ss(b,`[${Yp}="${p}"]`)}))(l).exists(u=>qf(i,u)))(n,s),Vs=(n,s,i,l,u,f,p,b=!1)=>({x:n,y:s,bubble:i,direction:l,placement:u,restriction:f,label:`${p}-${u}`,alwaysFit:b}),$c=Pr([{southeast:[]},{southwest:[]},{northeast:[]},{northwest:[]},{south:[]},{north:[]},{east:[]},{west:[]}]),gc=$c.southeast,zb=$c.southwest,h1=$c.northeast,Tb=$c.northwest,Xp=$c.south,Ob=$c.north,Jp=$c.east,Nv=$c.west,Um=(n,s,i,l)=>{const u=n+s;return u>l?i:u<i?l:u},Vc=(n,s,i)=>Math.min(Math.max(n,s),i),_i=(n,s)=>dr(["left","right","top","bottom"],i=>lt(s,i).map(l=>((u,f)=>{switch(f){case 1:return u.x;case 0:return u.x+u.width;case 2:return u.y;case 3:return u.y+u.height}})(n,l))),Ju="layout",Mv=n=>n.x,Bv=(n,s)=>n.x+n.width/2-s.width/2,jc=(n,s)=>n.x+n.width-s.width,Fi=(n,s)=>n.y-s.height,Zm=n=>n.y+n.height,ch=(n,s)=>n.y+n.height/2-s.height/2,ka=(n,s,i)=>Vs(Mv(n),Zm(n),i.southeast(),gc(),"southeast",_i(n,{left:1,top:3}),Ju),ws=(n,s,i)=>Vs(jc(n,s),Zm(n),i.southwest(),zb(),"southwest",_i(n,{right:0,top:3}),Ju),Js=(n,s,i)=>Vs(Mv(n),Fi(n,s),i.northeast(),h1(),"northeast",_i(n,{left:1,bottom:2}),Ju),js=(n,s,i)=>Vs(jc(n,s),Fi(n,s),i.northwest(),Tb(),"northwest",_i(n,{right:0,bottom:2}),Ju),Jn=(n,s,i)=>Vs(Bv(n,s),Fi(n,s),i.north(),Ob(),"north",_i(n,{bottom:2}),Ju),Xr=(n,s,i)=>Vs(Bv(n,s),Zm(n),i.south(),Xp(),"south",_i(n,{top:3}),Ju),Wm=(n,s,i)=>Vs((l=>l.x+l.width)(n),ch(n,s),i.east(),Jp(),"east",_i(n,{left:0}),Ju),Db=(n,s,i)=>Vs(((l,u)=>l.x-u.width)(n,s),ch(n,s),i.west(),Nv(),"west",_i(n,{right:1}),Ju),b1=()=>[ka,ws,Js,js,Xr,Jn,Wm,Db],y1=()=>[ws,ka,js,Js,Xr,Jn,Wm,Db],dh=()=>[Js,js,ka,ws,Jn,Xr],v1=()=>[js,Js,ws,ka,Jn,Xr],Gf=()=>[ka,ws,Js,js,Xr,Jn],Rb=()=>[ws,ka,js,Js,Xr,Jn];var Iv=Object.freeze({__proto__:null,events:n=>_n([Ue(mu(),(s,i)=>{const l=n.channels,u=$o(l),f=i,p=((b,y)=>y.universal?b:kn(b,w=>_e(y.channels,w)))(u,f);Ot(p,b=>{const y=l[b],w=y.schema,E=ia("channel["+b+`] data
Receiver: `+Fc(s.element),w,f.data);y.onReceive(s,E)})})])}),x1=[ya("channels",ju(qo.value,Bi([Ku("onReceive"),Ae("schema",yi())])))];const Ci=ks({fields:x1,name:"receiving",active:Iv});var Qp=Object.freeze({__proto__:null,exhibit:(n,s)=>$s({classes:[],styles:s.useFixed()?{}:{position:"relative"}})});const Uc=(n,s=!1)=>n.dom.focus({preventScroll:s}),qm=n=>n.dom.blur(),Gm=n=>{const s=Gr(n).dom;return n.dom===s.activeElement},tl=(n=Kl())=>T.from(n.dom.activeElement).map(wt),Hi=n=>tl(Gr(n)).filter(s=>n.dom.contains(s.dom)),Kf=(n,s)=>{const i=Gr(s),l=tl(i).bind(f=>{const p=b=>hn(f,b);return p(s)?T.some(s):((b,y)=>{const w=E=>{for(let _=0;_<E.childNodes.length;_++){const O=wt(E.childNodes[_]);if(y(O))return T.some(O);const L=w(E.childNodes[_]);if(L.isSome())return L}return T.none()};return w(b.dom)})(s,p)}),u=n(s);return l.each(f=>{tl(i).filter(p=>hn(p,f)).fold(()=>{Uc(f)},ut)}),u},Km=Pr([{none:[]},{relative:["x","y","width","height"]},{fixed:["x","y","width","height"]}]),k1=(n,s,i,l,u,f)=>{const p=s.rect,b=p.x-i,y=p.y-l,w=u-(b+p.width),E=f-(y+p.height),_=T.some(b),O=T.some(y),L=T.some(w),I=T.some(E),K=T.none();return s.direction.fold(()=>Es(n,_,O,K,K),()=>Es(n,K,O,L,K),()=>Es(n,_,K,K,I),()=>Es(n,K,K,L,I),()=>Es(n,_,O,K,K),()=>Es(n,_,K,K,I),()=>Es(n,_,O,K,K),()=>Es(n,K,O,L,K))},Qu=(n,s)=>n.fold(()=>{const i=s.rect;return Es("absolute",T.some(i.x),T.some(i.y),T.none(),T.none())},(i,l,u,f)=>k1("absolute",s,i,l,u,f),(i,l,u,f)=>k1("fixed",s,i,l,u,f)),Nb=(n,s)=>{const i=dt(Fu,s),l=n.fold(i,i,()=>{const p=ys();return Fu(s).translate(-p.left,-p.top)}),u=Or(s),f=$e(s);return Ss(l.left,l.top,u,f)},Mb=(n,s)=>s.fold(()=>n.fold(Kr,Kr,Ss),i=>n.fold(ne(i),ne(i),()=>{const l=eg(n,i.x,i.y);return Ss(l.left,l.top,i.width,i.height)})),eg=(n,s,i)=>{const l=_t(s,i);return n.fold(ne(l),ne(l),()=>{const u=ys();return l.translate(-u.left,-u.top)})};Km.none;const Lv=Km.relative,Bb=Km.fixed,Ib="data-alloy-placement",w1=n=>ls(n,Ib),Ym=Pr([{fit:["reposition"]},{nofit:["reposition","visibleW","visibleH","isVisible"]}]),c_=(n,s,i,l)=>{const u=n.bubble,f=u.offset,p=((Y,oe,re)=>{const be=(kt,Mt)=>oe[kt].map(qt=>{const so=kt==="top"||kt==="bottom",Lo=so?re.top:re.left,ln=(kt==="left"||kt==="top"?Math.max:Math.min)(qt,Mt)+Lo;return so?Vc(ln,Y.y,Y.bottom):Vc(ln,Y.x,Y.right)}).getOr(Mt),Oe=be("left",Y.x),Ke=be("top",Y.y),Je=be("right",Y.right),at=be("bottom",Y.bottom);return Ss(Oe,Ke,Je-Oe,at-Ke)})(l,n.restriction,f),b=n.x+f.left,y=n.y+f.top,w=Ss(b,y,s,i),{originInBounds:E,sizeInBounds:_,visibleW:O,visibleH:L}=((Y,oe)=>{const{x:re,y:be,right:Oe,bottom:Ke}=oe,{x:Je,y:at,right:kt,bottom:Mt,width:qt,height:so}=Y;return{originInBounds:Je>=re&&Je<=Oe&&at>=be&&at<=Ke,sizeInBounds:kt<=Oe&&kt>=re&&Mt<=Ke&&Mt>=be,visibleW:Math.min(qt,Je>=re?Oe-Je:kt-re),visibleH:Math.min(so,at>=be?Ke-at:Mt-be)}})(w,p),I=E&&_,K=I?w:((Y,oe)=>{const{x:re,y:be,right:Oe,bottom:Ke}=oe,{x:Je,y:at,width:kt,height:Mt}=Y,qt=Math.max(re,Oe-kt),so=Math.max(be,Ke-Mt),Lo=Vc(Je,re,qt),ln=Vc(at,be,so),is=Math.min(Lo+kt,Oe)-Lo,ms=Math.min(ln+Mt,Ke)-ln;return Ss(Lo,ln,is,ms)})(w,p),q=K.width>0&&K.height>0,{maxWidth:se,maxHeight:W}=((Y,oe,re)=>{const be=ne(oe.bottom-re.y),Oe=ne(re.bottom-oe.y),Ke=((Mt,qt,so,Lo)=>Mt.fold(qt,qt,Lo,Lo,qt,Lo,so,so))(Y,Oe,Oe,be),Je=ne(oe.right-re.x),at=ne(re.right-oe.x);return{maxWidth:((Mt,qt,so,Lo)=>Mt.fold(qt,Lo,qt,Lo,so,so,qt,Lo))(Y,at,at,Je),maxHeight:Ke}})(n.direction,K,l),Z={rect:K,maxHeight:W,maxWidth:se,direction:n.direction,placement:n.placement,classes:{on:u.classesOn,off:u.classesOff},layout:n.label,testY:y};return I||n.alwaysFit?Ym.fit(Z):Ym.nofit(Z,O,L,q)},Xm=Lt,$i=(n,s,i)=>((l,u,f,p)=>Gl(l,u,f,p,!1))(n,s,Xm,i),ku=(n,s,i)=>((l,u,f,p)=>Gl(l,u,f,p,!0))(n,s,Xm,i),Pv=en,Gd=["top","bottom","right","left"],Yf="data-alloy-transition-timer",Lb=(n,s,i,l,u,f)=>{const p=((b,y,w)=>w.exists(E=>{const _=b.mode;return _==="all"||E[_]!==y[_]}))(l,u,f);if(p||((b,y)=>((w,E)=>Ga(E,_=>Zo(w,_)))(b,y.classes))(n,l)){mo(n,"position",i.position);const b=Nb(s,n),y=Qu(s,{...u,rect:b}),w=dr(Gd,E=>y[E]);((E,_)=>{const O=L=>parseFloat(L).toFixed(3);return Ko(_,(L,I)=>!((K,q,se=ve)=>st(K,q,se).getOr(K.isNone()&&q.isNone()))(E[I].map(O),L.map(O))).isSome()})(i,w)&&(Ta(n,w),p&&((E,_)=>{pr(E,_.classes),ls(E,Yf).each(O=>{clearTimeout(parseInt(O,10)),Er(E,Yf)}),((O,L)=>{const I=Qa(),K=Qa();let q;const se=oe=>{var re;const be=(re=oe.raw.pseudoElement)!==null&&re!==void 0?re:"";return hn(oe.target,O)&&ui(be)&&_e(Gd,oe.raw.propertyName)},W=oe=>{if(Ur(oe)||se(oe)){I.clear(),K.clear();const re=oe==null?void 0:oe.raw.type;(Ur(re)||re===Nf())&&(clearTimeout(q),Er(O,Yf),Cn(O,L.classes))}},Z=$i(O,_v(),oe=>{se(oe)&&(Z.unbind(),I.set($i(O,Nf(),W)),K.set($i(O,ri(),W)))}),Y=(oe=>{const re=Je=>{const at=ur(oe,Je).split(/\s*,\s*/);return kn(at,ra)},be=Je=>{if(So(Je)&&/^[\d.]+/.test(Je)){const at=parseFloat(Je);return Ba(Je,"ms")?at:1e3*at}return 0},Oe=re("transition-delay"),Ke=re("transition-duration");return Ao(Ke,(Je,at,kt)=>{const Mt=be(Oe[kt])+be(at);return Math.max(Je,Mt)},0)})(O);requestAnimationFrame(()=>{q=setTimeout(W,Y+17),uo(O,Yf,q)})})(E,_)})(n,l),ql(n))}else Cn(n,l.classes)},wu=(n,s)=>{((i,l)=>{const u=pe.max(i,l,["margin-top","border-top-width","padding-top","padding-bottom","border-bottom-width","margin-bottom"]);mo(i,"max-height",u+"px")})(n,Math.floor(s))},_1=ne((n,s)=>{wu(n,s),cl(n,{"overflow-x":"hidden","overflow-y":"auto"})}),Kd=ne((n,s)=>{wu(n,s)}),tg=(n,s,i)=>n[s]===void 0?i:n[s],Xf=(n,s,i,l)=>{const u=((f,p,b,y)=>{sn(p,"max-height"),sn(p,"max-width");const w={width:Or(E=p),height:$e(E)};var E;return((_,O,L,I,K,q)=>{const se=I.width,W=I.height,Z=(Y,oe,re,be,Oe)=>{const Ke=Y(L,I,K,_,q),Je=c_(Ke,se,W,q);return Je.fold(ne(Je),(at,kt,Mt,qt)=>(Oe===qt?Mt>be||kt>re:!Oe&&qt)?Je:Ym.nofit(oe,re,be,Oe))};return Ao(O,(Y,oe)=>{const re=dt(Z,oe);return Y.fold(ne(Y),re)},Ym.nofit({rect:L,maxHeight:I.height,maxWidth:I.width,direction:gc(),placement:"southeast",classes:{on:[],off:[]},layout:"none",testY:L.y},-1,-1,!1)).fold(Et,Et)})(p,y.preference,f,w,b,y.bounds)})(n,s,i,l);return((f,p,b)=>{const y=Qu(b.origin,p);b.transition.each(w=>{Lb(f,b.origin,y,w,p,b.lastPlacement)}),wi(f,y)})(s,u,l),((f,p)=>{((b,y)=>{uo(b,Ib,y)})(f,p.placement)})(s,u),((f,p)=>{const b=p.classes;Cn(f,b.off),pr(f,b.on)})(s,u),((f,p,b)=>{(0,b.maxHeightFunction)(f,p.maxHeight)})(s,u,l),((f,p,b)=>{(0,b.maxWidthFunction)(f,p.maxWidth)})(s,u,l),{layout:u.layout,placement:u.placement}},Fv=["valignCentre","alignLeft","alignRight","alignCentre","top","bottom","left","right","inset"],$l=(n,s,i,l=1)=>{const u=n*l,f=s*l,p=y=>lt(i,y).getOr([]),b=(y,w,E)=>{const _=nn(Fv,E);return{offset:_t(y,w),classesOn:mn(E,p),classesOff:mn(_,p)}};return{southeast:()=>b(-n,s,["top","alignLeft"]),southwest:()=>b(n,s,["top","alignRight"]),south:()=>b(-n/2,s,["top","alignCentre"]),northeast:()=>b(-n,-s,["bottom","alignLeft"]),northwest:()=>b(n,-s,["bottom","alignRight"]),north:()=>b(-n/2,-s,["bottom","alignCentre"]),east:()=>b(n,-s/2,["valignCentre","left"]),west:()=>b(-n,-s/2,["valignCentre","right"]),insetNortheast:()=>b(u,f,["top","alignLeft","inset"]),insetNorthwest:()=>b(-u,f,["top","alignRight","inset"]),insetNorth:()=>b(-u/2,f,["top","alignCentre","inset"]),insetSoutheast:()=>b(u,-f,["bottom","alignLeft","inset"]),insetSouthwest:()=>b(-u,-f,["bottom","alignRight","inset"]),insetSouth:()=>b(-u/2,-f,["bottom","alignCentre","inset"]),insetEast:()=>b(-u,-f/2,["valignCentre","right","inset"]),insetWest:()=>b(u,-f/2,["valignCentre","left","inset"])}},Zc=()=>$l(0,0,{}),uh=Et,Qs=(n,s)=>i=>Pb(i)==="rtl"?s:n,Pb=n=>ur(n,"direction")==="rtl"?"rtl":"ltr";var wa;(function(n){n.TopToBottom="toptobottom",n.BottomToTop="bottomtotop"})(wa||(wa={}));const Fb="data-alloy-vertical-dir",Hv=n=>Wf(n,s=>Sr(s)&&hs(s,"data-alloy-vertical-dir")===wa.BottomToTop),Wc=()=>Li("layouts",[Ze("onLtr"),Ze("onRtl"),wn("onBottomLtr"),wn("onBottomRtl")]),_u=(n,s,i,l,u,f,p)=>{const b=p.map(Hv).getOr(!1),y=s.layouts.map(O=>O.onLtr(n)),w=s.layouts.map(O=>O.onRtl(n)),E=b?s.layouts.bind(O=>O.onBottomLtr.map(L=>L(n))).or(y).getOr(u):y.getOr(i),_=b?s.layouts.bind(O=>O.onBottomRtl.map(L=>L(n))).or(w).getOr(f):w.getOr(l);return Qs(E,_)(n)};var ef=[Ze("hotspot"),wn("bubble"),Ae("overrides",{}),Wc(),bn("placement",(n,s,i)=>{const l=s.hotspot,u=Nb(i,l.element),f=_u(n.element,s,Gf(),Rb(),dh(),v1(),T.some(s.hotspot.element));return T.some(uh({anchorBox:u,bubble:s.bubble.getOr(Zc()),overrides:s.overrides,layouts:f}))})],qc=[Ze("x"),Ze("y"),Ae("height",0),Ae("width",0),Ae("bubble",Zc()),Ae("overrides",{}),Wc(),bn("placement",(n,s,i)=>{const l=eg(i,s.x,s.y),u=Ss(l.left,l.top,s.width,s.height),f=_u(n.element,s,b1(),y1(),b1(),y1(),T.none());return T.some(uh({anchorBox:u,bubble:s.bubble,overrides:s.overrides,layouts:f}))})];const C1=Pr([{screen:["point"]},{absolute:["point","scrollLeft","scrollTop"]}]),$v=n=>n.fold(Et,(s,i,l)=>s.translate(-i,-l)),fh=n=>n.fold(Et,Et),Jm=n=>Ao(n,(s,i)=>s.translate(i.left,i.top),_t(0,0)),S1=n=>{const s=nt(n,fh);return Jm(s)},Hb=C1.screen,mh=C1.absolute,E1=(n,s,i)=>{const l=Gs(n.element),u=ys(l),f=((p,b,y)=>{const w=Bd(y.root).dom;return T.from(w.frameElement).map(wt).filter(E=>{const _=Gs(E),O=Gs(p.element);return hn(_,O)}).map(or)})(n,0,i).getOr(u);return mh(f,u.left,u.top)},Cu=(n,s,i,l)=>{const u=Hb(_t(n,s));return T.some(((f,p,b)=>({point:f,width:p,height:b}))(u,i,l))},ph=(n,s,i,l,u)=>n.map(f=>{const p=[s,f.point],b=(y=()=>S1(p),w=()=>S1(p),E=()=>(Z=>{const Y=nt(Z,$v);return Jm(Y)})(p),l.fold(y,w,E));var y,w,E;const _=(K=b.left,q=b.top,se=f.width,W=f.height,{x:K,y:q,width:se,height:W}),O=i.showAbove?dh():Gf(),L=i.showAbove?v1():Rb(),I=_u(u,i,O,L,O,L,T.none());var K,q,se,W;return uh({anchorBox:_,bubble:i.bubble.getOr(Zc()),overrides:i.overrides,layouts:I})});var tf=[Ze("node"),Ze("root"),wn("bubble"),Wc(),Ae("overrides",{}),Ae("showAbove",!1),bn("placement",(n,s,i)=>{const l=E1(n,0,s);return s.node.filter(Yn).bind(u=>{const f=u.dom.getBoundingClientRect(),p=Cu(f.left,f.top,f.width,f.height),b=s.node.getOr(n.element);return ph(p,l,s,i,b)})})];const Ql=(n,s,i,l)=>({start:n,soffset:s,finish:i,foffset:l}),$b=Pr([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),d_=($b.before,$b.on,$b.after,n=>n.fold(Et,Et,Et)),Jf=Pr([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),hc={domRange:Jf.domRange,relative:Jf.relative,exact:Jf.exact,exactFromRange:n=>Jf.exact(n.start,n.soffset,n.finish,n.foffset),getWin:n=>{const s=(i=>i.match({domRange:l=>wt(l.startContainer),relative:(l,u)=>d_(l),exact:(l,u,f,p)=>l}))(n);return Bd(s)},range:Ql},og=(n,s,i)=>{const l=n.document.createRange();var u;return u=l,s.fold(f=>{u.setStartBefore(f.dom)},(f,p)=>{u.setStart(f.dom,p)},f=>{u.setStartAfter(f.dom)}),((f,p)=>{p.fold(b=>{f.setEndBefore(b.dom)},(b,y)=>{f.setEnd(b.dom,y)},b=>{f.setEndAfter(b.dom)})})(l,i),l},gh=(n,s,i,l,u)=>{const f=n.document.createRange();return f.setStart(s.dom,i),f.setEnd(l.dom,u),f},hh=n=>({left:n.left,top:n.top,right:n.right,bottom:n.bottom,width:n.width,height:n.height}),Qm=Pr([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),Vb=(n,s,i)=>s(wt(i.startContainer),i.startOffset,wt(i.endContainer),i.endOffset),A1=(n,s)=>((i,l)=>{const u=((f,p)=>p.match({domRange:b=>({ltr:ne(b),rtl:T.none}),relative:(b,y)=>({ltr:Ti(()=>og(f,b,y)),rtl:Ti(()=>T.some(og(f,y,b)))}),exact:(b,y,w,E)=>({ltr:Ti(()=>gh(f,b,y,w,E)),rtl:Ti(()=>T.some(gh(f,w,E,b,y)))})}))(i,l);return((f,p)=>{const b=p.ltr();return b.collapsed?p.rtl().filter(y=>y.collapsed===!1).map(y=>Qm.rtl(wt(y.endContainer),y.endOffset,wt(y.startContainer),y.startOffset)).getOrThunk(()=>Vb(0,Qm.ltr,b)):Vb(0,Qm.ltr,b)})(0,u)})(n,s).match({ltr:(i,l,u,f)=>{const p=n.document.createRange();return p.setStart(i.dom,l),p.setEnd(u.dom,f),p},rtl:(i,l,u,f)=>{const p=n.document.createRange();return p.setStart(u.dom,f),p.setEnd(i.dom,l),p}});Qm.ltr,Qm.rtl;const ng=(n,s,i)=>kn(((l,u)=>{const f=Jt(u)?u:Le;let p=l.dom;const b=[];for(;p.parentNode!==null&&p.parentNode!==void 0;){const y=p.parentNode,w=wt(y);if(b.push(w),f(w)===!0)break;p=y}return b})(n,i),s),ua=(n,s)=>((i,l)=>{const u=l===void 0?document:l.dom;return il(u)?[]:nt(u.querySelectorAll(i),wt)})(s,n),z1=n=>{if(n.rangeCount>0){const s=n.getRangeAt(0),i=n.getRangeAt(n.rangeCount-1);return T.some(Ql(wt(s.startContainer),s.startOffset,wt(i.endContainer),i.endOffset))}return T.none()},u_=n=>{if(n.anchorNode===null||n.focusNode===null)return z1(n);{const s=wt(n.anchorNode),i=wt(n.focusNode);return((l,u,f,p)=>{const b=((w,E,_,O)=>{const L=Gs(w).dom.createRange();return L.setStart(w.dom,E),L.setEnd(_.dom,O),L})(l,u,f,p),y=hn(l,f)&&u===p;return b.collapsed&&!y})(s,n.anchorOffset,i,n.focusOffset)?T.some(Ql(s,n.anchorOffset,i,n.focusOffset)):z1(n)}},jb=(n,s)=>(i=>{const l=i.getClientRects(),u=l.length>0?l[0]:i.getBoundingClientRect();return u.width>0||u.height>0?T.some(u).map(hh):T.none()})(A1(n,s)),Vv=((n,s)=>{const i=l=>n(l)?T.from(l.dom.nodeValue):T.none();return{get:l=>{if(!n(l))throw new Error("Can only get text value of a text node");return i(l).getOr("")},getOption:i,set:(l,u)=>{if(!n(l))throw new Error("Can only set raw text value of a text node");l.dom.nodeValue=u}}})(Os),rg=(n,s)=>({element:n,offset:s}),Qf=(n,s)=>Os(n)?rg(n,s):((i,l)=>{const u=In(i);if(u.length===0)return rg(i,l);if(l<u.length)return rg(u[l],0);{const f=u[u.length-1],p=Os(f)?(b=>Vv.get(b))(f).length:In(f).length;return rg(f,p)}})(n,s),Ub=n=>n.foffset!==void 0,Zb=(n,s)=>s.getSelection.getOrThunk(()=>()=>(i=>(l=>T.from(l.getSelection()))(i).filter(l=>l.rangeCount>0).bind(u_))(n))().map(i=>{if(Ub(i)){const l=Qf(i.start,i.soffset),u=Qf(i.finish,i.foffset);return hc.range(l.element,l.offset,u.element,u.offset)}return i});var jv=[wn("getSelection"),Ze("root"),wn("bubble"),Wc(),Ae("overrides",{}),Ae("showAbove",!1),bn("placement",(n,s,i)=>{const l=Bd(s.root).dom,u=E1(n,0,s),f=Zb(l,s).bind(b=>{if(Ub(b))return((w,E)=>(_=>{const O=_.getBoundingClientRect();return O.width>0||O.height>0?T.some(O).map(hh):T.none()})(A1(w,E)))(l,hc.exactFromRange(b)).orThunk(()=>{const w=al("\uFEFF");ad(b.start,w);const E=jb(l,hc.exact(w,0,w,1));return bs(w),E}).bind(w=>Cu(w.left,w.top,w.width,w.height));{const y=Mn(b,E=>E.dom.getBoundingClientRect()),w={left:Math.min(y.firstCell.left,y.lastCell.left),right:Math.max(y.firstCell.right,y.lastCell.right),top:Math.min(y.firstCell.top,y.lastCell.top),bottom:Math.max(y.firstCell.bottom,y.lastCell.bottom)};return Cu(w.left,w.top,w.right-w.left,w.bottom-w.top)}}),p=Zb(l,s).bind(b=>Ub(b)?Sr(b.start)?T.some(b.start):qr(b.start):T.some(b.firstCell)).getOr(n.element);return ph(f,u,s,i,p)})];const Wb="link-layout",em=n=>n.x+n.width,qb=(n,s)=>n.x-s.width,Uv=(n,s)=>n.y-s.height+n.height,hd=n=>n.y,Zv=(n,s,i)=>Vs(em(n),hd(n),i.southeast(),gc(),"southeast",_i(n,{left:0,top:2}),Wb),bh=(n,s,i)=>Vs(qb(n,s),hd(n),i.southwest(),zb(),"southwest",_i(n,{right:1,top:2}),Wb),Wv=(n,s,i)=>Vs(em(n),Uv(n,s),i.northeast(),h1(),"northeast",_i(n,{left:0,bottom:3}),Wb),qv=(n,s,i)=>Vs(qb(n,s),Uv(n,s),i.northwest(),Tb(),"northwest",_i(n,{right:1,bottom:3}),Wb),ep=()=>[Zv,bh,Wv,qv],tp=()=>[bh,Zv,qv,Wv];var Gb=[Ze("item"),Wc(),Ae("overrides",{}),bn("placement",(n,s,i)=>{const l=Nb(i,s.item.element),u=_u(n.element,s,ep(),tp(),ep(),tp(),T.none());return T.some(uh({anchorBox:l,bubble:Zc(),overrides:s.overrides,layouts:u}))})],f_=xs("type",{selection:jv,node:tf,hotspot:ef,submenu:Gb,makeshift:qc});const Gc=[Fa("classes",Ps),Ll("mode","all",["all","layout","placement"])],op=[Ae("useFixed",Le),wn("getBounds")],of=[ya("anchor",f_),Li("transition",Gc)],Gv=(n,s,i,l,u,f)=>{const p=ia("placement.info",to(of),u),b=p.anchor,y=l.element,w=i.get(l.uid);Kf(()=>{mo(y,"position","fixed");const E=cs(y,"visibility");mo(y,"visibility","hidden");const _=s.useFixed()?(()=>{const O=document.documentElement;return Bb(0,0,O.clientWidth,O.clientHeight)})():(O=>{const L=or(O.element),I=O.element.dom.getBoundingClientRect();return Lv(L.left,L.top,I.width,I.height)})(n);b.placement(n,b,_).each(O=>{const L=f.orThunk(()=>s.getBounds.map(vo)),I=((K,q,se,W,Z,Y)=>((oe,re,be,Oe,Ke,Je,at,kt)=>{const Mt=tg(at,"maxHeightFunction",_1()),qt=tg(at,"maxWidthFunction",ut),so=oe.anchorBox,Lo=oe.origin,ln={bounds:Mb(Lo,Je),origin:Lo,preference:Oe,maxHeightFunction:Mt,maxWidthFunction:qt,lastPlacement:Ke,transition:kt};return Xf(so,re,be,ln)})(((oe,re)=>((be,Oe)=>({anchorBox:be,origin:Oe}))(oe,re))(q.anchorBox,K),W.element,q.bubble,q.layouts,Z,se,q.overrides,Y))(_,O,L,l,w,p.transition);i.set(l.uid,I)}),E.fold(()=>{sn(y,"visibility")},O=>{mo(y,"visibility",O)}),cs(y,"left").isNone()&&cs(y,"top").isNone()&&cs(y,"right").isNone()&&cs(y,"bottom").isNone()&&gs(cs(y,"position"),"fixed")&&sn(y,"position")},y)};var np=Object.freeze({__proto__:null,position:(n,s,i,l,u)=>{const f=T.none();Gv(n,s,i,l,u,f)},positionWithinBounds:Gv,getMode:(n,s,i)=>s.useFixed()?"fixed":"absolute",reset:(n,s,i,l)=>{const u=l.element;Ot(["position","left","right","top","bottom"],f=>sn(u,f)),(f=>{Er(f,Ib)})(u),i.clear(l.uid)}});const ai=ks({fields:op,name:"positioning",active:Qp,apis:np,state:Object.freeze({__proto__:null,init:()=>{let n={};return ki({readState:()=>n,clear:s=>{It(s)?delete n[s]:n={}},set:(s,i)=>{n[s]=i},get:s=>lt(n,s)})}})}),Kb=n=>n.getSystem().isConnected(),tm=n=>{jo(n,si());const s=n.components();Ot(s,tm)},rp=n=>{const s=n.components();Ot(s,rp),jo(n,Qi())},yh=(n,s)=>{n.getSystem().addToWorld(s),Yn(n.element)&&rp(s)},vh=n=>{tm(n),n.getSystem().removeFromWorld(n)},Yb=(n,s)=>{ns(n.element,s.element)},Su=(n,s)=>{Xb(n,s,ns)},Xb=(n,s,i)=>{n.getSystem().addToWorld(s),i(n.element,s.element),Yn(n.element)&&rp(s),n.syncComponents()},Jb=n=>{tm(n),bs(n.element),n.getSystem().removeFromWorld(n)},pl=n=>{const s=mi(n.element).bind(i=>n.getSystem().getByDom(i).toOptional());Jb(n),s.each(i=>{i.syncComponents()})},Eu=n=>{const s=n.components();Ot(s,Jb),Ki(n.element),n.syncComponents()},Qb=(n,s)=>{sp(n,s,ns)},Fe=(n,s)=>{sp(n,s,iu)},sp=(n,s,i)=>{i(n,s.element);const l=In(s.element);Ot(l,u=>{s.getByDom(u).each(rp)})},Kv=n=>{const s=In(n.element);Ot(s,i=>{n.getByDom(i).each(tm)}),bs(n.element)},Yv=(n,s,i,l)=>{i.get().each(p=>{Eu(n)});const u=s.getAttachPoint(n);Su(u,n);const f=n.getSystem().build(l);return Su(n,f),i.set(f),f},ey=(n,s,i,l)=>{const u=Yv(n,s,i,l);return s.onOpen(n,u),u},bd=(n,s,i)=>{i.get().each(l=>{Eu(n),pl(n),s.onClose(n,l),i.clear()})},T1=(n,s,i)=>i.isOpen(),ty=(n,s,i)=>{const l=s.getAttachPoint(n);mo(n.element,"position",ai.getMode(l)),((u,f,p,b)=>{cs(u.element,f).fold(()=>{Er(u.element,p)},y=>{uo(u.element,p,y)}),mo(u.element,f,"hidden")})(n,"visibility",s.cloakVisibilityAttr)},xh=(n,s,i)=>{(l=>Tt(["top","left","right","bottom"],u=>cs(l,u).isSome()))(n.element)||sn(n.element,"position"),((l,u,f)=>{ls(l.element,f).fold(()=>sn(l.element,u),p=>mo(l.element,u,p))})(n,"visibility",s.cloakVisibilityAttr)};var O1=Object.freeze({__proto__:null,cloak:ty,decloak:xh,open:ey,openWhileCloaked:(n,s,i,l,u)=>{ty(n,s),ey(n,s,i,l),u(),xh(n,s)},close:bd,isOpen:T1,isPartOf:(n,s,i,l)=>T1(0,0,i)&&i.get().exists(u=>s.isPartOf(n,u,l)),getState:(n,s,i)=>i.get(),setContent:(n,s,i,l)=>i.get().map(()=>Yv(n,s,i,l))}),m_=Object.freeze({__proto__:null,events:(n,s)=>_n([Ue(Lp(),(i,l)=>{bd(i,n,s)})])}),Xv=[vn("onOpen"),vn("onClose"),Ze("isPartOf"),Ze("getAttachPoint"),Ae("cloakVisibilityAttr","data-precloak-visibility")],m=Object.freeze({__proto__:null,init:()=>{const n=Vn(),s=ne("not-implemented");return ki({readState:s,isOpen:n.isSet,clear:n.clear,set:n.set,get:n.get})}});const h=ks({fields:Xv,name:"sandboxing",active:m_,apis:O1,state:m}),x=ne("dismiss.popups"),S=ne("reposition.popups"),D=ne("mouse.released"),R=Bi([Ae("isExtraPart",Le),Li("fireEventInstead",[Ae("event",Nc())])]),H=n=>{const s=ia("Dismissal",R,n);return{[x()]:{schema:Bi([Ze("target")]),onReceive:(i,l)=>{h.isOpen(i)&&(h.isPartOf(i,l.target)||s.isExtraPart(i,l.target)||s.fireEventInstead.fold(()=>h.close(i),u=>jo(i,u.event)))}}}},U=Bi([Li("fireEventInstead",[Ae("event",gb())]),Bl("doReposition")]),te=n=>{const s=ia("Reposition",U,n);return{[S()]:{onReceive:i=>{h.isOpen(i)&&s.fireEventInstead.fold(()=>s.doReposition(i),l=>jo(i,l.event))}}}},de=(n,s,i)=>{s.store.manager.onLoad(n,s,i)},xe=(n,s,i)=>{s.store.manager.onUnload(n,s,i)};var le=Object.freeze({__proto__:null,onLoad:de,onUnload:xe,setValue:(n,s,i,l)=>{s.store.manager.setValue(n,s,i,l)},getValue:(n,s,i)=>s.store.manager.getValue(n,s,i),getState:(n,s,i)=>i}),me=Object.freeze({__proto__:null,events:(n,s)=>{const i=n.resetOnDom?[Ar((l,u)=>{de(l,n,s)}),gd((l,u)=>{xe(l,n,s)})]:[ca(n,s,de)];return _n(i)}});const he=()=>{const n=eo(null);return ki({set:n.set,get:n.get,isNotSet:()=>n.get()===null,clear:()=>{n.set(null)},readState:()=>({mode:"memory",value:n.get()})})},ze=()=>{const n=eo({}),s=eo({});return ki({readState:()=>({mode:"dataset",dataByValue:n.get(),dataByText:s.get()}),lookup:i=>lt(n.get(),i).orThunk(()=>lt(s.get(),i)),update:i=>{const l=n.get(),u=s.get(),f={},p={};Ot(i,b=>{f[b.value]=b,lt(b,"meta").each(y=>{lt(y,"text").each(w=>{p[w]=b})})}),n.set({...l,...f}),s.set({...u,...p})},clear:()=>{n.set({}),s.set({})}})};var Te=Object.freeze({__proto__:null,memory:he,dataset:ze,manual:()=>ki({readState:ut}),init:n=>n.store.manager.state(n)});const qe=(n,s,i,l)=>{const u=s.store;i.update([l]),u.setValue(n,l),s.onSetValue(n,l)};var Xe=[wn("initialValue"),Ze("getFallbackEntry"),Ze("getDataKey"),Ze("setValue"),bn("manager",{setValue:qe,getValue:(n,s,i)=>{const l=s.store,u=l.getDataKey(n);return i.lookup(u).getOrThunk(()=>l.getFallbackEntry(u))},onLoad:(n,s,i)=>{s.store.initialValue.each(l=>{qe(n,s,i,l)})},onUnload:(n,s,i)=>{i.clear()},state:ze})],Ge=[Ze("getValue"),Ae("setValue",ut),wn("initialValue"),bn("manager",{setValue:(n,s,i,l)=>{s.store.setValue(n,l),s.onSetValue(n,l)},getValue:(n,s,i)=>s.store.getValue(n),onLoad:(n,s,i)=>{s.store.initialValue.each(l=>{s.store.setValue(n,l)})},onUnload:ut,state:Xl.init})],Qe=[wn("initialValue"),bn("manager",{setValue:(n,s,i,l)=>{i.set(l),s.onSetValue(n,l)},getValue:(n,s,i)=>i.get(),onLoad:(n,s,i)=>{s.store.initialValue.each(l=>{i.isNotSet()&&i.set(l)})},onUnload:(n,s,i)=>{i.clear()},state:he})],ht=[Hs("store",{mode:"memory"},xs("mode",{memory:Qe,manual:Ge,dataset:Xe})),vn("onSetValue"),Ae("resetOnDom",!1)];const Ee=ks({fields:ht,name:"representing",active:me,apis:le,extra:{setValueFrom:(n,s)=>{const i=Ee.getValue(s);Ee.setValue(n,i)}},state:Te}),xt=(n,s)=>fr(n,{},nt(s,i=>{return l=i.name(),u="Cannot configure "+i.name()+" for "+n,la(l,l,{tag:"option",process:{}},aa(f=>Hd("The field: "+l+" is forbidden. "+u)));var l,u}).concat([ba("dump",Et)])),oo=n=>n.dump,Ut=(n,s)=>({...ct(s),...n.dump}),Dn=xt,Gt=Ut,Go="placeholder",ho=Pr([{single:["required","valueThunk"]},{multiple:["required","valueThunks"]}]),nr=n=>ro(n,"uiType"),ea=(n,s,i,l)=>((u,f,p,b)=>nr(p)&&p.uiType===Go?((y,w,E,_)=>y.exists(O=>O!==E.owner)?ho.single(!0,ne(E)):lt(_,E.name).fold(()=>{throw new Error("Unknown placeholder component: "+E.name+`
Known: [`+$o(_)+`]
Namespace: `+y.getOr("none")+`
Spec: `+JSON.stringify(E,null,2))},O=>O.replace()))(u,0,p,b):ho.single(!1,ne(p)))(n,0,i,l).fold((u,f)=>{const p=nr(i)?f(s,i.config,i.validated):f(s),b=lt(p,"components").getOr([]),y=mn(b,w=>ea(n,s,w,l));return[{...p,components:y}]},(u,f)=>{if(nr(i)){const p=f(s,i.config,i.validated);return i.validated.preprocess.getOr(Et)(p)}return f(s)}),Si=ho.single,Va=ho.multiple,ec=ne(Go),Yd=Pr([{required:["data"]},{external:["data"]},{optional:["data"]},{group:["data"]}]),Ei=Ae("factory",{sketch:Et}),nf=Ae("schema",[]),rf=Ze("name"),ap=la("pname","pname",an(n=>"<alloy."+Pt(n.name)+">"),yi()),D1=ba("schema",()=>[wn("preprocess")]),sf=Ae("defaults",ne({})),ip=Ae("overrides",ne({})),G5=to([Ei,nf,rf,ap,sf,ip]),K5=to([Ei,nf,rf,sf,ip]),K3=to([Ei,nf,rf,ap,sf,ip]),Ft=to([Ei,D1,rf,Ze("unit"),ap,sf,ip]),R1=n=>n.fold(T.some,T.none,T.some,T.some),p_=n=>{const s=i=>i.name;return n.fold(s,s,s,s)},Jv=(n,s)=>i=>{const l=ia("Converting part type",s,i);return n(l)},gl=Jv(Yd.required,G5),Au=Jv(Yd.external,K5),yd=Jv(Yd.optional,K3),Qv=Jv(Yd.group,Ft),g_=ne("entirety");var Y3=Object.freeze({__proto__:null,required:gl,external:Au,optional:yd,group:Qv,asNamedPart:R1,name:p_,asCommon:n=>n.fold(Et,Et,Et,Et),original:g_});const h_=(n,s,i,l)=>Ir(s.defaults(n,i,l),i,{uid:n.partUids[s.name]},s.overrides(n,i,l)),ol=(n,s)=>{const i={};return Ot(s,l=>{R1(l).each(u=>{const f=N1(n,u.pname);i[u.name]=p=>{const b=ia("Part: "+u.name+" in "+n,to(u.schema),p);return{...f,config:p,validated:b}}})}),i},N1=(n,s)=>({uiType:ec(),owner:n,name:s}),b_=(n,s,i)=>({uiType:ec(),owner:n,name:s,config:i,validated:{}}),X3=n=>mn(n,s=>s.fold(T.none,T.some,T.none,T.none).map(i=>Il(i.name,i.schema.concat([oh(g_())]))).toArray()),J3=n=>nt(n,p_),y_=(n,s,i)=>((l,u,f)=>{const p={},b={};return Ot(f,y=>{y.fold(w=>{p[w.pname]=Si(!0,(E,_,O)=>w.factory.sketch(h_(E,w,_,O)))},w=>{const E=u.parts[w.name];b[w.name]=ne(w.factory.sketch(h_(u,w,E[g_()]),E))},w=>{p[w.pname]=Si(!1,(E,_,O)=>w.factory.sketch(h_(E,w,_,O)))},w=>{p[w.pname]=Va(!0,(E,_,O)=>{const L=E[w.name];return nt(L,I=>w.factory.sketch(Ir(w.defaults(E,I,O),I,w.overrides(E,I))))})})}),{internals:ne(p),externals:ne(b)}})(0,s,i),v_=(n,s,i)=>((l,u,f,p)=>{const b=Mn(p,(w,E)=>((_,O)=>{let L=!1;return{name:ne(_),required:()=>O.fold((I,K)=>I,(I,K)=>I),used:()=>L,replace:()=>{if(L)throw new Error("Trying to use the same placeholder more than once: "+_);return L=!0,O}}})(E,w)),y=((w,E,_,O)=>mn(_,L=>ea(w,E,L,O)))(l,u,f,b);return Kn(b,w=>{if(w.used()===!1&&w.required())throw new Error("Placeholder: "+w.name()+` was not found in components list
Namespace: `+l.getOr("none")+`
Components: `+JSON.stringify(u.components,null,2))}),y})(T.some(n),s,s.components,i),Nr=(n,s,i)=>{const l=s.partUids[i];return n.getSystem().getByUid(l).toOptional()},lp=(n,s,i)=>Nr(n,s,i).getOrDie("Could not find part: "+i),Q3=(n,s,i)=>{const l={},u=s.partUids,f=n.getSystem();return Ot(i,p=>{l[p]=ne(f.getByUid(u[p]))}),l},x_=(n,s)=>{const i=n.getSystem();return Mn(s.partUids,(l,u)=>ne(i.getByUid(l)))},e4=n=>$o(n.partUids),k_=(n,s,i)=>{const l={},u=s.partUids,f=n.getSystem();return Ot(i,p=>{l[p]=ne(f.getByUid(u[p]).getOrDie())}),l},t4=(n,s)=>{const i=J3(s);return Ji(nt(i,l=>({key:l,value:n+"-"+l})))},w_=n=>la("partUids","partUids",$u(s=>t4(s.uid,n)),yi());var Y5=Object.freeze({__proto__:null,generate:ol,generateOne:b_,schemas:X3,names:J3,substitutes:y_,components:v_,defaultUids:t4,defaultUidsSchema:w_,getAllParts:x_,getAllPartNames:e4,getPart:Nr,getPartOrDie:lp,getParts:Q3,getPartsOrDie:k_});const o4=(n,s,i,l,u)=>{const f=((p,b)=>(p.length>0?[Il("parts",p)]:[]).concat([Ze("uid"),Ae("dom",{}),Ae("components",[]),oh("originalSpec"),Ae("debug.sketcher",{})]).concat(b))(l,u);return ia(n+" [SpecSchema]",Bi(f.concat(s)),i)},M1=(n,s,i,l,u)=>{const f=__(u),p=X3(i),b=w_(i),y=o4(n,s,f,p,[b]),w=y_(0,y,i);return l(y,v_(n,y,w.internals()),f,w.externals())},__=n=>(s=>ro(s,"uid"))(n)?n:{...n,uid:vu("uid")},X5=Bi([Ze("name"),Ze("factory"),Ze("configFields"),Ae("apis",{}),Ae("extraApis",{})]),n4=Bi([Ze("name"),Ze("factory"),Ze("configFields"),Ze("partFields"),Ae("apis",{}),Ae("extraApis",{})]),vd=n=>{const s=ia("Sketcher for "+n.name,X5,n),i=Mn(s.apis,_b),l=Mn(s.extraApis,(u,f)=>Wd(u,f));return{name:s.name,configFields:s.configFields,sketch:u=>((f,p,b,y)=>{const w=__(y);return b(o4(f,p,w,[],[]),w)})(s.name,s.configFields,s.factory,u),...i,...l}},Vl=n=>{const s=ia("Sketcher for "+n.name,n4,n),i=ol(s.name,s.partFields),l=Mn(s.apis,_b),u=Mn(s.extraApis,(f,p)=>Wd(f,p));return{name:s.name,partFields:s.partFields,configFields:s.configFields,sketch:f=>M1(s.name,s.configFields,s.partFields,s.factory,f),parts:i,...l,...u}},oy=n=>za("input")(n)&&hs(n,"type")!=="radio"||za("textarea")(n);var r4=Object.freeze({__proto__:null,getCurrent:(n,s,i)=>s.find(n)});const J5=[Ze("find")],xn=ks({fields:J5,name:"composing",apis:r4}),s4=["input","button","textarea","select"],a4=(n,s,i)=>{(s.disabled()?B1:S_)(n,s)},C_=(n,s)=>s.useNative===!0&&_e(s4,Aa(n.element)),i4=n=>{uo(n.element,"disabled","disabled")},Q5=n=>{Er(n.element,"disabled")},ny=n=>{uo(n.element,"aria-disabled","true")},eR=n=>{uo(n.element,"aria-disabled","false")},B1=(n,s,i)=>{s.disableClass.each(l=>{$t(n.element,l)}),(C_(n,s)?i4:ny)(n),s.onDisabled(n)},S_=(n,s,i)=>{s.disableClass.each(l=>{Io(n.element,l)}),(C_(n,s)?Q5:eR)(n),s.onEnabled(n)},ry=(n,s)=>C_(n,s)?(i=>sa(i.element,"disabled"))(n):(i=>hs(i.element,"aria-disabled")==="true")(n);var tR=Object.freeze({__proto__:null,enable:S_,disable:B1,isDisabled:ry,onLoad:a4,set:(n,s,i,l)=>{(l?B1:S_)(n,s)}}),oR=Object.freeze({__proto__:null,exhibit:(n,s)=>$s({classes:s.disabled()?s.disableClass.toArray():[]}),events:(n,s)=>_n([br(va(),(i,l)=>ry(i,n)),ca(n,s,a4)])}),nR=[_r("disabled",Le),Ae("useNative",!0),wn("disableClass"),vn("onDisabled"),vn("onEnabled")];const zo=ks({fields:nR,name:"disabling",active:oR,apis:tR}),l4=(n,s,i,l)=>{const u=ua(n.element,"."+s.highlightClass);Ot(u,f=>{Tt(l,p=>hn(p.element,f))||(Io(f,s.highlightClass),n.getSystem().getByDom(f).each(p=>{s.onDehighlight(n,p),jo(p,Kg())}))})},kh=(n,s,i,l)=>{l4(n,s,0,[l]),E_(n,s,i,l)||($t(l.element,s.highlightClass),s.onHighlight(n,l),jo(l,mt()))},E_=(n,s,i,l)=>Zo(l.element,s.highlightClass),c4=(n,s,i)=>ss(n.element,"."+s.itemClass).bind(l=>n.getSystem().getByDom(l).toOptional()),d4=(n,s,i)=>{const l=ua(n.element,"."+s.itemClass);return(l.length>0?T.some(l[l.length-1]):T.none()).bind(u=>n.getSystem().getByDom(u).toOptional())},u4=(n,s,i,l)=>{const u=ua(n.element,"."+s.itemClass);return zs(u,f=>Zo(f,s.highlightClass)).bind(f=>{const p=Um(f,l,0,u.length-1);return n.getSystem().getByDom(u[p]).toOptional()})},f4=(n,s,i)=>{const l=ua(n.element,"."+s.itemClass);return Ea(nt(l,u=>n.getSystem().getByDom(u).toOptional()))};var rR=Object.freeze({__proto__:null,dehighlightAll:(n,s,i)=>l4(n,s,0,[]),dehighlight:(n,s,i,l)=>{E_(n,s,i,l)&&(Io(l.element,s.highlightClass),s.onDehighlight(n,l),jo(l,Kg()))},highlight:kh,highlightFirst:(n,s,i)=>{c4(n,s).each(l=>{kh(n,s,i,l)})},highlightLast:(n,s,i)=>{d4(n,s).each(l=>{kh(n,s,i,l)})},highlightAt:(n,s,i,l)=>{((u,f,p,b)=>{const y=ua(u.element,"."+f.itemClass);return T.from(y[b]).fold(()=>qo.error(new Error("No element found with index "+b)),u.getSystem().getByDom)})(n,s,0,l).fold(u=>{throw u},u=>{kh(n,s,i,u)})},highlightBy:(n,s,i,l)=>{const u=f4(n,s);$(u,l).each(f=>{kh(n,s,i,f)})},isHighlighted:E_,getHighlighted:(n,s,i)=>ss(n.element,"."+s.highlightClass).bind(l=>n.getSystem().getByDom(l).toOptional()),getFirst:c4,getLast:d4,getPrevious:(n,s,i)=>u4(n,s,0,-1),getNext:(n,s,i)=>u4(n,s,0,1),getCandidates:f4}),m4=[Ze("highlightClass"),Ze("itemClass"),vn("onHighlight"),vn("onDehighlight")];const Wn=ks({fields:m4,name:"highlighting",apis:rR}),p4=[8],zu=[9],om=[13],ex=[27],Kc=[32],tx=[37],sy=[38],I1=[39],ay=[40],sR=(n,s,i)=>{const l=sl(n.slice(0,s)),u=sl(n.slice(s+1));return $(l.concat(u),i)},aR=(n,s,i)=>{const l=sl(n.slice(0,s));return $(l,i)},iR=(n,s,i)=>{const l=n.slice(0,s),u=n.slice(s+1);return $(u.concat(l),i)},lR=(n,s,i)=>{const l=n.slice(s+1);return $(l,i)},Sn=n=>s=>{const i=s.raw;return _e(n,i.which)},af=n=>s=>Ga(n,i=>i(s)),nm=n=>n.raw.shiftKey===!0,cR=n=>n.raw.ctrlKey===!0,L1=Gn(nm),Fn=(n,s)=>({matches:n,classification:s}),g4=(n,s,i)=>{s.exists(l=>i.exists(u=>hn(u,l)))||Zt(n,Mc(),{prevFocus:s,newFocus:i})},A_=()=>{const n=s=>Hi(s.element);return{get:n,set:(s,i)=>{const l=n(s);s.getSystem().triggerFocus(i,s.element);const u=n(s);g4(s,l,u)}}},dR=()=>{const n=s=>Wn.getHighlighted(s).map(i=>i.element);return{get:n,set:(s,i)=>{const l=n(s);s.getSystem().getByDom(i).fold(ut,f=>{Wn.highlight(s,f)});const u=n(s);g4(s,l,u)}}};var wh;(function(n){n.OnFocusMode="onFocus",n.OnEnterOrSpaceMode="onEnterOrSpace",n.OnApiMode="onApi"})(wh||(wh={}));const _h=(n,s,i,l,u)=>{const f=(b,y,w,E,_)=>{return(O=w(b,y,E,_),L=y.event,$(O,I=>I.matches(L)).map(I=>I.classification)).bind(I=>I(b,y,E,_));var O,L},p={schema:()=>n.concat([Ae("focusManager",A_()),Hs("focusInside","onFocus",zc(b=>_e(["onFocus","onEnterOrSpace","onApi"],b)?qo.value(b):qo.error("Invalid value for focusInside"))),bn("handler",p),bn("state",s),bn("sendFocusIn",u)]),processKey:f,toEvents:(b,y)=>{const w=b.focusInside!==wh.OnFocusMode?T.none():u(b).map(_=>Ue(us(),(O,L)=>{_(O,b,y),L.stop()})),E=[Ue(Ht(),(_,O)=>{f(_,O,i,b,y).fold(()=>{((L,I)=>{const K=Sn(Kc.concat(om))(I.event);b.focusInside===wh.OnEnterOrSpaceMode&&K&&Rf(L,I)&&u(b).each(q=>{q(L,b,y),I.stop()})})(_,O)},L=>{O.stop()})}),Ue(mr(),(_,O)=>{f(_,O,l,b,y).each(L=>{O.stop()})})];return _n(w.toArray().concat(E))}};return p},h4=n=>{const s=[wn("onEscape"),wn("onEnter"),Ae("selector",'[data-alloy-tabstop="true"]:not(:disabled)'),Ae("firstTabstop",0),Ae("useTabstopAt",Lt),wn("visibilitySelector")].concat([n]),i=(E,_)=>{const O=E.visibilitySelector.bind(L=>jn(_,L)).getOr(_);return ke(O)>0},l=(E,_)=>_.focusManager.get(E).bind(O=>jn(O,_.selector)),u=(E,_,O)=>{((L,I)=>{const K=ua(L.element,I.selector),q=kn(K,se=>i(I,se));return T.from(q[I.firstTabstop])})(E,_).each(L=>{_.focusManager.set(E,L)})},f=(E,_,O,L)=>{const I=ua(E.element,O.selector);return l(E,O).bind(K=>zs(I,dt(hn,K)).bind(q=>((se,W,Z,Y,oe)=>oe(W,Z,re=>((be,Oe)=>i(be,Oe)&&be.useTabstopAt(Oe))(Y,re)).fold(()=>Y.cyclic?T.some(!0):T.none(),re=>(Y.focusManager.set(se,re),T.some(!0))))(E,I,q,O,L)))},p=(E,_,O)=>{const L=O.cyclic?sR:aR;return f(E,0,O,L)},b=(E,_,O)=>{const L=O.cyclic?iR:lR;return f(E,0,O,L)},y=ne([Fn(af([nm,Sn(zu)]),p),Fn(Sn(zu),b),Fn(af([L1,Sn(om)]),(E,_,O)=>O.onEnter.bind(L=>L(E,_)))]),w=ne([Fn(Sn(ex),(E,_,O)=>O.onEscape.bind(L=>L(E,_))),Fn(Sn(zu),(E,_,O)=>l(E,O).filter(L=>!O.useTabstopAt(L)).bind(L=>((I=>(K=>mi(K))(I).bind(pi).exists(K=>hn(K,I)))(L)?p:b)(E,_,O)))]);return _h(s,Xl.init,y,w,()=>T.some(u))};var uR=h4(ba("cyclic",Le)),fR=h4(ba("cyclic",Lt));const P1=(n,s,i)=>oy(i)&&Sn(Kc)(s.event)?T.none():((l,u,f)=>(Lm(l,f,va()),T.some(!0)))(n,0,i),Ch=(n,s)=>T.some(!0),mR=[Ae("execute",P1),Ae("useSpace",!1),Ae("useEnter",!0),Ae("useControlEnter",!1),Ae("useDown",!1)],b4=(n,s,i)=>i.execute(n,s,n.element);var pR=_h(mR,Xl.init,(n,s,i,l)=>{const u=i.useSpace&&!oy(n.element)?Kc:[],f=i.useEnter?om:[],p=i.useDown?ay:[],b=u.concat(f).concat(p);return[Fn(Sn(b),b4)].concat(i.useControlEnter?[Fn(af([cR,Sn(om)]),b4)]:[])},(n,s,i,l)=>i.useSpace&&!oy(n.element)?[Fn(Sn(Kc),Ch)]:[],()=>T.none());const y4=()=>{const n=Vn();return ki({readState:()=>n.get().map(s=>({numRows:String(s.numRows),numColumns:String(s.numColumns)})).getOr({numRows:"?",numColumns:"?"}),setGridSize:(s,i)=>{n.set({numRows:s,numColumns:i})},getNumRows:()=>n.get().map(s=>s.numRows),getNumColumns:()=>n.get().map(s=>s.numColumns)})};var v4=Object.freeze({__proto__:null,flatgrid:y4,init:n=>n.state(n)});const x4=n=>(s,i,l,u)=>{const f=n(s.element);return k4(f,s,i,l,u)},z_=(n,s)=>{const i=Qs(n,s);return x4(i)},T_=(n,s)=>{const i=Qs(s,n);return x4(i)},O_=n=>(s,i,l,u)=>k4(n,s,i,l,u),k4=(n,s,i,l,u)=>l.focusManager.get(s).bind(f=>n(s.element,f,l,u)).map(f=>(l.focusManager.set(s,f),!0)),D_=O_,w4=O_,ox=O_,_4=n=>!(s=>s.offsetWidth<=0&&s.offsetHeight<=0)(n.dom),R_=(n,s,i)=>{const l=ua(n,i);return((u,f)=>zs(u,p=>hn(p,s)).map(p=>({index:p,candidates:u})))(kn(l,_4))},nx=(n,s)=>zs(n,i=>hn(s,i)),C4=(n,s,i,l)=>l(Math.floor(s/i),s%i).bind(u=>{const f=u.row*i+u.column;return f>=0&&f<n.length?T.some(n[f]):T.none()}),S4=(n,s,i,l,u)=>C4(n,s,l,(f,p)=>{const b=f===i-1?n.length-f*l:l,y=Um(p,u,0,b-1);return T.some({row:f,column:y})}),E4=(n,s,i,l,u)=>C4(n,s,l,(f,p)=>{const b=Um(f,u,0,i-1),y=b===i-1?n.length-b*l:l,w=Vc(p,0,y-1);return T.some({row:b,column:w})}),gR=[Ze("selector"),Ae("execute",P1),Fl("onEscape"),Ae("captureTab",!1),nh()],A4=(n,s,i)=>{ss(n.element,s.selector).each(l=>{s.focusManager.set(n,l)})},F1=n=>(s,i,l,u)=>R_(s,i,l.selector).bind(f=>n(f.candidates,f.index,u.getNumRows().getOr(l.initSize.numRows),u.getNumColumns().getOr(l.initSize.numColumns))),N_=(n,s,i)=>i.captureTab?T.some(!0):T.none(),M_=F1((n,s,i,l)=>S4(n,s,i,l,-1)),B_=F1((n,s,i,l)=>S4(n,s,i,l,1)),hR=F1((n,s,i,l)=>E4(n,s,i,l,-1)),bR=F1((n,s,i,l)=>E4(n,s,i,l,1)),yR=ne([Fn(Sn(tx),z_(M_,B_)),Fn(Sn(I1),T_(M_,B_)),Fn(Sn(sy),D_(hR)),Fn(Sn(ay),w4(bR)),Fn(af([nm,Sn(zu)]),N_),Fn(af([L1,Sn(zu)]),N_),Fn(Sn(Kc.concat(om)),(n,s,i,l)=>((u,f)=>f.focusManager.get(u).bind(p=>jn(p,f.selector)))(n,i).bind(u=>i.execute(n,s,u)))]),vR=ne([Fn(Sn(ex),(n,s,i)=>i.onEscape(n,s)),Fn(Sn(Kc),Ch)]);var xR=_h(gR,y4,yR,vR,()=>T.some(A4));const sg=(n,s,i,l,u)=>{const f=(p,b,y)=>u(p,b,l,0,y.length-1,y[b],w=>{return E=y[w],Aa(E)==="button"&&hs(E,"disabled")==="disabled"?f(p,w,y):T.from(y[w]);var E});return R_(n,i,s).bind(p=>{const b=p.index,y=p.candidates;return f(b,b,y)})},z4=(n,s,i,l)=>sg(n,s,i,l,(u,f,p,b,y,w,E)=>{const _=Vc(f+p,b,y);return _===u?T.from(w):E(_)}),rx=(n,s,i,l)=>sg(n,s,i,l,(u,f,p,b,y,w,E)=>{const _=Um(f,p,b,y);return _===u?T.none():E(_)}),kR=[Ze("selector"),Ae("getInitial",T.none),Ae("execute",P1),Fl("onEscape"),Ae("executeOnMove",!1),Ae("allowVertical",!0),Ae("allowHorizontal",!0),Ae("cycles",!0)],I_=(n,s,i)=>((l,u)=>u.focusManager.get(l).bind(f=>jn(f,u.selector)))(n,i).bind(l=>i.execute(n,s,l)),T4=(n,s,i)=>{s.getInitial(n).orThunk(()=>ss(n.element,s.selector)).each(l=>{s.focusManager.set(n,l)})},O4=(n,s,i)=>(i.cycles?rx:z4)(n,i.selector,s,-1),D4=(n,s,i)=>(i.cycles?rx:z4)(n,i.selector,s,1),L_=n=>(s,i,l,u)=>n(s,i,l,u).bind(()=>l.executeOnMove?I_(s,i,l):T.some(!0)),H1=ne([Fn(Sn(Kc),Ch),Fn(Sn(ex),(n,s,i)=>i.onEscape(n,s))]);var $1=_h(kR,Xl.init,(n,s,i,l)=>{const u=[...i.allowHorizontal?tx:[]].concat(i.allowVertical?sy:[]),f=[...i.allowHorizontal?I1:[]].concat(i.allowVertical?ay:[]);return[Fn(Sn(u),L_(z_(O4,D4))),Fn(Sn(f),L_(T_(O4,D4))),Fn(Sn(om),I_),Fn(Sn(Kc),I_)]},H1,()=>T.some(T4));const sx=(n,s,i)=>T.from(n[s]).bind(l=>T.from(l[i]).map(u=>({rowIndex:s,columnIndex:i,cell:u}))),ax=(n,s,i,l)=>{const u=n[s].length,f=Um(i,l,0,u-1);return sx(n,s,f)},R4=(n,s,i,l)=>{const u=Um(i,l,0,n.length-1),f=n[u].length,p=Vc(s,0,f-1);return sx(n,u,p)},P_=(n,s,i,l)=>{const u=n[s].length,f=Vc(i+l,0,u-1);return sx(n,s,f)},F_=(n,s,i,l)=>{const u=Vc(i+l,0,n.length-1),f=n[u].length,p=Vc(s,0,f-1);return sx(n,u,p)},N4=[Il("selectors",[Ze("row"),Ze("cell")]),Ae("cycles",!0),Ae("previousSelector",T.none),Ae("execute",P1)],wR=(n,s,i)=>{s.previousSelector(n).orThunk(()=>{const l=s.selectors;return ss(n.element,l.cell)}).each(l=>{s.focusManager.set(n,l)})},ix=(n,s)=>(i,l,u)=>{const f=u.cycles?n:s;return jn(l,u.selectors.row).bind(p=>{const b=ua(p,u.selectors.cell);return nx(b,l).bind(y=>{const w=ua(i,u.selectors.row);return nx(w,p).bind(E=>{const _=((O,L)=>nt(O,I=>ua(I,L.selectors.cell)))(w,u);return f(_,E,y).map(O=>O.cell)})})})},M4=ix((n,s,i)=>ax(n,s,i,-1),(n,s,i)=>P_(n,s,i,-1)),Sh=ix((n,s,i)=>ax(n,s,i,1),(n,s,i)=>P_(n,s,i,1)),Eh=ix((n,s,i)=>R4(n,i,s,-1),(n,s,i)=>F_(n,i,s,-1)),lx=ix((n,s,i)=>R4(n,i,s,1),(n,s,i)=>F_(n,i,s,1)),V1=ne([Fn(Sn(tx),z_(M4,Sh)),Fn(Sn(I1),T_(M4,Sh)),Fn(Sn(sy),D_(Eh)),Fn(Sn(ay),w4(lx)),Fn(Sn(Kc.concat(om)),(n,s,i)=>Hi(n.element).bind(l=>i.execute(n,s,l)))]),_R=ne([Fn(Sn(Kc),Ch)]);var ag=_h(N4,Xl.init,V1,_R,()=>T.some(wR));const rm=[Ze("selector"),Ae("execute",P1),Ae("moveOnTab",!1)],cx=(n,s,i)=>i.focusManager.get(n).bind(l=>i.execute(n,s,l)),B4=(n,s,i)=>{ss(n.element,s.selector).each(l=>{s.focusManager.set(n,l)})},I4=(n,s,i)=>rx(n,i.selector,s,-1),H_=(n,s,i)=>rx(n,i.selector,s,1),j1=ne([Fn(Sn(sy),ox(I4)),Fn(Sn(ay),ox(H_)),Fn(af([nm,Sn(zu)]),(n,s,i,l)=>i.moveOnTab?ox(I4)(n,s,i,l):T.none()),Fn(af([L1,Sn(zu)]),(n,s,i,l)=>i.moveOnTab?ox(H_)(n,s,i,l):T.none()),Fn(Sn(om),cx),Fn(Sn(Kc),cx)]),U1=ne([Fn(Sn(Kc),Ch)]);var $_=_h(rm,Xl.init,j1,U1,()=>T.some(B4));const L4=[Fl("onSpace"),Fl("onEnter"),Fl("onShiftEnter"),Fl("onLeft"),Fl("onRight"),Fl("onTab"),Fl("onShiftTab"),Fl("onUp"),Fl("onDown"),Fl("onEscape"),Ae("stopSpaceKeyup",!1),wn("focusIn")];var Z1=_h(L4,Xl.init,(n,s,i)=>[Fn(Sn(Kc),i.onSpace),Fn(af([L1,Sn(om)]),i.onEnter),Fn(af([nm,Sn(om)]),i.onShiftEnter),Fn(af([nm,Sn(zu)]),i.onShiftTab),Fn(af([L1,Sn(zu)]),i.onTab),Fn(Sn(sy),i.onUp),Fn(Sn(ay),i.onDown),Fn(Sn(tx),i.onLeft),Fn(Sn(I1),i.onRight),Fn(Sn(Kc),i.onSpace)],(n,s,i)=>[...i.stopSpaceKeyup?[Fn(Sn(Kc),Ch)]:[],Fn(Sn(ex),i.onEscape)],n=>n.focusIn);const dx=uR.schema(),CR=fR.schema(),V_=$1.schema(),ux=xR.schema(),Vi=ag.schema(),SR=pR.schema(),sm=$_.schema(),P4=Z1.schema(),Yt=z({branchKey:"mode",branches:Object.freeze({__proto__:null,acyclic:dx,cyclic:CR,flow:V_,flatgrid:ux,matrix:Vi,execution:SR,menu:sm,special:P4}),name:"keying",active:{events:(n,s)=>n.handler.toEvents(n,s)},apis:{focusIn:(n,s,i)=>{s.sendFocusIn(s).fold(()=>{n.getSystem().triggerFocus(n.element,n.element)},l=>{l(n,s,i)})},setGridSize:(n,s,i,l,u)=>{(f=>Po(f,"setGridSize"))(i)?i.setGridSize(l,u):console.error("Layout does not support setGridSize")}},state:v4}),Ah=(n,s)=>{Kf(()=>{((i,l,u)=>{const f=i.components();(y=>{Ot(y.components(),w=>bs(w.element)),Ki(y.element),y.syncComponents()})(i);const p=u(l),b=nn(f,p);Ot(b,y=>{tm(y),i.getSystem().removeFromWorld(y)}),Ot(p,y=>{Kb(y)?Yb(i,y):(i.getSystem().addToWorld(y),Yb(i,y),Yn(i.element)&&rp(y))}),i.syncComponents()})(n,s,()=>nt(s,n.getSystem().build))},n.element)},j_=(n,s)=>{Kf(()=>{((i,l,u)=>{const f=i.components(),p=mn(l,w=>wb(w).toArray());Ot(f,w=>{_e(p,w)||vh(w)});const b=((w,E,_)=>Dv(w,E,(O,L)=>f1(w,L,O,_)))(n.element,s,n.getSystem().buildOrPatch),y=nn(f,b);Ot(y,w=>{Kb(w)&&vh(w)}),Ot(b,w=>{Kb(w)||yh(i,w)}),i.syncComponents()})(n,s)},n.element)},fx=(n,s,i,l)=>{vh(s);const u=f1(n.element,i,l,n.getSystem().buildOrPatch);yh(n,u),n.syncComponents()},U_=(n,s,i)=>{const l=n.getSystem().build(i);Xb(n,l,s)},F4=(n,s,i,l)=>{pl(s),U_(n,(u,f)=>((p,b,y)=>{Ln(p,y).fold(()=>{ns(p,b)},w=>{ad(w,b)})})(u,f,i),l)},W1=(n,s)=>n.components(),H4=(n,s,i,l,u)=>{const f=W1(n);return T.from(f[l]).map(p=>(u.fold(()=>pl(p),b=>{(s.reuseDom?fx:F4)(n,p,l,b)}),p))};var Z_=Object.freeze({__proto__:null,append:(n,s,i,l)=>{U_(n,ns,l)},prepend:(n,s,i,l)=>{U_(n,Ri,l)},remove:(n,s,i,l)=>{const u=W1(n);$(u,p=>hn(l.element,p.element)).each(pl)},replaceAt:H4,replaceBy:(n,s,i,l,u)=>{const f=W1(n);return zs(f,l).bind(p=>H4(n,s,0,p,u))},set:(n,s,i,l)=>(s.reuseDom?j_:Ah)(n,l),contents:W1});const po=ks({fields:[Ha("reuseDom",!0)],name:"replacing",apis:Z_}),Vo=(n,s)=>{const i=((l,u)=>{const f=_n(u);return ks({fields:[Ze("enabled")],name:l,active:{events:ne(f)}})})(n,s);return{key:n,value:{config:{},me:i,configAsRaw:ne({}),initialConfig:{},state:Xl}}},$4=(n,s)=>{s.ignore||(Uc(n.element),s.onFocus(n))};var V4=Object.freeze({__proto__:null,focus:$4,blur:(n,s)=>{s.ignore||qm(n.element)},isFocused:n=>Gm(n.element)}),j4=Object.freeze({__proto__:null,exhibit:(n,s)=>{const i=s.ignore?{}:{attributes:{tabindex:"-1"}};return $s(i)},events:n=>_n([Ue(us(),(s,i)=>{$4(s,n),i.stop()})].concat(n.stopMousedown?[Ue(j(),(s,i)=>{i.event.prevent()})]:[]))}),U4=[vn("onFocus"),Ae("stopMousedown",!1),Ae("ignore",!1)];const Co=ks({fields:U4,name:"focusing",active:j4,apis:V4}),q1=(n,s,i,l)=>{const u=i.get();i.set(l),((f,p,b)=>{p.toggleClass.each(y=>{b.get()?$t(f.element,y):Io(f.element,y)})})(n,s,i),((f,p,b)=>{const y=p.aria;y.update(f,y,b.get())})(n,s,i),u!==l&&s.onToggled(n,l)},xd=(n,s,i)=>{q1(n,s,i,!i.get())},zh=(n,s,i)=>{q1(n,s,i,s.selected)};var Z4=Object.freeze({__proto__:null,onLoad:zh,toggle:xd,isOn:(n,s,i)=>i.get(),on:(n,s,i)=>{q1(n,s,i,!0)},off:(n,s,i)=>{q1(n,s,i,!1)},set:q1}),iy=Object.freeze({__proto__:null,exhibit:()=>$s({}),events:(n,s)=>{const i=(l=n,u=s,f=xd,Lc(b=>{f(b,l,u)}));var l,u,f;const p=ca(n,s,zh);return _n(An([n.toggleOnExecute?[i]:[],[p]]))}});const tc=(n,s,i)=>{uo(n.element,"aria-expanded",i)};var Yc=[Ae("selected",!1),wn("toggleClass"),Ae("toggleOnExecute",!0),vn("onToggled"),Hs("aria",{mode:"none"},xs("mode",{pressed:[Ae("syncWithExpanded",!1),bn("update",(n,s,i)=>{uo(n.element,"aria-pressed",i),s.syncWithExpanded&&tc(n,0,i)})],checked:[bn("update",(n,s,i)=>{uo(n.element,"aria-checked",i)})],expanded:[bn("update",tc)],selected:[bn("update",(n,s,i)=>{uo(n.element,"aria-selected",i)})],none:[bn("update",ut)]}))];const ko=ks({fields:Yc,name:"toggling",active:iy,apis:Z4,state:{init:()=>{const n=eo(!1);return{get:()=>n.get(),set:s=>n.set(s),clear:()=>n.set(!1),readState:()=>n.get()}}}}),Xd=()=>{const n=(s,i)=>{i.stop(),uc(s)};return[Ue(xi(),n),Ue(Bm(),n),Ic(vi()),Ic(j())]},ly=n=>_n(An([n.map(s=>Lc((i,l)=>{s(i),l.stop()})).toArray(),Xd()])),kd="alloy.item-hover",ig="alloy.item-focus",W4="alloy.item-toggled",q4=n=>{(Hi(n.element).isNone()||Co.isFocused(n))&&(Co.isFocused(n)||Co.focus(n),Zt(n,kd,{item:n}))},G4=n=>{Zt(n,ig,{item:n})},W_=ne(kd),K4=ne(ig),mx=ne(W4),Y4=n=>n.toggling.map(s=>s.exclusive?"menuitemradio":"menuitemcheckbox").getOr("menuitem"),ER=[Ze("data"),Ze("components"),Ze("dom"),Ae("hasSubmenu",!1),wn("toggling"),Dn("itemBehaviours",[ko,Co,Yt,Ee]),Ae("ignoreFocus",!1),Ae("domModification",{}),bn("builder",n=>({dom:n.dom,domModification:{...n.domModification,attributes:{role:Y4(n),...n.domModification.attributes,"aria-haspopup":n.hasSubmenu,...n.hasSubmenu?{"aria-expanded":!1}:{}}},behaviours:Gt(n.itemBehaviours,[n.toggling.fold(ko.revoke,s=>ko.config((i=>({aria:{mode:"checked"},...hr(i,(l,u)=>u!=="exclusive"),onToggled:(l,u)=>{Jt(i.onToggled)&&i.onToggled(l,u),((f,p)=>{Zt(f,W4,{item:f,state:p})})(l,u)}}))(s))),Co.config({ignore:n.ignoreFocus,stopMousedown:n.ignoreFocus,onFocus:s=>{G4(s)}}),Yt.config({mode:"execution"}),Ee.config({store:{mode:"memory",initialValue:n.data}}),Vo("item-type-events",[...Xd(),Ue(Vt(),q4),Ue(pd(),Co.focus)])]),components:n.components,eventOrder:n.eventOrder})),Ae("eventOrder",{})],AR=[Ze("dom"),Ze("components"),bn("builder",n=>({dom:n.dom,components:n.components,events:_n([hb(pd())])}))],q_=ne("item-widget"),G_=ne([gl({name:"widget",overrides:n=>({behaviours:ct([Ee.config({store:{mode:"manual",getValue:s=>n.data,setValue:ut}})])})})]),X4=[Ze("uid"),Ze("data"),Ze("components"),Ze("dom"),Ae("autofocus",!1),Ae("ignoreFocus",!1),Dn("widgetBehaviours",[Ee,Co,Yt]),Ae("domModification",{}),w_(G_()),bn("builder",n=>{const s=y_(q_(),n,G_()),i=v_(q_(),n,s.internals()),l=f=>Nr(f,n,"widget").map(p=>(Yt.focusIn(p),p)),u=(f,p)=>(oy(p.event.target)||n.autofocus&&p.setSource(f.element),T.none());return{dom:n.dom,components:i,domModification:n.domModification,events:_n([Lc((f,p)=>{l(f).each(b=>{p.stop()})}),Ue(Vt(),q4),Ue(pd(),(f,p)=>{n.autofocus?l(f):Co.focus(f)})]),behaviours:Gt(n.widgetBehaviours,[Ee.config({store:{mode:"memory",initialValue:n.data}}),Co.config({ignore:n.ignoreFocus,onFocus:f=>{G4(f)}}),Yt.config({mode:"special",focusIn:n.autofocus?f=>{l(f)}:V(),onLeft:u,onRight:u,onEscape:(f,p)=>Co.isFocused(f)||n.autofocus?(n.autofocus&&p.setSource(f.element),T.none()):(Co.focus(f),T.some(!0))})])}})],J4=xs("type",{widget:X4,item:ER,separator:AR}),K_=ne([Qv({factory:{sketch:n=>{const s=ia("menu.spec item",J4,n);return s.builder(s)}},name:"items",unit:"item",defaults:(n,s)=>ro(s,"uid")?s:{...s,uid:vu("item")},overrides:(n,s)=>({type:s.type,ignoreFocus:n.fakeFocus,domModification:{classes:[n.markers.item]}})})]),Q4=ne([Ze("value"),Ze("items"),Ze("dom"),Ze("components"),Ae("eventOrder",{}),xt("menuBehaviours",[Wn,Ee,xn,Yt]),Hs("movement",{mode:"menu",moveOnTab:!0},xs("mode",{grid:[nh(),bn("config",(n,s)=>({mode:"flatgrid",selector:"."+n.markers.item,initSize:{numColumns:s.initSize.numColumns,numRows:s.initSize.numRows},focusManager:n.focusManager}))],matrix:[bn("config",(n,s)=>({mode:"matrix",selectors:{row:s.rowSelector,cell:"."+n.markers.item},previousSelector:s.previousSelector,focusManager:n.focusManager})),Ze("rowSelector"),Ae("previousSelector",T.none)],menu:[Ae("moveOnTab",!0),bn("config",(n,s)=>({mode:"menu",selector:"."+n.markers.item,moveOnTab:s.moveOnTab,focusManager:n.focusManager}))]})),ya("markers",n_()),Ae("fakeFocus",!1),Ae("focusManager",A_()),vn("onHighlight"),vn("onDehighlight"),Ae("menuRole",!0)]),eE=ne("alloy.menu-focus"),Th=Vl({name:"Menu",configFields:Q4(),partFields:K_(),factory:(n,s,i,l)=>({uid:n.uid,dom:n.dom,markers:n.markers,behaviours:Ut(n.menuBehaviours,[Wn.config({highlightClass:n.markers.selectedItem,itemClass:n.markers.item,onHighlight:n.onHighlight,onDehighlight:n.onDehighlight}),Ee.config({store:{mode:"memory",initialValue:n.value}}),xn.config({find:T.some}),Yt.config(n.movement.config(n,n.movement))]),events:_n([Ue(K4(),(u,f)=>{const p=f.event;u.getSystem().getByDom(p.target).each(b=>{Wn.highlight(u,b),f.stop(),Zt(u,eE(),{menu:u,item:b})})}),Ue(W_(),(u,f)=>{const p=f.event.item;Wn.highlight(u,p)}),Ue(mx(),(u,f)=>{const{item:p,state:b}=f.event;b&&hs(p.element,"role")==="menuitemradio"&&((y,w)=>{const E=ua(y.element,'[role="menuitemradio"][aria-checked="true"]');Ot(E,_=>{hn(_,w.element)||y.getSystem().getByDom(_).each(O=>{ko.off(O)})})})(u,p)})]),components:s,eventOrder:n.eventOrder,...n.menuRole?{domModification:{attributes:{role:"menu"}}}:{}})}),tE=(n,s,i,l)=>lt(i,l).bind(u=>lt(n,u).bind(f=>{const p=tE(n,s,i,f);return T.some([f].concat(p))})).getOr([]),oE=n=>n.type==="prepared"?T.some(n.menu):T.none(),zR=()=>{const n=eo({}),s=eo({}),i=eo({}),l=Vn(),u=eo({}),f=y=>p(y).bind(oE),p=y=>lt(s.get(),y),b=y=>lt(n.get(),y);return{setMenuBuilt:(y,w)=>{s.set({...s.get(),[y]:{type:"prepared",menu:w}})},setContents:(y,w,E,_)=>{l.set(y),n.set(E),s.set(w),u.set(_);const O=((L,I)=>{const K={};Kn(L,(Z,Y)=>{Ot(Z,oe=>{K[oe]=Y})});const q=I,se=zn(I,(Z,Y)=>({k:Z,v:Y})),W=Mn(se,(Z,Y)=>[Y].concat(tE(K,q,se,Y)));return Mn(K,Z=>lt(W,Z).getOr([Z]))})(_,E);i.set(O)},expand:y=>lt(n.get(),y).map(w=>{const E=lt(i.get(),y).getOr([]);return[w].concat(E)}),refresh:y=>lt(i.get(),y),collapse:y=>lt(i.get(),y).bind(w=>w.length>1?T.some(w.slice(1)):T.none()),lookupMenu:p,lookupItem:b,otherMenus:y=>{const w=u.get();return nn($o(w),y)},getPrimary:()=>l.get().bind(f),getMenus:()=>s.get(),clear:()=>{n.set({}),s.set({}),i.set({}),l.clear()},isClear:()=>l.get().isNone(),getTriggeringPath:(y,w)=>{const E=kn(b(y).toArray(),_=>f(_).isSome());return lt(i.get(),y).bind(_=>{const O=sl(E.concat(_));return(L=>{const I=[];for(let K=0;K<L.length;K++){const q=L[K];if(!q.isSome())return T.none();I.push(q.getOrDie())}return T.some(I)})(mn(O,(L,I)=>((K,q,se)=>f(K).bind(W=>(Z=>Ko(n.get(),(Y,oe)=>Y===Z))(K).bind(Z=>q(Z).map(Y=>({triggeredMenu:W,triggeringItem:Y,triggeringPath:se})))))(L,w,O.slice(0,I+1)).fold(()=>gs(l.get(),L)?[]:[T.none()],K=>[T.some(K)])))})}}},TR=oE,wd=Pt("tiered-menu-item-highlight"),OR=Pt("tiered-menu-item-dehighlight");var nl;(function(n){n[n.HighlightMenuAndItem=0]="HighlightMenuAndItem",n[n.HighlightJustMenu=1]="HighlightJustMenu",n[n.HighlightNone=2]="HighlightNone"})(nl||(nl={}));const cy=ne("collapse-item"),cp=vd({name:"TieredMenu",configFields:[Hm("onExecute"),Hm("onEscape"),Ku("onOpenMenu"),Ku("onOpenSubmenu"),vn("onRepositionMenu"),vn("onCollapseMenu"),Ae("highlightOnOpen",nl.HighlightMenuAndItem),Il("data",[Ze("primary"),Ze("menus"),Ze("expansions")]),Ae("fakeFocus",!1),vn("onHighlightItem"),vn("onDehighlightItem"),vn("onHover"),xa(),Ze("dom"),Ae("navigateOnHover",!0),Ae("stayInDom",!1),xt("tmenuBehaviours",[Yt,Wn,xn,po]),Ae("eventOrder",{})],apis:{collapseMenu:(n,s)=>{n.collapseMenu(s)},highlightPrimary:(n,s)=>{n.highlightPrimary(s)},repositionMenus:(n,s)=>{n.repositionMenus(s)}},factory:(n,s)=>{const i=Vn(),l=zR(),u=Z=>Ee.getValue(Z).value,f=Z=>Mn(n.data.menus,(Y,oe)=>mn(Y.items,re=>re.type==="separator"?[]:[re.data.value])),p=Wn.highlight,b=(Z,Y)=>{p(Z,Y),Wn.getHighlighted(Y).orThunk(()=>Wn.getFirst(Y)).each(oe=>{n.fakeFocus?Wn.highlight(Y,oe):Lm(Z,oe.element,pd())})},y=(Z,Y)=>Ea(nt(Y,oe=>Z.lookupMenu(oe).bind(re=>re.type==="prepared"?T.some(re.menu):T.none()))),w=(Z,Y,oe)=>{const re=y(Y,Y.otherMenus(oe));Ot(re,be=>{Cn(be.element,[n.markers.backgroundMenu]),n.stayInDom||po.remove(Z,be)})},E=(Z,Y)=>{const oe=(re=>i.get().getOrThunk(()=>{const be={},Oe=ua(re.element,`.${n.markers.item}`),Ke=kn(Oe,Je=>hs(Je,"aria-haspopup")==="true");return Ot(Ke,Je=>{re.getSystem().getByDom(Je).each(at=>{const kt=u(at);be[kt]=at})}),i.set(be),be}))(Z);Kn(oe,(re,be)=>{const Oe=_e(Y,be);uo(re.element,"aria-expanded",Oe)})},_=(Z,Y,oe)=>T.from(oe[0]).bind(re=>Y.lookupMenu(re).bind(be=>{if(be.type==="notbuilt")return T.none();{const Oe=be.menu,Ke=y(Y,oe.slice(1));return Ot(Ke,Je=>{$t(Je.element,n.markers.backgroundMenu)}),Yn(Oe.element)||po.append(Z,Hl(Oe)),Cn(Oe.element,[n.markers.backgroundMenu]),b(Z,Oe),w(Z,Y,oe),T.some(Oe)}}));let O;(function(Z){Z[Z.HighlightSubmenu=0]="HighlightSubmenu",Z[Z.HighlightParent=1]="HighlightParent"})(O||(O={}));const L=(Z,Y,oe=O.HighlightSubmenu)=>{if(Y.hasConfigured(zo)&&zo.isDisabled(Y))return T.some(Y);{const re=u(Y);return l.expand(re).bind(be=>(E(Z,be),T.from(be[0]).bind(Oe=>l.lookupMenu(Oe).bind(Ke=>{const Je=((at,kt,Mt)=>{if(Mt.type==="notbuilt"){const qt=at.getSystem().build(Mt.nbMenu());return l.setMenuBuilt(kt,qt),qt}return Mt.menu})(Z,Oe,Ke);return Yn(Je.element)||po.append(Z,Hl(Je)),n.onOpenSubmenu(Z,Y,Je,sl(be)),oe===O.HighlightSubmenu?(Wn.highlightFirst(Je),_(Z,l,be)):(Wn.dehighlightAll(Je),T.some(Y))}))))}},I=(Z,Y)=>{const oe=u(Y);return l.collapse(oe).bind(re=>(E(Z,re),_(Z,l,re).map(be=>(n.onCollapseMenu(Z,Y,be),be))))},K=Z=>(Y,oe)=>jn(oe.getSource(),`.${n.markers.item}`).bind(re=>Y.getSystem().getByDom(re).toOptional().bind(be=>Z(Y,be).map(Lt))),q=_n([Ue(eE(),(Z,Y)=>{const oe=Y.event.item;l.lookupItem(u(oe)).each(()=>{const re=Y.event.menu;Wn.highlight(Z,re);const be=u(Y.event.item);l.refresh(be).each(Oe=>w(Z,l,Oe))})}),Lc((Z,Y)=>{const oe=Y.event.target;Z.getSystem().getByDom(oe).each(re=>{u(re).indexOf("collapse-item")===0&&I(Z,re),L(Z,re,O.HighlightSubmenu).fold(()=>{n.onExecute(Z,re)},ut)})}),Ar((Z,Y)=>{(oe=>{const re=((Oe,Ke,Je)=>Mn(Je,(at,kt)=>{const Mt=()=>Th.sketch({...at,value:kt,markers:n.markers,fakeFocus:n.fakeFocus,onHighlight:(qt,so)=>{Zt(qt,wd,{menuComp:qt,itemComp:so})},onDehighlight:(qt,so)=>{Zt(qt,OR,{menuComp:qt,itemComp:so})},focusManager:n.fakeFocus?dR():A_()});return kt===Ke?{type:"prepared",menu:Oe.getSystem().build(Mt())}:{type:"notbuilt",nbMenu:Mt}}))(oe,n.data.primary,n.data.menus),be=f();return l.setContents(n.data.primary,re,n.data.expansions,be),l.getPrimary()})(Z).each(oe=>{po.append(Z,Hl(oe)),n.onOpenMenu(Z,oe),n.highlightOnOpen===nl.HighlightMenuAndItem?b(Z,oe):n.highlightOnOpen===nl.HighlightJustMenu&&p(Z,oe)})}),Ue(wd,(Z,Y)=>{n.onHighlightItem(Z,Y.event.menuComp,Y.event.itemComp)}),Ue(OR,(Z,Y)=>{n.onDehighlightItem(Z,Y.event.menuComp,Y.event.itemComp)}),...n.navigateOnHover?[Ue(W_(),(Z,Y)=>{const oe=Y.event.item;((re,be)=>{const Oe=u(be);l.refresh(Oe).bind(Ke=>(E(re,Ke),_(re,l,Ke)))})(Z,oe),L(Z,oe,O.HighlightParent),n.onHover(Z,oe)})]:[]]),se=Z=>Wn.getHighlighted(Z).bind(Wn.getHighlighted),W={collapseMenu:Z=>{se(Z).each(Y=>{I(Z,Y)})},highlightPrimary:Z=>{l.getPrimary().each(Y=>{b(Z,Y)})},repositionMenus:Z=>{l.getPrimary().bind(oe=>se(Z).bind(re=>{const be=u(re),Oe=ps(l.getMenus()),Ke=Ea(nt(Oe,TR));return l.getTriggeringPath(be,Je=>((at,kt,Mt)=>fo(kt,qt=>{if(!qt.getSystem().isConnected())return T.none();const so=Wn.getCandidates(qt);return $(so,Lo=>u(Lo)===Mt)}))(0,Ke,Je))}).map(re=>({primary:oe,triggeringPath:re}))).fold(()=>{(oe=>T.from(oe.components()[0]).filter(re=>hs(re.element,"role")==="menu"))(Z).each(oe=>{n.onRepositionMenu(Z,oe,[])})},({primary:oe,triggeringPath:re})=>{n.onRepositionMenu(Z,oe,re)})}};return{uid:n.uid,dom:n.dom,markers:n.markers,behaviours:Ut(n.tmenuBehaviours,[Yt.config({mode:"special",onRight:K((Z,Y)=>oy(Y.element)?T.none():L(Z,Y,O.HighlightSubmenu)),onLeft:K((Z,Y)=>oy(Y.element)?T.none():I(Z,Y)),onEscape:K((Z,Y)=>I(Z,Y).orThunk(()=>n.onEscape(Z,Y).map(()=>Z))),focusIn:(Z,Y)=>{l.getPrimary().each(oe=>{Lm(Z,oe.element,pd())})}}),Wn.config({highlightClass:n.markers.selectedMenu,itemClass:n.markers.menu}),xn.config({find:Z=>Wn.getHighlighted(Z)}),po.config({})]),eventOrder:n.eventOrder,apis:W,events:q}},extraApis:{tieredData:(n,s,i)=>({primary:n,menus:s,expansions:i}),singleData:(n,s)=>({primary:n,menus:Xi(n,s),expansions:{}}),collapseItem:n=>({value:Pt(cy()),meta:{text:n}})}}),as=vd({name:"InlineView",configFields:[Ze("lazySink"),vn("onShow"),vn("onHide"),ml("onEscape"),xt("inlineBehaviours",[h,Ee,Ci]),Li("fireDismissalEventInstead",[Ae("event",Nc())]),Li("fireRepositionEventInstead",[Ae("event",gb())]),Ae("getRelated",T.none),Ae("isExtraPart",Le),Ae("eventOrder",T.none)],factory:(n,s)=>{const i=(p,b,y,w)=>{const E=n.lazySink(p).getOrDie();h.openWhileCloaked(p,b,()=>ai.positionWithinBounds(E,p,y,w())),Ee.setValue(p,T.some({mode:"position",config:y,getBounds:w}))},l=(p,b,y,w)=>{const E=((_,O,L,I,K)=>{const q=()=>_.lazySink(O),se=I.type==="horizontal"?{layouts:{onLtr:()=>Gf(),onRtl:()=>Rb()}}:{},W=Z=>(Y=>Y.length===2)(Z)?se:{};return cp.sketch({dom:{tag:"div"},data:I.data,markers:I.menu.markers,highlightOnOpen:I.menu.highlightOnOpen,fakeFocus:I.menu.fakeFocus,onEscape:()=>(h.close(O),_.onEscape.map(Z=>Z(O)),T.some(!0)),onExecute:()=>T.some(!0),onOpenMenu:(Z,Y)=>{ai.positionWithinBounds(q().getOrDie(),Y,L,K())},onOpenSubmenu:(Z,Y,oe,re)=>{const be=q().getOrDie();ai.position(be,oe,{anchor:{type:"submenu",item:Y,...W(re)}})},onRepositionMenu:(Z,Y,oe)=>{const re=q().getOrDie();ai.positionWithinBounds(re,Y,L,K()),Ot(oe,be=>{const Oe=W(be.triggeringPath);ai.position(re,be.triggeredMenu,{anchor:{type:"submenu",item:be.triggeringItem,...Oe}})})}})})(n,p,b,y,w);h.open(p,E),Ee.setValue(p,T.some({mode:"menu",menu:E}))},u=p=>{h.isOpen(p)&&Ee.getValue(p).each(b=>{switch(b.mode){case"menu":h.getState(p).each(cp.repositionMenus);break;case"position":const y=n.lazySink(p).getOrDie();ai.positionWithinBounds(y,p,b.config,b.getBounds())}})},f={setContent:(p,b)=>{h.setContent(p,b)},showAt:(p,b,y)=>{const w=T.none;i(p,b,y,w)},showWithinBounds:i,showMenuAt:(p,b,y)=>{l(p,b,y,T.none)},showMenuWithinBounds:l,hide:p=>{h.isOpen(p)&&(Ee.setValue(p,T.none()),h.close(p))},getContent:p=>h.getState(p),reposition:u,isOpen:h.isOpen};return{uid:n.uid,dom:n.dom,behaviours:Ut(n.inlineBehaviours,[h.config({isPartOf:(p,b,y)=>qf(b,y)||((w,E)=>n.getRelated(w).exists(_=>qf(_,E)))(p,y),getAttachPoint:p=>n.lazySink(p).getOrDie(),onOpen:p=>{n.onShow(p)},onClose:p=>{n.onHide(p)}}),Ee.config({store:{mode:"memory",initialValue:T.none()}}),Ci.config({channels:{...H({isExtraPart:s.isExtraPart,...n.fireDismissalEventInstead.map(p=>({fireEventInstead:{event:p.event}})).getOr({})}),...te({...n.fireRepositionEventInstead.map(p=>({fireEventInstead:{event:p.event}})).getOr({}),doReposition:u})}})]),eventOrder:n.eventOrder,apis:f}},apis:{showAt:(n,s,i,l)=>{n.showAt(s,i,l)},showWithinBounds:(n,s,i,l,u)=>{n.showWithinBounds(s,i,l,u)},showMenuAt:(n,s,i,l)=>{n.showMenuAt(s,i,l)},showMenuWithinBounds:(n,s,i,l,u)=>{n.showMenuWithinBounds(s,i,l,u)},hide:(n,s)=>{n.hide(s)},isOpen:(n,s)=>n.isOpen(s),getContent:(n,s)=>n.getContent(s),setContent:(n,s,i)=>{n.setContent(s,i)},reposition:(n,s)=>{n.reposition(s)}}});var Jd,G1,px=tinymce.util.Tools.resolve("tinymce.util.Delay"),dy=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),nE=tinymce.util.Tools.resolve("tinymce.EditorManager"),lf=tinymce.util.Tools.resolve("tinymce.Env");(function(n){n.default="wrap",n.floating="floating",n.sliding="sliding",n.scrolling="scrolling"})(Jd||(Jd={})),function(n){n.auto="auto",n.top="top",n.bottom="bottom"}(G1||(G1={}));const gr=n=>s=>s.options.get(n),K1=n=>s=>T.from(n(s)),rE=n=>{const s=lf.deviceType.isPhone(),i=lf.deviceType.isTablet()||s,l=n.options.register,u=p=>So(p)||p===!1,f=p=>So(p)||Ho(p);l("skin",{processor:p=>So(p)||p===!1,default:"oxide"}),l("skin_url",{processor:"string"}),l("height",{processor:f,default:Math.max(n.getElement().offsetHeight,400)}),l("width",{processor:f,default:dy.DOM.getStyle(n.getElement(),"width")}),l("min_height",{processor:"number",default:100}),l("min_width",{processor:"number"}),l("max_height",{processor:"number"}),l("max_width",{processor:"number"}),l("style_formats",{processor:"object[]"}),l("style_formats_merge",{processor:"boolean",default:!1}),l("style_formats_autohide",{processor:"boolean",default:!1}),l("line_height_formats",{processor:"string",default:"1 1.1 1.2 1.3 1.4 1.5 2"}),l("font_family_formats",{processor:"string",default:"Andale Mono=andale mono,monospace;Arial=arial,helvetica,sans-serif;Arial Black=arial black,sans-serif;Book Antiqua=book antiqua,palatino,serif;Comic Sans MS=comic sans ms,sans-serif;Courier New=courier new,courier,monospace;Georgia=georgia,palatino,serif;Helvetica=helvetica,arial,sans-serif;Impact=impact,sans-serif;Symbol=symbol;Tahoma=tahoma,arial,helvetica,sans-serif;Terminal=terminal,monaco,monospace;Times New Roman=times new roman,times,serif;Trebuchet MS=trebuchet ms,geneva,sans-serif;Verdana=verdana,geneva,sans-serif;Webdings=webdings;Wingdings=wingdings,zapf dingbats"}),l("font_size_formats",{processor:"string",default:"8pt 10pt 12pt 14pt 18pt 24pt 36pt"}),l("font_size_input_default_unit",{processor:"string",default:"pt"}),l("block_formats",{processor:"string",default:"Paragraph=p;Heading 1=h1;Heading 2=h2;Heading 3=h3;Heading 4=h4;Heading 5=h5;Heading 6=h6;Preformatted=pre"}),l("content_langs",{processor:"object[]"}),l("removed_menuitems",{processor:"string",default:""}),l("menubar",{processor:p=>So(p)||Qn(p),default:!s}),l("menu",{processor:"object",default:{}}),l("toolbar",{processor:p=>Qn(p)||So(p)||Xo(p)?{value:p,valid:!0}:{valid:!1,message:"Must be a boolean, string or array."},default:!0}),un(9,p=>{l("toolbar"+(p+1),{processor:"string"})}),l("toolbar_mode",{processor:"string",default:i?"scrolling":"floating"}),l("toolbar_groups",{processor:"object",default:{}}),l("toolbar_location",{processor:"string",default:G1.auto}),l("toolbar_persist",{processor:"boolean",default:!1}),l("toolbar_sticky",{processor:"boolean",default:n.inline}),l("toolbar_sticky_offset",{processor:"number",default:0}),l("fixed_toolbar_container",{processor:"string",default:""}),l("fixed_toolbar_container_target",{processor:"object"}),l("ui_mode",{processor:"string",default:"combined"}),l("file_picker_callback",{processor:"function"}),l("file_picker_validator_handler",{processor:"function"}),l("file_picker_types",{processor:"string"}),l("typeahead_urls",{processor:"boolean",default:!0}),l("anchor_top",{processor:u,default:"#top"}),l("anchor_bottom",{processor:u,default:"#bottom"}),l("draggable_modal",{processor:"boolean",default:!1}),l("statusbar",{processor:"boolean",default:!0}),l("elementpath",{processor:"boolean",default:!0}),l("branding",{processor:"boolean",default:!0}),l("promotion",{processor:"boolean",default:!0}),l("resize",{processor:p=>p==="both"||Qn(p),default:!lf.deviceType.isTouch()}),l("sidebar_show",{processor:"string"}),l("help_accessibility",{processor:"boolean",default:n.hasPlugin("help")}),l("default_font_stack",{processor:"string[]",default:[]})},Y_=gr("readonly"),Y1=gr("height"),X1=gr("width"),J1=K1(gr("min_width")),uy=K1(gr("min_height")),fy=K1(gr("max_width")),gx=K1(gr("max_height")),my=K1(gr("style_formats")),hx=gr("style_formats_merge"),sE=gr("style_formats_autohide"),X_=gr("content_langs"),aE=gr("removed_menuitems"),Oh=gr("toolbar_mode"),bx=gr("toolbar_groups"),lg=gr("toolbar_location"),J_=gr("fixed_toolbar_container"),DR=gr("fixed_toolbar_container_target"),iE=gr("toolbar_persist"),Q_=gr("toolbar_sticky_offset"),dp=gr("menubar"),py=gr("toolbar"),yx=gr("file_picker_callback"),Q1=gr("file_picker_validator_handler"),e2=gr("font_size_input_default_unit"),e0=gr("file_picker_types"),vx=gr("typeahead_urls"),lE=gr("anchor_top"),cE=gr("anchor_bottom"),cf=gr("draggable_modal"),dE=gr("statusbar"),uE=gr("elementpath"),Xc=gr("branding"),ii=gr("resize"),fE=gr("paste_as_text"),xx=gr("sidebar_show"),mE=gr("promotion"),t2=gr("help_accessibility"),kx=gr("default_font_stack"),cg=n=>n.options.get("skin")===!1,t0=n=>n.options.get("menubar")!==!1,wx=n=>{const s=n.options.get("skin_url");if(cg(n))return s;if(s)return n.documentBaseURI.toAbsolute(s);{const i=n.options.get("skin");return nE.baseURL+"/skins/ui/"+i}},_x=n=>T.from(n.options.get("skin_url")),pE=n=>n.options.get("line_height_formats").split(" "),o0=n=>{const s=py(n),i=So(s),l=Xo(s)&&s.length>0;return!n0(n)&&(l||i||s===!0)},Cx=n=>{const s=un(9,l=>n.options.get("toolbar"+(l+1))),i=kn(s,So);return Bo(i.length>0,i)},n0=n=>Cx(n).fold(()=>{const s=py(n);return er(s,So)&&s.length>0},Lt),o2=n=>lg(n)===G1.bottom,n2=n=>{var s;if(!n.inline)return T.none();const i=(s=J_(n))!==null&&s!==void 0?s:"";if(i.length>0)return ss(ha(),i);const l=DR(n);return It(l)?T.some(wt(l)):T.none()},Dh=n=>n.inline&&n2(n).isSome(),Sx=n=>n2(n).getOrThunk(()=>es(Gr(wt(n.getElement())))),Ex=n=>n.inline&&!t0(n)&&!o0(n)&&!n0(n),up=n=>(n.options.get("toolbar_sticky")||n.inline)&&!Dh(n)&&!Ex(n),fp=n=>!Dh(n)&&n.options.get("ui_mode")==="split",dg=n=>{const s=n.options.get("menu");return Mn(s,i=>({...i,items:i.items}))};var r0=Object.freeze({__proto__:null,get ToolbarMode(){return Jd},get ToolbarLocation(){return G1},register:rE,getSkinUrl:wx,getSkinUrlOption:_x,isReadOnly:Y_,isSkinDisabled:cg,getHeightOption:Y1,getWidthOption:X1,getMinWidthOption:J1,getMinHeightOption:uy,getMaxWidthOption:fy,getMaxHeightOption:gx,getUserStyleFormats:my,shouldMergeStyleFormats:hx,shouldAutoHideStyleFormats:sE,getLineHeightFormats:pE,getContentLanguages:X_,getRemovedMenuItems:aE,isMenubarEnabled:t0,isMultipleToolbars:n0,isToolbarEnabled:o0,isToolbarPersist:iE,getMultipleToolbarsOption:Cx,getUiContainer:Sx,useFixedContainer:Dh,isSplitUiMode:fp,getToolbarMode:Oh,isDraggableModal:cf,isDistractionFree:Ex,isStickyToolbar:up,getStickyToolbarOffset:Q_,getToolbarLocation:lg,isToolbarLocationBottom:o2,getToolbarGroups:bx,getMenus:dg,getMenubar:dp,getToolbar:py,getFilePickerCallback:yx,getFilePickerTypes:e0,useTypeaheadUrls:vx,getAnchorTop:lE,getAnchorBottom:cE,getFilePickerValidatorHandler:Q1,getFontSizeInputDefaultUnit:e2,useStatusBar:dE,useElementPath:uE,promotionEnabled:mE,useBranding:Xc,getResize:ii,getPasteAsText:fE,getSidebarShow:xx,useHelpAccessibility:t2,getDefaultFontStack:kx});const RR=["visible","hidden","clip"],gE=n=>di(n).length>0&&!_e(RR,n),hE=n=>{if(wl(n)){const s=ur(n,"overflow-x"),i=ur(n,"overflow-y");return gE(s)||gE(i)}return!1},ug=(n,s)=>fp(n)?(i=>{const l=ng(i,hE),u=l.length===0?ts(i).map(Xa).map(f=>ng(f,hE)).getOr([]):l;return it(u).map(f=>({element:f,others:u.slice(1)}))})(s):T.none(),fg=n=>{const s=[...nt(n.others,$n),Kr()];return((i,l)=>Ao(l,(u,f)=>Nl(u,f),i))($n(n.element),s)},ji=vd({name:"Button",factory:n=>{const s=ly(n.action),i=n.dom.tag,l=u=>lt(n.dom,"attributes").bind(f=>lt(f,u));return{uid:n.uid,dom:n.dom,components:n.components,events:s,behaviours:Gt(n.buttonBehaviours,[Co.config({}),Yt.config({mode:"execution",useSpace:!0,useEnter:!0})]),domModification:{attributes:i==="button"?{type:l("type").getOr("button"),...l("role").map(u=>({role:u})).getOr({})}:{role:n.role.getOr(l("role").getOr("button"))}},eventOrder:n.eventOrder}},configFields:[Ae("uid",void 0),Ze("dom"),Ae("components",[]),Dn("buttonBehaviours",[Co,Yt]),wn("action"),wn("role"),Ae("eventOrder",{})]}),am=n=>{const s=Ka(n),i=In(s),l=(p=>{const b=p.dom.attributes!==void 0?p.dom.attributes:[];return Ao(b,(y,w)=>w.name==="class"?y:{...y,[w.name]:w.value},{})})(s),u=(p=>Array.prototype.slice.call(p.dom.classList,0))(s),f=i.length===0?{}:{innerHtml:th(s)};return{tag:Aa(s),classes:u,attributes:l,...f}},rr=n=>{const s=(i=>i.uid!==void 0)(n)&&Po(n,"uid")?n.uid:vu("memento");return{get:i=>i.getSystem().getByUid(s).getOrDie(),getOpt:i=>i.getSystem().getByUid(s).toOptional(),asSpec:()=>({...n,uid:s})}};var NR=Object.freeze({__proto__:null,exhibit:(n,s)=>$s({attributes:Ji([{key:s.tabAttr,value:"true"}])})}),bE=[Ae("tabAttr","data-alloy-tabstop")];const Tr=ks({fields:bE,name:"tabstopping",active:NR}),r2=Pt("tooltip.exclusive"),s0=Pt("tooltip.show"),a0=Pt("tooltip.hide"),Ax=Pt("tooltip.immediateHide"),zx=Pt("tooltip.immediateShow"),yE=(n,s,i)=>{n.getSystem().broadcastOn([r2],{})};var MR=Object.freeze({__proto__:null,hideAllExclusive:yE,setComponents:(n,s,i,l)=>{i.getTooltip().each(u=>{u.getSystem().isConnected()&&po.set(u,l)})}}),BR=Object.freeze({__proto__:null,events:(n,s)=>{const i=f=>{s.getTooltip().each(p=>{p.getSystem().isConnected()&&(pl(p),n.onHide(f,p),s.clearTooltip())}),s.clearTimer()},l=f=>{if(!s.isShowing()){yE(f);const p=n.lazySink(f).getOrDie(),b=f.getSystem().build({dom:n.tooltipDom,components:n.tooltipComponents,events:_n(n.mode==="normal"?[Ue(Vt(),y=>{jo(f,s0)}),Ue(ye(),y=>{jo(f,a0)})]:[]),behaviours:ct([po.config({})])});s.setTooltip(b),Su(p,b),n.onShow(f,b),ai.position(p,b,{anchor:n.anchor(f)})}},u=f=>{s.getTooltip().each(p=>{const b=n.lazySink(f).getOrDie();ai.position(b,p,{anchor:n.anchor(f)})})};return _n(An([[Ue(s0,f=>{s.resetTimer(()=>{l(f)},n.delayForShow())}),Ue(a0,f=>{s.resetTimer(()=>{i(f)},n.delayForHide())}),Ue(zx,f=>{s.resetTimer(()=>{l(f)},0)}),Ue(Ax,f=>{s.resetTimer(()=>{i(f)},0)}),Ue(mu(),(f,p)=>{const b=p;b.universal||_e(b.channels,r2)&&i(f)}),gd(f=>{i(f)})],(()=>{switch(n.mode){case"normal":return[Ue(bo(),f=>{jo(f,zx)}),Ue(Dc(),f=>{jo(f,Ax)}),Ue(Vt(),f=>{jo(f,s0)}),Ue(ye(),f=>{jo(f,a0)})];case"follow-highlight":return[Ue(mt(),(f,p)=>{jo(f,s0)}),Ue(Kg(),f=>{jo(f,a0)})];case"children-normal":return[Ue(bo(),(f,p)=>{Hi(f.element).each(b=>{Cl(p.event.target,"[data-mce-tooltip]")&&s.getTooltip().fold(()=>{jo(f,zx)},y=>{s.isShowing()&&(n.onShow(f,y),u(f))})})}),Ue(Dc(),f=>{Hi(f.element).fold(()=>{jo(f,Ax)},ut)}),Ue(Vt(),f=>{ss(f.element,"[data-mce-tooltip]:hover").each(p=>{s.getTooltip().fold(()=>{jo(f,s0)},b=>{s.isShowing()&&(n.onShow(f,b),u(f))})})}),Ue(ye(),f=>{ss(f.element,"[data-mce-tooltip]:hover").fold(()=>{jo(f,a0)},ut)})];default:return[Ue(bo(),(f,p)=>{Hi(f.element).each(b=>{Cl(p.event.target,"[data-mce-tooltip]")&&s.getTooltip().fold(()=>{jo(f,zx)},y=>{s.isShowing()&&(n.onShow(f,y),u(f))})})}),Ue(Dc(),f=>{Hi(f.element).fold(()=>{jo(f,Ax)},ut)})]}})()]))}}),IR=[Ze("lazySink"),Ze("tooltipDom"),Ae("exclusive",!0),Ae("tooltipComponents",[]),_r("delayForShow",ne(300)),_r("delayForHide",ne(300)),Ll("mode","normal",["normal","follow-highlight","children-keyboard-focus","children-normal"]),Ae("anchor",n=>({type:"hotspot",hotspot:n,layouts:{onLtr:ne([Xr,Jn,ka,Js,ws,js]),onRtl:ne([Xr,Jn,ka,Js,ws,js])},bubble:$l(0,-2,{})})),vn("onHide"),vn("onShow")],LR=Object.freeze({__proto__:null,init:()=>{const n=Vn(),s=Vn(),i=()=>{n.on(clearTimeout)},l=ne("not-implemented");return ki({getTooltip:s.get,isShowing:s.isSet,setTooltip:s.set,clearTooltip:s.clear,clearTimer:i,resetTimer:(u,f)=>{i(),n.set(setTimeout(u,f))},readState:l})}});const Ui=ks({fields:IR,name:"tooltipping",active:BR,state:LR,apis:MR}),{entries:vE,setPrototypeOf:s2,isFrozen:xE,getPrototypeOf:kE,getOwnPropertyDescriptor:PR}=Object;let{freeze:bc,seal:df,create:wE}=Object,{apply:a2,construct:i2}=typeof Reflect<"u"&&Reflect;a2||(a2=function(n,s,i){return n.apply(s,i)}),bc||(bc=function(n){return n}),df||(df=function(n){return n}),i2||(i2=function(n,s){return new n(...s)});const l2=Tu(Array.prototype.forEach),FR=Tu(Array.prototype.pop),i0=Tu(Array.prototype.push),Tx=Tu(String.prototype.toLowerCase),Ox=Tu(String.prototype.toString),HR=Tu(String.prototype.match),Dt=Tu(String.prototype.replace),Rh=Tu(String.prototype.indexOf),$R=Tu(String.prototype.trim),_d=Tu(RegExp.prototype.test),mg=(Dx=TypeError,function(){for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return i2(Dx,s)});var Dx;function Tu(n){return function(s){for(var i=arguments.length,l=new Array(i>1?i-1:0),u=1;u<i;u++)l[u-1]=arguments[u];return a2(n,s,l)}}function yr(n,s,i){var l;i=(l=i)!==null&&l!==void 0?l:Tx,s2&&s2(n,null);let u=s.length;for(;u--;){let f=s[u];if(typeof f=="string"){const p=i(f);p!==f&&(xE(s)||(s[u]=p),f=p)}n[f]=!0}return n}function gy(n){const s=wE(null);for(const[i,l]of vE(n))s[i]=l;return s}function Rx(n,s){for(;n!==null;){const i=PR(n,s);if(i){if(i.get)return Tu(i.get);if(typeof i.value=="function")return Tu(i.value)}n=kE(n)}return function(i){return console.warn("fallback value for",i),null}}const c2=bc(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),l0=bc(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),Nh=bc(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),_E=bc(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),d2=bc(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),VR=bc(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),CE=bc(["#text"]),jR=bc(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),Nx=bc(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),SE=bc(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Mx=bc(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),UR=df(/\{\{[\w\W]*|[\w\W]*\}\}/gm),ZR=df(/<%[\w\W]*|[\w\W]*%>/gm),u2=df(/\${[\w\W]*}/gm),WR=df(/^data-[\-\w.\u00B7-\uFFFF]/),qR=df(/^aria-[\-\w]+$/),EE=df(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),GR=df(/^(?:\w+script|data):/i),KR=df(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),im=df(/^html$/i);var c0=Object.freeze({__proto__:null,MUSTACHE_EXPR:UR,ERB_EXPR:ZR,TMPLIT_EXPR:u2,DATA_ATTR:WR,ARIA_ATTR:qR,IS_ALLOWED_URI:EE,IS_SCRIPT_OR_DATA:GR,ATTR_WHITESPACE:KR,DOCTYPE_NAME:im});const YR=()=>typeof window>"u"?null:window;var XR=function n(){let s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:YR();const i=Re=>n(Re);if(i.version="3.0.5",i.removed=[],!s||!s.document||s.document.nodeType!==9)return i.isSupported=!1,i;const l=s.document,u=l.currentScript;let{document:f}=s;const{DocumentFragment:p,HTMLTemplateElement:b,Node:y,Element:w,NodeFilter:E,NamedNodeMap:_=s.NamedNodeMap||s.MozNamedAttrMap,HTMLFormElement:O,DOMParser:L,trustedTypes:I}=s,K=w.prototype,q=Rx(K,"cloneNode"),se=Rx(K,"nextSibling"),W=Rx(K,"childNodes"),Z=Rx(K,"parentNode");if(typeof b=="function"){const Re=f.createElement("template");Re.content&&Re.content.ownerDocument&&(f=Re.content.ownerDocument)}let Y,oe="";const{implementation:re,createNodeIterator:be,createDocumentFragment:Oe,getElementsByTagName:Ke}=f,{importNode:Je}=l;let at={};i.isSupported=typeof vE=="function"&&typeof Z=="function"&&re&&re.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:kt,ERB_EXPR:Mt,TMPLIT_EXPR:qt,DATA_ATTR:so,ARIA_ATTR:Lo,IS_SCRIPT_OR_DATA:ln,ATTR_WHITESPACE:is}=c0;let{IS_ALLOWED_URI:ms}=c0,co=null;const As=yr({},[...c2,...l0,...Nh,...d2,...CE]);let wo=null;const Jr=yr({},[...jR,...Nx,...SE,...Mx]);let sr=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),yl=null,Zs=null,Wa=!0,vc=!0,Gy=!1,Ky=!0,zp=!1,Tp=!1,uv=!1,Pg=!1,xm=!1,Fg=!1,Hg=!1,$g=!0,Vw=!1,fv=!0,Vg=!1,Op={},km=null;const mv=yr({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let pv=null;const Un=yr({},["audio","video","img","source","image","track"]);let wm=null;const Lu=yr({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),jw="http://www.w3.org/1998/Math/MathML",Uw="http://www.w3.org/2000/svg",_m="http://www.w3.org/1999/xhtml";let Yy=_m,N3=!1,Do=null;const gv=yr({},[jw,Uw,_m],Ox);let lb;const t5=["application/xhtml+xml","text/html"];let vl,cb=null;const o5=f.createElement("form"),e7=function(Re){return Re instanceof RegExp||Re instanceof Function},db=function(Re){if(!cb||cb!==Re){if(Re&&typeof Re=="object"||(Re={}),Re=gy(Re),lb=lb=t5.indexOf(Re.PARSER_MEDIA_TYPE)===-1?"text/html":Re.PARSER_MEDIA_TYPE,vl=lb==="application/xhtml+xml"?Ox:Tx,co="ALLOWED_TAGS"in Re?yr({},Re.ALLOWED_TAGS,vl):As,wo="ALLOWED_ATTR"in Re?yr({},Re.ALLOWED_ATTR,vl):Jr,Do="ALLOWED_NAMESPACES"in Re?yr({},Re.ALLOWED_NAMESPACES,Ox):gv,wm="ADD_URI_SAFE_ATTR"in Re?yr(gy(Lu),Re.ADD_URI_SAFE_ATTR,vl):Lu,pv="ADD_DATA_URI_TAGS"in Re?yr(gy(Un),Re.ADD_DATA_URI_TAGS,vl):Un,km="FORBID_CONTENTS"in Re?yr({},Re.FORBID_CONTENTS,vl):mv,yl="FORBID_TAGS"in Re?yr({},Re.FORBID_TAGS,vl):{},Zs="FORBID_ATTR"in Re?yr({},Re.FORBID_ATTR,vl):{},Op="USE_PROFILES"in Re&&Re.USE_PROFILES,Wa=Re.ALLOW_ARIA_ATTR!==!1,vc=Re.ALLOW_DATA_ATTR!==!1,Gy=Re.ALLOW_UNKNOWN_PROTOCOLS||!1,Ky=Re.ALLOW_SELF_CLOSE_IN_ATTR!==!1,zp=Re.SAFE_FOR_TEMPLATES||!1,Tp=Re.WHOLE_DOCUMENT||!1,xm=Re.RETURN_DOM||!1,Fg=Re.RETURN_DOM_FRAGMENT||!1,Hg=Re.RETURN_TRUSTED_TYPE||!1,Pg=Re.FORCE_BODY||!1,$g=Re.SANITIZE_DOM!==!1,Vw=Re.SANITIZE_NAMED_PROPS||!1,fv=Re.KEEP_CONTENT!==!1,Vg=Re.IN_PLACE||!1,ms=Re.ALLOWED_URI_REGEXP||EE,Yy=Re.NAMESPACE||_m,sr=Re.CUSTOM_ELEMENT_HANDLING||{},Re.CUSTOM_ELEMENT_HANDLING&&e7(Re.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(sr.tagNameCheck=Re.CUSTOM_ELEMENT_HANDLING.tagNameCheck),Re.CUSTOM_ELEMENT_HANDLING&&e7(Re.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(sr.attributeNameCheck=Re.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),Re.CUSTOM_ELEMENT_HANDLING&&typeof Re.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(sr.allowCustomizedBuiltInElements=Re.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),zp&&(vc=!1),Fg&&(xm=!0),Op&&(co=yr({},[...CE]),wo=[],Op.html===!0&&(yr(co,c2),yr(wo,jR)),Op.svg===!0&&(yr(co,l0),yr(wo,Nx),yr(wo,Mx)),Op.svgFilters===!0&&(yr(co,Nh),yr(wo,Nx),yr(wo,Mx)),Op.mathMl===!0&&(yr(co,d2),yr(wo,SE),yr(wo,Mx))),Re.ADD_TAGS&&(co===As&&(co=gy(co)),yr(co,Re.ADD_TAGS,vl)),Re.ADD_ATTR&&(wo===Jr&&(wo=gy(wo)),yr(wo,Re.ADD_ATTR,vl)),Re.ADD_URI_SAFE_ATTR&&yr(wm,Re.ADD_URI_SAFE_ATTR,vl),Re.FORBID_CONTENTS&&(km===mv&&(km=gy(km)),yr(km,Re.FORBID_CONTENTS,vl)),fv&&(co["#text"]=!0),Tp&&yr(co,["html","head","body"]),co.table&&(yr(co,["tbody"]),delete yl.tbody),Re.TRUSTED_TYPES_POLICY){if(typeof Re.TRUSTED_TYPES_POLICY.createHTML!="function")throw mg('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof Re.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw mg('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');Y=Re.TRUSTED_TYPES_POLICY,oe=Y.createHTML("")}else Y===void 0&&(Y=function(ao,No){if(typeof ao!="object"||typeof ao.createPolicy!="function")return null;let $r=null;const Ns="data-tt-policy-suffix";No&&No.hasAttribute(Ns)&&($r=No.getAttribute(Ns));const ta="dompurify"+($r?"#"+$r:"");try{return ao.createPolicy(ta,{createHTML:Ws=>Ws,createScriptURL:Ws=>Ws})}catch{return console.warn("TrustedTypes policy "+ta+" could not be created."),null}}(I,u)),Y!==null&&typeof oe=="string"&&(oe=Y.createHTML(""));bc&&bc(Re),cb=Re}},n5=yr({},["mi","mo","mn","ms","mtext"]),M3=yr({},["foreignobject","desc","title","annotation-xml"]),t7=yr({},["title","style","font","a","script"]),Zw=yr({},l0);yr(Zw,Nh),yr(Zw,_E);const B3=yr({},d2);yr(B3,VR);const jg=function(Re){i0(i.removed,{element:Re});try{Re.parentNode.removeChild(Re)}catch{Re.remove()}},ub=function(Re,ao){try{i0(i.removed,{attribute:ao.getAttributeNode(Re),from:ao})}catch{i0(i.removed,{attribute:null,from:ao})}if(ao.removeAttribute(Re),Re==="is"&&!wo[Re])if(xm||Fg)try{jg(ao)}catch{}else try{ao.setAttribute(Re,"")}catch{}},I3=function(Re){let ao,No;if(Pg)Re="<remove></remove>"+Re;else{const ta=HR(Re,/^[\r\n\t ]+/);No=ta&&ta[0]}lb==="application/xhtml+xml"&&Yy===_m&&(Re='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+Re+"</body></html>");const $r=Y?Y.createHTML(Re):Re;if(Yy===_m)try{ao=new L().parseFromString($r,lb)}catch{}if(!ao||!ao.documentElement){ao=re.createDocument(Yy,"template",null);try{ao.documentElement.innerHTML=N3?oe:$r}catch{}}const Ns=ao.body||ao.documentElement;return Re&&No&&Ns.insertBefore(f.createTextNode(No),Ns.childNodes[0]||null),Yy===_m?Ke.call(ao,Tp?"html":"body")[0]:Tp?ao.documentElement:Ns},r5=function(Re){return be.call(Re.ownerDocument||Re,Re,E.SHOW_ELEMENT|E.SHOW_COMMENT|E.SHOW_TEXT,null,!1)},Ww=function(Re){return typeof y=="object"?Re instanceof y:Re&&typeof Re=="object"&&typeof Re.nodeType=="number"&&typeof Re.nodeName=="string"},Dp=function(Re,ao,No){at[Re]&&l2(at[Re],$r=>{$r.call(i,ao,No,cb)})},s5=function(Re){let ao;if(Dp("beforeSanitizeElements",Re,null),(No=Re)instanceof O&&(typeof No.nodeName!="string"||typeof No.textContent!="string"||typeof No.removeChild!="function"||!(No.attributes instanceof _)||typeof No.removeAttribute!="function"||typeof No.setAttribute!="function"||typeof No.namespaceURI!="string"||typeof No.insertBefore!="function"||typeof No.hasChildNodes!="function"))return jg(Re),!0;var No;const $r=vl(Re.nodeName);if(Dp("uponSanitizeElement",Re,{tagName:$r,allowedTags:co}),Re.hasChildNodes()&&!Ww(Re.firstElementChild)&&(!Ww(Re.content)||!Ww(Re.content.firstElementChild))&&_d(/<[/\w]/g,Re.innerHTML)&&_d(/<[/\w]/g,Re.textContent))return jg(Re),!0;if(!co[$r]||yl[$r]){if(!yl[$r]&&i5($r)&&(sr.tagNameCheck instanceof RegExp&&_d(sr.tagNameCheck,$r)||sr.tagNameCheck instanceof Function&&sr.tagNameCheck($r)))return!1;if(fv&&!km[$r]){const Ns=Z(Re)||Re.parentNode,ta=W(Re)||Re.childNodes;if(ta&&Ns)for(let Ws=ta.length-1;Ws>=0;--Ws)Ns.insertBefore(q(ta[Ws],!0),se(Re))}return jg(Re),!0}return Re instanceof w&&!function(Ns){let ta=Z(Ns);ta&&ta.tagName||(ta={namespaceURI:Yy,tagName:"template"});const Ws=Tx(Ns.tagName),_a=Tx(ta.tagName);return!!Do[Ns.namespaceURI]&&(Ns.namespaceURI===Uw?ta.namespaceURI===_m?Ws==="svg":ta.namespaceURI===jw?Ws==="svg"&&(_a==="annotation-xml"||n5[_a]):!!Zw[Ws]:Ns.namespaceURI===jw?ta.namespaceURI===_m?Ws==="math":ta.namespaceURI===Uw?Ws==="math"&&M3[_a]:!!B3[Ws]:Ns.namespaceURI===_m?!(ta.namespaceURI===Uw&&!M3[_a])&&!(ta.namespaceURI===jw&&!n5[_a])&&!B3[Ws]&&(t7[Ws]||!Zw[Ws]):!(lb!=="application/xhtml+xml"||!Do[Ns.namespaceURI]))}(Re)?(jg(Re),!0):$r!=="noscript"&&$r!=="noembed"&&$r!=="noframes"||!_d(/<\/no(script|embed|frames)/i,Re.innerHTML)?(zp&&Re.nodeType===3&&(ao=Re.textContent,ao=Dt(ao,kt," "),ao=Dt(ao,Mt," "),ao=Dt(ao,qt," "),Re.textContent!==ao&&(i0(i.removed,{element:Re.cloneNode()}),Re.textContent=ao)),Dp("afterSanitizeElements",Re,null),!1):(jg(Re),!0)},a5=function(Re,ao,No){if($g&&(ao==="id"||ao==="name")&&(No in f||No in o5))return!1;if(!(vc&&!Zs[ao]&&_d(so,ao))){if(!(Wa&&_d(Lo,ao))){if(!wo[ao]||Zs[ao]){if(!(i5(Re)&&(sr.tagNameCheck instanceof RegExp&&_d(sr.tagNameCheck,Re)||sr.tagNameCheck instanceof Function&&sr.tagNameCheck(Re))&&(sr.attributeNameCheck instanceof RegExp&&_d(sr.attributeNameCheck,ao)||sr.attributeNameCheck instanceof Function&&sr.attributeNameCheck(ao))||ao==="is"&&sr.allowCustomizedBuiltInElements&&(sr.tagNameCheck instanceof RegExp&&_d(sr.tagNameCheck,No)||sr.tagNameCheck instanceof Function&&sr.tagNameCheck(No))))return!1}else if(!wm[ao]){if(!_d(ms,Dt(No,is,""))){if((ao!=="src"&&ao!=="xlink:href"&&ao!=="href"||Re==="script"||Rh(No,"data:")!==0||!pv[Re])&&!(Gy&&!_d(ln,Dt(No,is,"")))){if(No)return!1}}}}}return!0},i5=function(Re){return Re.indexOf("-")>0},l5=function(Re){let ao,No,$r,Ns;Dp("beforeSanitizeAttributes",Re,null);const{attributes:ta}=Re;if(!ta)return;const Ws={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:wo};for(Ns=ta.length;Ns--;){ao=ta[Ns];const{name:_a,namespaceURI:Xy}=ao;No=_a==="value"?ao.value:$R(ao.value);const n7=No;if($r=vl(_a),Ws.attrName=$r,Ws.attrValue=No,Ws.keepAttr=!0,Ws.forceKeepAttr=void 0,Dp("uponSanitizeAttribute",Re,Ws),No=Ws.attrValue,Ws.forceKeepAttr)continue;if(!Ws.keepAttr){ub(_a,Re);continue}if(!Ky&&_d(/\/>/i,No)){ub(_a,Re);continue}zp&&(No=Dt(No,kt," "),No=Dt(No,Mt," "),No=Dt(No,qt," "));const c5=vl(Re.nodeName);if(a5(c5,$r,No)){if(!Vw||$r!=="id"&&$r!=="name"||(ub(_a,Re),No="user-content-"+No),Y&&typeof I=="object"&&typeof I.getAttributeType=="function"&&!Xy)switch(I.getAttributeType(c5,$r)){case"TrustedHTML":No=Y.createHTML(No);break;case"TrustedScriptURL":No=Y.createScriptURL(No)}if(No!==n7)try{Xy?Re.setAttributeNS(Xy,_a,No):Re.setAttribute(_a,No)}catch{ub(_a,Re)}}else ub(_a,Re)}Dp("afterSanitizeAttributes",Re,null)},o7=function Re(ao){let No;const $r=r5(ao);for(Dp("beforeSanitizeShadowDOM",ao,null);No=$r.nextNode();)Dp("uponSanitizeShadowNode",No,null),s5(No)||(No.content instanceof p&&Re(No.content),l5(No));Dp("afterSanitizeShadowDOM",ao,null)};return i.sanitize=function(Re){let ao,No,$r,Ns,ta=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(N3=!Re,N3&&(Re="<!-->"),typeof Re!="string"&&!Ww(Re)){if(typeof Re.toString!="function")throw mg("toString is not a function");if(typeof(Re=Re.toString())!="string")throw mg("dirty is not a string, aborting")}if(!i.isSupported)return Re;if(uv||db(ta),i.removed=[],typeof Re=="string"&&(Vg=!1),Vg){if(Re.nodeName){const Xy=vl(Re.nodeName);if(!co[Xy]||yl[Xy])throw mg("root node is forbidden and cannot be sanitized in-place")}}else if(Re instanceof y)ao=I3("<!---->"),No=ao.ownerDocument.importNode(Re,!0),No.nodeType===1&&No.nodeName==="BODY"||No.nodeName==="HTML"?ao=No:ao.appendChild(No);else{if(!xm&&!zp&&!Tp&&Re.indexOf("<")===-1)return Y&&Hg?Y.createHTML(Re):Re;if(ao=I3(Re),!ao)return xm?null:Hg?oe:""}ao&&Pg&&jg(ao.firstChild);const Ws=r5(Vg?Re:ao);for(;$r=Ws.nextNode();)s5($r)||($r.content instanceof p&&o7($r.content),l5($r));if(Vg)return Re;if(xm){if(Fg)for(Ns=Oe.call(ao.ownerDocument);ao.firstChild;)Ns.appendChild(ao.firstChild);else Ns=ao;return(wo.shadowroot||wo.shadowrootmode)&&(Ns=Je.call(l,Ns,!0)),Ns}let _a=Tp?ao.outerHTML:ao.innerHTML;return Tp&&co["!doctype"]&&ao.ownerDocument&&ao.ownerDocument.doctype&&ao.ownerDocument.doctype.name&&_d(im,ao.ownerDocument.doctype.name)&&(_a="<!DOCTYPE "+ao.ownerDocument.doctype.name+`>
`+_a),zp&&(_a=Dt(_a,kt," "),_a=Dt(_a,Mt," "),_a=Dt(_a,qt," ")),Y&&Hg?Y.createHTML(_a):_a},i.setConfig=function(Re){db(Re),uv=!0},i.clearConfig=function(){cb=null,uv=!1},i.isValidAttribute=function(Re,ao,No){cb||db({});const $r=vl(Re),Ns=vl(ao);return a5($r,Ns,No)},i.addHook=function(Re,ao){typeof ao=="function"&&(at[Re]=at[Re]||[],i0(at[Re],ao))},i.removeHook=function(Re){if(at[Re])return FR(at[Re])},i.removeHooks=function(Re){at[Re]&&(at[Re]=[])},i.removeAllHooks=function(){at={}},i}();const AE=n=>XR().sanitize(n);var Cd=tinymce.util.Tools.resolve("tinymce.util.I18n");const JR={indent:!0,outdent:!0,"table-insert-column-after":!0,"table-insert-column-before":!0,"paste-column-after":!0,"paste-column-before":!0,"unordered-list":!0,"list-bull-circle":!0,"list-bull-default":!0,"list-bull-square":!0},zE="temporary-placeholder",f2=n=>()=>lt(n,zE).getOr("!not found!"),pg=(n,s)=>{const i=n.toLowerCase();if(Cd.isRtl()){const l=((u,f)=>Ba(u,f)?u:((p,b)=>p+b)(u,f))(i,"-rtl");return ro(s,l)?l:i}return i},d0=(n,s)=>lt(s,pg(n,s)),TE=(n,s)=>{const i=s();return d0(n,i).getOrThunk(f2(i))},Bx=()=>Vo("add-focusable",[Ar(n=>{Ab(n.element,"svg").each(s=>uo(s,"focusable","false"))})]),OE=(n,s,i,l)=>{var u,f;const p=(y=>!!Cd.isRtl()&&ro(JR,y))(s)?["tox-icon--flip"]:[],b=lt(i,pg(s,i)).or(l).getOrThunk(f2(i));return{dom:{tag:n.tag,attributes:(u=n.attributes)!==null&&u!==void 0?u:{},classes:n.classes.concat(p),innerHtml:b},behaviours:ct([...(f=n.behaviours)!==null&&f!==void 0?f:[],Bx()])}},Sd=(n,s,i,l=T.none())=>OE(s,n,i(),l),QR={success:"checkmark",error:"warning",err:"error",warning:"warning",warn:"warning",info:"info"},m2=vd({name:"Notification",factory:n=>{const s=Pt("notification-text"),i=rr({dom:am(`<p id=${s}>${AE(n.backstageProvider.translate(n.text))}</p>`),behaviours:ct([po.config({})])}),l=_=>({dom:{tag:"div",classes:["tox-bar"],styles:{width:`${_}%`}}}),u=_=>({dom:{tag:"div",classes:["tox-text"],innerHtml:`${_}%`}}),f=rr({dom:{tag:"div",classes:n.progress?["tox-progress-bar","tox-progress-indicator"]:["tox-progress-bar"]},components:[{dom:{tag:"div",classes:["tox-bar-container"]},components:[l(0)]},u(0)],behaviours:ct([po.config({})])}),p={updateProgress:(_,O)=>{_.getSystem().isConnected()&&f.getOpt(_).each(L=>{po.set(L,[{dom:{tag:"div",classes:["tox-bar-container"]},components:[l(O)]},u(O)])})},updateText:(_,O)=>{if(_.getSystem().isConnected()){const L=i.get(_);po.set(L,[zr(O)])}}},b=An([n.icon.toArray(),n.level.toArray(),n.level.bind(_=>T.from(QR[_])).toArray()]),y=rr(ji.sketch({dom:{tag:"button",classes:["tox-notification__dismiss","tox-button","tox-button--naked","tox-button--icon"],attributes:{"aria-label":n.backstageProvider.translate("Close")}},components:[Sd("close",{tag:"span",classes:["tox-icon"]},n.iconProvider)],buttonBehaviours:ct([Tr.config({}),Ui.config({...n.backstageProvider.tooltips.getConfig({tooltipText:n.backstageProvider.translate("Close")})})]),action:_=>{n.onAction(_)}})),w=((_,O,L)=>{const I=L(),K=$(_,q=>ro(I,pg(q,I)));return OE({tag:"div",classes:["tox-notification__icon"]},K.getOr(zE),I,T.none())})(b,0,n.iconProvider),E=[w,{dom:{tag:"div",classes:["tox-notification__body"]},components:[i.asSpec()],behaviours:ct([po.config({})])}];return{uid:n.uid,dom:{tag:"div",attributes:{role:"alert","aria-labelledby":s},classes:n.level.map(_=>["tox-notification","tox-notification--in",`tox-notification--${_}`]).getOr(["tox-notification","tox-notification--in"])},behaviours:ct([Tr.config({}),Co.config({}),Yt.config({mode:"special",onEscape:_=>(n.onAction(_),T.some(!0))})]),components:E.concat(n.progress?[f.asSpec()]:[]).concat([y.asSpec()]),apis:p}},configFields:[wn("level"),Ze("progress"),wn("icon"),Ze("onAction"),Ze("text"),Ze("iconProvider"),Ze("backstageProvider")],apis:{updateProgress:(n,s,i)=>{n.updateProgress(s,i)},updateText:(n,s,i)=>{n.updateText(s,i)}}});var DE=(n,s,i,l)=>{const u=s.backstage.shared,f=()=>{const b=$n(wt(n.getContentAreaContainer()));return T.some(b)},p=b=>{f().each(y=>{Ot(b,w=>{Uo(w.element)>y.width&&mo(w.element,"width",y.width+"px")})})};return{open:(b,y,w)=>{const E=()=>{l.on(L=>{y();const I=w();(K=>{po.remove(K,_),O()})(L),((K,q)=>{In(K.element).length===0?((se,W)=>{as.hide(se),l.clear(),W&&n.focus()})(K,q):((se,W)=>{W&&Yt.focusIn(se)})(K,q)})(L,I)})},_=Xs(m2.sketch({text:b.text,level:_e(["success","error","warning","warn","info"],b.type)?b.type:void 0,progress:b.progressBar===!0,icon:b.icon,onAction:E,iconProvider:u.providers.icons,backstageProvider:u.providers}));if(l.isSet()){const L=Hl(_);l.on(I=>{po.append(I,L),as.reposition(I),fs.refresh(I),p(I.components())})}else{const L=Xs(as.sketch({dom:{tag:"div",classes:["tox-notifications-container"],attributes:{"aria-label":"Notifications",role:"region"}},lazySink:u.getSink,fireDismissalEventInstead:{},...u.header.isPositionedAtTop()?{}:{fireRepositionEventInstead:{}},inlineBehaviours:ct([Yt.config({mode:"cyclic",selector:".tox-notification, .tox-notification a, .tox-notification button"}),po.config({}),...up(n)&&!u.header.isPositionedAtTop()?[]:[fs.config({contextual:{lazyContext:()=>T.some($n(wt(n.getContentAreaContainer()))),fadeInClass:"tox-notification-container-dock-fadein",fadeOutClass:"tox-notification-container-dock-fadeout",transitionClass:"tox-notification-container-dock-transition"},modes:["top"],lazyViewport:se=>ug(n,se.element).map(W=>({bounds:fg(W),optScrollEnv:T.some({currentScrollTop:W.element.dom.scrollTop,scrollElmTop:or(W.element).top})})).getOrThunk(()=>({bounds:Kr(),optScrollEnv:T.none()}))})]])})),I=Hl(_),K={maxHeightFunction:Kd()},q={...u.anchors.banner(),overrides:K};l.set(L),i.add(L),as.showWithinBounds(L,I,{anchor:q},f)}Ho(b.timeout)&&b.timeout>0&&px.setEditorTimeout(n,()=>{E()},b.timeout);const O=()=>{l.on(L=>{as.reposition(L),fs.refresh(L),p(L.components())})};return{close:E,reposition:O,text:L=>{m2.updateText(_,L)},settings:b,getEl:()=>_.element.dom,progressBar:{value:L=>{m2.updateProgress(_,L)}}}},close:b=>{b.close()},getArgs:b=>b.settings}},u0;(function(n){n[n.CLOSE_ON_EXECUTE=0]="CLOSE_ON_EXECUTE",n[n.BUBBLE_TO_SANDBOX=1]="BUBBLE_TO_SANDBOX"})(u0||(u0={}));var uf=u0;const Ix="tox-menu-nav__js",Lx="tox-collection__item",RE="tox-swatch",NE={normal:Ix,color:RE},ME="tox-collection__item--enabled",BE="tox-collection__item-icon",f0="tox-collection__item-label",p2="tox-collection__item-caret",lm="tox-collection__item--active",m0="tox-collection__item-container",p0="tox-collection__item-container--row",gg=n=>lt(NE,n).getOr(Ix),o8=n=>n==="color"?"tox-swatches":"tox-menu",g2=n=>({backgroundMenu:"tox-background-menu",selectedMenu:"tox-selected-menu",selectedItem:"tox-collection__item--active",hasIcons:"tox-menu--has-icons",menu:o8(n),tieredMenu:"tox-tiered-menu"}),Mh=n=>{const s=g2(n);return{backgroundMenu:s.backgroundMenu,selectedMenu:s.selectedMenu,menu:s.menu,selectedItem:s.selectedItem,item:gg(n)}},IE=(n,s,i)=>{const l=g2(i);return{tag:"div",classes:An([[l.menu,`tox-menu-${s}-column`],n?[l.hasIcons]:[]])}},LE=[Th.parts.items({})],Px=(n,s,i)=>{const l=g2(i);return{dom:{tag:"div",classes:An([[l.tieredMenu]])},markers:Mh(i)}},eN=ne([wn("data"),Ae("inputAttributes",{}),Ae("inputStyles",{}),Ae("tag","input"),Ae("inputClasses",[]),vn("onSetValue"),Ae("styles",{}),Ae("eventOrder",{}),xt("inputBehaviours",[Ee,Co]),Ae("selectOnFocus",!0)]),tN=n=>ct([Co.config({onFocus:n.selectOnFocus?s=>{const i=s.element,l=Yu(i);i.dom.setSelectionRange(0,l.length)}:ut})]),oN=n=>({...tN(n),...Ut(n.inputBehaviours,[Ee.config({store:{mode:"manual",...n.data.map(s=>({initialValue:s})).getOr({}),getValue:s=>Yu(s.element),setValue:(s,i)=>{Yu(s.element)!==i&&Vm(s.element,i)}},onSetValue:n.onSetValue})])}),PE=n=>({tag:n.tag,attributes:{type:"text",...n.inputAttributes},styles:n.inputStyles,classes:n.inputClasses}),mp=vd({name:"Input",configFields:eN(),factory:(n,s)=>({uid:n.uid,dom:PE(n),components:[],behaviours:oN(n),eventOrder:n.eventOrder})}),FE=Pt("refetch-trigger-event"),HE=Pt("redirect-menu-item-interaction"),$E="tox-menu__searcher",g0=n=>ss(n.element,`.${$E}`).bind(s=>n.getSystem().getByDom(s).toOptional()),VE=g0,jE=n=>({fetchPattern:Ee.getValue(n),selectionStart:n.element.dom.selectionStart,selectionEnd:n.element.dom.selectionEnd}),UE=n=>{const s=(u,f)=>(f.cut(),T.none()),i=(u,f)=>{const p={interactionEvent:f.event,eventType:f.event.raw.type};return Zt(u,HE,p),T.some(!0)},l="searcher-events";return{dom:{tag:"div",classes:[Lx]},components:[mp.sketch({inputClasses:[$E,"tox-textfield"],inputAttributes:{...n.placeholder.map(u=>({placeholder:n.i18n(u)})).getOr({}),type:"search","aria-autocomplete":"list"},inputBehaviours:ct([Vo(l,[Ue(Fr(),u=>{jo(u,FE)}),Ue(Ht(),(u,f)=>{f.event.raw.key==="Escape"&&f.stop()})]),Yt.config({mode:"special",onLeft:s,onRight:s,onSpace:s,onEnter:i,onEscape:i,onUp:i,onDown:i})]),eventOrder:{keydown:[l,Yt.name()]}})]}},h0="tox-collection--results__js",ZE=n=>{var s;return n.dom?{...n,dom:{...n.dom,attributes:{...(s=n.dom.attributes)!==null&&s!==void 0?s:{},id:Pt("aria-item-search-result-id"),"aria-selected":"false"}}}:n},Fx=(n,s)=>i=>{const l=yt(i,s);return nt(l,u=>({dom:n,components:u}))},WE=(n,s)=>{const i=[];let l=[];return Ot(n,(u,f)=>{s(u,f)?(l.length>0&&i.push(l),l=[],(ro(u.dom,"innerHtml")||u.components&&u.components.length>0)&&l.push(u)):l.push(u)}),l.length>0&&i.push(l),nt(i,u=>({dom:{tag:"div",classes:["tox-collection__group"]},components:u}))},b0=(n,s,i)=>Th.parts.items({preprocess:l=>{const u=nt(l,i);return n!=="auto"&&n>1?Fx({tag:"div",classes:["tox-collection__group"]},n)(u):WE(u,(f,p)=>s[p].type==="separator")}}),h2=(n,s,i=!0)=>({dom:{tag:"div",classes:["tox-menu","tox-collection"].concat(n===1?["tox-collection--list"]:["tox-collection--grid"])},components:[b0(n,s,Et)]}),y0=n=>Tt(n,s=>"icon"in s&&s.icon!==void 0),cm=n=>(console.error(dc(n)),console.log(n),T.none()),nN=(n,s,i,l,u)=>{const f=(p=i,{dom:{tag:"div",classes:["tox-collection","tox-collection--horizontal"]},components:[Th.parts.items({preprocess:b=>WE(b,(y,w)=>p[w].type==="separator")})]});var p;return{value:n,dom:f.dom,components:f.components,items:i}},b2=(n,s,i,l,u)=>{if(u.menuType==="color"){const f=(p=>({dom:{tag:"div",classes:["tox-menu","tox-swatches-menu"]},components:[{dom:{tag:"div",classes:["tox-swatches"]},components:[Th.parts.items({preprocess:p!=="auto"?Fx({tag:"div",classes:["tox-swatches__row"]},p):Et})]}]}))(l);return{value:n,dom:f.dom,components:f.components,items:i}}if(u.menuType==="normal"&&l==="auto"){const f=h2(l,i);return{value:n,dom:f.dom,components:f.components,items:i}}if(u.menuType==="normal"||u.menuType==="searchable"){const f=u.menuType!=="searchable"?h2(l,i):u.searchMode.searchMode==="search-with-field"?((p,b,y)=>{const w=Pt("aria-controls-search-results");return{dom:{tag:"div",classes:["tox-menu","tox-collection"].concat(p===1?["tox-collection--list"]:["tox-collection--grid"])},components:[UE({i18n:Cd.translate,placeholder:y.placeholder}),{dom:{tag:"div",classes:[...p===1?["tox-collection--list"]:["tox-collection--grid"],h0],attributes:{id:w}},components:[b0(p,b,ZE)]}]}})(l,i,u.searchMode):((p,b,y=!0)=>{const w=Pt("aria-controls-search-results");return{dom:{tag:"div",classes:["tox-menu","tox-collection",h0].concat(p===1?["tox-collection--list"]:["tox-collection--grid"]),attributes:{id:w}},components:[b0(p,b,ZE)]}})(l,i);return{value:n,dom:f.dom,components:f.components,items:i}}if(u.menuType==="listpreview"&&l!=="auto"){const f=(p=>({dom:{tag:"div",classes:["tox-menu","tox-collection","tox-collection--toolbar","tox-collection--toolbar-lg"]},components:[Th.parts.items({preprocess:Fx({tag:"div",classes:["tox-collection__group"]},p)})]}))(l);return{value:n,dom:f.dom,components:f.components,items:i}}return{value:n,dom:IE(s,l,u.menuType),components:LE,items:i}},fa=rs("type"),y2=rs("name"),v2=rs("label"),Qd=rs("text"),x2=rs("title"),k2=rs("icon"),Bh=rs("value"),rN=Bl("fetch"),qE=Bl("getSubmenuItems"),hy=Bl("onAction"),GE=Bl("onItemAction"),hg=_r("onSetup",()=>ut),sN=Da("name"),bg=Da("text"),eu=Da("icon"),v0=Da("tooltip"),w2=Da("label"),_2=Da("shortcut"),Hx=ml("select"),by=Ha("active",!1),aN=Ha("borderless",!1),ff=Ha("enabled",!0),x0=Ha("primary",!1),KE=n=>Ae("columns",n),C2=Ae("meta",{}),Jc=_r("onAction",ut),Ih=n=>Dr("type",n),S2=n=>la("name","name",an(()=>Pt(`${n}-name`)),Ps),YE=to([fa,bg]),iN=to([Ih("autocompleteitem"),by,ff,C2,Bh,bg,eu]),k0=[ff,v0,eu,bg,hg],yy=to([fa,hy,_2].concat(k0)),$x=n=>Lr("toolbarbutton",yy,n),E2=[by].concat(k0),A2=to(E2.concat([fa,hy,_2])),w0=n=>Lr("ToggleButton",A2,n),Vx=[_r("predicate",Le),Ll("scope","node",["node","editor"]),Ll("position","selection",["node","selection","line"])],lN=k0.concat([Ih("contextformbutton"),x0,hy,ba("original",Et)]),cN=E2.concat([Ih("contextformbutton"),x0,hy,ba("original",Et)]),dN=k0.concat([Ih("contextformbutton")]),uN=E2.concat([Ih("contextformtogglebutton")]),fN=xs("type",{contextformbutton:lN,contextformtogglebutton:cN}),mN=to([Ih("contextform"),_r("initValue",ne("")),w2,Fa("commands",fN),oi("launch",xs("type",{contextformbutton:dN,contextformtogglebutton:uN}))].concat(Vx)),XE=to([Ih("contexttoolbar"),rs("items")].concat(Vx)),z2=[fa,rs("src"),Da("alt"),ni("classes",[],Ps)],pN=to(z2),gN=[fa,Qd,sN,ni("classes",["tox-collection__item-label"],Ps)],hN=to(gN),JE=Ml(()=>$d("type",{cardimage:pN,cardtext:hN,cardcontainer:Lh})),Lh=to([fa,Dr("direction","horizontal"),Dr("align","left"),Dr("valign","middle"),Fa("items",JE)]),Ph=[ff,bg,_2,la("value","value",an(()=>Pt("menuitem-value")),yi()),C2],bN=to([fa,w2,Fa("items",JE),hg,Jc].concat(Ph)),T2=to([fa,by,eu].concat(Ph)),QE=[fa,rs("fancytype"),Jc],eA=[Ae("initData",{})].concat(QE),tA=[ml("select"),fr("initData",{},[Ha("allowCustomColors",!0),Dr("storageKey","default"),Ud("colors",yi())])].concat(QE),oA=xs("fancytype",{inserttable:eA,colorswatch:tA}),nA=to([fa,hg,Jc,eu].concat(Ph)),rA=to([fa,qE,hg,eu].concat(Ph)),yN=to([fa,eu,by,hg,hy].concat(Ph)),O2=(n,s,i)=>{const l=ua(n.element,"."+i);if(l.length>0){const u=zs(l,f=>{const p=f.dom.getBoundingClientRect().top,b=l[0].dom.getBoundingClientRect().top;return Math.abs(p-b)>s}).getOr(l.length);return T.some({numColumns:u,numRows:Math.ceil(l.length/u)})}return T.none()},_0=n=>((s,i)=>ct([Vo(s,i)]))(Pt("unnamed-events"),n),jx="silver.readonly",vN=to([ya("readonly",dd)]),Fh=(n,s)=>{const i=n.mainUi.outerContainer.element,l=[n.mainUi.mothership,...n.uiMotherships];s&&Ot(l,u=>{u.broadcastOn([x()],{target:i})}),Ot(l,u=>{u.broadcastOn([jx],{readonly:s})})},sA=(n,s)=>{n.on("init",()=>{n.mode.isReadOnly()&&Fh(s,!0)}),n.on("SwitchMode",()=>Fh(s,n.mode.isReadOnly())),Y_(n)&&n.mode.set("readonly")},Ra=()=>Ci.config({channels:{[jx]:{schema:vN,onReceive:(n,s)=>{zo.set(n,s.readonly)}}}}),Ai=n=>zo.config({disabled:n}),aA=n=>zo.config({disabled:n,disableClass:"tox-tbtn--disabled"}),Ux=n=>zo.config({disabled:n,disableClass:"tox-tbtn--disabled",useNative:!1}),C0=(n,s)=>{const i=n.getApi(s);return l=>{l(i)}},yg=(n,s)=>Ar(i=>{C0(n,i)(l=>{const u=n.onSetup(l);Jt(u)&&s.set(u)})}),pp=(n,s)=>gd(i=>C0(n,i)(s.get())),iA=(n,s)=>Lc((i,l)=>{C0(n,i)(n.onAction),n.triggersSubmenu||s!==uf.CLOSE_ON_EXECUTE||(i.getSystem().isConnected()&&jo(i,Lp()),l.stop())}),xN={[va()]:["disabling","alloy.base.behaviour","toggling","item-events"]},vy=Ea,xy=(n,s,i,l)=>{const u=eo(ut);return{type:"item",dom:s.dom,components:vy(s.optComponents),data:n.data,eventOrder:xN,hasSubmenu:n.triggersSubmenu,itemBehaviours:ct([Vo("item-events",[iA(n,i),yg(n,u),pp(n,u)]),(f=()=>!n.enabled||l.isDisabled(),zo.config({disabled:f,disableClass:"tox-collection__item--state-disabled"})),Ra(),po.config({})].concat(n.itemBehaviours))};var f},ky=n=>({value:n.value,meta:{text:n.text.getOr(""),...n.meta}}),Zx=n=>{const s=lf.os.isMacOS()||lf.os.isiOS(),i=s?{alt:"⌥",ctrl:"⌃",shift:"⇧",meta:"⌘",access:"⌃⌥"}:{meta:"Ctrl",access:"Shift+Alt"},l=n.split("+"),u=nt(l,f=>{const p=f.toLowerCase().trim();return ro(i,p)?i[p]:f});return s?u.join(""):u.join("+")},D2=(n,s,i=[BE])=>Sd(n,{tag:"div",classes:i},s),lA=n=>({dom:{tag:"div",classes:[f0]},components:[zr(Cd.translate(n))]}),R2=(n,s)=>({dom:{tag:"div",classes:s,innerHtml:n}}),cA=(n,s)=>({dom:{tag:"div",classes:[f0]},components:[{dom:{tag:n.tag,styles:n.styles},components:[zr(Cd.translate(s))]}]}),dA=n=>({dom:{tag:"div",classes:["tox-collection__item-accessory"]},components:[zr(Zx(n))]}),uA=n=>D2("checkmark",n,["tox-collection__item-checkmark"]),fA=n=>{const s=n.map(i=>({attributes:{id:Pt("menu-item"),"aria-label":Cd.translate(i)}})).getOr({});return{tag:"div",classes:[Ix,Lx],...s}},S0=(n,s,i,l=T.none())=>n.presets==="color"?((u,f,p)=>{const b=u.value,y=u.iconContent.map(E=>((_,O,L)=>{const I=O();return d0(_,I).or(L).getOrThunk(f2(I))})(E,f.icons,p)),w=u.ariaLabel.map(E=>({"aria-label":f.translate(E),"data-mce-name":E})).getOr({});return{dom:(()=>{const E=RE,_=y.getOr(""),O={tag:"div",attributes:w,classes:[E]};return b==="custom"?{...O,tag:"button",classes:[...O.classes,"tox-swatches__picker-btn"],innerHtml:_}:b==="remove"?{...O,classes:[...O.classes,"tox-swatch--remove"],innerHtml:_}:It(b)?{...O,attributes:{...O.attributes,"data-mce-color":b},styles:{"background-color":b},innerHtml:_}:O})(),optComponents:[]}})(n,s,l):((u,f,p,b)=>{const y={tag:"div",classes:[BE]},w=p?u.iconContent.map(L=>Sd(L,y,f.icons,b)).orThunk(()=>T.some({dom:y})):T.none(),E=u.checkMark,_=T.from(u.meta).fold(()=>lA,L=>ro(L,"style")?dt(cA,L.style):lA),O=u.htmlContent.fold(()=>u.textContent.map(_),L=>T.some(R2(L,[f0])));return{dom:fA(u.ariaLabel),optComponents:[w,O,u.shortcutContent.map(dA),E,u.caret]}})(n,s,i,l),mA=(n,s,i)=>lt(n,"tooltipWorker").map(l=>[Ui.config({lazySink:s.getSink,tooltipDom:{tag:"div",classes:["tox-tooltip-worker-container"]},tooltipComponents:[],anchor:u=>({type:"submenu",item:u,overrides:{maxHeightFunction:Kd}}),mode:"follow-highlight",onShow:(u,f)=>{l(p=>{Ui.setComponents(u,[ih({element:wt(p)})])})}})]).getOrThunk(()=>i.map(l=>[Ui.config({...s.providers.tooltips.getConfig({tooltipText:l}),mode:"follow-highlight"})]).getOr([])),N2=(n,s)=>{const i=(l=>dy.DOM.encode(l))(Cd.translate(n));if(s.length>0){const l=new RegExp((u=>u.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"))(s),"gi");return i.replace(l,u=>`<span class="tox-autocompleter-highlight">${u}</span>`)}return i},M2=(n,s)=>nt(n,i=>{switch(i.type){case"cardcontainer":return((f,p)=>{const b=f.direction==="vertical"?"tox-collection__item-container--column":p0,y=f.align==="left"?"tox-collection__item-container--align-left":"tox-collection__item-container--align-right";return{dom:{tag:"div",classes:[m0,b,y,(()=>{switch(f.valign){case"top":return"tox-collection__item-container--valign-top";case"middle":return"tox-collection__item-container--valign-middle";case"bottom":return"tox-collection__item-container--valign-bottom"}})()]},components:p}})(i,M2(i.items,s));case"cardimage":return((f,p,b)=>({dom:{tag:"img",classes:p,attributes:{src:f,alt:b.getOr("")}}}))(i.src,i.classes,i.alt);case"cardtext":const l=i.name.exists(f=>_e(s.cardText.highlightOn,f)),u=l?T.from(s.cardText.matchText).getOr(""):"";return R2(N2(i.text,u),i.classes)}}),gp=ol(q_(),G_()),B2=n=>({value:gA(n)}),I2=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,Wx=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,pA=n=>I2.test(n)||Wx.test(n),gA=n=>Bn(n,"#").toUpperCase(),L2=n=>{const s=n.toString(16);return(s.length===1?"0"+s:s).toUpperCase()},E0=n=>{const s=L2(n.red)+L2(n.green)+L2(n.blue);return B2(s)},P2=Math.min,qx=Math.max,wy=Math.round,kN=/^\s*rgb\s*\(\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*(\d+)\s*\)\s*$/i,vg=/^\s*rgba\s*\(\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*((?:\d?\.\d+|\d+)%?)\s*\)\s*$/i,xg=(n,s,i,l)=>({red:n,green:s,blue:i,alpha:l}),Gx=n=>{const s=parseInt(n,10);return s.toString()===n&&s>=0&&s<=255},hA=n=>{let s,i,l;const u=(n.hue||0)%360;let f=n.saturation/100,p=n.value/100;if(f=qx(0,P2(f,1)),p=qx(0,P2(p,1)),f===0)return s=i=l=wy(255*p),xg(s,i,l,1);const b=u/60,y=p*f,w=y*(1-Math.abs(b%2-1)),E=p-y;switch(Math.floor(b)){case 0:s=y,i=w,l=0;break;case 1:s=w,i=y,l=0;break;case 2:s=0,i=y,l=w;break;case 3:s=0,i=w,l=y;break;case 4:s=w,i=0,l=y;break;case 5:s=y,i=0,l=w;break;default:s=i=l=0}return s=wy(255*(s+E)),i=wy(255*(i+E)),l=wy(255*(l+E)),xg(s,i,l,1)},A0=n=>{const s=(f=>{const p=(y=>({value:y.value.replace(I2,(E,_,O,L)=>_+_+O+O+L+L)}))(f),b=Wx.exec(p.value);return b===null?["FFFFFF","FF","FF","FF"]:b})(n),i=parseInt(s[1],16),l=parseInt(s[2],16),u=parseInt(s[3],16);return xg(i,l,u,1)},_y=(n,s,i,l)=>{const u=parseInt(n,10),f=parseInt(s,10),p=parseInt(i,10),b=parseFloat(l);return xg(u,f,p,b)},Hh=n=>{const s=kN.exec(n);if(s!==null)return T.some(_y(s[1],s[2],s[3],"1"));const i=vg.exec(n);return i!==null?T.some(_y(i[1],i[2],i[3],i[4])):T.none()},F2=n=>`rgba(${n.red},${n.green},${n.blue},${n.alpha})`,H2=xg(255,0,0,1),dm=(n,s)=>{n.dispatch("ResizeContent",s)},hp=(n,s)=>{n.dispatch("TextColorChange",s)},wN=(n,s)=>n.dispatch("ResolveName",{name:s.nodeName.toLowerCase(),target:s}),Kx=(n,s)=>()=>{n(),s()},hl=n=>bp(n,"NodeChange",s=>{s.setEnabled(n.selection.isEditable())}),Ou=(n,s)=>i=>{const l=hl(n)(i),u=((f,p)=>b=>{const y=Qa(),w=()=>{b.setActive(f.formatter.match(p));const E=f.formatter.formatChanged(p,b.setActive);y.set(E)};return f.initialized?w():f.once("init",w),()=>{f.off("init",w),y.clear()}})(n,s)(i);return()=>{l(),u()}},bp=(n,s,i)=>l=>{const u=()=>i(l),f=()=>{i(l),n.on(s,u)};return n.initialized?f():n.once("init",f),()=>{n.off("init",f),n.off(s,u)}},bA=n=>s=>()=>{n.undoManager.transact(()=>{n.focus(),n.execCommand("mceToggleFormat",!1,s.format)})},yc=(n,s)=>()=>n.execCommand(s);var kg=tinymce.util.Tools.resolve("tinymce.util.LocalStorage");const $2={},Yx=n=>lt($2,n).getOrThunk(()=>{const s=`tinymce-custom-colors-${n}`,i=kg.getItem(s);if(Ur(i)){const u=kg.getItem("tinymce-custom-colors");kg.setItem(s,It(u)?u:"[]")}const l=((u,f=10)=>{const p=kg.getItem(u),b=So(p)?JSON.parse(p):[],y=f-(w=b).length<0?w.slice(0,f):w;var w;const E=_=>{y.splice(_,1)};return{add:_=>{((O,L)=>{const I=Cr(O,L);return I===-1?T.none():T.some(I)})(y,_).each(E),y.unshift(_),y.length>f&&y.pop(),kg.setItem(u,JSON.stringify(y))},state:()=>y.slice(0)}})(s,10);return $2[n]=l,l}),V2=(n,s)=>{Yx(n).add(s)},z0=(n,s,i)=>({hue:n,saturation:s,value:i}),j2=n=>{let s=0,i=0,l=0;const u=n.red/255,f=n.green/255,p=n.blue/255,b=Math.min(u,Math.min(f,p)),y=Math.max(u,Math.max(f,p));return b===y?(l=b,z0(0,0,100*l)):(s=u===b?3:p===b?1:5,s=60*(s-(u===b?f-p:p===b?u-f:p-u)/(y-b)),i=(y-b)/y,l=y,z0(Math.round(s),Math.round(100*i),Math.round(100*l)))},yA=n=>E0(hA(n)),Xx=n=>{return(s=n,pA(s)?T.some({value:gA(s)}):T.none()).orThunk(()=>Hh(n).map(E0)).getOrThunk(()=>{const i=document.createElement("canvas");i.height=1,i.width=1;const l=i.getContext("2d");l.clearRect(0,0,i.width,i.height),l.fillStyle="#FFFFFF",l.fillStyle=n,l.fillRect(0,0,1,1);const u=l.getImageData(0,0,1,1).data,f=u[0],p=u[1],b=u[2],y=u[3];return E0(xg(f,p,b,y))});var s},T0="forecolor",O0="hilitecolor",_N=n=>{const s=[];for(let i=0;i<n.length;i+=2)s.push({text:n[i+1],value:"#"+Xx(n[i]).value,icon:"checkmark",type:"choiceitem"});return s},um=n=>s=>s.options.get(n),Jx="#000000",D0=(n,s)=>s===T0&&n.options.isSet("color_map_foreground")?um("color_map_foreground")(n):s===O0&&n.options.isSet("color_map_background")?um("color_map_background")(n):um("color_map")(n),Qx=(n,s="default")=>Math.max(5,Math.ceil(Math.sqrt(D0(n,s).length))),U2=(n,s)=>{const i=um("color_cols")(n),l=Qx(n,s);return i===Qx(n)?l:i},vA=(n,s="default")=>Math.round(s===T0?um("color_cols_foreground")(n):s===O0?um("color_cols_background")(n):um("color_cols")(n)),ek=um("custom_colors"),CN=um("color_default_foreground"),SN=um("color_default_background"),xA=(n,s)=>{const i=wt(n.selection.getStart()),l=s==="hilitecolor"?Zd(i,u=>{if(Sr(u)){const f=ur(u,"background-color");return Bo(Hh(f).exists(p=>p.alpha!==0),f)}return T.none()}).getOr("rgba(0, 0, 0, 0)"):ur(i,"color");return Hh(l).map(u=>"#"+E0(u).value)},kA=n=>{const s="choiceitem",i={type:s,text:"Remove color",icon:"color-swatch-remove-color",value:"remove"};return n?[i,{type:s,text:"Custom color",icon:"color-picker",value:"custom"}]:[i]},tk=(n,s,i,l)=>{i==="custom"?q2(n)(u=>{u.each(f=>{V2(s,f),n.execCommand("mceApplyTextcolor",s,f),l(f)})},xA(n,s).getOr(Jx)):i==="remove"?(l(""),n.execCommand("mceRemoveTextcolor",s)):(l(i),n.execCommand("mceApplyTextcolor",s,i))},Z2=(n,s,i)=>n.concat((l=>nt(Yx(l).state(),u=>({type:"choiceitem",text:u,icon:"checkmark",value:u})))(s).concat(kA(i))),wA=(n,s,i)=>l=>{l(Z2(n,s,i))},ok=(n,s,i)=>{const l=s==="forecolor"?"tox-icon-text-color__color":"tox-icon-highlight-bg-color__color";n.setIconFill(l,i)},Cy=(n,s)=>{n.setTooltip(s)},_A=(n,s)=>i=>{const l=xA(n,s);return gs(l,i.toUpperCase())},$h=(n,s,i)=>{if(ui(i))return s==="forecolor"?"Text color":"Background color";const l=s==="forecolor"?"Text color {0}":"Background color {0}",u=Z2(D0(n,s),s,!1),f=$(u,p=>p.value===i).getOr({text:""}).text;return n.translate([l,n.translate(f)])},nk=(n,s,i,l)=>{n.ui.registry.addSplitButton(s,{tooltip:$h(n,i,l.get()),presets:"color",icon:s==="forecolor"?"text-color":"highlight-bg-color",select:_A(n,i),columns:vA(n,i),fetch:wA(D0(n,i),i,ek(n)),onAction:u=>{tk(n,i,l.get(),ut)},onItemAction:(u,f)=>{tk(n,i,f,p=>{l.set(p),hp(n,{name:s,color:p})})},onSetup:u=>{ok(u,s,l.get());const f=p=>{p.name===s&&(ok(u,p.name,p.color),Cy(u,$h(n,i,p.color)))};return n.on("TextColorChange",f),Kx(hl(n)(u),()=>{n.off("TextColorChange",f)})}})},W2=(n,s,i,l,u)=>{n.ui.registry.addNestedMenuItem(s,{text:l,icon:s==="forecolor"?"text-color":"highlight-bg-color",onSetup:f=>(Cy(f,$h(n,i,u.get())),ok(f,s,u.get()),hl(n)(f)),getSubmenuItems:()=>[{type:"fancymenuitem",fancytype:"colorswatch",select:_A(n,i),initData:{storageKey:i},onAction:f=>{tk(n,i,f.value,p=>{u.set(p),hp(n,{name:s,color:p})})}}]})},q2=n=>(s,i)=>{let l=!1;const u={colorpicker:i};n.windowManager.open({title:"Color Picker",size:"normal",body:{type:"panel",items:[{type:"colorpicker",name:"colorpicker",label:"Color"}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:u,onAction:(f,p)=>{p.name==="hex-valid"&&(l=p.value)},onSubmit:f=>{const p=f.getData().colorpicker;l?(s(T.from(p)),f.close()):n.windowManager.alert(n.translate(["Invalid hex color code: {0}",p]))},onClose:ut,onCancel:()=>{s(T.none())}})},G2=(n,s,i,l,u,f,p,b)=>{const y=y0(s),w=EN(s,i,l,u!=="color"?"normal":"color",f,p,b);return b2(n,y,w,l,{menuType:u})},EN=(n,s,i,l,u,f,p)=>Ea(nt(n,b=>{return b.type==="choiceitem"?(y=b,Lr("choicemenuitem",T2,y)).fold(cm,w=>T.some(((E,_,O,L,I,K,q,se=!0)=>{const W=S0({presets:O,textContent:_?E.text:T.none(),htmlContent:T.none(),ariaLabel:E.text,iconContent:E.icon,shortcutContent:_?E.shortcut:T.none(),checkMark:_?T.some(uA(q.icons)):T.none(),caret:T.none(),value:E.value},q,se),Z=E.text.filter(ne(!_)).map(Y=>Ui.config(q.tooltips.getConfig({tooltipText:q.translate(Y)})));return Ir(xy({data:ky(E),enabled:E.enabled,getApi:Y=>({setActive:oe=>{ko.set(Y,oe)},isActive:()=>ko.isOn(Y),isEnabled:()=>!zo.isDisabled(Y),setEnabled:oe=>zo.set(Y,!oe)}),onAction:Y=>L(E.value),onSetup:Y=>(Y.setActive(I),ut),triggersSubmenu:!1,itemBehaviours:[...Z.toArray()]},W,K,q),{toggling:{toggleClass:ME,toggleOnExecute:!1,selected:E.active,exclusive:!0}})})(w,i===1,l,s,f(w.value),u,p,y0(n)))):T.none();var y})),R0=(n,s)=>{const i=Mh(s);return n===1?{mode:"menu",moveOnTab:!0}:n==="auto"?{mode:"grid",selector:"."+i.item,initSize:{numColumns:1,numRows:1}}:{mode:"matrix",rowSelector:"."+(s==="color"?"tox-swatches__row":"tox-collection__group"),previousSelector:l=>s==="color"?ss(l.element,"[aria-checked=true]"):T.none()}},CA=Pt("cell-over"),K2=Pt("cell-execute"),AN=(n,s,i)=>{const l=f=>Zt(f,K2,{row:n,col:s}),u=(f,p)=>{p.stop(),l(f)};return Xs({dom:{tag:"div",attributes:{role:"button","aria-label":i}},behaviours:ct([Vo("insert-table-picker-cell",[Ue(Vt(),Co.focus),Ue(va(),l),Ue(xi(),u),Ue(Bm(),u)]),ko.config({toggleClass:"tox-insert-table-picker__selected",toggleOnExecute:!1}),Co.config({onFocus:f=>Zt(f,CA,{row:n,col:s})})])})},zN=n=>mn(n,s=>nt(s,Hl)),Y2=(n,s)=>zr(`${s}x${n}`),rk={inserttable:(n,s)=>{const i=(p=>(b,y)=>p.shared.providers.translate(["{0} columns, {1} rows",y,b]))(s),l=((p,b,y)=>{const w=[];for(let E=0;E<10;E++){const _=[];for(let O=0;O<10;O++){const L=p(E+1,O+1);_.push(AN(E,O,L))}w.push(_)}return w})(i),u=Y2(0,0),f=rr({dom:{tag:"span",classes:["tox-insert-table-picker__label"]},components:[u],behaviours:ct([po.config({})])});return{type:"widget",data:{value:Pt("widget-id")},dom:{tag:"div",classes:["tox-fancymenuitem"]},autofocus:!0,components:[gp.widget({dom:{tag:"div",classes:["tox-insert-table-picker"]},components:zN(l).concat(f.asSpec()),behaviours:ct([Vo("insert-table-picker",[Ar(p=>{po.set(f.get(p),[u])}),Yg(CA,(p,b,y)=>{const{row:w,col:E}=y.event;((_,O,L,I,K)=>{for(let q=0;q<10;q++)for(let se=0;se<10;se++)ko.set(_[q][se],q<=O&&se<=L)})(l,w,E),po.set(f.get(p),[Y2(w+1,E+1)])}),Yg(K2,(p,b,y)=>{const{row:w,col:E}=y.event;n.onAction({numRows:w+1,numColumns:E+1}),jo(p,Lp())})]),Yt.config({initSize:{numRows:10,numColumns:10},mode:"flatgrid",selector:'[role="button"]'})])})]}},colorswatch:(n,s)=>{const i=((p,b)=>{const y=p.initData.allowCustomColors&&b.colorinput.hasCustomColors();return p.initData.colors.fold(()=>Z2(b.colorinput.getColors(p.initData.storageKey),p.initData.storageKey,y),w=>w.concat(kA(y)))})(n,s),l=s.colorinput.getColorCols(n.initData.storageKey),u="color",f={...G2(Pt("menu-value"),i,p=>{n.onAction({value:p})},l,u,uf.CLOSE_ON_EXECUTE,n.select.getOr(Le),s.shared.providers),markers:Mh(u),movement:R0(l,u),menuRole:!1};return{type:"widget",data:{value:Pt("widget-id")},dom:{tag:"div",classes:["tox-fancymenuitem"]},autofocus:!0,components:[gp.widget(Th.sketch(f))]}}},sk=n=>({type:"separator",dom:{tag:"div",classes:[Lx,"tox-collection__group-heading"]},components:n.text.map(zr).toArray()});var X2=Object.freeze({__proto__:null,getCoupled:(n,s,i,l)=>i.getOrCreate(n,s,l),getExistingCoupled:(n,s,i,l)=>i.getExisting(n,s,l)}),TN=[ya("others",ju(qo.value,yi()))],ON=Object.freeze({__proto__:null,init:()=>{const n={},s=(l,u)=>{if($o(l.others).length===0)throw new Error("Cannot find any known coupled components");return lt(n,u)},i=ne({});return ki({readState:i,getExisting:(l,u,f)=>s(u,f).orThunk(()=>(lt(u.others,f).getOrDie("No information found for coupled component: "+f),T.none())),getOrCreate:(l,u,f)=>s(u,f).getOrThunk(()=>{const p=lt(u.others,f).getOrDie("No information found for coupled component: "+f)(l),b=l.getSystem().build(p);return n[f]=b,b})})}});const Us=ks({fields:TN,name:"coupling",apis:X2,state:ON}),J2=n=>{let s=T.none(),i=[];const l=p=>{u()?f(p):i.push(p)},u=()=>s.isSome(),f=p=>{s.each(b=>{setTimeout(()=>{p(b)},0)})};return n(p=>{u()||(s=T.some(p),Ot(i,f),i=[])}),{get:l,map:p=>J2(b=>{l(y=>{b(p(y))})}),isReady:u}},SA={nu:J2,pure:n=>J2(s=>{s(n)})},EA=n=>{setTimeout(()=>{throw n},0)},Sy=n=>{const s=i=>{n().then(i,EA)};return{map:i=>Sy(()=>n().then(i)),bind:i=>Sy(()=>n().then(l=>i(l).toPromise())),anonBind:i=>Sy(()=>n().then(()=>i.toPromise())),toLazy:()=>SA.nu(s),toCached:()=>{let i=null;return Sy(()=>(i===null&&(i=n()),i))},toPromise:n,get:s}},wg=n=>Sy(()=>new Promise(n)),yp=n=>Sy(()=>Promise.resolve(n)),AA=ne("sink"),zA=ne(yd({name:AA(),overrides:ne({dom:{tag:"div"},behaviours:ct([ai.config({useFixed:Lt})]),events:_n([Ic(Ht()),Ic(j()),Ic(xi())])})})),TA=(n,s)=>{const i=n.getHotspot(s).getOr(s),l="hotspot",u=n.getAnchorOverrides();return n.layouts.fold(()=>({type:l,hotspot:i,overrides:u}),f=>({type:l,hotspot:i,overrides:u,layouts:f}))},N0=(n,s,i,l,u,f,p)=>((y,w,E,_,O,L,I)=>{const K=((se,W,Z)=>(0,se.fetch)(Z).map(W))(y,w,_),q=OA(_,y);return K.map(se=>se.bind(W=>T.from(cp.sketch({...L.menu(),uid:vu(""),data:W,highlightOnOpen:I,onOpenMenu:(Z,Y)=>{const oe=q().getOrDie();ai.position(oe,Y,{anchor:E}),h.decloak(O)},onOpenSubmenu:(Z,Y,oe)=>{const re=q().getOrDie();ai.position(re,oe,{anchor:{type:"submenu",item:Y}}),h.decloak(O)},onRepositionMenu:(Z,Y,oe)=>{const re=q().getOrDie();ai.position(re,Y,{anchor:E}),Ot(oe,be=>{ai.position(re,be.triggeredMenu,{anchor:{type:"submenu",item:be.triggeringItem}})})},onEscape:()=>(Co.focus(_),h.close(O),T.some(!0))}))))})(n,s,TA(n,i),i,l,u,p).map(y=>(y.fold(()=>{h.isOpen(l)&&h.close(l)},w=>{h.cloak(l),h.open(l,w),f(l)}),l)),DN=(n,s,i,l,u,f,p)=>(h.close(l),yp(l)),Q2=(n,s,i,l,u,f)=>{const p=Us.getCoupled(i,"sandbox");return(h.isOpen(p)?DN:N0)(n,s,i,p,l,u,f)},OA=(n,s)=>n.getSystem().getByUid(s.uid+"-"+AA()).map(i=>()=>qo.value(i)).getOrThunk(()=>s.lazySink.fold(()=>()=>qo.error(new Error("No internal sink is specified, nor could an external sink be found")),i=>()=>i(n))),DA=n=>{h.getState(n).each(s=>{cp.repositionMenus(s)})},eC=(n,s,i)=>{const l=g1(),u=OA(s,n);return{dom:{tag:"div",classes:n.sandboxClasses,attributes:{id:l.id,role:"listbox"}},behaviours:Gt(n.sandboxBehaviours,[Ee.config({store:{mode:"memory",initialValue:s}}),h.config({onOpen:(f,p)=>{const b=TA(n,s);l.link(s.element),n.matchWidth&&((y,w,E)=>{const _=xn.getCurrent(w).getOr(w),O=Uo(y.element);E?mo(_.element,"min-width",O+"px"):((L,I)=>{Xn.set(L,I)})(_.element,O)})(b.hotspot,p,n.useMinWidth),n.onOpen(b,f,p),i!==void 0&&i.onOpen!==void 0&&i.onOpen(f,p)},onClose:(f,p)=>{l.unlink(s.element),u().getOr(p).element.dom.dispatchEvent(new window.FocusEvent("focusout")),i!==void 0&&i.onClose!==void 0&&i.onClose(f,p)},isPartOf:(f,p,b)=>qf(p,b)||qf(s,b),getAttachPoint:()=>u().getOrDie()}),xn.config({find:f=>h.getState(f).bind(p=>xn.getCurrent(p))}),Ci.config({channels:{...H({isExtraPart:Le}),...te({doReposition:DA})}})])}},_g=n=>{const s=Us.getCoupled(n,"sandbox");DA(s)},tC=()=>[Ae("sandboxClasses",[]),Dn("sandboxBehaviours",[xn,Ci,h,Ee])],RN=ne([Ze("dom"),Ze("fetch"),vn("onOpen"),Fl("onExecute"),Ae("getHotspot",T.some),Ae("getAnchorOverrides",ne({})),Wc(),xt("dropdownBehaviours",[ko,Us,Yt,Co]),Ze("toggleClass"),Ae("eventOrder",{}),wn("lazySink"),Ae("matchWidth",!1),Ae("useMinWidth",!1),wn("role")].concat(tC())),Vh=ne([Au({schema:[xa(),Ae("fakeFocus",!1)],name:"menu",defaults:n=>({onExecute:n.onExecute})}),zA()]),Ed=Vl({name:"Dropdown",configFields:RN(),partFields:Vh(),factory:(n,s,i,l)=>{const u=y=>{h.getState(y).each(w=>{cp.highlightPrimary(w)})},f=(y,w,E)=>Q2(n,Et,y,l,w,E),p={expand:y=>{ko.isOn(y)||f(y,ut,nl.HighlightNone).get(ut)},open:y=>{ko.isOn(y)||f(y,ut,nl.HighlightMenuAndItem).get(ut)},refetch:y=>Us.getExistingCoupled(y,"sandbox").fold(()=>f(y,ut,nl.HighlightMenuAndItem).map(ut),w=>N0(n,Et,y,w,l,ut,nl.HighlightMenuAndItem).map(ut)),isOpen:ko.isOn,close:y=>{ko.isOn(y)&&f(y,ut,nl.HighlightMenuAndItem).get(ut)},repositionMenus:y=>{ko.isOn(y)&&_g(y)}},b=(y,w)=>(uc(y),T.some(!0));return{uid:n.uid,dom:n.dom,components:s,behaviours:Ut(n.dropdownBehaviours,[ko.config({toggleClass:n.toggleClass,aria:{mode:"expanded"}}),Us.config({others:{sandbox:y=>eC(n,y,{onOpen:()=>ko.on(y),onClose:()=>ko.off(y)})}}),Yt.config({mode:"special",onSpace:b,onEnter:b,onDown:(y,w)=>{if(Ed.isOpen(y)){const E=Us.getCoupled(y,"sandbox");u(E)}else Ed.open(y);return T.some(!0)},onEscape:(y,w)=>Ed.isOpen(y)?(Ed.close(y),T.some(!0)):T.none()}),Co.config({})]),events:ly(T.some(y=>{f(y,u,nl.HighlightMenuAndItem).get(ut)})),eventOrder:{...n.eventOrder,[va()]:["disabling","toggling","alloy.base.behaviour"]},apis:p,domModification:{attributes:{"aria-haspopup":"true",...n.role.fold(()=>({}),y=>({role:y})),...n.dom.tag==="button"?{type:lt(n.dom,"attributes").bind(y=>lt(y,"type")).getOr("button")}:{}}}}},apis:{open:(n,s)=>n.open(s),refetch:(n,s)=>n.refetch(s),expand:(n,s)=>n.expand(s),close:(n,s)=>n.close(s),isOpen:(n,s)=>n.isOpen(s),repositionMenus:(n,s)=>n.repositionMenus(s)}}),RA=(n,s,i)=>{VE(n).each(l=>{var u;((f,p)=>{ls(p.element,"id").each(b=>uo(f.element,"aria-activedescendant",b))})(l,i),(Zo((u=s).element,h0)?T.some(u.element):ss(u.element,"."+h0)).each(f=>{ls(f,"id").each(p=>uo(l.element,"aria-controls",p))})}),uo(i.element,"aria-selected","true")},Cg=(n,s,i)=>{uo(i.element,"aria-selected","false")},NN=n=>Us.getExistingCoupled(n,"sandbox").bind(g0).map(jE).map(s=>s.fetchPattern).getOr("");var ak;(function(n){n[n.ContentFocus=0]="ContentFocus",n[n.UiFocus=1]="UiFocus"})(ak||(ak={}));const tu=(n,s,i,l,u)=>{const f=i.shared.providers,p=y=>u?{...y,shortcut:T.none(),icon:y.text.isSome()?T.none():y.icon}:y;switch(n.type){case"menuitem":return(b=n,Lr("menuitem",nA,b)).fold(cm,y=>T.some(((w,E,_,O=!0)=>{const L=S0({presets:"normal",iconContent:w.icon,textContent:w.text,htmlContent:T.none(),ariaLabel:w.text,caret:T.none(),checkMark:T.none(),shortcutContent:w.shortcut},_,O);return xy({data:ky(w),getApi:I=>({isEnabled:()=>!zo.isDisabled(I),setEnabled:K=>zo.set(I,!K)}),enabled:w.enabled,onAction:w.onAction,onSetup:w.onSetup,triggersSubmenu:!1,itemBehaviours:[]},L,E,_)})(p(y),s,f,l)));case"nestedmenuitem":return(y=>Lr("nestedmenuitem",rA,y))(n).fold(cm,y=>T.some(((w,E,_,O=!0,L=!1)=>{const I=L?(K=_.icons,D2("chevron-down",K,[p2])):(se=>D2("chevron-right",se,[p2]))(_.icons);var K;const q=S0({presets:"normal",iconContent:w.icon,textContent:w.text,htmlContent:T.none(),ariaLabel:w.text,caret:T.some(I),checkMark:T.none(),shortcutContent:w.shortcut},_,O);return xy({data:ky(w),getApi:se=>({isEnabled:()=>!zo.isDisabled(se),setEnabled:W=>zo.set(se,!W),setIconFill:(W,Z)=>{ss(se.element,`svg path[class="${W}"], rect[class="${W}"]`).each(Y=>{uo(Y,"fill",Z)})},setTooltip:W=>{const Z=_.translate(W);uo(se.element,"aria-label",Z)}}),enabled:w.enabled,onAction:ut,onSetup:w.onSetup,triggersSubmenu:!0,itemBehaviours:[]},q,E,_)})(p(y),s,f,l,u)));case"togglemenuitem":return(y=>Lr("togglemenuitem",yN,y))(n).fold(cm,y=>T.some(((w,E,_,O=!0)=>{const L=S0({iconContent:w.icon,textContent:w.text,htmlContent:T.none(),ariaLabel:w.text,checkMark:T.some(uA(_.icons)),caret:T.none(),shortcutContent:w.shortcut,presets:"normal",meta:w.meta},_,O);return Ir(xy({data:ky(w),enabled:w.enabled,getApi:I=>({setActive:K=>{ko.set(I,K)},isActive:()=>ko.isOn(I),isEnabled:()=>!zo.isDisabled(I),setEnabled:K=>zo.set(I,!K)}),onAction:w.onAction,onSetup:w.onSetup,triggersSubmenu:!1,itemBehaviours:[]},L,E,_),{toggling:{toggleClass:ME,toggleOnExecute:!1,selected:w.active}})})(p(y),s,f,l)));case"separator":return(y=>Lr("separatormenuitem",YE,y))(n).fold(cm,y=>T.some(sk(y)));case"fancymenuitem":return(y=>Lr("fancymenuitem",oA,y))(n).fold(cm,y=>((w,E)=>lt(rk,w.fancytype).map(_=>_(w,E)))(y,i));default:return console.error("Unknown item in general menu",n),T.none()}var b},NA=(n,s,i,l,u,f,p)=>{const b=l===1,y=!b||y0(n);return Ea(nt(n,w=>{switch(w.type){case"separator":return(E=w,Lr("Autocompleter.Separator",YE,E)).fold(cm,_=>T.some(sk(_)));case"cardmenuitem":return(_=>Lr("cardmenuitem",bN,_))(w).fold(cm,_=>T.some(((O,L,I,K)=>{const q={dom:fA(O.label),optComponents:[T.some({dom:{tag:"div",classes:[m0,p0]},components:M2(O.items,K)})]};return xy({data:ky({text:T.none(),...O}),enabled:O.enabled,getApi:se=>({isEnabled:()=>!zo.isDisabled(se),setEnabled:W=>{zo.set(se,!W),Ot(ua(se.element,"*"),Z=>{se.getSystem().getByDom(Z).each(Y=>{Y.hasConfigured(zo)&&zo.set(Y,!W)})})}}),onAction:O.onAction,onSetup:O.onSetup,triggersSubmenu:!1,itemBehaviours:T.from(K.itemBehaviours).getOr([])},q,L,I.providers)})({..._,onAction:O=>{_.onAction(O),i(_.value,_.meta)}},u,f,{itemBehaviours:mA(_.meta,f,T.none()),cardText:{matchText:s,highlightOn:p}})));default:return(_=>Lr("Autocompleter.Item",iN,_))(w).fold(cm,_=>T.some(((O,L,I,K,q,se,W,Z=!0)=>{const Y=S0({presets:K,textContent:T.none(),htmlContent:I?O.text.map(re=>N2(re,L)):T.none(),ariaLabel:O.text,iconContent:O.icon,shortcutContent:T.none(),checkMark:T.none(),caret:T.none(),value:O.value},W.providers,Z,O.icon),oe=O.text.filter(re=>!I&&re!=="");return xy({data:ky(O),enabled:O.enabled,getApi:ne({}),onAction:re=>q(O.value,O.meta),onSetup:ne(ut),triggersSubmenu:!1,itemBehaviours:mA(O,W,oe)},Y,se,W.providers)})(_,s,b,"normal",i,u,f,y)))}var E}))},oC=(n,s,i,l,u,f)=>{const p=y0(s),b=Ea(nt(s,w=>{const E=_=>tu(_,i,l,(O=>u?!ro(O,"text"):p)(_),u);return w.type==="nestedmenuitem"&&w.getSubmenuItems().length<=0?E({...w,enabled:!1}):E(w)})),y=(w=>w.searchMode==="no-search"?{menuType:"normal"}:{menuType:"searchable",searchMode:w})(f);return(u?nN:b2)(n,p,b,1,y)},ik=n=>cp.singleData(n.value,n),MN=n=>Ql(wt(n.startContainer),n.startOffset,wt(n.endContainer),n.endOffset),nC=(n,s)=>{const i=Pt("autocompleter"),l=eo(!1),u=eo(!1),f=Vn(),p=Xs(as.sketch({dom:{tag:"div",classes:["tox-autocompleter"],attributes:{id:i}},components:[],fireDismissalEventInstead:{},inlineBehaviours:ct([Vo("dismissAutocompleter",[Ue(Nc(),()=>_()),Ue(mt(),(I,K)=>{ls(K.event.target,"id").each(q=>uo(wt(n.getBody()),"aria-activedescendant",q))})])]),lazySink:s.getSink})),b=()=>as.isOpen(p),y=u.get,w=()=>{if(b()){as.hide(p),n.dom.remove(i,!1);const I=wt(n.getBody());ls(I,"aria-owns").filter(K=>K===i).each(()=>{Er(I,"aria-owns"),Er(I,"aria-activedescendant")})}},E=()=>as.getContent(p).bind(I=>et(I.components(),0)),_=()=>n.execCommand("mceAutocompleterClose"),O=I=>{const K=(q=>{const se=fo(q,W=>T.from(W.columns)).getOr(1);return mn(q,W=>{const Z=W.items;return NA(Z,W.matchText,(Y,oe)=>{const re={hide:()=>_(),reload:be=>{w(),n.execCommand("mceAutocompleterReload",!1,{fetchOptions:be})}};n.execCommand("mceAutocompleterRefreshActiveRange"),f.get().each(be=>{l.set(!0),W.onAction(re,be,Y,oe),l.set(!1)})},se,uf.BUBBLE_TO_SANDBOX,s,W.highlightOn)})})(I);K.length>0?(((q,se)=>{const W=fo(q,Z=>T.from(Z.columns)).getOr(1);as.showMenuAt(p,{anchor:{type:"selection",getSelection:()=>f.get().map(MN),root:wt(n.getBody())}},((Z,Y,oe,re)=>{const be=R0(Y,re),Oe=Mh(re);return{data:ik({...Z,movement:be,menuBehaviours:_0(Y!=="auto"?[]:[Ar((Ke,Je)=>{O2(Ke,4,Oe.item).each(({numColumns:at,numRows:kt})=>{Yt.setGridSize(Ke,kt,at)})})])}),menu:{markers:Mh(re),fakeFocus:oe===ak.ContentFocus}}})(b2("autocompleter-value",!0,se,W,{menuType:"normal"}),W,ak.ContentFocus,"normal")),E().each(Wn.highlightFirst)})(I,K),uo(wt(n.getBody()),"aria-owns",i),n.inline||L()):w()},L=()=>{n.dom.get(i)&&n.dom.remove(i,!1);const I=n.getDoc().documentElement,K=n.selection.getNode(),q=(se=>r1(se,!0))(p.element);cl(q,{border:"0",clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:"0",position:"absolute",width:"1px",top:`${K.offsetTop}px`,left:`${K.offsetLeft}px`}),n.dom.add(I,q.dom),ss(q,'[role="menu"]').each(se=>{sn(se,"position"),sn(se,"max-height")})};n.on("AutocompleterStart",({lookupData:I})=>{u.set(!0),l.set(!1),O(I)}),n.on("AutocompleterUpdate",({lookupData:I})=>O(I)),n.on("AutocompleterUpdateActiveRange",({range:I})=>f.set(I)),n.on("AutocompleterEnd",()=>{w(),u.set(!1),l.set(!1),f.clear()}),((I,K)=>{const q=(W,Z)=>{Zt(W,Ht(),{raw:Z})},se=()=>I.getMenu().bind(Wn.getHighlighted);K.on("keydown",W=>{const Z=W.which;I.isActive()&&(I.isMenuOpen()?Z===13?(se().each(uc),W.preventDefault()):Z===40?(se().fold(()=>{I.getMenu().each(Wn.highlightFirst)},Y=>{q(Y,W)}),W.preventDefault(),W.stopImmediatePropagation()):Z!==37&&Z!==38&&Z!==39||se().each(Y=>{q(Y,W),W.preventDefault(),W.stopImmediatePropagation()}):Z!==13&&Z!==38&&Z!==40||I.cancelIfNecessary())}),K.on("NodeChange",()=>{!I.isActive()||I.isProcessingAction()||K.queryCommandState("mceAutoCompleterInRange")||I.cancelIfNecessary()})})({cancelIfNecessary:_,isMenuOpen:b,isActive:y,isProcessingAction:l.get,getMenu:E},n)},M0=(n,s,i)=>jn(n,s,i).isSome(),MA=(n,s)=>{let i=null;return{cancel:()=>{i!==null&&(clearTimeout(i),i=null)},schedule:(...l)=>{i=setTimeout(()=>{n.apply(null,l),i=null},s)}}},BA=n=>{const s=n.raw;return s.touches===void 0||s.touches.length!==1?T.none():T.some(s.touches[0])},lk=(n,s)=>{const i={stopBackspace:!0,...s},l=(_=>{const O=Vn(),L=eo(!1),I=MA(q=>{_.triggerEvent(Im(),q),L.set(!0)},400),K=Ji([{key:vi(),value:q=>(BA(q).each(se=>{I.cancel();const W={x:se.clientX,y:se.clientY,target:q.target};I.schedule(q),L.set(!1),O.set(W)}),T.none())},{key:md(),value:q=>(I.cancel(),BA(q).each(se=>{O.on(W=>{((Z,Y)=>{const oe=Math.abs(Z.clientX-Y.x),re=Math.abs(Z.clientY-Y.y);return oe>5||re>5})(se,W)&&O.clear()})}),T.none())},{key:C(),value:q=>(I.cancel(),O.get().filter(se=>hn(se.target,q.target)).map(se=>L.get()?(q.prevent(),!1):_.triggerEvent(Bm(),q)))}]);return{fireIfReady:(q,se)=>lt(K,se).bind(W=>W(q))}})(i),u=nt(["touchstart","touchmove","touchend","touchcancel","gesturestart","mousedown","mouseup","mouseover","mousemove","mouseout","click"].concat(["selectstart","input","contextmenu","change","transitionend","transitioncancel","drag","dragstart","dragend","dragenter","dragleave","dragover","drop","keyup"]),_=>$i(n,_,O=>{l.fireIfReady(O,_).each(L=>{L&&O.kill()}),i.triggerEvent(_,O)&&O.kill()})),f=Vn(),p=$i(n,"paste",_=>{l.fireIfReady(_,"paste").each(O=>{O&&_.kill()}),i.triggerEvent("paste",_)&&_.kill(),f.set(setTimeout(()=>{i.triggerEvent(Mf(),_)},0))}),b=$i(n,"keydown",_=>{i.triggerEvent("keydown",_)?_.kill():i.stopBackspace&&(O=>O.raw.which===p4[0]&&!_e(["input","textarea"],Aa(O.target))&&!M0(O.target,'[contenteditable="true"]'))(_)&&_.prevent()}),y=$i(n,"focusin",_=>{i.triggerEvent("focusin",_)&&_.kill()}),w=Vn(),E=$i(n,"focusout",_=>{i.triggerEvent("focusout",_)&&_.kill(),w.set(setTimeout(()=>{i.triggerEvent(Dc(),_)},0))});return{unbind:()=>{Ot(u,_=>{_.unbind()}),b.unbind(),y.unbind(),E.unbind(),p.unbind(),f.on(clearTimeout),w.on(clearTimeout)}}},ck=(n,s)=>{const i=lt(n,"target").getOr(s);return eo(i)},Ey=Pr([{stopped:[]},{resume:["element"]},{complete:[]}]),rC=(n,s,i,l,u,f)=>{const p=n(s,l),b=((y,w)=>{const E=eo(!1),_=eo(!1);return{stop:()=>{E.set(!0)},cut:()=>{_.set(!0)},isStopped:E.get,isCut:_.get,event:y,setSource:w.set,getSource:w.get}})(i,u);return p.fold(()=>(f.logEventNoHandlers(s,l),Ey.complete()),y=>{const w=y.descHandler;return Cb(w)(b),b.isStopped()?(f.logEventStopped(s,y.element,w.purpose),Ey.stopped()):b.isCut()?(f.logEventCut(s,y.element,w.purpose),Ey.complete()):mi(y.element).fold(()=>(f.logNoParent(s,y.element,w.purpose),Ey.complete()),E=>(f.logEventResponse(s,y.element,w.purpose),Ey.resume(E)))})},sC=(n,s,i,l,u,f)=>rC(n,s,i,l,u,f).fold(Lt,p=>sC(n,s,i,p,u,f),Le),IA=(n,s,i,l,u)=>{const f=ck(i,l);return sC(n,s,i,l,f,u)},aC=()=>{const n=(()=>{const l={};return{registerId:(u,f,p)=>{Kn(p,(b,y)=>{const w=l[y]!==void 0?l[y]:{};w[f]=((E,_)=>({cHandler:dt.apply(void 0,[E.handler].concat(_)),purpose:E.purpose}))(b,u),l[y]=w})},unregisterId:u=>{Kn(l,(f,p)=>{ro(f,u)&&delete f[u]})},filterByType:u=>lt(l,u).map(f=>tr(f,(p,b)=>((y,w)=>({id:y,descHandler:w}))(b,p))).getOr([]),find:(u,f,p)=>lt(l,f).bind(b=>Zd(p,y=>((w,E)=>Uf(E).bind(_=>lt(w,_)).map(_=>((O,L)=>({element:O,descHandler:L}))(E,_)))(b,y),u))}})(),s={},i=l=>{Uf(l.element).each(u=>{delete s[u],n.unregisterId(u)})};return{find:(l,u,f)=>n.find(l,u,f),filter:l=>n.filterByType(l),register:l=>{const u=(p=>{const b=p.element;return Uf(b).getOrThunk(()=>((y,w)=>{const E=Pt(qp+"uid-");return sh(w,E),E})(0,p.element))})(l);Po(s,u)&&((p,b)=>{const y=s[b];if(y!==p)throw new Error('The tagId "'+b+'" is already used by: '+Fc(y.element)+`
Cannot use it for: `+Fc(p.element)+`
The conflicting element is`+(Yn(y.element)?" ":" not ")+"already in the DOM");i(p)})(l,u);const f=[l];n.registerId(f,u,l.events),s[u]=l},unregister:i,getById:l=>lt(s,l)}},Du=vd({name:"Container",factory:n=>{const{attributes:s,...i}=n.dom;return{uid:n.uid,dom:{tag:"div",attributes:{role:"presentation",...s},...i},components:n.components,behaviours:oo(n.containerBehaviours),events:n.events,domModification:n.domModification,eventOrder:n.eventOrder}},configFields:[Ae("components",[]),xt("containerBehaviours",[]),Ae("events",{}),Ae("domModification",{}),Ae("eventOrder",{})]}),iC=n=>{const s=q=>mi(n.element).fold(Lt,se=>hn(q,se)),i=aC(),l=(q,se)=>i.find(s,q,se),u=lk(n.element,{triggerEvent:(q,se)=>a1(q,se.target,W=>((Z,Y,oe,re)=>IA(Z,Y,oe,oe.target,re))(l,q,se,W))}),f={debugInfo:ne("real"),triggerEvent:(q,se,W)=>{a1(q,se,Z=>IA(l,q,W,se,Z))},triggerFocus:(q,se)=>{Uf(q).fold(()=>{Uc(q)},W=>{a1(us(),q,Z=>(((Y,oe,re,be,Oe)=>{const Ke=ck(re,be);rC(Y,oe,re,be,Ke,Oe)})(l,us(),{originator:se,kill:ut,prevent:ut,target:q},q,Z),!1))})},triggerEscape:(q,se)=>{f.triggerEvent("keydown",q.element,se.event)},getByUid:q=>I(q),getByDom:q=>K(q),build:Xs,buildOrPatch:m1,addToGui:q=>{y(q)},removeFromGui:q=>{w(q)},addToWorld:q=>{p(q)},removeFromWorld:q=>{b(q)},broadcast:q=>{_(q)},broadcastOn:(q,se)=>{O(q,se)},broadcastEvent:(q,se)=>{L(q,se)},isConnected:Lt},p=q=>{q.connect(f),Os(q.element)||(i.register(q),Ot(q.components(),p),f.triggerEvent(Rc(),q.element,{target:q.element}))},b=q=>{Os(q.element)||(Ot(q.components(),b),i.unregister(q)),q.disconnect()},y=q=>{Su(n,q)},w=q=>{pl(q)},E=q=>{const se=i.filter(mu());Ot(se,W=>{const Z=W.descHandler;Cb(Z)(q)})},_=q=>{E({universal:!0,data:q})},O=(q,se)=>{E({universal:!1,channels:q,data:se})},L=(q,se)=>((W,Z,Y)=>{const oe=(re=>{const be=eo(!1);return{stop:()=>{be.set(!0)},cut:ut,isStopped:be.get,isCut:Le,event:re,setSource:gn("Cannot set source of a broadcasted event"),getSource:gn("Cannot get source of a broadcasted event")}})(Z);return Ot(W,re=>{const be=re.descHandler;Cb(be)(oe)}),oe.isStopped()})(i.filter(q),se),I=q=>i.getById(q).fold(()=>qo.error(new Error('Could not find component with uid: "'+q+'" in system.')),qo.value),K=q=>{const se=Uf(q).getOr("not found");return I(se)};return p(n),{root:n,element:n.element,destroy:()=>{u.unbind(),bs(n.element)},add:y,remove:w,getByUid:I,getByDom:K,addToWorld:p,removeFromWorld:b,broadcast:_,broadcastOn:O,broadcastEvent:L}},BN=ne([Ae("prefix","form-field"),xt("fieldBehaviours",[xn,Ee])]),IN=ne([yd({schema:[Ze("dom")],name:"label"}),yd({factory:{sketch:n=>({uid:n.uid,dom:{tag:"span",styles:{display:"none"},attributes:{"aria-hidden":"true"},innerHtml:n.text}})},schema:[Ze("text")],name:"aria-descriptor"}),gl({factory:{sketch:n=>{const s=((i,l)=>{const u={};return Kn(i,(f,p)=>{_e(l,p)||(u[p]=f)}),u})(n,["factory"]);return n.factory.sketch(s)}},schema:[Ze("factory")],name:"field"})]),qn=Vl({name:"FormField",configFields:BN(),partFields:IN(),factory:(n,s,i,l)=>{const u=Ut(n.fieldBehaviours,[xn.config({find:b=>Nr(b,n,"field")}),Ee.config({store:{mode:"manual",getValue:b=>xn.getCurrent(b).bind(Ee.getValue),setValue:(b,y)=>{xn.getCurrent(b).each(w=>{Ee.setValue(w,y)})}}})]),f=_n([Ar((b,y)=>{const w=Q3(b,n,["label","field","aria-descriptor"]);w.field().each(E=>{const _=Pt(n.prefix);w.label().each(O=>{uo(O.element,"for",_),uo(E.element,"id",_)}),w["aria-descriptor"]().each(O=>{const L=Pt(n.prefix);uo(O.element,"id",L),uo(E.element,"aria-describedby",L)})})})]),p={getField:b=>Nr(b,n,"field"),getLabel:b=>Nr(b,n,"label")};return{uid:n.uid,dom:n.dom,components:s,behaviours:u,events:f,apis:p}},apis:{getField:(n,s)=>n.getField(s),getLabel:(n,s)=>n.getLabel(s)}});var LN=tinymce.util.Tools.resolve("tinymce.html.Entities");const vp=(n,s,i,l)=>{const u=dk(n,s,i,l);return qn.sketch(u)},dk=(n,s,i,l)=>({dom:lC(i),components:n.toArray().concat([s]),fieldBehaviours:ct(l)}),lC=n=>({tag:"div",classes:["tox-form__group"].concat(n)}),xp=(n,s)=>qn.parts.label({dom:{tag:"label",classes:["tox-label"]},components:[zr(s.translate(n))]}),Qc=Pt("form-component-change"),B0=Pt("form-close"),Sg=Pt("form-cancel"),fm=Pt("form-action"),jh=Pt("form-submit"),uk=Pt("form-block"),fk=Pt("form-unblock"),mk=Pt("form-tabchange"),LA=Pt("form-resize"),PA=(n,s,i)=>{const l=n.label.map(_=>xp(_,s)),u=s.icons(),f=_=>(O,L)=>{jn(L.event.target,"[data-collection-item-value]").each(I=>{_(O,L,I,hs(I,"data-collection-item-value"))})},p=f((_,O,L,I)=>{O.stop(),s.isDisabled()||Zt(_,fm,{name:n.name,value:I})}),b=[Ue(Vt(),f((_,O,L)=>{Uc(L)})),Ue(xi(),p),Ue(Bm(),p),Ue(bo(),f((_,O,L)=>{ss(_.element,"."+lm).each(I=>{Io(I,lm)}),$t(L,lm)})),Ue(Oo(),f(_=>{ss(_.element,"."+lm).each(O=>{Io(O,lm),qm(O)})})),Lc(f((_,O,L,I)=>{Zt(_,fm,{name:n.name,value:I})}))],y=(_,O)=>nt(ua(_.element,".tox-collection__item"),O),w=qn.parts.field({dom:{tag:"div",classes:["tox-collection"].concat(n.columns!==1?["tox-collection--grid"]:["tox-collection--list"])},components:[],factory:{sketch:Et},behaviours:ct([zo.config({disabled:s.isDisabled,onDisabled:_=>{y(_,O=>{$t(O,"tox-collection__item--state-disabled"),uo(O,"aria-disabled",!0)})},onEnabled:_=>{y(_,O=>{Io(O,"tox-collection__item--state-disabled"),Er(O,"aria-disabled")})}}),Ra(),po.config({}),Ui.config({...s.tooltips.getConfig({tooltipText:"",onShow:_=>{ss(_.element,"."+lm+"[data-mce-tooltip]").each(O=>{ls(O,"data-mce-tooltip").each(L=>{Ui.setComponents(_,s.tooltips.getComponents({tooltipText:L}))})})}}),mode:"children-keyboard-focus",anchor:_=>({type:"node",node:ss(_.element,"."+lm).orThunk(()=>_c(".tox-collection__item")),root:_.element,layouts:{onLtr:ne([Xr,Jn,ka,Js,ws,js]),onRtl:ne([Xr,Jn,ka,Js,ws,js])},bubble:$l(0,-2,{})})}),Ee.config({store:{mode:"memory",initialValue:i.getOr([])},onSetValue:(_,O)=>{((L,I)=>{const K=nt(I,W=>{const Z=Cd.translate(W.text),Y=n.columns===1?`<div class="tox-collection__item-label">${Z}</div>`:"",oe=`<div class="tox-collection__item-icon">${(Oe=>{var Ke;return(Ke=u[Oe])!==null&&Ke!==void 0?Ke:Oe})(W.icon)}</div>`,re={_:" "," - ":" ","-":" "},be=Z.replace(/\_| \- |\-/g,Oe=>re[Oe]);return`<div data-mce-tooltip="${be}" class="tox-collection__item${s.isDisabled()?" tox-collection__item--state-disabled":""}" tabindex="-1" data-collection-item-value="${LN.encodeAllRaw(W.value)}" aria-label="${be}">${oe}${Y}</div>`}),q=n.columns!=="auto"&&n.columns>1?yt(K,n.columns):[K],se=nt(q,W=>`<div class="tox-collection__group">${W.join("")}</div>`);Pc(L.element,se.join(""))})(_,O),n.columns==="auto"&&O2(_,5,"tox-collection__item").each(({numRows:L,numColumns:I})=>{Yt.setGridSize(_,L,I)}),jo(_,LA)}}),Tr.config({}),Yt.config((E=n.columns,E===1?{mode:"menu",moveOnTab:!1,selector:".tox-collection__item"}:E==="auto"?{mode:"flatgrid",selector:".tox-collection__item",initSize:{numColumns:1,numRows:1}}:{mode:"matrix",selectors:{row:".tox-collection__group",cell:`.${Lx}`}})),Vo("collection-events",b)]),eventOrder:{[va()]:["disabling","alloy.base.behaviour","collection-events"],[bo()]:["collection-events","tooltipping"]}});var E;return vp(l,w,["tox-form__group--collection"],[])},PN=["input","textarea"],FA=n=>{const s=Aa(n);return _e(PN,s)},HA=(n,s)=>{const i=s.getRoot(n).getOr(n.element);Io(i,s.invalidClass),s.notify.each(l=>{FA(n.element)&&uo(n.element,"aria-invalid",!1),l.getContainer(n).each(u=>{Pc(u,l.validHtml)}),l.onValid(n)})},cC=(n,s,i,l)=>{const u=s.getRoot(n).getOr(n.element);$t(u,s.invalidClass),s.notify.each(f=>{FA(n.element)&&uo(n.element,"aria-invalid",!0),f.getContainer(n).each(p=>{Pc(p,l)}),f.onInvalid(n,l)})},$A=(n,s,i)=>s.validator.fold(()=>yp(qo.value(!0)),l=>l.validate(n)),dC=(n,s,i)=>(s.notify.each(l=>{l.onValidate(n)}),$A(n,s).map(l=>n.getSystem().isConnected()?l.fold(u=>(cC(n,s,0,u),qo.error(u)),u=>(HA(n,s),qo.value(u))):qo.error("No longer in system")));var uC=Object.freeze({__proto__:null,markValid:HA,markInvalid:cC,query:$A,run:dC,isInvalid:(n,s)=>{const i=s.getRoot(n).getOr(n.element);return Zo(i,s.invalidClass)}}),VA=Object.freeze({__proto__:null,events:(n,s)=>n.validator.map(i=>_n([Ue(i.onEvent,l=>{dC(l,n).get(Et)})].concat(i.validateOnLoad?[Ar(l=>{dC(l,n).get(ut)})]:[]))).getOr({})}),jA=[Ze("invalidClass"),Ae("getRoot",T.none),Li("notify",[Ae("aria","alert"),Ae("getContainer",T.none),Ae("validHtml",""),vn("onValid"),vn("onInvalid"),vn("onValidate")]),Li("validator",[Ze("validate"),Ae("onEvent","input"),Ae("validateOnLoad",!0)])];const mm=ks({fields:jA,name:"invalidating",active:VA,apis:uC,extra:{validation:n=>s=>{const i=Ee.getValue(s);return yp(n(i))}}}),Uh=ks({fields:[],name:"unselecting",active:Object.freeze({__proto__:null,events:()=>_n([br(qg(),Lt)]),exhibit:()=>$s({styles:{"-webkit-user-select":"none","user-select":"none","-ms-user-select":"none","-moz-user-select":"-moz-none"},attributes:{unselectable:"on"}})})}),UA=Pt("color-input-change"),ZA=Pt("color-swatch-change"),WA=Pt("color-picker-cancel"),FN=yd({schema:[Ze("dom")],name:"label"}),Eg=n=>yd({name:n+"-edge",overrides:s=>s.model.manager.edgeActions[n].fold(()=>({}),i=>({events:_n([Yl(vi(),(l,u,f)=>i(l,f),[s]),Yl(j(),(l,u,f)=>i(l,f),[s]),Yl(ce(),(l,u,f)=>{f.mouseIsDown.get()&&i(l,f)},[s])])}))}),qA=Eg("top-left"),fC=Eg("top"),HN=Eg("top-right"),pk=Eg("right"),$N=Eg("bottom-right"),VN=Eg("bottom"),jN=Eg("bottom-left"),UN=Eg("left"),ZN=gl({name:"thumb",defaults:ne({dom:{styles:{position:"absolute"}}}),overrides:n=>({events:_n([pu(vi(),n,"spectrum"),pu(md(),n,"spectrum"),pu(C(),n,"spectrum"),pu(j(),n,"spectrum"),pu(ce(),n,"spectrum"),pu(rt(),n,"spectrum")])})}),gk=n=>nm(n.event);var GA=[FN,UN,pk,fC,VN,qA,HN,jN,$N,ZN,gl({schema:[ba("mouseIsDown",()=>eo(!1))],name:"spectrum",overrides:n=>{const s=n.model.manager,i=(l,u)=>s.getValueFromEvent(u).map(f=>s.setValueFrom(l,n,f));return{behaviours:ct([Yt.config({mode:"special",onLeft:(l,u)=>s.onLeft(l,n,gk(u)),onRight:(l,u)=>s.onRight(l,n,gk(u)),onUp:(l,u)=>s.onUp(l,n,gk(u)),onDown:(l,u)=>s.onDown(l,n,gk(u))}),Tr.config({}),Co.config({})]),events:_n([Ue(vi(),i),Ue(md(),i),Ue(j(),i),Ue(ce(),(l,u)=>{n.mouseIsDown.get()&&i(l,u)})])}}})];const I0=ne("slider.change.value"),mC=n=>{const s=n.event.raw;if((i=>i.type.indexOf("touch")!==-1)(s)){const i=s;return i.touches!==void 0&&i.touches.length===1?T.some(i.touches[0]).map(l=>_t(l.clientX,l.clientY)):T.none()}{const i=s;return i.clientX!==void 0?T.some(i).map(l=>_t(l.clientX,l.clientY)):T.none()}},kp=n=>n.model.minX,ou=n=>n.model.minY,hk=n=>n.model.minX-1,bk=n=>n.model.minY-1,wp=n=>n.model.maxX,Ag=n=>n.model.maxY,yk=n=>n.model.maxX+1,vk=n=>n.model.maxY+1,pC=(n,s,i)=>s(n)-i(n),gC=n=>pC(n,wp,kp),xk=n=>pC(n,Ag,ou),hC=n=>gC(n)/2,kk=n=>xk(n)/2,Ay=(n,s)=>s?n.stepSize*n.speedMultiplier:n.stepSize,bC=n=>n.snapToGrid,KA=n=>n.snapStart,zy=n=>n.rounded,wk=(n,s)=>n[s+"-edge"]!==void 0,YA=n=>wk(n,"left"),_k=n=>wk(n,"right"),Ck=n=>wk(n,"top"),XA=n=>wk(n,"bottom"),mf=n=>n.model.value.get(),zg=(n,s)=>({x:n,y:s}),Ru=(n,s)=>{Zt(n,I0(),{value:s})},L0=(n,s,i,l)=>n<s?n:n>i?i:n===s?s-1:Math.max(s,n-l),yC=(n,s,i,l)=>n>i?n:n<s?s:n===i?i+1:Math.min(i,n+l),JA=(n,s,i)=>Math.max(s,Math.min(i,n)),QA=n=>{const{min:s,max:i,range:l,value:u,step:f,snap:p,snapStart:b,rounded:y,hasMinEdge:w,hasMaxEdge:E,minBound:_,maxBound:O,screenRange:L}=n,I=w?s-1:s,K=E?i+1:i;if(u<_)return I;if(u>O)return K;{const q=((W,Z,Y)=>Math.min(Y,Math.max(W,Z))-Z)(u,_,O),se=JA(q/L*l+s,I,K);return p&&se>=s&&se<=i?((W,Z,Y,oe,re)=>re.fold(()=>{const be=W-Z,Oe=Math.round(be/oe)*oe;return JA(Z+Oe,Z-1,Y+1)},be=>{const Oe=(W-be)%oe,Ke=Math.round(Oe/oe),Je=Math.floor((W-be)/oe),at=Math.floor((Y-be)/oe),kt=be+Math.min(at,Je+Ke)*oe;return Math.max(be,kt)}))(se,s,i,f,b):y?Math.round(se):se}},ez=n=>{const{min:s,max:i,range:l,value:u,hasMinEdge:f,hasMaxEdge:p,maxBound:b,maxOffset:y,centerMinEdge:w,centerMaxEdge:E}=n;return u<s?f?0:w:u>i?p?b:E:(u-s)/l*y},vC="top",tz="right",oz="bottom",xC="left",pm=n=>n.element.dom.getBoundingClientRect(),Nu=(n,s)=>n[s],Sk=n=>{const s=pm(n);return Nu(s,xC)},nz=n=>{const s=pm(n);return Nu(s,tz)},Ty=n=>{const s=pm(n);return Nu(s,vC)},rz=n=>{const s=pm(n);return Nu(s,oz)},sz=n=>{const s=pm(n);return Nu(s,"width")},az=n=>{const s=pm(n);return Nu(s,"height")},kC=(n,s,i)=>(n+s)/2-i,iz=(n,s)=>{const i=pm(n),l=pm(s),u=Nu(i,xC),f=Nu(i,tz),p=Nu(l,xC);return kC(u,f,p)},lz=(n,s)=>{const i=pm(n),l=pm(s),u=Nu(i,vC),f=Nu(i,oz),p=Nu(l,vC);return kC(u,f,p)},Ek=(n,s)=>{Zt(n,I0(),{value:s})},wC=(n,s,i)=>{const l={min:kp(s),max:wp(s),range:gC(s),value:i,step:Ay(s),snap:bC(s),snapStart:KA(s),rounded:zy(s),hasMinEdge:YA(s),hasMaxEdge:_k(s),minBound:Sk(n),maxBound:nz(n),screenRange:sz(n)};return QA(l)},cz=n=>(s,i,l)=>((u,f,p,b)=>{const y=(u>0?yC:L0)(mf(p),kp(p),wp(p),Ay(p,b));return Ek(f,y),T.some(y)})(n,s,i,l).map(Lt),_C=(n,s,i,l,u,f)=>{const p=((b,y,w,E,_)=>{const O=sz(b),L=E.bind(q=>T.some(iz(q,b))).getOr(0),I=_.bind(q=>T.some(iz(q,b))).getOr(O),K={min:kp(y),max:wp(y),range:gC(y),value:w,hasMinEdge:YA(y),hasMaxEdge:_k(y),minBound:Sk(b),minOffset:0,maxBound:nz(b),maxOffset:O,centerMinEdge:L,centerMaxEdge:I};return ez(K)})(s,f,i,l,u);return Sk(s)-Sk(n)+p},CC=cz(-1),WN=cz(1),qN=T.none,GN=T.none,KN={"top-left":T.none(),top:T.none(),"top-right":T.none(),right:T.some((n,s)=>{Ru(n,yk(s))}),"bottom-right":T.none(),bottom:T.none(),"bottom-left":T.none(),left:T.some((n,s)=>{Ru(n,hk(s))})};var YN=Object.freeze({__proto__:null,setValueFrom:(n,s,i)=>{const l=wC(n,s,i);return Ek(n,l),l},setToMin:(n,s)=>{const i=kp(s);Ek(n,i)},setToMax:(n,s)=>{const i=wp(s);Ek(n,i)},findValueOfOffset:wC,getValueFromEvent:n=>mC(n).map(s=>s.left),findPositionOfValue:_C,setPositionFromValue:(n,s,i,l)=>{const u=mf(i),f=_C(n,l.getSpectrum(n),u,l.getLeftEdge(n),l.getRightEdge(n),i),p=Uo(s.element)/2;mo(s.element,"left",f-p+"px")},onLeft:CC,onRight:WN,onUp:qN,onDown:GN,edgeActions:KN});const Ak=(n,s)=>{Zt(n,I0(),{value:s})},SC=(n,s,i)=>{const l={min:ou(s),max:Ag(s),range:xk(s),value:i,step:Ay(s),snap:bC(s),snapStart:KA(s),rounded:zy(s),hasMinEdge:Ck(s),hasMaxEdge:XA(s),minBound:Ty(n),maxBound:rz(n),screenRange:az(n)};return QA(l)},dz=n=>(s,i,l)=>((u,f,p,b)=>{const y=(u>0?yC:L0)(mf(p),ou(p),Ag(p),Ay(p,b));return Ak(f,y),T.some(y)})(n,s,i,l).map(Lt),EC=(n,s,i,l,u,f)=>{const p=((b,y,w,E,_)=>{const O=az(b),L=E.bind(q=>T.some(lz(q,b))).getOr(0),I=_.bind(q=>T.some(lz(q,b))).getOr(O),K={min:ou(y),max:Ag(y),range:xk(y),value:w,hasMinEdge:Ck(y),hasMaxEdge:XA(y),minBound:Ty(b),minOffset:0,maxBound:rz(b),maxOffset:O,centerMinEdge:L,centerMaxEdge:I};return ez(K)})(s,f,i,l,u);return Ty(s)-Ty(n)+p},XN=T.none,JN=T.none,QN=dz(-1),e6=dz(1),zk={"top-left":T.none(),top:T.some((n,s)=>{Ru(n,bk(s))}),"top-right":T.none(),right:T.none(),"bottom-right":T.none(),bottom:T.some((n,s)=>{Ru(n,vk(s))}),"bottom-left":T.none(),left:T.none()};var t6=Object.freeze({__proto__:null,setValueFrom:(n,s,i)=>{const l=SC(n,s,i);return Ak(n,l),l},setToMin:(n,s)=>{const i=ou(s);Ak(n,i)},setToMax:(n,s)=>{const i=Ag(s);Ak(n,i)},findValueOfOffset:SC,getValueFromEvent:n=>mC(n).map(s=>s.top),findPositionOfValue:EC,setPositionFromValue:(n,s,i,l)=>{const u=mf(i),f=EC(n,l.getSpectrum(n),u,l.getTopEdge(n),l.getBottomEdge(n),i),p=ke(s.element)/2;mo(s.element,"top",f-p+"px")},onLeft:XN,onRight:JN,onUp:QN,onDown:e6,edgeActions:zk});const Oy=(n,s)=>{Zt(n,I0(),{value:s})},Tk=(n,s)=>({x:n,y:s}),Ok=(n,s)=>(i,l,u)=>((f,p,b,y,w)=>{const E=f>0?yC:L0,_=p?mf(y).x:E(mf(y).x,kp(y),wp(y),Ay(y,w)),O=p?E(mf(y).y,ou(y),Ag(y),Ay(y,w)):mf(y).y;return Oy(b,Tk(_,O)),T.some(_)})(n,s,i,l,u).map(Lt),o6=Ok(-1,!1),uz=Ok(1,!1),n6=Ok(-1,!0),AC=Ok(1,!0),zC={"top-left":T.some((n,s)=>{Ru(n,zg(hk(s),bk(s)))}),top:T.some((n,s)=>{Ru(n,zg(hC(s),bk(s)))}),"top-right":T.some((n,s)=>{Ru(n,zg(yk(s),bk(s)))}),right:T.some((n,s)=>{Ru(n,zg(yk(s),kk(s)))}),"bottom-right":T.some((n,s)=>{Ru(n,zg(yk(s),vk(s)))}),bottom:T.some((n,s)=>{Ru(n,zg(hC(s),vk(s)))}),"bottom-left":T.some((n,s)=>{Ru(n,zg(hk(s),vk(s)))}),left:T.some((n,s)=>{Ru(n,zg(hk(s),kk(s)))})};var fz=Object.freeze({__proto__:null,setValueFrom:(n,s,i)=>{const l=wC(n,s,i.left),u=SC(n,s,i.top),f=Tk(l,u);return Oy(n,f),f},setToMin:(n,s)=>{const i=kp(s),l=ou(s);Oy(n,Tk(i,l))},setToMax:(n,s)=>{const i=wp(s),l=Ag(s);Oy(n,Tk(i,l))},getValueFromEvent:n=>mC(n),setPositionFromValue:(n,s,i,l)=>{const u=mf(i),f=_C(n,l.getSpectrum(n),u.x,l.getLeftEdge(n),l.getRightEdge(n),i),p=EC(n,l.getSpectrum(n),u.y,l.getTopEdge(n),l.getBottomEdge(n),i),b=Uo(s.element)/2,y=ke(s.element)/2;mo(s.element,"left",f-b+"px"),mo(s.element,"top",p-y+"px")},onLeft:o6,onRight:uz,onUp:n6,onDown:AC,edgeActions:zC});const Ad=Vl({name:"Slider",configFields:[Ae("stepSize",1),Ae("speedMultiplier",10),Ae("onChange",ut),Ae("onChoose",ut),Ae("onInit",ut),Ae("onDragStart",ut),Ae("onDragEnd",ut),Ae("snapToGrid",!1),Ae("rounded",!0),wn("snapStart"),ya("model",xs("mode",{x:[Ae("minX",0),Ae("maxX",100),ba("value",n=>eo(n.mode.minX)),Ze("getInitialValue"),bn("manager",YN)],y:[Ae("minY",0),Ae("maxY",100),ba("value",n=>eo(n.mode.minY)),Ze("getInitialValue"),bn("manager",t6)],xy:[Ae("minX",0),Ae("maxX",100),Ae("minY",0),Ae("maxY",100),ba("value",n=>eo({x:n.mode.minX,y:n.mode.minY})),Ze("getInitialValue"),bn("manager",fz)]})),xt("sliderBehaviours",[Yt,Ee]),ba("mouseIsDown",()=>eo(!1))],partFields:GA,factory:(n,s,i,l)=>{const u=W=>lp(W,n,"thumb"),f=W=>lp(W,n,"spectrum"),p=W=>Nr(W,n,"left-edge"),b=W=>Nr(W,n,"right-edge"),y=W=>Nr(W,n,"top-edge"),w=W=>Nr(W,n,"bottom-edge"),E=n.model,_=E.manager,O=(W,Z)=>{_.setPositionFromValue(W,Z,n,{getLeftEdge:p,getRightEdge:b,getTopEdge:y,getBottomEdge:w,getSpectrum:f})},L=(W,Z)=>{E.value.set(Z);const Y=u(W);O(W,Y)},I=W=>{const Z=n.mouseIsDown.get();n.mouseIsDown.set(!1),Z&&Nr(W,n,"thumb").each(Y=>{const oe=E.value.get();n.onChoose(W,Y,oe)})},K=(W,Z)=>{Z.stop(),n.mouseIsDown.set(!0),n.onDragStart(W,u(W))},q=(W,Z)=>{Z.stop(),n.onDragEnd(W,u(W)),I(W)},se=W=>{Nr(W,n,"spectrum").map(Yt.focusIn)};return{uid:n.uid,dom:n.dom,components:s,behaviours:Ut(n.sliderBehaviours,[Yt.config({mode:"special",focusIn:se}),Ee.config({store:{mode:"manual",getValue:W=>E.value.get(),setValue:L}}),Ci.config({channels:{[D()]:{onReceive:I}}})]),events:_n([Ue(I0(),(W,Z)=>{((Y,oe)=>{L(Y,oe);const re=u(Y);n.onChange(Y,re,oe)})(W,Z.event.value)}),Ar((W,Z)=>{const Y=E.getInitialValue();E.value.set(Y);const oe=u(W);O(W,oe);const re=f(W);n.onInit(W,oe,re,E.value.get())}),Ue(vi(),K),Ue(C(),q),Ue(j(),(W,Z)=>{se(W),K(W,Z)}),Ue(rt(),q)]),apis:{resetToMin:W=>{_.setToMin(W,n)},resetToMax:W=>{_.setToMax(W,n)},setValue:L,refresh:O},domModification:{styles:{position:"relative"}}}},apis:{setValue:(n,s,i)=>{n.setValue(s,i)},resetToMin:(n,s)=>{n.resetToMin(s)},resetToMax:(n,s)=>{n.resetToMax(s)},refresh:(n,s)=>{n.refresh(s)}}}),Dy=Pt("rgb-hex-update"),TC=Pt("slider-update"),pf=Pt("palette-update"),Dk="form",r6=[xt("formBehaviours",[Ee])],mz=n=>"<alloy.field."+n+">",s6=(n,s)=>({uid:n.uid,dom:n.dom,components:s,behaviours:Ut(n.formBehaviours,[Ee.config({store:{mode:"manual",getValue:i=>{const l=x_(i,n);return Mn(l,(u,f)=>u().bind(p=>{return b=xn.getCurrent(p),y=new Error(`Cannot find a current component to extract the value from for form part '${f}': `+Fc(p.element)),b.fold(()=>qo.error(y),qo.value);var b,y}).map(Ee.getValue))},setValue:(i,l)=>{Kn(l,(u,f)=>{Nr(i,n,f).each(p=>{xn.getCurrent(p).each(b=>{Ee.setValue(b,u)})})})}}})]),apis:{getField:(i,l)=>Nr(i,n,l).bind(xn.getCurrent)}}),Ry={getField:_b((n,s,i)=>n.getField(s,i)),sketch:n=>{const s=(()=>{const f=[];return{field:(p,b)=>(f.push(p),b_(Dk,mz(p),b)),record:ne(f)}})(),i=n(s),l=s.record(),u=nt(l,f=>gl({name:f,pname:mz(f)}));return M1(Dk,r6,u,s6,i)}},Ny=Pt("valid-input"),pz=Pt("invalid-input"),OC=Pt("validating-input"),P0="colorcustom.rgb.",a6=(n,s,i,l)=>{const u=(E,_)=>mm.config({invalidClass:s("invalid"),notify:{onValidate:O=>{Zt(O,OC,{type:E})},onValid:O=>{Zt(O,Ny,{type:E,value:Ee.getValue(O)})},onInvalid:O=>{Zt(O,pz,{type:E,value:Ee.getValue(O)})}},validator:{validate:O=>{const L=Ee.getValue(O),I=_(L)?qo.value(!0):qo.error(n("aria.input.invalid"));return yp(I)},validateOnLoad:!1}}),f=(E,_,O,L,I)=>{const K=n(P0+"range"),q=qn.parts.label({dom:{tag:"label",attributes:{"aria-label":L}},components:[zr(O)]}),se=qn.parts.field({data:I,factory:mp,inputAttributes:{type:"text",..._==="hex"?{"aria-live":"polite"}:{}},inputClasses:[s("textfield")],inputBehaviours:ct([u(_,E),Tr.config({})]),onSetValue:Y=>{mm.isInvalid(Y)&&mm.run(Y).get(ut)}}),W=[q,se],Z=_!=="hex"?[qn.parts["aria-descriptor"]({text:K})]:[];return{dom:{tag:"div",attributes:{role:"presentation"}},components:W.concat(Z)}},p=(E,_)=>{const O=_.red,L=_.green,I=_.blue;Ee.setValue(E,{red:O,green:L,blue:I})},b=rr({dom:{tag:"div",classes:[s("rgba-preview")],styles:{"background-color":"white"},attributes:{role:"presentation"}}}),y=(E,_)=>{b.getOpt(E).each(O=>{mo(O.element,"background-color","#"+_.value)})};return vd({factory:()=>{const E={red:eo(T.some(255)),green:eo(T.some(255)),blue:eo(T.some(255)),hex:eo(T.some("ffffff"))},_=oe=>E[oe].get(),O=(oe,re)=>{E[oe].set(re)},L=oe=>{const re=oe.red,be=oe.green,Oe=oe.blue;O("red",T.some(re)),O("green",T.some(be)),O("blue",T.some(Oe))},I=(oe,re)=>{const be=re.event;be.type!=="hex"?O(be.type,T.none()):l(oe)},K=(oe,re)=>{const be=re.event;(Oe=>Oe.type==="hex")(be)?((Oe,Ke)=>{i(Oe);const Je=B2(Ke);O("hex",T.some(Je.value));const at=A0(Je);p(Oe,at),L(at),Zt(Oe,Dy,{hex:Je}),y(Oe,Je)})(oe,be.value):((Oe,Ke,Je)=>{const at=parseInt(Je,10);O(Ke,T.some(at)),_("red").bind(kt=>_("green").bind(Mt=>_("blue").map(qt=>xg(kt,Mt,qt,1)))).each(kt=>{const Mt=((qt,so)=>{const Lo=E0(so);return Ry.getField(qt,"hex").each(ln=>{Co.isFocused(ln)||Ee.setValue(qt,{hex:Lo.value})}),Lo})(Oe,kt);Zt(Oe,Dy,{hex:Mt}),y(Oe,Mt)})})(oe,be.type,be.value)},q=oe=>({label:n(P0+oe+".label"),description:n(P0+oe+".description")}),se=q("red"),W=q("green"),Z=q("blue"),Y=q("hex");return Ir(Ry.sketch(oe=>({dom:{tag:"form",classes:[s("rgb-form")],attributes:{"aria-label":n("aria.color.picker")}},components:[oe.field("red",qn.sketch(f(Gx,"red",se.label,se.description,255))),oe.field("green",qn.sketch(f(Gx,"green",W.label,W.description,255))),oe.field("blue",qn.sketch(f(Gx,"blue",Z.label,Z.description,255))),oe.field("hex",qn.sketch(f(pA,"hex",Y.label,Y.description,"ffffff"))),b.asSpec()],formBehaviours:ct([mm.config({invalidClass:s("form-invalid")}),Vo("rgb-form-events",[Ue(Ny,K),Ue(pz,I),Ue(OC,I)])])})),{apis:{updateHex:(oe,re)=>{Ee.setValue(oe,{hex:re.value}),((be,Oe)=>{const Ke=A0(Oe);p(be,Ke),L(Ke)})(oe,re),y(oe,re)}}})},name:"RgbForm",configFields:[],apis:{updateHex:(E,_,O)=>{E.updateHex(_,O)}},extraApis:{}})},DC=(n,s)=>vd({name:"ColourPicker",configFields:[Ze("dom"),Ae("onValidHex",ut),Ae("onInvalidHex",ut)],factory:l=>{const u=a6(n,s,l.onValidHex,l.onInvalidHex),f=((K,q)=>{const se=Ad.parts.spectrum({dom:{tag:"canvas",attributes:{role:"presentation"},classes:[q("sv-palette-spectrum")]}}),W=Ad.parts.thumb({dom:{tag:"div",attributes:{role:"presentation"},classes:[q("sv-palette-thumb")],innerHtml:`<div class=${q("sv-palette-inner-thumb")} role="presentation"></div>`}}),Z=(Y,oe)=>{const{width:re,height:be}=Y,Oe=Y.getContext("2d");if(Oe===null)return;Oe.fillStyle=oe,Oe.fillRect(0,0,re,be);const Ke=Oe.createLinearGradient(0,0,re,0);Ke.addColorStop(0,"rgba(255,255,255,1)"),Ke.addColorStop(1,"rgba(255,255,255,0)"),Oe.fillStyle=Ke,Oe.fillRect(0,0,re,be);const Je=Oe.createLinearGradient(0,0,0,be);Je.addColorStop(0,"rgba(0,0,0,0)"),Je.addColorStop(1,"rgba(0,0,0,1)"),Oe.fillStyle=Je,Oe.fillRect(0,0,re,be)};return vd({factory:Y=>{const oe=ne({x:0,y:0}),re=ct([xn.config({find:T.some}),Co.config({})]);return Ad.sketch({dom:{tag:"div",attributes:{role:"slider","aria-valuetext":K(["Saturation {0}%, Brightness {1}%",0,0])},classes:[q("sv-palette")]},model:{mode:"xy",getInitialValue:oe},rounded:!1,components:[se,W],onChange:(be,Oe,Ke)=>{Ho(Ke)||uo(be.element,"aria-valuetext",K(["Saturation {0}%, Brightness {1}%",Math.floor(Ke.x),Math.floor(100-Ke.y)])),Zt(be,pf,{value:Ke})},onInit:(be,Oe,Ke,Je)=>{Z(Ke.element.dom,F2(H2))},sliderBehaviours:re})},name:"SaturationBrightnessPalette",configFields:[],apis:{setHue:(Y,oe,re)=>{((be,Oe)=>{const Ke=be.components()[0].element.dom,Je=z0(Oe,100,100),at=hA(Je);Z(Ke,F2(at))})(oe,re)},setThumb:(Y,oe,re)=>{((be,Oe)=>{const Ke=j2(A0(Oe));Ad.setValue(be,{x:Ke.saturation,y:100-Ke.value}),uo(be.element,"aria-valuetext",K(["Saturation {0}%, Brightness {1}%",Ke.saturation,Ke.value]))})(oe,re)}},extraApis:{}})})(n,s),p={paletteRgba:eo(H2),paletteHue:eo(0)},b=rr(((K,q)=>{const se=Ad.parts.spectrum({dom:{tag:"div",classes:[q("hue-slider-spectrum")],attributes:{role:"presentation"}}}),W=Ad.parts.thumb({dom:{tag:"div",classes:[q("hue-slider-thumb")],attributes:{role:"presentation"}}});return Ad.sketch({dom:{tag:"div",classes:[q("hue-slider")],attributes:{role:"slider","aria-valuemin":0,"aria-valuemax":360,"aria-valuenow":120}},rounded:!1,model:{mode:"y",getInitialValue:ne(0)},components:[se,W],sliderBehaviours:ct([Co.config({})]),onChange:(Z,Y,oe)=>{uo(Z.element,"aria-valuenow",Math.floor(360-3.6*oe)),Zt(Z,TC,{value:oe})}})})(0,s)),y=rr(f.sketch({})),w=rr(u.sketch({})),E=(K,q,se)=>{y.getOpt(K).each(W=>{f.setHue(W,se)})},_=(K,q)=>{w.getOpt(K).each(se=>{u.updateHex(se,q)})},O=(K,q,se)=>{b.getOpt(K).each(W=>{Ad.setValue(W,(Z=>100-Z/360*100)(se))})},L=(K,q)=>{y.getOpt(K).each(se=>{f.setThumb(se,q)})},I=(K,q,se,W)=>{((Z,Y)=>{const oe=A0(Z);p.paletteRgba.set(oe),p.paletteHue.set(Y)})(q,se),Ot(W,Z=>{Z(K,q,se)})};return{uid:l.uid,dom:l.dom,components:[y.asSpec(),b.asSpec(),w.asSpec()],behaviours:ct([Vo("colour-picker-events",[Ue(Dy,(()=>{const K=[E,O,L];return(q,se)=>{const W=se.event.hex,Z=(Y=>j2(A0(Y)))(W);I(q,W,Z.hue,K)}})()),Ue(pf,(()=>{const K=[_];return(q,se)=>{const W=se.event.value,Z=p.paletteHue.get(),Y=z0(Z,W.x,100-W.y),oe=yA(Y);I(q,oe,Z,K)}})()),Ue(TC,(()=>{const K=[E,_];return(q,se)=>{const W=(be=>(100-be)/100*360)(se.event.value),Z=p.paletteRgba.get(),Y=j2(Z),oe=z0(W,Y.saturation,Y.value),re=yA(oe);I(q,re,W,K)}})())]),xn.config({find:K=>w.getOpt(K)}),Yt.config({mode:"acyclic"})])}}}),gm=()=>xn.config({find:T.some}),RC=n=>xn.config({find:s=>Ln(s.element,n).bind(i=>s.getSystem().getByDom(i).toOptional())}),gz=to([Ae("preprocess",Et),Ae("postprocess",Et)]),hz=(n,s)=>{const i=ia("RepresentingConfigs.memento processors",gz,s);return Ee.config({store:{mode:"manual",getValue:l=>{const u=n.get(l),f=Ee.getValue(u);return i.postprocess(f)},setValue:(l,u)=>{const f=i.preprocess(u),p=n.get(l);Ee.setValue(p,f)}}})},Zh=(n,s,i)=>Ee.config({store:{mode:"manual",...n.map(l=>({initialValue:l})).getOr({}),getValue:s,setValue:i}}),bz=(n,s,i)=>Zh(n,l=>s(l.element),(l,u)=>i(l.element,u)),Rk=n=>Ee.config({store:{mode:"memory",initialValue:n}}),i6={"colorcustom.rgb.red.label":"R","colorcustom.rgb.red.description":"Red component","colorcustom.rgb.green.label":"G","colorcustom.rgb.green.description":"Green component","colorcustom.rgb.blue.label":"B","colorcustom.rgb.blue.description":"Blue component","colorcustom.rgb.hex.label":"#","colorcustom.rgb.hex.description":"Hex color code","colorcustom.rgb.range":"Range 0 to 255","aria.color.picker":"Color Picker","aria.input.invalid":"Invalid input"};var l6=tinymce.util.Tools.resolve("tinymce.Resource");const yz=n=>ro(n,"init");var hm=tinymce.util.Tools.resolve("tinymce.util.Tools");const Nk=(n,s)=>{let i=null;const l=()=>{Rn(i)||(clearTimeout(i),i=null)};return{cancel:l,throttle:(...u)=>{l(),i=setTimeout(()=>{i=null,n.apply(null,u)},s)}}},NC=Pt("alloy-fake-before-tabstop"),Mk=Pt("alloy-fake-after-tabstop"),My=n=>({dom:{tag:"div",styles:{width:"1px",height:"1px",outline:"none"},attributes:{tabindex:"0"},classes:n},behaviours:ct([Co.config({ignore:!0}),Tr.config({})])}),MC=(n,s)=>({dom:{tag:"div",classes:["tox-navobj",...n.getOr([])]},components:[My([NC]),s,My([Mk])],behaviours:ct([RC(1)])}),vz=(n,s)=>{Zt(n,Ht(),{raw:{which:9,shiftKey:s}})},c6=(n,s)=>{const i=s.element;Zo(i,NC)?vz(n,!0):Zo(i,Mk)&&vz(n,!1)},By=n=>M0(n,["."+NC,"."+Mk].join(","),Le),Bk=Pt("update-dialog"),xz=Pt("update-title"),BC=Pt("update-body"),IC=Pt("update-footer"),LC=Pt("body-send-message"),F0=Pt("dialog-focus-shifted"),PC=Ja().browser,H0=PC.isSafari(),kz=PC.isFirefox(),Ik=H0||kz,FC=PC.isChromium(),wz=({scrollTop:n,scrollHeight:s,clientHeight:i})=>Math.ceil(n)+i>=s,HC=(n,s)=>n.scrollTo(0,s==="bottom"?99999999:s),$C=(n,s,i)=>{const l=n.dom;T.from(l.contentDocument).fold(i,u=>{let f=0;const p=((y,w)=>{const E=y.body;return T.from(!/^<!DOCTYPE (html|HTML)/.test(w)&&(!FC&&!H0||It(E)&&(E.scrollTop!==0||Math.abs(E.scrollHeight-E.clientHeight)>1))?E:y.documentElement)})(u,s).map(y=>(f=y.scrollTop,y)).forall(wz),b=()=>{const y=l.contentWindow;It(y)&&(p?HC(y,"bottom"):!p&&Ik&&f!==0&&HC(y,f))};H0&&l.addEventListener("load",b,{once:!0}),u.open(),u.write(s),u.close(),H0||b()})},d6=Bo(Ik,H0?500:200).map(n=>((s,i)=>{let l=null,u=null;return{cancel:()=>{Rn(l)||(clearTimeout(l),l=null,u=null)},throttle:(...f)=>{u=f,Rn(l)&&(l=setTimeout(()=>{const p=u;l=null,u=null,s.apply(null,p)},i))}}})($C,n)),Lk=Pt("toolbar.button.execute"),Wh=Pt("common-button-display-events"),VC={[va()]:["disabling","alloy.base.behaviour","toggling","toolbar-button-events","tooltipping"],[Qi()]:["toolbar-button-events",Wh],[si()]:["toolbar-button-events","dropdown-events","tooltipping"],[j()]:["focusing","alloy.base.behaviour",Wh]},Pk=n=>mo(n.element,"width",ur(n.element,"width")),Tg=(n,s,i)=>Sd(n,{tag:"span",classes:["tox-icon","tox-tbtn__icon-wrap"],behaviours:i},s),jC=(n,s)=>Tg(n,s,[]),bm=(n,s)=>Tg(n,s,[po.config({})]),$0=(n,s,i)=>({dom:{tag:"span",classes:[`${s}__select-label`]},components:[zr(i.translate(n))],behaviours:ct([po.config({})])}),nu=Pt("update-menu-text"),Og=Pt("update-menu-icon"),Fk=(n,s,i,l)=>{const u=eo(ut),f=n.text.map(I=>rr($0(I,s,i.providers))),p=n.icon.map(I=>rr(bm(I,i.providers.icons))),b=(I,K)=>{const q=Ee.getValue(I);return Co.focus(q),Zt(q,"keydown",{raw:K.event.raw}),Ed.close(q),T.some(!0)},y=n.role.fold(()=>({}),I=>({role:I})),w=n.ariaLabel.fold(()=>({}),I=>({"aria-label":i.providers.translate(I)})),E=Sd("chevron-down",{tag:"div",classes:[`${s}__select-chevron`]},i.providers.icons),_=Pt("common-button-display-events"),O="dropdown-events";return rr(Ed.sketch({...n.uid?{uid:n.uid}:{},...y,dom:{tag:"button",classes:[s,`${s}--select`].concat(nt(n.classes,I=>`${s}--${I}`)),attributes:{...w,...It(l)?{"data-mce-name":l}:{}}},components:vy([p.map(I=>I.asSpec()),f.map(I=>I.asSpec()),T.some(E)]),matchWidth:!0,useMinWidth:!0,onOpen:(I,K,q)=>{n.searchable&&(se=>{VE(se).each(W=>Co.focus(W))})(q)},dropdownBehaviours:ct([...n.dropdownBehaviours,Ai(()=>n.disabled||i.providers.isDisabled()),Ra(),Uh.config({}),po.config({}),...n.tooltip.map(I=>Ui.config(i.providers.tooltips.getConfig({tooltipText:i.providers.translate(I)}))).toArray(),Vo(O,[yg(n,u),pp(n,u)]),Vo(_,[Ar((I,K)=>Pk(I))]),Vo("menubutton-update-display-text",[Ue(nu,(I,K)=>{f.bind(q=>q.getOpt(I)).each(q=>{po.set(q,[zr(i.providers.translate(K.event.text))])})}),Ue(Og,(I,K)=>{p.bind(q=>q.getOpt(I)).each(q=>{po.set(q,[bm(K.event.icon,i.providers.icons)])})})])]),eventOrder:Ir(VC,{[j()]:["focusing","alloy.base.behaviour","item-type-events","normal-dropdown-events"],[Qi()]:["toolbar-button-events",Ui.name(),O,_]}),sandboxBehaviours:ct([Yt.config({mode:"special",onLeft:b,onRight:b}),Vo("dropdown-sandbox-events",[Ue(FE,(I,K)=>{(q=>{const se=Ee.getValue(q),W=g0(q).map(jE);Ed.refetch(se).get(()=>{const Z=Us.getCoupled(se,"sandbox");W.each(Y=>g0(Z).each(oe=>((re,be)=>{Ee.setValue(re,be.fetchPattern),re.element.dom.selectionStart=be.selectionStart,re.element.dom.selectionEnd=be.selectionEnd})(oe,Y)))})})(I),K.stop()}),Ue(HE,(I,K)=>{((q,se)=>{(W=>h.getState(W).bind(Wn.getHighlighted).bind(Wn.getHighlighted))(q).each(W=>{((Z,Y,oe,re)=>{const be={...re,target:Y};Z.getSystem().triggerEvent(oe,Y,be)})(q,W.element,se.event.eventType,se.event.interactionEvent)})})(I,K),K.stop()})])]),lazySink:i.getSink,toggleClass:`${s}--active`,parts:{menu:{...Px(0,n.columns,n.presets),fakeFocus:n.searchable,onHighlightItem:RA,onCollapseMenu:(I,K,q)=>{Wn.getHighlighted(q).each(se=>{RA(I,q,se)})},onDehighlightItem:Cg}},getAnchorOverrides:()=>({maxHeightFunction:(I,K)=>{_1()(I,K-10)}}),fetch:I=>wg(dt(n.fetch,I))})).asSpec()},UC=n=>n.type==="separator",ZC={type:"separator"},WC=(n,s)=>{const i=((l,u)=>{const f=Ao(l,(p,b)=>(y=>So(y))(b)?b===""?p:b==="|"?p.length>0&&!UC(p[p.length-1])?p.concat([ZC]):p:ro(u,b.toLowerCase())?p.concat([u[b.toLowerCase()]]):p:p.concat([b]),[]);return f.length>0&&UC(f[f.length-1])&&f.pop(),f})(So(n)?n.split(" "):n,s);return fn(i,(l,u)=>{if((f=>ro(f,"getSubmenuItems"))(u)){const f=(b=>{const y=lt(b,"value").getOrThunk(()=>Pt("generated-menu-item"));return Ir({value:y},b)})(u),p=((b,y)=>{const w=b.getSubmenuItems(),E=WC(w,y);return{item:b,menus:Ir(E.menus,{[b.value]:E.items}),expansions:Ir(E.expansions,{[b.value]:b.value})}})(f,s);return{menus:Ir(l.menus,p.menus),items:[p.item,...l.items],expansions:Ir(l.expansions,p.expansions)}}return{...l,items:[u,...l.items]}},{menus:{},expansions:{},items:[]})},Iy=(n,s,i,l)=>{const u=Pt("primary-menu"),f=WC(n,i.shared.providers.menuItems());if(f.items.length===0)return T.none();const p=(_=>_.search.fold(()=>({searchMode:"no-search"}),O=>({searchMode:"search-with-field",placeholder:O.placeholder})))(l),b=oC(u,f.items,s,i,l.isHorizontalMenu,p),y=(_=>_.search.fold(()=>({searchMode:"no-search"}),O=>({searchMode:"search-with-results"})))(l),w=Mn(f.menus,(_,O)=>oC(O,_,s,i,!1,y)),E=Ir(w,Xi(u,b));return T.from(cp.tieredData(u,E,f.expansions))},Hk=n=>!ro(n,"items"),qC="data-value",GC=(n,s,i,l)=>nt(i,u=>Hk(u)?{type:"togglemenuitem",text:u.text,value:u.value,active:u.value===l,onAction:()=>{Ee.setValue(n,u.value),Zt(n,Qc,{name:s}),Co.focus(n)}}:{type:"nestedmenuitem",text:u.text,getSubmenuItems:()=>GC(n,s,u.items,l)}),$k=(n,s)=>fo(n,i=>Hk(i)?Bo(i.value===s,i):$k(i.items,s)),u6=vd({name:"HtmlSelect",configFields:[Ze("options"),xt("selectBehaviours",[Co,Ee]),Ae("selectClasses",[]),Ae("selectAttributes",{}),wn("data")],factory:(n,s)=>{const i=nt(n.options,u=>({dom:{tag:"option",value:u.value,innerHtml:u.text}})),l=n.data.map(u=>Xi("initialValue",u)).getOr({});return{uid:n.uid,dom:{tag:"select",classes:n.selectClasses,attributes:n.selectAttributes},components:i,behaviours:Ut(n.selectBehaviours,[Co.config({}),Ee.config({store:{mode:"manual",getValue:u=>Yu(u.element),setValue:(u,f)=>{const p=it(n.options);$(n.options,b=>b.value===f).isSome()?Vm(u.element,f):u.element.dom.selectedIndex===-1&&f===""&&p.each(b=>Vm(u.element,b.value))},...l}})])}}}),_z=ne([Ae("field1Name","field1"),Ae("field2Name","field2"),Ku("onLockedChange"),yu(["lockClass"]),Ae("locked",!1),Dn("coupledFieldBehaviours",[xn,Ee])]),Cz=(n,s)=>gl({factory:qn,name:n,overrides:i=>({fieldBehaviours:ct([Vo("coupled-input-behaviour",[Ue(Fr(),l=>{((u,f,p)=>Nr(u,f,p).bind(xn.getCurrent))(l,i,s).each(u=>{Nr(l,i,"lock").each(f=>{ko.isOn(f)&&i.onLockedChange(l,u,f)})})})])])})}),f6=ne([Cz("field1","field2"),Cz("field2","field1"),gl({factory:ji,schema:[Ze("dom")],name:"lock",overrides:n=>({buttonBehaviours:ct([ko.config({selected:n.locked,toggleClass:n.markers.lockClass,aria:{mode:"pressed"}})])})})]),zd=Vl({name:"FormCoupledInputs",configFields:_z(),partFields:f6(),factory:(n,s,i,l)=>({uid:n.uid,dom:n.dom,components:s,behaviours:Gt(n.coupledFieldBehaviours,[xn.config({find:T.some}),Ee.config({store:{mode:"manual",getValue:u=>{const f=k_(u,n,["field1","field2"]);return{[n.field1Name]:Ee.getValue(f.field1()),[n.field2Name]:Ee.getValue(f.field2())}},setValue:(u,f)=>{const p=k_(u,n,["field1","field2"]);Po(f,n.field1Name)&&Ee.setValue(p.field1(),f[n.field1Name]),Po(f,n.field2Name)&&Ee.setValue(p.field2(),f[n.field2Name])}}})]),apis:{getField1:u=>Nr(u,n,"field1"),getField2:u=>Nr(u,n,"field2"),getLock:u=>Nr(u,n,"lock")}}),apis:{getField1:(n,s)=>n.getField1(s),getField2:(n,s)=>n.getField2(s),getLock:(n,s)=>n.getLock(s)}}),KC=n=>{const s=/^\s*(\d+(?:\.\d+)?)\s*(|cm|mm|in|px|pt|pc|em|ex|ch|rem|vw|vh|vmin|vmax|%)\s*$/.exec(n);if(s!==null){const i=parseFloat(s[1]),l=s[2];return qo.value({value:i,unit:l})}return qo.error(n)},YC=(n,s)=>{const i={"":96,px:96,pt:72,cm:2.54,pc:12,mm:25.4,in:1},l=u=>ro(i,u);return n.unit===s?T.some(n.value):l(n.unit)&&l(s)?i[n.unit]===i[s]?T.some(n.value):T.some(n.value/i[n.unit]*i[s]):T.none()},qh=n=>T.none(),XC=(n,s)=>{const i=n.label.map(E=>xp(E,s)),l=[zo.config({disabled:()=>n.disabled||s.isDisabled()}),Ra(),Yt.config({mode:"execution",useEnter:n.multiline!==!0,useControlEnter:n.multiline===!0,execute:E=>(jo(E,jh),T.some(!0))}),Vo("textfield-change",[Ue(Fr(),(E,_)=>{Zt(E,Qc,{name:n.name})}),Ue(Mf(),(E,_)=>{Zt(E,Qc,{name:n.name})})]),Tr.config({})],u=n.validation.map(E=>mm.config({getRoot:_=>qr(_.element),invalidClass:"tox-invalid",validator:{validate:_=>{const O=Ee.getValue(_),L=E.validator(O);return yp(L===!0?qo.value(O):qo.error(L))},validateOnLoad:E.validateOnLoad}})).toArray(),f={...n.placeholder.fold(ne({}),E=>({placeholder:s.translate(E)})),...n.inputMode.fold(ne({}),E=>({inputmode:E}))},p=qn.parts.field({tag:n.multiline===!0?"textarea":"input",...n.data.map(E=>({data:E})).getOr({}),inputAttributes:f,inputClasses:[n.classname],inputBehaviours:ct(An([l,u])),selectOnFocus:!1,factory:mp}),b=n.multiline?{dom:{tag:"div",classes:["tox-textarea-wrap"]},components:[p]}:p,y=(n.flex?["tox-form__group--stretched"]:[]).concat(n.maximized?["tox-form-group--maximize"]:[]),w=[zo.config({disabled:()=>n.disabled||s.isDisabled(),onDisabled:E=>{qn.getField(E).each(zo.disable)},onEnabled:E=>{qn.getField(E).each(zo.enable)}}),Ra()];return vp(i,b,y,w)},V0=(n,s)=>s.getAnimationRoot.fold(()=>n.element,i=>i(n)),_p=n=>n.dimension.property,Gh=(n,s)=>n.dimension.getDimension(s),Vk=(n,s)=>{const i=V0(n,s);Cn(i,[s.shrinkingClass,s.growingClass])},JC=(n,s)=>{Io(n.element,s.openClass),$t(n.element,s.closedClass),mo(n.element,_p(s),"0px"),ql(n.element)},Ly=(n,s)=>{Io(n.element,s.closedClass),$t(n.element,s.openClass),sn(n.element,_p(s))},Sz=(n,s,i,l)=>{i.setCollapsed(),mo(n.element,_p(s),Gh(s,n.element)),Vk(n,s),JC(n,s),s.onStartShrink(n),s.onShrunk(n)},Ez=(n,s,i,l)=>{const u=l.getOrThunk(()=>Gh(s,n.element));i.setCollapsed(),mo(n.element,_p(s),u),ql(n.element);const f=V0(n,s);Io(f,s.growingClass),$t(f,s.shrinkingClass),JC(n,s),s.onStartShrink(n)},Az=(n,s,i)=>{const l=Gh(s,n.element);(l==="0px"?Sz:Ez)(n,s,i,T.some(l))},QC=(n,s,i)=>{const l=V0(n,s),u=Zo(l,s.shrinkingClass),f=Gh(s,n.element);Ly(n,s);const p=Gh(s,n.element);(u?()=>{mo(n.element,_p(s),f),ql(n.element)}:()=>{JC(n,s)})(),Io(l,s.shrinkingClass),$t(l,s.growingClass),Ly(n,s),mo(n.element,_p(s),p),i.setExpanded(),s.onStartGrow(n)},eS=(n,s,i)=>{const l=V0(n,s);return Zo(l,s.growingClass)===!0},zz=(n,s,i)=>{const l=V0(n,s);return Zo(l,s.shrinkingClass)===!0};var Tz=Object.freeze({__proto__:null,refresh:(n,s,i)=>{if(i.isExpanded()){sn(n.element,_p(s));const l=Gh(s,n.element);mo(n.element,_p(s),l)}},grow:(n,s,i)=>{i.isExpanded()||QC(n,s,i)},shrink:(n,s,i)=>{i.isExpanded()&&Az(n,s,i)},immediateShrink:(n,s,i)=>{i.isExpanded()&&Sz(n,s,i)},hasGrown:(n,s,i)=>i.isExpanded(),hasShrunk:(n,s,i)=>i.isCollapsed(),isGrowing:eS,isShrinking:zz,isTransitioning:(n,s,i)=>eS(n,s)||zz(n,s),toggleGrow:(n,s,i)=>{(i.isExpanded()?Az:QC)(n,s,i)},disableTransitions:Vk,immediateGrow:(n,s,i)=>{i.isExpanded()||(Ly(n,s),mo(n.element,_p(s),Gh(s,n.element)),Vk(n,s),i.setExpanded(),s.onStartGrow(n),s.onGrown(n))}}),Oz=Object.freeze({__proto__:null,exhibit:(n,s,i)=>{const l=s.expanded;return $s(l?{classes:[s.openClass],styles:{}}:{classes:[s.closedClass],styles:Xi(s.dimension.property,"0px")})},events:(n,s)=>_n([Wu(Nf(),(i,l)=>{l.event.raw.propertyName===n.dimension.property&&(Vk(i,n),s.isExpanded()&&sn(i.element,n.dimension.property),(s.isExpanded()?n.onGrown:n.onShrunk)(i))})])}),Dz=[Ze("closedClass"),Ze("openClass"),Ze("shrinkingClass"),Ze("growingClass"),wn("getAnimationRoot"),vn("onShrunk"),vn("onStartShrink"),vn("onGrown"),vn("onStartGrow"),Ae("expanded",!1),ya("dimension",xs("property",{width:[bn("property","width"),bn("getDimension",n=>Uo(n)+"px")],height:[bn("property","height"),bn("getDimension",n=>ke(n)+"px")]}))];const oc=ks({fields:Dz,name:"sliding",active:Oz,apis:Tz,state:Object.freeze({__proto__:null,init:n=>{const s=eo(n.expanded);return ki({isExpanded:()=>s.get()===!0,isCollapsed:()=>s.get()===!1,setCollapsed:dt(s.set,!1),setExpanded:dt(s.set,!0),readState:()=>"expanded: "+s.get()})}})}),Rz=n=>({isEnabled:()=>!zo.isDisabled(n),setEnabled:s=>zo.set(n,!s),setActive:s=>{const i=n.element;s?($t(i,"tox-tbtn--enabled"),uo(i,"aria-pressed",!0)):(Io(i,"tox-tbtn--enabled"),Er(i,"aria-pressed"))},isActive:()=>Zo(n.element,"tox-tbtn--enabled"),setText:s=>{Zt(n,nu,{text:s})},setIcon:s=>Zt(n,Og,{icon:s})}),j0=(n,s,i,l,u=!0,f)=>Fk({text:n.text,icon:n.icon,tooltip:n.tooltip,ariaLabel:n.tooltip,searchable:n.search.isSome(),role:l,fetch:(p,b)=>{const y={pattern:n.search.isSome()?NN(p):""};n.fetch(w=>{b(Iy(w,uf.CLOSE_ON_EXECUTE,i,{isHorizontalMenu:!1,search:n.search}))},y,Rz(p))},onSetup:n.onSetup,getApi:Rz,columns:1,presets:"normal",classes:[],dropdownBehaviours:[...u?[Tr.config({})]:[]]},s,i.shared,f),m6=(n,s,i)=>{const l=f=>p=>{const b=!p.isActive();p.setActive(b),f.storage.set(b),i.shared.getSink().each(y=>{s().getOpt(y).each(w=>{Uc(w.element),Zt(w,fm,{name:f.name,value:f.storage.get()})})})},u=f=>p=>{p.setActive(f.storage.get())};return f=>{f(nt(n,p=>{const b=p.text.fold(()=>({}),y=>({text:y}));return{type:p.type,active:!1,...b,onAction:l(p),onSetup:u(p)}}))}},Nz=n=>({dom:{tag:"span",classes:["tox-tree__label"],attributes:{"aria-label":n}},components:[zr(n)]}),tS=Pt("leaf-label-event-id"),jk=({leaf:n,onLeafAction:s,visible:i,treeId:l,selectedId:u,backstage:f})=>{const p=n.menu.map(y=>j0(y,"tox-mbtn",f,T.none(),i)),b=[Nz(n.title)];return p.each(y=>b.push(y)),ji.sketch({dom:{tag:"div",classes:["tox-tree--leaf__label","tox-trbtn"].concat(i?["tox-tree--leaf__label--visible"]:[])},components:b,role:"treeitem",action:y=>{s(n.id),y.getSystem().broadcastOn([`update-active-item-${l}`],{value:n.id})},eventOrder:{[Ht()]:[tS,"keying"]},buttonBehaviours:ct([...i?[Tr.config({})]:[],ko.config({toggleClass:"tox-trbtn--enabled",toggleOnExecute:!1,aria:{mode:"selected"}}),Ci.config({channels:{[`update-active-item-${l}`]:{onReceive:(y,w)=>{(w.value===n.id?ko.on:ko.off)(y)}}}}),Vo(tS,[Ar((y,w)=>{u.each(E=>{(E===n.id?ko.on:ko.off)(y)})}),Ue(Ht(),(y,w)=>{const E=w.event.raw.code==="ArrowLeft",_=w.event.raw.code==="ArrowRight";E?(xu(y.element,".tox-tree--directory").each(O=>{y.getSystem().getByDom(O).each(L=>{Ab(O,".tox-tree--directory__label").each(I=>{L.getSystem().getByDom(I).each(Co.focus)})})}),w.stop()):_&&w.stop()})])])})},Mz=Pt("directory-label-event-id"),p6=({directory:n,visible:s,noChildren:i,backstage:l})=>{const u=n.menu.map(w=>j0(w,"tox-mbtn",l,T.none())),f=[{dom:{tag:"div",classes:["tox-chevron"]},components:[(p="chevron-right",b=l.shared.providers.icons,((w,E,_)=>Sd(w,{tag:"span",classes:["tox-tree__icon-wrap","tox-icon"],behaviours:[]},E))(p,b))]},Nz(n.title)];var p,b;u.each(w=>{f.push(w)});const y=w=>{xu(w.element,".tox-tree--directory").each(E=>{w.getSystem().getByDom(E).each(_=>{const O=!ko.isOn(_);ko.toggle(_),Zt(w,"expand-tree-node",{expanded:O,node:n.id})})})};return ji.sketch({dom:{tag:"div",classes:["tox-tree--directory__label","tox-trbtn"].concat(s?["tox-tree--directory__label--visible"]:[])},components:f,action:y,eventOrder:{[Ht()]:[Mz,"keying"]},buttonBehaviours:ct([...s?[Tr.config({})]:[],Vo(Mz,[Ue(Ht(),(w,E)=>{const _=E.event.raw.code==="ArrowRight",O=E.event.raw.code==="ArrowLeft";_&&i&&E.stop(),(_||O)&&xu(w.element,".tox-tree--directory").each(L=>{w.getSystem().getByDom(L).each(I=>{!ko.isOn(I)&&_||ko.isOn(I)&&O?(y(w),E.stop()):O&&!ko.isOn(I)&&(xu(I.element,".tox-tree--directory").each(K=>{Ab(K,".tox-tree--directory__label").each(q=>{I.getSystem().getByDom(q).each(Co.focus)})}),E.stop())})})})])])})},g6=({children:n,onLeafAction:s,visible:i,treeId:l,expandedIds:u,selectedId:f,backstage:p})=>({dom:{tag:"div",classes:["tox-tree--directory__children"]},components:n.map(b=>b.type==="leaf"?jk({leaf:b,selectedId:f,onLeafAction:s,visible:i,treeId:l,backstage:p}):oS({directory:b,expandedIds:u,selectedId:f,onLeafAction:s,labelTabstopping:i,treeId:l,backstage:p})),behaviours:ct([oc.config({dimension:{property:"height"},closedClass:"tox-tree--directory__children--closed",openClass:"tox-tree--directory__children--open",growingClass:"tox-tree--directory__children--growing",shrinkingClass:"tox-tree--directory__children--shrinking",expanded:i}),po.config({})])}),h6=Pt("directory-event-id"),oS=({directory:n,onLeafAction:s,labelTabstopping:i,treeId:l,backstage:u,expandedIds:f,selectedId:p})=>{const{children:b}=n,y=eo(f),w=f.includes(n.id);return{dom:{tag:"div",classes:["tox-tree--directory"],attributes:{role:"treeitem"}},components:[p6({directory:n,visible:i,noChildren:n.children.length===0,backstage:u}),g6({children:b,expandedIds:f,selectedId:p,onLeafAction:s,visible:w,treeId:l,backstage:u})],behaviours:ct([Vo(h6,[Ar((E,_)=>{ko.set(E,w)}),Ue("expand-tree-node",(E,_)=>{const{expanded:O,node:L}=_.event;y.set(O?[...y.get(),L]:y.get().filter(I=>I!==L))})]),ko.config({...n.children.length>0?{aria:{mode:"expanded"}}:{},toggleClass:"tox-tree--directory--expanded",onToggled:(E,_)=>{const O=E.components()[1],L=(I=_,b.map(K=>K.type==="leaf"?jk({leaf:K,selectedId:p,onLeafAction:s,visible:I,treeId:l,backstage:u}):oS({directory:K,expandedIds:y.get(),selectedId:p,onLeafAction:s,labelTabstopping:I,treeId:l,backstage:u})));var I;_?oc.grow(O):oc.shrink(O),po.set(O,L)}})])}},b6=Pt("tree-event-id");var y6=Object.freeze({__proto__:null,events:(n,s)=>{const i=n.stream.streams.setup(n,s);return _n([Ue(n.event,i),gd(()=>s.cancel())].concat(n.cancelEvent.map(l=>[Ue(l,()=>s.cancel())]).getOr([])))}});const Uk=n=>{const s=eo(null);return ki({readState:()=>({timer:s.get()!==null?"set":"unset"}),setTimer:i=>{s.set(i)},cancel:()=>{const i=s.get();i!==null&&i.cancel()}})};var Bz=Object.freeze({__proto__:null,throttle:Uk,init:n=>n.stream.streams.state(n)}),v6=[ya("stream",xs("mode",{throttle:[Ze("delay"),Ae("stopEvent",!0),bn("streams",{setup:(n,s)=>{const i=n.stream,l=Nk(n.onStream,i.delay);return s.setTimer(l),(u,f)=>{l.throttle(u,f),i.stopEvent&&f.stop()}},state:Uk})]})),Ae("event","input"),wn("cancelEvent"),Ku("onStream")];const nS=ks({fields:v6,name:"streaming",active:y6,state:Bz}),U0=(n,s,i)=>{const l=Ee.getValue(i);Ee.setValue(s,l),Lz(s)},Iz=(n,s)=>{const i=n.element,l=Yu(i),u=i.dom;hs(i,"type")!=="number"&&s(u,l)},Lz=n=>{Iz(n,(s,i)=>s.setSelectionRange(i.length,i.length))},Zk=ne("alloy.typeahead.itemexecute"),Pz=ne([wn("lazySink"),Ze("fetch"),Ae("minChars",5),Ae("responseTime",1e3),vn("onOpen"),Ae("getHotspot",T.some),Ae("getAnchorOverrides",ne({})),Ae("layouts",T.none()),Ae("eventOrder",{}),fr("model",{},[Ae("getDisplayText",n=>n.meta!==void 0&&n.meta.text!==void 0?n.meta.text:n.value),Ae("selectsOver",!0),Ae("populateFromBrowse",!0)]),vn("onSetValue"),Fl("onExecute"),vn("onItemExecute"),Ae("inputClasses",[]),Ae("inputAttributes",{}),Ae("inputStyles",{}),Ae("matchWidth",!0),Ae("useMinWidth",!1),Ae("dismissOnBlur",!0),yu(["openClass"]),wn("initialData"),xt("typeaheadBehaviours",[Co,Ee,nS,Yt,ko,Us]),ba("lazyTypeaheadComp",()=>eo(T.none)),ba("previewing",()=>eo(!0))].concat(eN()).concat(tC())),Fz=ne([Au({schema:[xa()],name:"menu",overrides:n=>({fakeFocus:!0,onHighlightItem:(s,i,l)=>{n.previewing.get()?n.lazyTypeaheadComp.get().each(u=>{((f,p,b)=>{if(f.selectsOver){const y=Ee.getValue(p),w=f.getDisplayText(y),E=Ee.getValue(b);return f.getDisplayText(E).indexOf(w)===0?T.some(()=>{U0(0,p,b),((_,O)=>{Iz(_,(L,I)=>L.setSelectionRange(O,I.length))})(p,w.length)}):T.none()}return T.none()})(n.model,u,l).fold(()=>{n.model.selectsOver?(Wn.dehighlight(i,l),n.previewing.set(!0)):n.previewing.set(!1)},f=>{f(),n.previewing.set(!1)})}):n.lazyTypeaheadComp.get().each(u=>{n.model.populateFromBrowse&&U0(n.model,u,l),ls(l.element,"id").each(f=>uo(u.element,"aria-activedescendant",f))})},onExecute:(s,i)=>n.lazyTypeaheadComp.get().map(l=>(Zt(l,Zk(),{item:i}),!0)),onHover:(s,i)=>{n.previewing.set(!1),n.lazyTypeaheadComp.get().each(l=>{n.model.populateFromBrowse&&U0(n.model,l,i)})}})})]),x6=Vl({name:"Typeahead",configFields:Pz(),partFields:Fz(),factory:(n,s,i,l)=>{const u=(_,O,L)=>{n.previewing.set(!1);const I=Us.getCoupled(_,"sandbox");if(h.isOpen(I))xn.getCurrent(I).each(K=>{Wn.getHighlighted(K).fold(()=>{L(K)},()=>{fc(I,K.element,"keydown",O)})});else{const K=q=>{xn.getCurrent(q).each(L)};N0(n,p(_),_,I,l,K,nl.HighlightMenuAndItem).get(ut)}},f=tN(n),p=_=>O=>O.map(L=>{const I=ps(L.menus),K=mn(I,q=>kn(q.items,se=>se.type==="item"));return Ee.getState(_).update(nt(K,q=>q.data)),L}),b=_=>xn.getCurrent(_),y="typeaheadevents",w=[Co.config({}),Ee.config({onSetValue:n.onSetValue,store:{mode:"dataset",getDataKey:_=>Yu(_.element),getFallbackEntry:_=>({value:_,meta:{}}),setValue:(_,O)=>{Vm(_.element,n.model.getDisplayText(O))},...n.initialData.map(_=>Xi("initialValue",_)).getOr({})}}),nS.config({stream:{mode:"throttle",delay:n.responseTime,stopEvent:!1},onStream:(_,O)=>{const L=Us.getCoupled(_,"sandbox");if(Co.isFocused(_)&&Yu(_.element).length>=n.minChars){const I=b(L).bind(q=>Wn.getHighlighted(q).map(Ee.getValue));n.previewing.set(!0);const K=q=>{b(L).each(se=>{I.fold(()=>{n.model.selectsOver&&Wn.highlightFirst(se)},W=>{Wn.highlightBy(se,Z=>Ee.getValue(Z).value===W.value),Wn.getHighlighted(se).orThunk(()=>(Wn.highlightFirst(se),T.none()))})})};N0(n,p(_),_,L,l,K,nl.HighlightJustMenu).get(ut)}},cancelEvent:Pp()}),Yt.config({mode:"special",onDown:(_,O)=>(u(_,O,Wn.highlightFirst),T.some(!0)),onEscape:_=>{const O=Us.getCoupled(_,"sandbox");return h.isOpen(O)?(h.close(O),T.some(!0)):T.none()},onUp:(_,O)=>(u(_,O,Wn.highlightLast),T.some(!0)),onEnter:_=>{const O=Us.getCoupled(_,"sandbox"),L=h.isOpen(O);if(L&&!n.previewing.get())return b(O).bind(I=>Wn.getHighlighted(I)).map(I=>(Zt(_,Zk(),{item:I}),!0));{const I=Ee.getValue(_);return jo(_,Pp()),n.onExecute(O,_,I),L&&h.close(O),T.some(!0)}}}),ko.config({toggleClass:n.markers.openClass,aria:{mode:"expanded"}}),Us.config({others:{sandbox:_=>eC(n,_,{onOpen:()=>ko.on(_),onClose:()=>{n.lazyTypeaheadComp.get().each(O=>Er(O.element,"aria-activedescendant")),ko.off(_)}})}}),Vo(y,[Ar(_=>{n.lazyTypeaheadComp.set(T.some(_))}),gd(_=>{n.lazyTypeaheadComp.set(T.none())}),Lc(_=>{const O=ut;Q2(n,p(_),_,l,O,nl.HighlightMenuAndItem).get(ut)}),Ue(Zk(),(_,O)=>{const L=Us.getCoupled(_,"sandbox");U0(n.model,_,O.event.item),jo(_,Pp()),n.onItemExecute(_,L,O.event.item,Ee.getValue(_)),h.close(L),Lz(_)})].concat(n.dismissOnBlur?[Ue(Dc(),_=>{const O=Us.getCoupled(_,"sandbox");Hi(O.element).isNone()&&h.close(O)})]:[]))],E={[si()]:[Ee.name(),nS.name(),y],...n.eventOrder};return{uid:n.uid,dom:PE(Ir(n,{inputAttributes:{role:"combobox","aria-autocomplete":"list","aria-haspopup":"true"}})),behaviours:{...f,...Ut(n.typeaheadBehaviours,w)},eventOrder:E}}}),Kh=n=>({...n,toCached:()=>Kh(n.toCached()),bindFuture:s=>Kh(n.bind(i=>i.fold(l=>yp(qo.error(l)),l=>s(l)))),bindResult:s=>Kh(n.map(i=>i.bind(s))),mapResult:s=>Kh(n.map(i=>i.map(s))),mapError:s=>Kh(n.map(i=>i.mapError(s))),foldResult:(s,i)=>n.map(l=>l.fold(s,i)),withTimeout:(s,i)=>Kh(wg(l=>{let u=!1;const f=setTimeout(()=>{u=!0,l(qo.error(i()))},s);n.get(p=>{u||(clearTimeout(f),l(p))})}))}),k6=n=>Kh(wg(n)),Z0=(n,s,i=[],l,u,f,p)=>{const b=s.fold(()=>({}),E=>({action:E})),y={buttonBehaviours:ct([Ai(()=>!n.enabled||p.isDisabled()),Ra(),Tr.config({}),...f.map(E=>Ui.config(p.tooltips.getConfig({tooltipText:p.translate(E)}))).toArray(),Vo("button press",[Pf("click"),Pf("mousedown")])].concat(i)),eventOrder:{click:["button press","alloy.base.behaviour"],mousedown:["button press","alloy.base.behaviour"]},...b},w=Ir(y,{dom:l});return Ir(w,{components:u})},rS=(n,s,i,l=[],u)=>{const f={tag:"button",classes:["tox-tbtn"],attributes:{...n.tooltip.map(y=>({"aria-label":i.translate(y)})).getOr({}),"data-mce-name":u}},p=n.icon.map(y=>jC(y,i.icons)),b=vy([p]);return Z0(n,s,l,f,b,n.tooltip,i)},sS=n=>{switch(n){case"primary":return["tox-button"];case"toolbar":return["tox-tbtn"];default:return["tox-button","tox-button--secondary"]}},Hz=(n,s,i,l=[],u=[])=>{const f=i.translate(n.text),p=n.icon.map(_=>jC(_,i.icons)),b=[p.getOrThunk(()=>zr(f))],y=n.buttonType.getOr(n.primary||n.borderless?"primary":"secondary"),w={tag:"button",classes:[...sS(y),...p.isSome()?["tox-button--icon"]:[],...n.borderless?["tox-button--naked"]:[],...u],attributes:{"aria-label":f,"data-mce-name":n.text}},E=n.icon.map(ne(f));return Z0(n,s,l,w,b,E,i)},$z=(n,s,i,l=[],u=[])=>{const f=Hz(n,T.some(s),i,l,u);return ji.sketch(f)},Vz=(n,s)=>i=>{s==="custom"?Zt(i,fm,{name:n,value:{}}):s==="submit"?jo(i,jh):s==="cancel"?jo(i,Sg):console.error("Unknown button type: ",s)},Wk=(n,s,i)=>{if(((l,u)=>u==="menu")(0,s)){const l=()=>p,u=n,f={...n,type:"menubutton",search:T.none(),onSetup:b=>(b.setEnabled(n.enabled),ut),fetch:m6(u.items,l,i)},p=rr(j0(f,"tox-tbtn",i,T.none(),!0,n.text.or(n.tooltip).getOrUndefined()));return p.asSpec()}if(((l,u)=>u==="custom"||u==="cancel"||u==="submit")(0,s)){const l=Vz(n.name,s),u={...n,borderless:!1};return $z(u,l,i.shared.providers,[])}if(((l,u)=>u==="togglebutton")(0,s))return((l,u,f)=>{var p,b;const y=l.icon.map(Z=>bm(Z,u.icons)).map(rr),w=l.buttonType.getOr(l.primary?"primary":"secondary"),E={...l,name:(p=l.name)!==null&&p!==void 0?p:"",primary:w==="primary",tooltip:l.tooltip,enabled:(b=l.enabled)!==null&&b!==void 0&&b,borderless:!1},_=E.tooltip.or(l.text).map(Z=>({"aria-label":u.translate(Z)})).getOr({}),O=sS(w??"secondary"),L=l.icon.isSome()&&l.text.isSome(),I={tag:"button",classes:[...O.concat(l.icon.isSome()?["tox-button--icon"]:[]),...l.active?["tox-button--enabled"]:[],...L?["tox-button--icon-and-text"]:[]],attributes:{..._,...It(f)?{"data-mce-name":f}:{}}},K=u.translate(l.text.getOr("")),q=zr(K),se=[...vy([y.map(Z=>Z.asSpec())]),...l.text.isSome()?[q]:[]],W=Z0(E,T.some(Z=>{Zt(Z,fm,{name:l.name,value:{setIcon:Y=>{y.map(oe=>oe.getOpt(Z).each(re=>{po.set(re,[bm(Y,u.icons)])}))}}})}),[],I,se,l.tooltip,u);return ji.sketch(W)})(n,i.shared.providers,n.text.or(n.tooltip).getOrUndefined());throw console.error("Unknown footer button type: ",s),new Error("Unknown footer button type")},w6={type:"separator"},jz=n=>({type:"menuitem",value:n.url,text:n.title,meta:{attach:n.attach},onAction:ut}),qk=(n,s)=>({type:"menuitem",value:s,text:n,meta:{attach:void 0},onAction:ut}),Uz=(n,s)=>(i=>nt(i,jz))(((i,l)=>kn(l,u=>u.type===i))(n,s)),_6=n=>Uz("header",n.targets),C6=n=>Uz("anchor",n.targets),ed=n=>T.from(n.anchorTop).map(s=>qk("<top>",s)).toArray(),gf=n=>T.from(n.anchorBottom).map(s=>qk("<bottom>",s)).toArray(),aS=(n,s)=>{const i=n.toLowerCase();return kn(s,l=>{var u;const f=l.meta!==void 0&&l.meta.text!==void 0?l.meta.text:l.text,p=(u=l.value)!==null&&u!==void 0?u:"";return Ts(f.toLowerCase(),i)||Ts(p.toLowerCase(),i)})},Gk=Pt("aria-invalid"),iS=(n,s)=>{n.dom.checked=s},S6=n=>n.dom.checked,ja=n=>(s,i,l,u)=>lt(i,"name").fold(()=>n(i,u,T.none()),f=>s.field(f,n(i,u,lt(l,f)))),W0={bar:ja((n,s)=>((i,l)=>({dom:{tag:"div",classes:["tox-bar","tox-form__controls-h-stack"]},components:nt(i.items,l.interpreter)}))(n,s.shared)),collection:ja((n,s,i)=>PA(n,s.shared.providers,i)),alertbanner:ja((n,s)=>((i,l)=>{const u=TE(i.icon,l.icons);return Du.sketch({dom:{tag:"div",attributes:{role:"alert"},classes:["tox-notification","tox-notification--in",`tox-notification--${i.level}`]},components:[{dom:{tag:"div",classes:["tox-notification__icon"],innerHtml:i.url?void 0:u},components:i.url?[ji.sketch({dom:{tag:"button",classes:["tox-button","tox-button--naked","tox-button--icon"],innerHtml:u,attributes:{title:l.translate(i.iconTooltip)}},action:f=>Zt(f,fm,{name:"alert-banner",value:i.url}),buttonBehaviours:ct([Bx()])})]:void 0},{dom:{tag:"div",classes:["tox-notification__body"],innerHtml:l.translate(i.text)}}]})})(n,s.shared.providers)),input:ja((n,s,i)=>((l,u,f)=>XC({name:l.name,multiline:!1,label:l.label,inputMode:l.inputMode,placeholder:l.placeholder,flex:!1,disabled:!l.enabled,classname:"tox-textfield",validation:T.none(),maximized:l.maximized,data:f},u))(n,s.shared.providers,i)),textarea:ja((n,s,i)=>((l,u,f)=>XC({name:l.name,multiline:!0,label:l.label,inputMode:T.none(),placeholder:l.placeholder,flex:!0,disabled:!l.enabled,classname:"tox-textarea",validation:T.none(),maximized:l.maximized,data:f},u))(n,s.shared.providers,i)),label:ja((n,s)=>((i,l)=>{const u="tox-label";return{dom:{tag:"div",classes:["tox-form__group"]},components:[{dom:{tag:"label",classes:[u,...i.align==="center"?[`${u}--center`]:[],...i.align==="end"?[`${u}--end`]:[]]},components:[zr(l.providers.translate(i.label))]},...nt(i.items,l.interpreter)],behaviours:ct([gm(),po.config({}),(f=T.none(),bz(f,th,Pc)),Yt.config({mode:"acyclic"})])};var f})(n,s.shared)),iframe:(vT=(n,s,i)=>((l,u,f)=>{const p="tox-dialog__iframe",b=l.transparent?[]:[`${p}--opaque`],y=l.border?["tox-navobj-bordered"]:[],w={...l.label.map(L=>({title:L})).getOr({}),...f.map(L=>({srcdoc:L})).getOr({}),...l.sandboxed?{sandbox:"allow-scripts allow-same-origin"}:{}},E=((L,I)=>{const K=eo(L.getOr(""));return{getValue:q=>K.get(),setValue:(q,se)=>{if(K.get()!==se){const W=q.element,Z=()=>uo(W,"srcdoc",se);I?d6.fold(ne($C),Y=>Y.throttle)(W,se,Z):Z()}K.set(se)}}})(f,l.streamContent),_=l.label.map(L=>xp(L,u)),O=qn.parts.field({factory:{sketch:L=>MC(T.from(y),{uid:L.uid,dom:{tag:"iframe",attributes:w,classes:[p,...b]},behaviours:ct([Tr.config({}),Co.config({}),Zh(f,E.getValue,E.setValue),Ci.config({channels:{[F0]:{onReceive:(I,K)=>{K.newFocus.each(q=>{qr(I.element).each(se=>{(hn(I.element,q)?$t:Io)(se,"tox-navobj-bordered-focus")})})}}}})])})}});return vp(_,O,["tox-form__group--stretched"],[])})(n,s.shared.providers,i),(n,s,i,l)=>{const u=Ir(s,{source:"dynamic"});return ja(vT)(n,u,i,l)}),button:ja((n,s)=>((i,l)=>{const u=Vz(i.name,"custom");return f=T.none(),p=qn.parts.field({factory:ji,...Hz(i,T.some(u),l,[Rk(""),gm()])}),vp(f,p,[],[]);var f,p})(n,s.shared.providers)),checkbox:ja((n,s,i)=>((l,u,f)=>{const p=_=>(_.element.dom.click(),T.some(!0)),b=qn.parts.field({factory:{sketch:Et},dom:{tag:"input",classes:["tox-checkbox__input"],attributes:{type:"checkbox"}},behaviours:ct([gm(),zo.config({disabled:()=>!l.enabled||u.isDisabled(),onDisabled:_=>{qr(_.element).each(O=>$t(O,"tox-checkbox--disabled"))},onEnabled:_=>{qr(_.element).each(O=>Io(O,"tox-checkbox--disabled"))}}),Tr.config({}),Co.config({}),bz(f,S6,iS),Yt.config({mode:"special",onEnter:p,onSpace:p,stopSpaceKeyup:!0}),Vo("checkbox-events",[Ue($a(),(_,O)=>{Zt(_,Qc,{name:l.name})})])])}),y=qn.parts.label({dom:{tag:"span",classes:["tox-checkbox__label"]},components:[zr(u.translate(l.label))],behaviours:ct([Uh.config({})])}),w=_=>Sd(_==="checked"?"selected":"unselected",{tag:"span",classes:["tox-icon","tox-checkbox-icon__"+_]},u.icons),E=rr({dom:{tag:"div",classes:["tox-checkbox__icons"]},components:[w("checked"),w("unchecked")]});return qn.sketch({dom:{tag:"label",classes:["tox-checkbox"]},components:[b,E.asSpec(),y],fieldBehaviours:ct([zo.config({disabled:()=>!l.enabled||u.isDisabled()}),Ra()])})})(n,s.shared.providers,i)),colorinput:ja((n,s,i)=>((l,u,f,p)=>{const b=qn.parts.field({factory:mp,inputClasses:["tox-textfield"],data:p,onSetValue:_=>mm.run(_).get(ut),inputBehaviours:ct([zo.config({disabled:u.providers.isDisabled}),Ra(),Tr.config({}),mm.config({invalidClass:"tox-textbox-field-invalid",getRoot:_=>qr(_.element),notify:{onValid:_=>{const O=Ee.getValue(_);Zt(_,UA,{color:O})}},validator:{validateOnLoad:!1,validate:_=>{const O=Ee.getValue(_);if(O.length===0)return yp(qo.value(!0));{const L=_s("span");mo(L,"background-color",O);const I=cs(L,"background-color").fold(()=>qo.error("blah"),K=>qo.value(O));return yp(I)}}}})]),selectOnFocus:!1}),y=l.label.map(_=>xp(_,u.providers)),w=(_,O)=>{Zt(_,ZA,{value:O})},E=rr(((_,O)=>Ed.sketch({dom:_.dom,components:_.components,toggleClass:"mce-active",dropdownBehaviours:ct([Ai(O.providers.isDisabled),Ra(),Uh.config({}),Tr.config({})]),layouts:_.layouts,sandboxClasses:["tox-dialog__popups"],lazySink:O.getSink,fetch:L=>wg(I=>_.fetch(I)).map(I=>T.from(ik(Ir(G2(Pt("menu-value"),I,K=>{_.onItemAction(L,K)},_.columns,_.presets,uf.CLOSE_ON_EXECUTE,Le,O.providers),{movement:R0(_.columns,_.presets)})))),parts:{menu:Px(0,0,_.presets)}}))({dom:{tag:"span",attributes:{"aria-label":u.providers.translate("Color swatch")}},layouts:{onRtl:()=>[ws,ka,Xr],onLtr:()=>[ka,ws,Xr]},components:[],fetch:wA(f.getColors(l.storageKey),l.storageKey,f.hasCustomColors()),columns:f.getColorCols(l.storageKey),presets:"color",onItemAction:(_,O)=>{E.getOpt(_).each(L=>{O==="custom"?f.colorPicker(I=>{I.fold(()=>jo(L,WA),K=>{w(L,K),V2(l.storageKey,K)})},"#ffffff"):w(L,O==="remove"?"":O)})}},u));return qn.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:y.toArray().concat([{dom:{tag:"div",classes:["tox-color-input"]},components:[b,E.asSpec()]}]),fieldBehaviours:ct([Vo("form-field-events",[Ue(UA,(_,O)=>{E.getOpt(_).each(L=>{mo(L.element,"background-color",O.event.color)}),Zt(_,Qc,{name:l.name})}),Ue(ZA,(_,O)=>{qn.getField(_).each(L=>{Ee.setValue(L,O.event.value),xn.getCurrent(_).each(Co.focus)})}),Ue(WA,(_,O)=>{qn.getField(_).each(L=>{xn.getCurrent(_).each(Co.focus)})})])])})})(n,s.shared,s.colorinput,i)),colorpicker:ja((n,s,i)=>((l,u,f)=>{const p=w=>"tox-"+w,b=DC((w=>E=>So(E)?w.translate(i6[E]):w.translate(E))(u),p),y=rr(b.sketch({dom:{tag:"div",classes:[p("color-picker-container")],attributes:{role:"presentation"}},onValidHex:w=>{Zt(w,fm,{name:"hex-valid",value:!0})},onInvalidHex:w=>{Zt(w,fm,{name:"hex-valid",value:!1})}}));return{dom:{tag:"div"},components:[y.asSpec()],behaviours:ct([Zh(f,w=>{const E=y.get(w);return xn.getCurrent(E).bind(_=>Ee.getValue(_).hex).map(_=>"#"+Bn(_,"#")).getOr("")},(w,E)=>{const _=T.from(/^#([a-fA-F0-9]{3}(?:[a-fA-F0-9]{3})?)/.exec(E)).bind(L=>et(L,1)),O=y.get(w);xn.getCurrent(O).fold(()=>{console.log("Can not find form")},L=>{Ee.setValue(L,{hex:_.getOr("")}),Ry.getField(L,"hex").each(I=>{jo(I,Fr())})})}),gm()])}})(0,s.shared.providers,i)),dropzone:ja((n,s,i)=>((l,u,f)=>{const p=(I,K)=>{K.stop()},b=I=>(K,q)=>{Ot(I,se=>{se(K,q)})},y=(I,K)=>{var q;if(!zo.isDisabled(I)){const se=K.event.raw;E(I,(q=se.dataTransfer)===null||q===void 0?void 0:q.files)}},w=(I,K)=>{const q=K.event.raw.target;E(I,q.files)},E=(I,K)=>{K&&(Ee.setValue(I,((q,se)=>{const W=hm.explode(se.getOption("images_file_types"));return kn(Qt(q),Z=>Tt(W,Y=>Ba(Z.name.toLowerCase(),`.${Y.toLowerCase()}`)))})(K,u)),Zt(I,Qc,{name:l.name}))},_=rr({dom:{tag:"input",attributes:{type:"file",accept:"image/*"},styles:{display:"none"}},behaviours:ct([Vo("input-file-events",[Ic(xi()),Ic(Bm())])])}),O=l.label.map(I=>xp(I,u)),L=qn.parts.field({factory:{sketch:I=>({uid:I.uid,dom:{tag:"div",classes:["tox-dropzone-container"]},behaviours:ct([Rk(f.getOr([])),gm(),zo.config({}),ko.config({toggleClass:"dragenter",toggleOnExecute:!1}),Vo("dropzone-events",[Ue("dragenter",b([p,ko.toggle])),Ue("dragleave",b([p,ko.toggle])),Ue("dragover",p),Ue("drop",b([p,y])),Ue($a(),w)])]),components:[{dom:{tag:"div",classes:["tox-dropzone"],styles:{}},components:[{dom:{tag:"p"},components:[zr(u.translate("Drop an image here"))]},ji.sketch({dom:{tag:"button",styles:{position:"relative"},classes:["tox-button","tox-button--secondary"]},components:[zr(u.translate("Browse for an image")),_.asSpec()],action:K=>{_.get(K).element.dom.click()},buttonBehaviours:ct([Tr.config({}),Ai(u.isDisabled),Ra()])})]}]})}});return vp(O,L,["tox-form__group--stretched"],[])})(n,s.shared.providers,i)),grid:ja((n,s)=>((i,l)=>({dom:{tag:"div",classes:["tox-form__grid",`tox-form__grid--${i.columns}col`]},components:nt(i.items,l.interpreter)}))(n,s.shared)),listbox:ja((n,s,i)=>((l,u,f)=>{const p=u.shared.providers,b=f.bind(_=>$k(l.items,_)).orThunk(()=>it(l.items).filter(Hk)),y=l.label.map(_=>xp(_,p)),w=qn.parts.field({dom:{},factory:{sketch:_=>Fk({uid:_.uid,text:b.map(O=>O.text),icon:T.none(),tooltip:T.none(),role:T.none(),ariaLabel:l.label,fetch:(O,L)=>{const I=GC(O,l.name,l.items,Ee.getValue(O));L(Iy(I,uf.CLOSE_ON_EXECUTE,u,{isHorizontalMenu:!1,search:T.none()}))},onSetup:ne(ut),getApi:ne({}),columns:1,presets:"normal",classes:[],dropdownBehaviours:[Tr.config({}),Zh(b.map(O=>O.value),O=>hs(O.element,qC),(O,L)=>{$k(l.items,L).each(I=>{uo(O.element,qC,I.value),Zt(O,nu,{text:I.text})})})]},"tox-listbox",u.shared)}}),E={dom:{tag:"div",classes:["tox-listboxfield"]},components:[w]};return qn.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:An([y.toArray(),[E]]),fieldBehaviours:ct([zo.config({disabled:ne(!l.enabled),onDisabled:_=>{qn.getField(_).each(zo.disable)},onEnabled:_=>{qn.getField(_).each(zo.enable)}})])})})(n,s,i)),selectbox:ja((n,s,i)=>((l,u,f)=>{const p=nt(l.items,_=>({text:u.translate(_.text),value:_.value})),b=l.label.map(_=>xp(_,u)),y=qn.parts.field({dom:{},...f.map(_=>({data:_})).getOr({}),selectAttributes:{size:l.size},options:p,factory:u6,selectBehaviours:ct([zo.config({disabled:()=>!l.enabled||u.isDisabled()}),Tr.config({}),Vo("selectbox-change",[Ue($a(),(_,O)=>{Zt(_,Qc,{name:l.name})})])])}),w=l.size>1?T.none():T.some(Sd("chevron-down",{tag:"div",classes:["tox-selectfield__icon-js"]},u.icons)),E={dom:{tag:"div",classes:["tox-selectfield"]},components:An([[y],w.toArray()])};return qn.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:An([b.toArray(),[E]]),fieldBehaviours:ct([zo.config({disabled:()=>!l.enabled||u.isDisabled(),onDisabled:_=>{qn.getField(_).each(zo.disable)},onEnabled:_=>{qn.getField(_).each(zo.enable)}}),Ra()])})})(n,s.shared.providers,i)),sizeinput:ja((n,s)=>((i,l)=>{let u=qh;const f=Pt("ratio-event"),p=K=>Sd(K,{tag:"span",classes:["tox-icon","tox-lock-icon__"+K]},l.icons),b=i.label.getOr("Constrain proportions"),y=l.translate(b),w=zd.parts.lock({dom:{tag:"button",classes:["tox-lock","tox-button","tox-button--naked","tox-button--icon"],attributes:{"aria-label":y,"data-mce-name":b}},components:[p("lock"),p("unlock")],buttonBehaviours:ct([zo.config({disabled:()=>!i.enabled||l.isDisabled()}),Ra(),Tr.config({}),Ui.config(l.tooltips.getConfig({tooltipText:y}))])}),E=K=>({dom:{tag:"div",classes:["tox-form__group"]},components:K}),_=K=>qn.parts.field({factory:mp,inputClasses:["tox-textfield"],inputBehaviours:ct([zo.config({disabled:()=>!i.enabled||l.isDisabled()}),Ra(),Tr.config({}),Vo("size-input-events",[Ue(bo(),(q,se)=>{Zt(q,f,{isField1:K})}),Ue($a(),(q,se)=>{Zt(q,Qc,{name:i.name})})])]),selectOnFocus:!1}),O=K=>({dom:{tag:"label",classes:["tox-label"]},components:[zr(l.translate(K))]}),L=zd.parts.field1(E([qn.parts.label(O("Width")),_(!0)])),I=zd.parts.field2(E([qn.parts.label(O("Height")),_(!1)]));return zd.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:[{dom:{tag:"div",classes:["tox-form__controls-h-stack"]},components:[L,I,E([O(" "),w])]}],field1Name:"width",field2Name:"height",locked:!0,markers:{lockClass:"tox-locked"},onLockedChange:(K,q,se)=>{KC(Ee.getValue(K)).each(W=>{u(W).each(Z=>{Ee.setValue(q,(Y=>{const oe={"":0,px:0,pt:1,mm:1,pc:2,ex:2,em:2,ch:2,rem:2,cm:3,in:4,"%":4};let re=Y.value.toFixed((be=Y.unit)in oe?oe[be]:1);var be;return re.indexOf(".")!==-1&&(re=re.replace(/\.?0*$/,"")),re+Y.unit})(Z))})})},coupledFieldBehaviours:ct([zo.config({disabled:()=>!i.enabled||l.isDisabled(),onDisabled:K=>{zd.getField1(K).bind(qn.getField).each(zo.disable),zd.getField2(K).bind(qn.getField).each(zo.disable),zd.getLock(K).each(zo.disable)},onEnabled:K=>{zd.getField1(K).bind(qn.getField).each(zo.enable),zd.getField2(K).bind(qn.getField).each(zo.enable),zd.getLock(K).each(zo.enable)}}),Ra(),Vo("size-input-events2",[Ue(f,(K,q)=>{const se=q.event.isField1,W=se?zd.getField1(K):zd.getField2(K),Z=se?zd.getField2(K):zd.getField1(K),Y=W.map(Ee.getValue).getOr(""),oe=Z.map(Ee.getValue).getOr("");u=((re,be)=>{const Oe=KC(re).toOptional(),Ke=KC(be).toOptional();return st(Oe,Ke,(Je,at)=>YC(Je,at.unit).map(kt=>at.value/kt).map(kt=>{return Mt=kt,qt=at.unit,so=>YC(so,qt).map(Lo=>({value:Lo*Mt,unit:qt}));var Mt,qt}).getOr(qh)).getOr(qh)})(Y,oe)})])])})})(n,s.shared.providers)),slider:ja((n,s,i)=>((l,u,f)=>{const p=Ad.parts.label({dom:{tag:"label",classes:["tox-label"]},components:[zr(u.translate(l.label))]}),b=Ad.parts.spectrum({dom:{tag:"div",classes:["tox-slider__rail"],attributes:{role:"presentation"}}}),y=Ad.parts.thumb({dom:{tag:"div",classes:["tox-slider__handle"],attributes:{role:"presentation"}}});return Ad.sketch({dom:{tag:"div",classes:["tox-slider"],attributes:{role:"presentation"}},model:{mode:"x",minX:l.min,maxX:l.max,getInitialValue:ne(f.getOrThunk(()=>(Math.abs(l.max)-Math.abs(l.min))/2))},components:[p,b,y],sliderBehaviours:ct([gm(),Co.config({})]),onChoose:(w,E,_)=>{Zt(w,Qc,{name:l.name,value:_})}})})(n,s.shared.providers,i)),urlinput:ja((n,s,i)=>((l,u,f,p)=>{const b=u.shared.providers,y=W=>{const Z=Ee.getValue(W);f.addToHistory(Z.value,l.filetype)},w={...p.map(W=>({initialData:W})).getOr({}),dismissOnBlur:!0,inputClasses:["tox-textfield"],sandboxClasses:["tox-dialog__popups"],inputAttributes:{"aria-errormessage":Gk,type:"url"},minChars:0,responseTime:0,fetch:W=>{const Z=((oe,re,be)=>{var Oe,Ke;const Je=Ee.getValue(re),at=(Ke=(Oe=Je==null?void 0:Je.meta)===null||Oe===void 0?void 0:Oe.text)!==null&&Ke!==void 0?Ke:Je.value;return be.getLinkInformation().fold(()=>[],kt=>{const Mt=aS(at,(so=>nt(so,Lo=>qk(Lo,Lo)))(be.getHistory(oe)));return oe==="file"?(qt=[Mt,aS(at,_6(kt)),aS(at,An([ed(kt),C6(kt),gf(kt)]))],Ao(qt,(so,Lo)=>so.length===0||Lo.length===0?so.concat(Lo):so.concat(w6,Lo),[])):Mt;var qt})})(l.filetype,W,f),Y=Iy(Z,uf.BUBBLE_TO_SANDBOX,u,{isHorizontalMenu:!1,search:T.none()});return yp(Y)},getHotspot:W=>q.getOpt(W),onSetValue:(W,Z)=>{W.hasConfigured(mm)&&mm.run(W).get(ut)},typeaheadBehaviours:ct([...f.getValidationHandler().map(W=>mm.config({getRoot:Z=>qr(Z.element),invalidClass:"tox-control-wrap--status-invalid",notify:{onInvalid:(Z,Y)=>{O.getOpt(Z).each(oe=>{uo(oe.element,"title",b.translate(Y))})}},validator:{validate:Z=>{const Y=Ee.getValue(Z);return k6(oe=>{W({type:l.filetype,url:Y.value},re=>{if(re.status==="invalid"){const be=qo.error(re.message);oe(be)}else{const be=qo.value(re.message);oe(be)}})})},validateOnLoad:!1}})).toArray(),zo.config({disabled:()=>!l.enabled||b.isDisabled()}),Tr.config({}),Vo("urlinput-events",[Ue(Fr(),W=>{const Z=Yu(W.element),Y=Z.trim();Y!==Z&&Vm(W.element,Y),l.filetype==="file"&&Zt(W,Qc,{name:l.name})}),Ue($a(),W=>{Zt(W,Qc,{name:l.name}),y(W)}),Ue(Mf(),W=>{Zt(W,Qc,{name:l.name}),y(W)})])]),eventOrder:{[Fr()]:["streaming","urlinput-events","invalidating"]},model:{getDisplayText:W=>W.value,selectsOver:!1,populateFromBrowse:!1},markers:{openClass:"tox-textfield--popup-open"},lazySink:u.shared.getSink,parts:{menu:Px(0,0,"normal")},onExecute:(W,Z,Y)=>{Zt(Z,jh,{})},onItemExecute:(W,Z,Y,oe)=>{y(W),Zt(W,Qc,{name:l.name})}},E=qn.parts.field({...w,factory:x6}),_=l.label.map(W=>xp(W,b)),O=rr(((W,Z,Y=W,oe=W)=>Sd(Y,{tag:"div",classes:["tox-icon","tox-control-wrap__status-icon-"+W],attributes:{title:b.translate(oe),"aria-live":"polite",...Z.fold(()=>({}),re=>({id:re}))}},b.icons))("invalid",T.some(Gk),"warning")),L=rr({dom:{tag:"div",classes:["tox-control-wrap__status-icon-wrap"]},components:[O.asSpec()]}),I=f.getUrlPicker(l.filetype),K=Pt("browser.url.event"),q=rr({dom:{tag:"div",classes:["tox-control-wrap"]},components:[E,L.asSpec()],behaviours:ct([zo.config({disabled:()=>!l.enabled||b.isDisabled()})])}),se=rr($z({name:l.name,icon:T.some("browse"),text:l.picker_text.or(l.label).getOr(""),enabled:l.enabled,primary:!1,buttonType:T.none(),borderless:!0},W=>jo(W,K),b,[],["tox-browse-url"]));return qn.sketch({dom:lC([]),components:_.toArray().concat([{dom:{tag:"div",classes:["tox-form__controls-h-stack"]},components:An([[q.asSpec()],I.map(()=>se.asSpec()).toArray()])}]),fieldBehaviours:ct([zo.config({disabled:()=>!l.enabled||b.isDisabled(),onDisabled:W=>{qn.getField(W).each(zo.disable),se.getOpt(W).each(zo.disable)},onEnabled:W=>{qn.getField(W).each(zo.enable),se.getOpt(W).each(zo.enable)}}),Ra(),Vo("url-input-events",[Ue(K,W=>{xn.getCurrent(W).each(Z=>{const Y=Ee.getValue(Z),oe={fieldname:l.name,...Y};I.each(re=>{re(oe).get(be=>{Ee.setValue(Z,be),Zt(W,Qc,{name:l.name})})})})})])])})})(n,s,s.urlinput,i)),customeditor:ja(n=>{const s=Vn(),i=rr({dom:{tag:n.tag}}),l=Vn(),u=!yz(n)&&n.onFocus.isSome()?[Co.config({onFocus:f=>{n.onFocus.each(p=>{p(f.element.dom)})}}),Tr.config({})]:[];return{dom:{tag:"div",classes:["tox-custom-editor"]},behaviours:ct([Vo("custom-editor-events",[Ar(f=>{i.getOpt(f).each(p=>{(yz(n)?n.init(p.element.dom):l6.load(n.scriptId,n.scriptUrl).then(b=>b(p.element.dom,n.settings))).then(b=>{l.on(y=>{b.setValue(y)}),l.clear(),s.set(b)})})})]),Zh(T.none(),()=>s.get().fold(()=>l.get().getOr(""),f=>f.getValue()),(f,p)=>{s.get().fold(()=>l.set(p),b=>b.setValue(p))}),gm()].concat(u)),components:[i.asSpec()]}}),htmlpanel:ja((n,s)=>((i,l)=>i.presets==="presentation"?Du.sketch({dom:{tag:"div",classes:["tox-form__group"],innerHtml:i.html},containerBehaviours:ct([Ui.config({...l.tooltips.getConfig({tooltipText:"",onShow:u=>{ss(u.element,"[data-mce-tooltip]:hover").orThunk(()=>Hi(u.element)).each(f=>{ls(f,"data-mce-tooltip").each(p=>{Ui.setComponents(u,l.tooltips.getComponents({tooltipText:p}))})})}}),mode:"children-normal",anchor:u=>({type:"node",node:ss(u.element,"[data-mce-tooltip]:hover").orThunk(()=>Hi(u.element).filter(f=>ls(f,"data-mce-tooltip").isSome())),root:u.element,layouts:{onLtr:ne([Xr,Jn,ka,Js,ws,js]),onRtl:ne([Xr,Jn,ka,Js,ws,js])},bubble:$l(0,-2,{})})})])}):Du.sketch({dom:{tag:"div",classes:["tox-form__group"],innerHtml:i.html,attributes:{role:"document"}},containerBehaviours:ct([Tr.config({}),Co.config({})])}))(n,s.shared.providers)),imagepreview:ja((n,s,i)=>((l,u)=>{const f=eo(u.getOr({url:""})),p=rr({dom:{tag:"img",classes:["tox-imagepreview__image"],attributes:u.map(E=>({src:E.url})).getOr({})}}),b=rr({dom:{tag:"div",classes:["tox-imagepreview__container"],attributes:{role:"presentation"}},components:[p.asSpec()]}),y={};l.height.each(E=>y.height=E);const w=u.map(E=>({url:E.url,zoom:T.from(E.zoom),cachedWidth:T.from(E.cachedWidth),cachedHeight:T.from(E.cachedHeight)}));return{dom:{tag:"div",classes:["tox-imagepreview"],styles:y,attributes:{role:"presentation"}},components:[b.asSpec()],behaviours:ct([gm(),Zh(w,()=>f.get(),(E,_)=>{const O={url:_.url};_.zoom.each(I=>O.zoom=I),_.cachedWidth.each(I=>O.cachedWidth=I),_.cachedHeight.each(I=>O.cachedHeight=I),f.set(O);const L=()=>{const{cachedWidth:I,cachedHeight:K,zoom:q}=O;if(!cr(I)&&!cr(K)){if(cr(q)){const W=((Z,Y,oe)=>{const re=Uo(Z),be=ke(Z);return Math.min(re/Y,be/oe,1)})(E.element,I,K);O.zoom=W}const se=((W,Z,Y,oe,re)=>{const be=Y*re,Oe=oe*re,Ke=Math.max(0,W/2-be/2),Je=Math.max(0,Z/2-Oe/2);return{left:Ke.toString()+"px",top:Je.toString()+"px",width:be.toString()+"px",height:Oe.toString()+"px"}})(Uo(E.element),ke(E.element),I,K,O.zoom);b.getOpt(E).each(W=>{cl(W.element,se)})}};p.getOpt(E).each(I=>{const K=I.element;var q;_.url!==hs(K,"src")&&(uo(K,"src",_.url),Io(E.element,"tox-imagepreview__loaded")),L(),(q=K,new Promise((se,W)=>{const Z=()=>{oe(),se(q)},Y=[$i(q,"load",Z),$i(q,"error",()=>{oe(),W("Unable to load data from image: "+q.dom.src)})],oe=()=>Ot(Y,re=>re.unbind());q.dom.complete&&Z()})).then(se=>{E.getSystem().isConnected()&&($t(E.element,"tox-imagepreview__loaded"),O.cachedWidth=se.dom.naturalWidth,O.cachedHeight=se.dom.naturalHeight,L())})})})])}})(n,i)),table:ja((n,s)=>((i,l)=>{const u=b=>({dom:{tag:"td",innerHtml:l.translate(b)}});return{dom:{tag:"table",classes:["tox-dialog__table"]},components:[(p=i.header,{dom:{tag:"thead"},components:[{dom:{tag:"tr"},components:nt(p,b=>({dom:{tag:"th",innerHtml:l.translate(b)}}))}]}),(f=i.cells,{dom:{tag:"tbody"},components:nt(f,b=>({dom:{tag:"tr"},components:nt(b,u)}))})],behaviours:ct([Tr.config({}),Co.config({})])};var f,p})(n,s.shared.providers)),tree:ja((n,s)=>((i,l)=>{const u=i.onLeafAction.getOr(ut),f=i.onToggleExpand.getOr(ut),p=i.defaultExpandedIds,b=eo(p),y=eo(i.defaultSelectedId),w=Pt("tree-id"),E=(_,O)=>i.items.map(L=>L.type==="leaf"?jk({leaf:L,selectedId:_,onLeafAction:u,visible:!0,treeId:w,backstage:l}):oS({directory:L,selectedId:_,onLeafAction:u,expandedIds:O,labelTabstopping:!0,treeId:w,backstage:l}));return{dom:{tag:"div",classes:["tox-tree"],attributes:{role:"tree"}},components:E(y.get(),b.get()),behaviours:ct([Yt.config({mode:"flow",selector:".tox-tree--leaf__label--visible, .tox-tree--directory__label--visible",cycles:!1}),Vo(b6,[Ue("expand-tree-node",(_,O)=>{const{expanded:L,node:I}=O.event;b.set(L?[...b.get(),I]:b.get().filter(K=>K!==I)),f(b.get(),{expanded:L,node:I})})]),Ci.config({channels:{[`update-active-item-${w}`]:{onReceive:(_,O)=>{y.set(T.some(O.value)),po.set(_,E(T.some(O.value),b.get()))}}}}),po.config({})])}})(n,s)),panel:ja((n,s)=>((i,l)=>({dom:{tag:"div",classes:i.classes},components:nt(i.items,l.shared.interpreter)}))(n,s))},Kk={field:(n,s)=>s,record:ne([])},Yk=(n,s,i,l)=>{const u=Ir(l,{shared:{interpreter:f=>lS(n,f,i,u)}});return lS(n,s,i,u)},lS=(n,s,i,l)=>lt(W0,s.type).fold(()=>(console.error(`Unknown factory type "${s.type}", defaulting to container: `,s),s),u=>u(n,s,i,l)),Mu=(n,s,i)=>lS(Kk,n,s,i),Dg="layout-inset",cS=n=>n.x,Td=(n,s)=>n.x+n.width/2-s.width/2,Yh=(n,s)=>n.x+n.width-s.width,Od=n=>n.y,dS=(n,s)=>n.y+n.height-s.height,vr=(n,s)=>n.y+n.height/2-s.height/2,Cp=(n,s,i)=>Vs(Yh(n,s),dS(n,s),i.insetSouthwest(),Tb(),"southwest",_i(n,{right:0,bottom:3}),Dg),Xh=(n,s,i)=>Vs(cS(n),dS(n,s),i.insetSoutheast(),h1(),"southeast",_i(n,{left:1,bottom:3}),Dg),Py=(n,s,i)=>Vs(Yh(n,s),Od(n),i.insetNorthwest(),zb(),"northwest",_i(n,{right:0,top:2}),Dg),Jh=(n,s,i)=>Vs(cS(n),Od(n),i.insetNortheast(),gc(),"northeast",_i(n,{left:1,top:2}),Dg),Dd=(n,s,i)=>Vs(Td(n,s),Od(n),i.insetNorth(),Xp(),"north",_i(n,{top:2}),Dg),q0=(n,s,i)=>Vs(Td(n,s),dS(n,s),i.insetSouth(),Ob(),"south",_i(n,{bottom:3}),Dg),Xk=(n,s,i)=>Vs(Yh(n,s),vr(n,s),i.insetEast(),Nv(),"east",_i(n,{right:0}),Dg),Zz=(n,s,i)=>Vs(cS(n),vr(n,s),i.insetWest(),Jp(),"west",_i(n,{left:1}),Dg),Wz=n=>{switch(n){case"north":return Dd;case"northeast":return Jh;case"northwest":return Py;case"south":return q0;case"southeast":return Xh;case"southwest":return Cp;case"east":return Xk;case"west":return Zz}},uS=(n,s,i,l,u)=>w1(l).map(Wz).getOr(Dd)(n,s,i,l,u),fS=n=>{switch(n){case"north":return q0;case"northeast":return Xh;case"northwest":return Cp;case"south":return Dd;case"southeast":return Jh;case"southwest":return Py;case"east":return Zz;case"west":return Xk}},qz=(n,s,i,l,u)=>w1(l).map(fS).getOr(Dd)(n,s,i,l,u),Rg={valignCentre:[],alignCentre:[],alignLeft:[],alignRight:[],right:[],left:[],bottom:[],top:[]},E6=(n,s,i)=>{const l={maxHeightFunction:Kd()};return()=>i()?{type:"node",root:es(Gr(n())),node:T.from(n()),bubble:$l(12,12,Rg),layouts:{onRtl:()=>[Jh],onLtr:()=>[Py]},overrides:l}:{type:"hotspot",hotspot:s(),bubble:$l(-12,12,Rg),layouts:{onRtl:()=>[ka,ws,Xr],onLtr:()=>[ws,ka,Xr]},overrides:l}},A6=(n,s,i,l)=>{const u={maxHeightFunction:Kd()};return()=>l()?{type:"node",root:es(Gr(s())),node:T.from(s()),bubble:$l(12,12,Rg),layouts:{onRtl:()=>[Dd],onLtr:()=>[Dd]},overrides:u}:n?{type:"node",root:es(Gr(s())),node:T.from(s()),bubble:$l(0,-$e(s()),Rg),layouts:{onRtl:()=>[Jn],onLtr:()=>[Jn]},overrides:u}:{type:"hotspot",hotspot:i(),bubble:$l(0,0,Rg),layouts:{onRtl:()=>[Jn],onLtr:()=>[Jn]},overrides:u}},z6=(n,s,i)=>()=>i()?{type:"node",root:es(Gr(n())),node:T.from(n()),layouts:{onRtl:()=>[Dd],onLtr:()=>[Dd]}}:{type:"hotspot",hotspot:s(),layouts:{onRtl:()=>[Xr],onLtr:()=>[Xr]}},T6=(n,s)=>()=>({type:"selection",root:s(),getSelection:()=>{const i=n.selection.getRng(),l=n.model.table.getSelectedCells();if(l.length>1){const u=l[0],f=l[l.length-1],p={firstCell:wt(u),lastCell:wt(f)};return T.some(p)}return T.some(hc.range(wt(i.startContainer),i.startOffset,wt(i.endContainer),i.endOffset))}}),O6=n=>s=>({type:"node",root:n(),node:s}),Gz=(n,s,i,l)=>{const u=Dh(n),f=()=>wt(n.getBody()),p=()=>wt(n.getContentAreaContainer()),b=()=>u||!l();return{inlineDialog:E6(p,s,b),inlineBottomDialog:A6(n.inline,p,i,b),banner:z6(p,s,b),cursor:T6(n,f),node:O6(f)}},D6=n=>(s,i)=>{q2(n)(s,i)},R6=n=>()=>ek(n),Kz=n=>s=>D0(n,s),Yz=n=>s=>vA(n,s),N6=n=>()=>cf(n),Xz=n=>Po(n,"items"),mS=n=>Po(n,"format"),Jk=[{title:"Headings",items:[{title:"Heading 1",format:"h1"},{title:"Heading 2",format:"h2"},{title:"Heading 3",format:"h3"},{title:"Heading 4",format:"h4"},{title:"Heading 5",format:"h5"},{title:"Heading 6",format:"h6"}]},{title:"Inline",items:[{title:"Bold",format:"bold"},{title:"Italic",format:"italic"},{title:"Underline",format:"underline"},{title:"Strikethrough",format:"strikethrough"},{title:"Superscript",format:"superscript"},{title:"Subscript",format:"subscript"},{title:"Code",format:"code"}]},{title:"Blocks",items:[{title:"Paragraph",format:"p"},{title:"Blockquote",format:"blockquote"},{title:"Div",format:"div"},{title:"Pre",format:"pre"}]},{title:"Align",items:[{title:"Left",format:"alignleft"},{title:"Center",format:"aligncenter"},{title:"Right",format:"alignright"},{title:"Justify",format:"alignjustify"}]}],pS=n=>Ao(n,(s,i)=>{if(ro(i,"items")){const l=pS(i.items);return{customFormats:s.customFormats.concat(l.customFormats),formats:s.formats.concat([{title:i.title,items:l.formats}])}}if(ro(i,"inline")||(l=>ro(l,"block"))(i)||(l=>ro(l,"selector"))(i)){const l=`custom-${So(i.name)?i.name:i.title.toLowerCase()}`;return{customFormats:s.customFormats.concat([{name:l,format:i}]),formats:s.formats.concat([{title:i.title,format:l,icon:i.icon}])}}return{...s,formats:s.formats.concat(i)}},{customFormats:[],formats:[]}),Jz=n=>my(n).map(s=>{const i=((l,u)=>{const f=pS(u),p=b=>{Ot(b,y=>{l.formatter.has(y.name)||l.formatter.register(y.name,y.format)})};return l.formatter?p(f.customFormats):l.on("init",()=>{p(f.customFormats)}),f.formats})(n,s);return hx(n)?Jk.concat(i):i}).getOr(Jk),Qz=(n,s,i)=>({...n,type:"formatter",isSelected:s(n.format),getStylePreview:i(n.format)}),eT=(n,s,i,l)=>{const u=f=>nt(f,p=>Xz(p)?(b=>{const y=u(b.items);return{...b,type:"submenu",getStyleItems:ne(y)}})(p):mS(p)?(b=>Qz(b,i,l))(p):(b=>{const y=$o(b);return y.length===1&&_e(y,"title")})(p)?{...p,type:"separator"}:(b=>{const y=So(b.name)?b.name:Pt(b.title),w=`custom-${y}`,E={...b,type:"formatter",format:w,isSelected:i(w),getStylePreview:l(w)};return n.formatter.register(y,E),E})(p));return u(s)},M6=n=>{let s=0;const i=l=>[{dom:{tag:"div",classes:["tox-tooltip__body"]},components:[zr(l.tooltipText)]}];return{getConfig:l=>({delayForShow:()=>s>0?60:300,delayForHide:ne(300),exclusive:!0,lazySink:n,tooltipDom:{tag:"div",classes:["tox-tooltip","tox-tooltip--up"]},tooltipComponents:i(l),onShow:(u,f)=>{s++,l.onShow&&l.onShow(u,f)},onHide:()=>{s--}}),getComponents:i}},B6=hm.trim,tT=n=>s=>!!((i=>It(i)&&i.nodeType===1)(s)&&(s.contentEditable===n||s.getAttribute("data-mce-contenteditable")===n)),oT=tT("true"),Bu=tT("false"),nT=(n,s,i,l,u)=>({type:n,title:s,url:i,level:l,attach:u}),Qk=n=>n.innerText||n.textContent,rT=n=>(s=>s&&s.nodeName==="A"&&(s.id||s.name)!==void 0)(n)&&sT(n),gS=n=>n&&/^(H[1-6])$/.test(n.nodeName),sT=n=>(s=>{let i=s;for(;i=i.parentNode;){const l=i.contentEditable;if(l&&l!=="inherit")return oT(i)}return!1})(n)&&!Bu(n),aT=n=>gS(n)&&sT(n),iT=n=>{var s;const i=(l=>l.id?l.id:Pt("h"))(n);return nT("header",(s=Qk(n))!==null&&s!==void 0?s:"","#"+i,(l=>gS(l)?parseInt(l.nodeName.substr(1),10):0)(n),()=>{n.id=i})},lT=n=>{const s=n.id||n.name,i=Qk(n);return nT("anchor",i||"#"+s,"#"+s,0,ut)},I6=n=>B6(n.title).length>0,L6=n=>{const s=(i=>nt(ua(wt(i),"h1,h2,h3,h4,h5,h6,a:not([href])"),u=>u.dom))(n);return kn((i=>nt(kn(i,aT),iT))(s).concat((i=>nt(kn(i,rT),lT))(s)),I6)},ew="tinymce-url-history",cT=n=>So(n)&&/^https?/.test(n),dT=n=>ir(n)&&Ko(n,s=>{return!(Xo(i=s)&&i.length<=5&&Ga(i,cT));var i}).isNone(),hS=()=>{const n=kg.getItem(ew);if(n===null)return{};let s;try{s=JSON.parse(n)}catch(i){if(i instanceof SyntaxError)return console.log("Local storage "+ew+" was not valid JSON",i),{};throw i}return dT(s)?s:(console.log("Local storage "+ew+" was not valid format",s),{})},uT=n=>{const s=hS();return lt(s,n).getOr([])},fT=(n,s)=>{if(!cT(n))return;const i=hS(),l=lt(i,s).getOr([]),u=kn(l,f=>f!==n);i[s]=[n].concat(u).slice(0,5),(f=>{if(!dT(f))throw new Error(`Bad format for history:
`+JSON.stringify(f));kg.setItem(ew,JSON.stringify(f))})(i)},mT=n=>!!n,P6=n=>Mn(hm.makeMap(n,/[, ]/),mT),bS=n=>T.from(yx(n)),Qh=n=>T.from(n).filter(So).getOrUndefined(),F6=n=>({getHistory:uT,addToHistory:fT,getLinkInformation:()=>(s=>vx(s)?T.some({targets:L6(s.getBody()),anchorTop:Qh(lE(s)),anchorBottom:Qh(cE(s))}):T.none())(n),getValidationHandler:()=>(s=>T.from(Q1(s)))(n),getUrlPicker:s=>((i,l)=>((u,f)=>{const p=(b=>{const y=T.from(e0(b)).filter(mT).map(P6);return bS(b).fold(Le,w=>y.fold(Lt,E=>$o(E).length>0&&E))})(u);return Qn(p)?p?bS(u):T.none():p[f]?bS(u):T.none()})(i,l).map(u=>f=>wg(p=>{const b={filetype:l,fieldname:f.fieldname,...T.from(f.meta).getOr({})};u.call(i,(y,w)=>{if(!So(y))throw new Error("Expected value to be string");if(w!==void 0&&!ir(w))throw new Error("Expected meta to be a object");p({value:y,meta:w})},f.value,b)})))(n,s)}),Ua=Y5,hf=Y3,pT=ne([Ae("shell",!1),Ze("makeItem"),Ae("setupItem",ut),Dn("listBehaviours",[po])]),gT=yd({name:"items",overrides:()=>({behaviours:ct([po.config({})])})}),yS=ne([gT]),tw=Vl({name:ne("CustomList")(),configFields:pT(),partFields:yS(),factory:(n,s,i,l)=>{const u=n.shell?{behaviours:[po.config({})],components:[]}:{behaviours:[],components:s};return{uid:n.uid,dom:n.dom,components:u.components,behaviours:Ut(n.listBehaviours,u.behaviours),apis:{setItems:(f,p)=>{var b;(b=f,n.shell?T.some(b):Nr(b,n,"items")).fold(()=>{throw console.error("Custom List was defined to not be a shell, but no item container was specified in components"),new Error("Custom List was defined to not be a shell, but no item container was specified in components")},y=>{const w=po.contents(y),E=p.length,_=E-w.length,O=_>0?un(_,()=>n.makeItem()):[],L=w.slice(E);Ot(L,K=>po.remove(y,K)),Ot(O,K=>po.append(y,K));const I=po.contents(y);Ot(I,(K,q)=>{n.setupItem(f,K,p[q],q)})})}}}},apis:{setItems:(n,s,i)=>{n.setItems(s,i)}}}),Ng=ne([Ze("dom"),Ae("shell",!0),xt("toolbarBehaviours",[po])]),hT=ne([yd({name:"groups",overrides:()=>({behaviours:ct([po.config({})])})})]),bf=Vl({name:"Toolbar",configFields:Ng(),partFields:hT(),factory:(n,s,i,l)=>{const u=n.shell?{behaviours:[po.config({})],components:[]}:{behaviours:[],components:s};return{uid:n.uid,dom:n.dom,components:u.components,behaviours:Ut(n.toolbarBehaviours,u.behaviours),apis:{setGroups:(f,p)=>{var b;(b=f,n.shell?T.some(b):Nr(b,n,"groups")).fold(()=>{throw console.error("Toolbar was defined to not be a shell, but no groups container was specified in components"),new Error("Toolbar was defined to not be a shell, but no groups container was specified in components")},y=>{po.set(y,p)})},refresh:ut},domModification:{attributes:{role:"group"}}}},apis:{setGroups:(n,s,i)=>{n.setGroups(s,i)}}}),bT=ut,H6=Le,yT=ne([]);var vT,xT=Object.freeze({__proto__:null,setup:bT,isDocked:H6,getBehaviours:yT});const ow=ne(Pt("toolbar-height-change")),yf={fadeInClass:"tox-editor-dock-fadein",fadeOutClass:"tox-editor-dock-fadeout",transitionClass:"tox-editor-dock-transition"},kT="tox-tinymce--toolbar-sticky-on",wT="tox-tinymce--toolbar-sticky-off",nw=(n,s)=>_e(fs.getModes(n),s),vS=n=>{const s=n.element;qr(s).each(i=>{const l="padding-"+fs.getModes(n)[0];if(fs.isDocked(n)){const u=Uo(i);mo(s,"width",u+"px"),mo(i,l,(f=>$e(f)+(parseInt(ur(f,"margin-top"),10)||0)+(parseInt(ur(f,"margin-bottom"),10)||0))(s)+"px")}else sn(s,"width"),sn(i,l)})},_T=(n,s)=>{s?(Io(n,yf.fadeOutClass),pr(n,[yf.transitionClass,yf.fadeInClass])):(Io(n,yf.fadeInClass),pr(n,[yf.fadeOutClass,yf.transitionClass]))},CT=(n,s)=>{const i=wt(n.getContainer());s?($t(i,kT),Io(i,wT)):($t(i,wT),Io(i,kT))},ST=(n,s)=>{const i=Vn(),l=s.getSink,u=b=>{l().each(y=>b(y.element))},f=b=>{n.inline||vS(b),CT(n,fs.isDocked(b)),b.getSystem().broadcastOn([S()],{}),l().each(y=>y.getSystem().broadcastOn([S()],{}))},p=n.inline?[]:[Ci.config({channels:{[ow()]:{onReceive:vS}}})];return[Co.config({}),fs.config({contextual:{lazyContext:b=>{const y=$e(b.element),w=n.inline?n.getContentAreaContainer():n.getContainer();return T.from(w).map(E=>{const _=$n(wt(E));return ug(n,b.element).fold(()=>{const O=_.height-y,L=_.y+(nw(b,"top")?0:y);return Ss(_.x,L,_.width,O)},O=>{const L=Nl(_,fg(O)),I=nw(b,"top")?L.y:L.y+y;return Ss(L.x,I,L.width,L.height-y)})})},onShow:()=>{u(b=>_T(b,!0))},onShown:b=>{u(y=>Cn(y,[yf.transitionClass,yf.fadeInClass])),i.get().each(y=>{((w,E)=>{const _=Gs(E);tl(_).filter(O=>!hn(E,O)).filter(O=>hn(O,wt(_.dom.body))||Vr(w,O)).each(()=>Uc(E))})(b.element,y),i.clear()})},onHide:b=>{((y,w)=>Hi(y).orThunk(()=>w().toOptional().bind(E=>Hi(E.element))))(b.element,l).fold(i.clear,i.set),u(y=>_T(y,!1))},onHidden:()=>{u(b=>Cn(b,[yf.transitionClass]))},...yf},lazyViewport:b=>ug(n,b.element).fold(()=>{const y=Kr(),w=Q_(n),E=y.y+(nw(b,"top")?w:0),_=y.height-(nw(b,"bottom")?w:0);return{bounds:Ss(y.x,E,y.width,_),optScrollEnv:T.none()}},y=>({bounds:fg(y),optScrollEnv:T.some({currentScrollTop:y.element.dom.scrollTop,scrollElmTop:or(y.element).top})})),modes:[s.header.getDockingMode()],onDocked:f,onUndocked:f}),...p]};var $6=Object.freeze({__proto__:null,setup:(n,s,i)=>{n.inline||(s.header.isPositionedAtTop()||n.on("ResizeEditor",()=>{i().each(fs.reset)}),n.on("ResizeWindow ResizeEditor",()=>{i().each(vS)}),n.on("SkinLoaded",()=>{i().each(l=>{fs.isDocked(l)?fs.reset(l):fs.refresh(l)})}),n.on("FullscreenStateChanged",()=>{i().each(fs.reset)})),n.on("AfterScrollIntoView",l=>{i().each(u=>{fs.refresh(u);const f=u.element;_4(f)&&((p,b)=>{const y=Gs(b),w=Bd(b).dom.innerHeight,E=ys(y),_=wt(p.elm),O=Rl(_),L=ke(_),I=O.y,K=I+L,q=or(b),se=ke(b),W=q.top,Z=W+se,Y=Math.abs(W-E.top)<2,oe=Math.abs(Z-(E.top+w))<2;if(Y&&I<Z)Pn(E.left,I-se,y);else if(oe&&K>W){const re=I-w+L+se;Pn(E.left,re,y)}})(l,f)})}),n.on("PostRender",()=>{CT(n,!1)})},isDocked:n=>n().map(fs.isDocked).getOr(!1),getBehaviours:ST});const V6=to([fa,ya("items",cd([du([y2,Fa("items",Ps)]),Ps]))].concat(k0)),j6=[Da("text"),Da("tooltip"),Da("icon"),Hs("search",!1,cd([dd,to([Da("placeholder")])],n=>Qn(n)?n?T.some({placeholder:T.none()}):T.none():T.some(n))),Bl("fetch"),_r("onSetup",()=>ut)],ET=to([fa,...j6]),xS=n=>Lr("menubutton",ET,n),U6=to([fa,v0,eu,bg,Hx,rN,hg,Ll("presets","normal",["normal","color","listpreview"]),KE(1),hy,GE]);var kS=vd({factory:(n,s)=>{const i={focus:Yt.focusIn,setMenus:(l,u)=>{const f=nt(u,p=>{const b={type:"menubutton",text:p.text,fetch:w=>{w(p.getItems())}},y=xS(b).mapError(w=>dc(w)).getOrDie();return j0(y,"tox-mbtn",s.backstage,T.some("menuitem"))});po.set(l,f)}};return{uid:n.uid,dom:n.dom,components:[],behaviours:ct([po.config({}),Vo("menubar-events",[Ar(l=>{n.onSetup(l)}),Ue(Vt(),(l,u)=>{ss(l.element,".tox-mbtn--active").each(f=>{jn(u.event.target,".tox-mbtn").each(p=>{hn(f,p)||l.getSystem().getByDom(f).each(b=>{l.getSystem().getByDom(p).each(y=>{Ed.expand(y),Ed.close(b),Co.focus(y)})})})})}),Ue(Mc(),(l,u)=>{u.event.prevFocus.bind(f=>l.getSystem().getByDom(f).toOptional()).each(f=>{u.event.newFocus.bind(p=>l.getSystem().getByDom(p).toOptional()).each(p=>{Ed.isOpen(f)&&(Ed.expand(p),Ed.close(f))})})})]),Yt.config({mode:"flow",selector:".tox-mbtn",onEscape:l=>(n.onEscape(l),T.some(!0))}),Tr.config({})]),apis:i,domModification:{attributes:{role:"menubar"}}}},name:"silver.Menubar",configFields:[Ze("dom"),Ze("uid"),Ze("onEscape"),Ze("backstage"),Ae("onSetup",ut)],apis:{focus:(n,s)=>{n.focus(s)},setMenus:(n,s,i)=>{n.setMenus(s,i)}}});const AT="container",Z6=[xt("slotBehaviours",[])],zT=n=>"<alloy.field."+n+">",rw=(n,s)=>{const i=E=>e4(n),l=(E,_)=>(O,L)=>Nr(O,n,L).map(I=>E(I,L)).getOr(_),u=(E,_)=>hs(E.element,"aria-hidden")!=="true",f=l(u,!1),p=l((E,_)=>{if(u(E)){const O=E.element;mo(O,"display","none"),uo(O,"aria-hidden","true"),Zt(E,Gg(),{name:_,visible:!1})}}),b=(E=>(_,O)=>{Ot(O,L=>E(_,L))})(p),y=l((E,_)=>{if(!u(E)){const O=E.element;sn(O,"display"),Er(O,"aria-hidden"),Zt(E,Gg(),{name:_,visible:!0})}}),w={getSlotNames:i,getSlot:(E,_)=>Nr(E,n,_),isShowing:f,hideSlot:p,hideAllSlots:E=>b(E,i()),showSlot:y};return{uid:n.uid,dom:n.dom,components:s,behaviours:oo(n.slotBehaviours),apis:w}},TT=Mn({getSlotNames:(n,s)=>n.getSlotNames(s),getSlot:(n,s,i)=>n.getSlot(s,i),isShowing:(n,s,i)=>n.isShowing(s,i),hideSlot:(n,s,i)=>n.hideSlot(s,i),hideAllSlots:(n,s)=>n.hideAllSlots(s),showSlot:(n,s,i)=>n.showSlot(s,i)},n=>_b(n)),bl={...TT,sketch:n=>{const s=(()=>{const f=[];return{slot:(p,b)=>(f.push(p),b_(AT,zT(p),b)),record:ne(f)}})(),i=n(s),l=s.record(),u=nt(l,f=>gl({name:f,pname:zT(f)}));return M1(AT,Z6,u,rw,i)}},W6=to([eu,v0,_r("onShow",ut),_r("onHide",ut),hg]),q6=n=>({element:()=>n.element.dom}),G6=(n,s)=>{const i=nt($o(s),l=>{const u=s[l],f=Yi((p=>Lr("sidebar",W6,p))(u));return{name:l,getApi:q6,onSetup:f.onSetup,onShow:f.onShow,onHide:f.onHide}});return nt(i,l=>{const u=eo(ut);return n.slot(l.name,{dom:{tag:"div",classes:["tox-sidebar__pane"]},behaviours:_0([yg(l,u),pp(l,u),Ue(Gg(),(f,p)=>{const b=p.event;$(i,w=>w.name===b.name).each(w=>{(b.visible?w.onShow:w.onHide)(w.getApi(f))})})])})})},K6=n=>bl.sketch(s=>({dom:{tag:"div",classes:["tox-sidebar__pane-container"]},components:G6(s,n),slotBehaviours:_0([Ar(i=>bl.hideAllSlots(i))])})),sw=(n,s)=>{uo(n,"role",s)},wS=n=>xn.getCurrent(n).bind(s=>oc.isGrowing(s)||oc.hasGrown(s)?xn.getCurrent(s).bind(i=>$(bl.getSlotNames(i),l=>bl.isShowing(i,l))):T.none()),aw=Pt("FixSizeEvent"),iw=Pt("AutoSizeEvent");var Y6=Object.freeze({__proto__:null,block:(n,s,i,l)=>{uo(n.element,"aria-busy",!0);const u=s.getRoot(n).getOr(n),f=ct([Yt.config({mode:"special",onTab:()=>T.some(!0),onShiftTab:()=>T.some(!0)}),Co.config({})]),p=l(u,f),b=u.getSystem().build(p);po.append(u,Hl(b)),b.hasConfigured(Yt)&&s.focus&&Yt.focusIn(b),i.isBlocked()||s.onBlock(n),i.blockWith(()=>po.remove(u,b))},unblock:(n,s,i)=>{Er(n.element,"aria-busy"),i.isBlocked()&&s.onUnblock(n),i.clear()},isBlocked:(n,s,i)=>i.isBlocked()}),OT=[_r("getRoot",T.none),Ha("focus",!0),vn("onBlock"),vn("onUnblock")];const vf=ks({fields:OT,name:"blocking",apis:Y6,state:Object.freeze({__proto__:null,init:()=>{const n=lu(s=>s.destroy());return ki({readState:n.isSet,blockWith:s=>{n.set({destroy:s})},clear:n.clear,isBlocked:n.isSet})}})}),DT=n=>xn.getCurrent(n).each(s=>Uc(s.element,!0)),X6=(n,s,i)=>{const l=eo(!1),u=Vn(),f=b=>{var y;l.get()&&(!(w=>w.type==="focusin")(y=b)||!(y.composed?it(y.composedPath()):T.from(y.target)).map(wt).filter(Sr).exists(w=>Zo(w,"mce-pastebin")))&&(b.preventDefault(),DT(s()),n.editorManager.setActive(n))};n.inline||n.on("PreInit",()=>{n.dom.bind(n.getWin(),"focusin",f),n.on("BeforeExecCommand",b=>{b.command.toLowerCase()==="mcefocus"&&b.value!==!0&&f(b)})});const p=b=>{b!==l.get()&&(l.set(b),((y,w,E,_)=>{const O=w.element;if(((L,I)=>{const K="tabindex",q=`data-mce-${K}`;T.from(L.iframeElement).map(wt).each(se=>{I?(ls(se,K).each(W=>uo(se,q,W)),uo(se,K,-1)):(Er(se,K),ls(se,q).each(W=>{uo(se,K,W),Er(se,q)}))})})(y,E),E)vf.block(w,(L=>(I,K)=>({dom:{tag:"div",attributes:{"aria-label":L.translate("Loading..."),tabindex:"0"},classes:["tox-throbber__busy-spinner"]},components:[{dom:am('<div class="tox-spinner"><div></div><div></div><div></div></div>')}]}))(_)),sn(O,"display"),Er(O,"aria-hidden"),y.hasFocus()&&DT(w);else{const L=xn.getCurrent(w).exists(I=>Gm(I.element));vf.unblock(w),mo(O,"display","none"),uo(O,"aria-hidden","true"),L&&y.focus()}})(n,s(),b,i.providers),((y,w)=>{y.dispatch("AfterProgressState",{state:w})})(n,b))};n.on("ProgressState",b=>{if(u.on(clearTimeout),Ho(b.time)){const y=px.setEditorTimeout(n,()=>p(b.state),b.time);u.set(y)}else p(b.state),u.clear()})},_S=(n,s,i)=>({within:n,extra:s,withinWidth:i}),RT=(n,s,i)=>{const l=Ao(n,(p,b)=>((y,w)=>{const E=i(y);return T.some({element:y,start:w,finish:w+E,width:E})})(b,p.len).fold(ne(p),y=>({len:y.finish,list:p.list.concat([y])})),{len:0,list:[]}).list,u=kn(l,p=>p.finish<=s),f=fn(u,(p,b)=>p+b.width,0);return{within:u,extra:l.slice(u.length),withinWidth:f}},lw=n=>nt(n,s=>s.element),NT=(n,s)=>{const i=nt(s,l=>Hl(l));bf.setGroups(n,i)},MT=(n,s,i)=>{const l=s.builtGroups.get();if(l.length===0)return;const u=lp(n,s,"primary"),f=Us.getCoupled(n,"overflowGroup");mo(u.element,"visibility","hidden");const p=l.concat([f]),b=fo(p,w=>Hi(w.element).bind(E=>w.getSystem().getByDom(E).toOptional()));i([]),NT(u,p);const y=((w,E,_,O)=>{const L=((se,W,Z)=>{const Y=RT(W,se,Z);return Y.extra.length===0?T.some(Y):T.none()})(w,E,_).getOrThunk(()=>RT(E,w-_(O),_)),I=L.within,K=L.extra,q=L.withinWidth;return K.length===1&&K[0].width<=_(O)?((se,W,Z)=>{const Y=lw(se.concat(W));return _S(Y,[],Z)})(I,K,q):K.length>=1?((se,W,Z,Y)=>{const oe=lw(se).concat([Z]);return _S(oe,lw(W),Y)})(I,K,O,q):((se,W,Z)=>_S(lw(se),[],Z))(I,0,q)})(Uo(u.element),s.builtGroups.get(),w=>Math.ceil(w.element.dom.getBoundingClientRect().width),f);y.extra.length===0?(po.remove(u,f),i([])):(NT(u,y.within),i(y.extra)),sn(u.element,"visibility"),ql(u.element),b.each(Co.focus)},BT=ne([xt("splitToolbarBehaviours",[Us]),ba("builtGroups",()=>eo([]))]),J6=ne([yu(["overflowToggledClass"]),ml("getOverflowBounds"),Ze("lazySink"),ba("overflowGroups",()=>eo([])),vn("onOpened"),vn("onClosed")].concat(BT())),cw=ne([gl({factory:bf,schema:Ng(),name:"primary"}),Au({schema:Ng(),name:"overflow"}),Au({name:"overflow-button"}),Au({name:"overflow-group"})]),G0=ne((n,s)=>{((i,l)=>{const u=Xn.max(i,l,["margin-left","border-left-width","padding-left","padding-right","border-right-width","margin-right"]);mo(i,"max-width",u+"px")})(n,Math.floor(s))}),CS=ne([yu(["toggledClass"]),Ze("lazySink"),Bl("fetch"),ml("getBounds"),Li("fireDismissalEventInstead",[Ae("event",Nc())]),Wc(),vn("onToggled")]),IT=ne([Au({name:"button",overrides:n=>({dom:{attributes:{"aria-haspopup":"true"}},buttonBehaviours:ct([ko.config({toggleClass:n.markers.toggledClass,aria:{mode:"expanded"},toggleOnExecute:!1,onToggled:n.onToggled})])})}),Au({factory:bf,schema:Ng(),name:"toolbar",overrides:n=>({toolbarBehaviours:ct([Yt.config({mode:"cyclic",onEscape:s=>(Nr(s,n,"button").each(Co.focus),T.none())})])})})]),dw=Vn(),SS=(n,s)=>{const i=Us.getCoupled(n,"toolbarSandbox");h.isOpen(i)?h.close(i):h.open(i,s.toolbar())},K0=(n,s,i,l)=>{const u=i.getBounds.map(p=>p()),f=i.lazySink(n).getOrDie();ai.positionWithinBounds(f,s,{anchor:{type:"hotspot",hotspot:n,layouts:l,overrides:{maxWidthFunction:G0()}}},u)},uw=(n,s,i,l,u)=>{bf.setGroups(s,u),K0(n,s,i,l),ko.on(n)},xf=Vl({name:"FloatingToolbarButton",factory:(n,s,i,l)=>({...ji.sketch({...l.button(),action:u=>{SS(u,l)},buttonBehaviours:Gt({dump:l.button().buttonBehaviours},[Us.config({others:{toolbarSandbox:u=>((f,p,b)=>{const y=g1();return{dom:{tag:"div",attributes:{id:y.id}},behaviours:ct([Yt.config({mode:"special",onEscape:w=>(h.close(w),T.some(!0))}),h.config({onOpen:(w,E)=>{const _=dw.get().getOr(!1);b.fetch().get(O=>{uw(f,E,b,p.layouts,O),y.link(f.element),_||Yt.focusIn(E)})},onClose:()=>{ko.off(f),dw.get().getOr(!1)||Co.focus(f),y.unlink(f.element)},isPartOf:(w,E,_)=>qf(E,_)||qf(f,_),getAttachPoint:()=>b.lazySink(f).getOrDie()}),Ci.config({channels:{...H({isExtraPart:Le,...b.fireDismissalEventInstead.map(w=>({fireEventInstead:{event:w.event}})).getOr({})}),...te({doReposition:()=>{h.getState(Us.getCoupled(f,"toolbarSandbox")).each(w=>{K0(f,w,b,p.layouts)})}})}})])}})(u,i,n)}})])}),apis:{setGroups:(u,f)=>{h.getState(Us.getCoupled(u,"toolbarSandbox")).each(p=>{uw(u,p,n,i.layouts,f)})},reposition:u=>{h.getState(Us.getCoupled(u,"toolbarSandbox")).each(f=>{K0(u,f,n,i.layouts)})},toggle:u=>{SS(u,l)},toggleWithoutFocusing:u=>{((f,p)=>{dw.set(!0),SS(f,p),dw.clear()})(u,l)},getToolbar:u=>h.getState(Us.getCoupled(u,"toolbarSandbox")),isOpen:u=>h.isOpen(Us.getCoupled(u,"toolbarSandbox"))}}),configFields:CS(),partFields:IT(),apis:{setGroups:(n,s,i)=>{n.setGroups(s,i)},reposition:(n,s)=>{n.reposition(s)},toggle:(n,s)=>{n.toggle(s)},toggleWithoutFocusing:(n,s)=>{n.toggleWithoutFocusing(s)},getToolbar:(n,s)=>n.getToolbar(s),isOpen:(n,s)=>n.isOpen(s)}}),LT=ne([Ze("items"),yu(["itemSelector"]),xt("tgroupBehaviours",[Yt])]),Q6=ne([Qv({name:"items",unit:"item"})]),fw=Vl({name:"ToolbarGroup",configFields:LT(),partFields:Q6(),factory:(n,s,i,l)=>({uid:n.uid,dom:n.dom,components:s,behaviours:Ut(n.tgroupBehaviours,[Yt.config({mode:"flow",selector:n.markers.itemSelector})]),domModification:{attributes:{role:"toolbar"}}})}),PT=n=>nt(n,s=>Hl(s)),FT=(n,s,i)=>{MT(n,i,l=>{i.overflowGroups.set(l),s.getOpt(n).each(u=>{xf.setGroups(u,PT(l))})})},HT=Vl({name:"SplitFloatingToolbar",configFields:J6(),partFields:cw(),factory:(n,s,i,l)=>{const u=rr(xf.sketch({fetch:()=>wg(f=>{f(PT(n.overflowGroups.get()))}),layouts:{onLtr:()=>[ws,ka],onRtl:()=>[ka,ws],onBottomLtr:()=>[js,Js],onBottomRtl:()=>[Js,js]},getBounds:i.getOverflowBounds,lazySink:n.lazySink,fireDismissalEventInstead:{},markers:{toggledClass:n.markers.overflowToggledClass},parts:{button:l["overflow-button"](),toolbar:l.overflow()},onToggled:(f,p)=>n[p?"onOpened":"onClosed"](f)}));return{uid:n.uid,dom:n.dom,components:s,behaviours:Ut(n.splitToolbarBehaviours,[Us.config({others:{overflowGroup:()=>fw.sketch({...l["overflow-group"](),items:[u.asSpec()]})}})]),apis:{setGroups:(f,p)=>{n.builtGroups.set(nt(p,f.getSystem().build)),FT(f,u,n)},refresh:f=>FT(f,u,n),toggle:f=>{u.getOpt(f).each(p=>{xf.toggle(p)})},toggleWithoutFocusing:f=>{u.getOpt(f).each(xf.toggleWithoutFocusing)},isOpen:f=>u.getOpt(f).map(xf.isOpen).getOr(!1),reposition:f=>{u.getOpt(f).each(p=>{xf.reposition(p)})},getOverflow:f=>u.getOpt(f).bind(xf.getToolbar)},domModification:{attributes:{role:"group"}}}},apis:{setGroups:(n,s,i)=>{n.setGroups(s,i)},refresh:(n,s)=>{n.refresh(s)},reposition:(n,s)=>{n.reposition(s)},toggle:(n,s)=>{n.toggle(s)},toggleWithoutFocusing:(n,s)=>{n.toggle(s)},isOpen:(n,s)=>n.isOpen(s),getOverflow:(n,s)=>n.getOverflow(s)}}),eM=ne([yu(["closedClass","openClass","shrinkingClass","growingClass","overflowToggledClass"]),vn("onOpened"),vn("onClosed")].concat(BT())),tM=ne([gl({factory:bf,schema:Ng(),name:"primary"}),gl({factory:bf,schema:Ng(),name:"overflow",overrides:n=>({toolbarBehaviours:ct([oc.config({dimension:{property:"height"},closedClass:n.markers.closedClass,openClass:n.markers.openClass,shrinkingClass:n.markers.shrinkingClass,growingClass:n.markers.growingClass,onShrunk:s=>{Nr(s,n,"overflow-button").each(i=>{ko.off(i)}),n.onClosed(s)},onGrown:s=>{n.onOpened(s)},onStartGrow:s=>{Nr(s,n,"overflow-button").each(ko.on)}}),Yt.config({mode:"acyclic",onEscape:s=>(Nr(s,n,"overflow-button").each(Co.focus),T.some(!0))})])})}),Au({name:"overflow-button",overrides:n=>({buttonBehaviours:ct([ko.config({toggleClass:n.markers.overflowToggledClass,aria:{mode:"expanded"},toggleOnExecute:!1})])})}),Au({name:"overflow-group"})]),ES=(n,s,i)=>{Nr(n,s,"overflow-button").each(l=>{Nr(n,s,"overflow").each(u=>{if(AS(n,s),oc.hasShrunk(u)){const f=s.onOpened;s.onOpened=p=>{i||Yt.focusIn(u),f(p),s.onOpened=f}}else{const f=s.onClosed;s.onClosed=p=>{i||Co.focus(l),f(p),s.onClosed=f}}oc.toggleGrow(u)})})},AS=(n,s)=>{Nr(n,s,"overflow").each(i=>{MT(n,s,l=>{const u=nt(l,f=>Hl(f));bf.setGroups(i,u)}),Nr(n,s,"overflow-button").each(l=>{oc.hasGrown(i)&&ko.on(l)}),oc.refresh(i)})},zS=Vl({name:"SplitSlidingToolbar",configFields:eM(),partFields:tM(),factory:(n,s,i,l)=>{const u="alloy.toolbar.toggle";return{uid:n.uid,dom:n.dom,components:s,behaviours:Ut(n.splitToolbarBehaviours,[Us.config({others:{overflowGroup:f=>fw.sketch({...l["overflow-group"](),items:[ji.sketch({...l["overflow-button"](),action:p=>{jo(f,u)}})]})}}),Vo("toolbar-toggle-events",[Ue(u,f=>{ES(f,n,!1)})])]),apis:{setGroups:(f,p)=>{((b,y)=>{const w=nt(y,b.getSystem().build);n.builtGroups.set(w)})(f,p),AS(f,n)},refresh:f=>AS(f,n),toggle:f=>{ES(f,n,!1)},toggleWithoutFocusing:f=>{ES(f,n,!0)},isOpen:f=>((p,b)=>Nr(p,b,"overflow").map(oc.hasGrown).getOr(!1))(f,n)},domModification:{attributes:{role:"group"}}}},apis:{setGroups:(n,s,i)=>{n.setGroups(s,i)},refresh:(n,s)=>{n.refresh(s)},toggle:(n,s)=>{n.toggle(s)},isOpen:(n,s)=>n.isOpen(s)}}),$T=n=>{const s=n.title.fold(()=>({}),i=>({attributes:{title:i}}));return{dom:{tag:"div",classes:["tox-toolbar__group"],...s},components:[fw.parts.items({})],items:n.items,markers:{itemSelector:"*:not(.tox-split-button) > .tox-tbtn:not([disabled]), .tox-split-button:not([disabled]), .tox-toolbar-nav-js:not([disabled]), .tox-number-input:not([disabled])"},tgroupBehaviours:ct([Tr.config({}),Co.config({})])}},mw=n=>fw.sketch($T(n)),VT=(n,s)=>{const i=Ar(l=>{const u=nt(n.initGroups,mw);bf.setGroups(l,u)});return ct([Ux(n.providers.isDisabled),Ra(),Yt.config({mode:s,onEscape:n.onEscape,selector:".tox-toolbar__group"}),Vo("toolbar-events",[i])])},TS=n=>{const s=n.cyclicKeying?"cyclic":"acyclic";return{uid:n.uid,dom:{tag:"div",classes:["tox-toolbar-overlord"]},parts:{"overflow-group":$T({title:T.none(),items:[]}),"overflow-button":rS({name:"more",icon:T.some("more-drawer"),enabled:!0,tooltip:T.some("Reveal or hide additional toolbar items"),primary:!1,buttonType:T.none(),borderless:!1},T.none(),n.providers,[],"overflow-button")},splitToolbarBehaviours:VT(n,s)}},oM=n=>{const s=TS(n),i=HT.parts.primary({dom:{tag:"div",classes:["tox-toolbar__primary"]}});return HT.sketch({...s,lazySink:n.getSink,getOverflowBounds:()=>{const l=n.moreDrawerData.lazyHeader().element,u=Rl(l),f=nd(l),p=Rl(f),b=Math.max(f.dom.scrollHeight,p.height);return Ss(u.x+4,p.y,u.width-8,b)},parts:{...s.parts,overflow:{dom:{tag:"div",classes:["tox-toolbar__overflow"],attributes:n.attributes}}},components:[i],markers:{overflowToggledClass:"tox-tbtn--enabled"},onOpened:l=>n.onToggled(l,!0),onClosed:l=>n.onToggled(l,!1)})},nM=n=>{const s=zS.parts.primary({dom:{tag:"div",classes:["tox-toolbar__primary"]}}),i=zS.parts.overflow({dom:{tag:"div",classes:["tox-toolbar__overflow"]}}),l=TS(n);return zS.sketch({...l,components:[s,i],markers:{openClass:"tox-toolbar__overflow--open",closedClass:"tox-toolbar__overflow--closed",growingClass:"tox-toolbar__overflow--growing",shrinkingClass:"tox-toolbar__overflow--shrinking",overflowToggledClass:"tox-tbtn--enabled"},onOpened:u=>{u.getSystem().broadcastOn([ow()],{type:"opened"}),n.onToggled(u,!0)},onClosed:u=>{u.getSystem().broadcastOn([ow()],{type:"closed"}),n.onToggled(u,!1)}})},Iu=n=>{const s=n.cyclicKeying?"cyclic":"acyclic";return bf.sketch({uid:n.uid,dom:{tag:"div",classes:["tox-toolbar"].concat(n.type===Jd.scrolling?["tox-toolbar--scrolling"]:[])},components:[bf.parts.groups({})],toolbarBehaviours:VT(n,s)})},jT=[bg,eu,Da("tooltip"),Ll("buttonType","secondary",["primary","secondary"]),Ha("borderless",!1),Bl("onAction")],UT={button:[...jT,Qd,Ii("type",["button"])],togglebutton:[...jT,Ha("active",!1),Ii("type",["togglebutton"])]},OS=[Ii("type",["group"]),ni("buttons",[],xs("type",UT))],li=xs("type",{...UT,group:OS}),rM=to([ni("buttons",[],li),Bl("onShow"),Bl("onHide")]),ZT=(n,s)=>((i,l)=>{var u,f;const p=i.type==="togglebutton",b=i.icon.map(W=>bm(W,l.icons)).map(rr),y={...i,name:p?i.text.getOr(i.icon.getOr("")):(u=i.text)!==null&&u!==void 0?u:i.icon.getOr(""),primary:i.buttonType==="primary",buttonType:T.from(i.buttonType),tooltip:i.tooltip,icon:i.icon,enabled:!0,borderless:i.borderless},w=sS((f=i.buttonType)!==null&&f!==void 0?f:"secondary"),E=p?i.text.map(l.translate):T.some(l.translate(i.text)),_=E.map(zr),O=y.tooltip.or(E).map(W=>({"aria-label":l.translate(W)})).getOr({}),L=b.map(W=>W.asSpec()),I=vy([L,_]),K=i.icon.isSome()&&_.isSome(),q={tag:"button",classes:w.concat(...i.icon.isSome()&&!K?["tox-button--icon"]:[]).concat(...K?["tox-button--icon-and-text"]:[]).concat(...i.borderless?["tox-button--naked"]:[]).concat(...i.type==="togglebutton"&&i.active?["tox-button--enabled"]:[]),attributes:O},se=Z0(y,T.some(W=>{const Z=Y=>{b.map(oe=>oe.getOpt(W).each(re=>{po.set(re,[bm(Y,l.icons)])}))};return p?i.onAction({setIcon:Z,setActive:Y=>{const oe=W.element;Y?($t(oe,"tox-button--enabled"),uo(oe,"aria-pressed",!0)):(Io(oe,"tox-button--enabled"),Er(oe,"aria-pressed"))},isActive:()=>Zo(W.element,"tox-button--enabled")}):i.type==="button"?i.onAction({setIcon:Z}):void 0}),[],q,I,i.tooltip,l);return ji.sketch(se)})(n,s),WT=Ja().deviceType,sM=WT.isPhone(),aM=WT.isTablet();var Fy=Vl({name:"silver.View",configFields:[Ze("viewConfig")],partFields:[yd({factory:{sketch:n=>{let s=!1;const i=nt(n.buttons,l=>l.type==="group"?(s=!0,((u,f)=>({dom:{tag:"div",classes:["tox-view__toolbar__group"]},components:nt(u.buttons,p=>ZT(p,f))}))(l,n.providers)):ZT(l,n.providers));return{uid:n.uid,dom:{tag:"div",classes:[s?"tox-view__toolbar":"tox-view__header",...sM||aM?["tox-view--mobile","tox-view--scrolling"]:[]]},behaviours:ct([Co.config({}),Yt.config({mode:"flow",selector:"button, .tox-button",focusInside:wh.OnEnterOrSpaceMode})]),components:s?i:[Du.sketch({dom:{tag:"div",classes:["tox-view__header-start"]},components:[]}),Du.sketch({dom:{tag:"div",classes:["tox-view__header-end"]},components:i})]}}},schema:[Ze("buttons"),Ze("providers")],name:"header"}),yd({factory:{sketch:n=>({uid:n.uid,behaviours:ct([Co.config({}),Tr.config({})]),dom:{tag:"div",classes:["tox-view__pane"]}})},schema:[],name:"pane"})],factory:(n,s,i,l)=>{const u={getPane:f=>Ua.getPart(f,n,"pane"),getOnShow:f=>n.viewConfig.onShow,getOnHide:f=>n.viewConfig.onHide};return{uid:n.uid,dom:n.dom,components:s,behaviours:ct([Co.config({}),Yt.config({mode:"cyclic",focusInside:wh.OnEnterOrSpaceMode})]),apis:u}},apis:{getPane:(n,s)=>n.getPane(s),getOnShow:(n,s)=>n.getOnShow(s),getOnHide:(n,s)=>n.getOnHide(s)}});const iM=(n,s,i)=>tr(s,(l,u)=>{const f=Yi(Lr("view",rM,l));return n.slot(u,Fy.sketch({dom:{tag:"div",classes:["tox-view"]},viewConfig:f,components:[...f.buttons.length>0?[Fy.parts.header({buttons:f.buttons,providers:i})]:[],Fy.parts.pane({})]}))}),lM=(n,s)=>bl.sketch(i=>({dom:{tag:"div",classes:["tox-view-wrap__slot-container"]},components:iM(i,n,s),slotBehaviours:_0([Ar(l=>bl.hideAllSlots(l))])})),qT=n=>$(bl.getSlotNames(n),s=>bl.isShowing(n,s)),GT=(n,s,i)=>{bl.getSlot(n,s).each(l=>{Fy.getPane(l).each(u=>{var f;i(l)((f=u.element.dom,{getContainer:ne(f)}))})})};var pw=vd({factory:(n,s)=>{const i={setViews:(l,u)=>{po.set(l,[lM(u,s.backstage.shared.providers)])},whichView:l=>xn.getCurrent(l).bind(qT),toggleView:(l,u,f,p)=>xn.getCurrent(l).exists(b=>{const y=qT(b),w=y.exists(_=>p===_),E=bl.getSlot(b,p).isSome();return E&&(bl.hideAllSlots(b),w?((_=>{const O=_.element;mo(O,"display","none"),uo(O,"aria-hidden","true")})(l),u()):(f(),(_=>{const O=_.element;sn(O,"display"),Er(O,"aria-hidden")})(l),bl.showSlot(b,p),((_,O)=>{GT(_,O,Fy.getOnShow)})(b,p)),y.each(_=>((O,L)=>GT(O,L,Fy.getOnHide))(b,_))),E})};return{uid:n.uid,dom:{tag:"div",classes:["tox-view-wrap"],attributes:{"aria-hidden":"true"},styles:{display:"none"}},components:[],behaviours:ct([po.config({}),xn.config({find:l=>{const u=po.contents(l);return it(u)}})]),apis:i}},name:"silver.ViewWrapper",configFields:[Ze("backstage")],apis:{setViews:(n,s,i)=>n.setViews(s,i),toggleView:(n,s,i,l,u)=>n.toggleView(s,i,l,u),whichView:(n,s)=>n.whichView(s)}});const cM=hf.optional({factory:kS,name:"menubar",schema:[Ze("backstage")]}),dM=hf.optional({factory:{sketch:n=>tw.sketch({uid:n.uid,dom:n.dom,listBehaviours:ct([Yt.config({mode:"acyclic",selector:".tox-toolbar"})]),makeItem:()=>Iu({type:n.type,uid:Pt("multiple-toolbar-item"),cyclicKeying:!1,initGroups:[],providers:n.providers,onEscape:()=>(n.onEscape(),T.some(!0))}),setupItem:(s,i,l,u)=>{bf.setGroups(i,l)},shell:!0})},name:"multiple-toolbar",schema:[Ze("dom"),Ze("onEscape")]}),uM=hf.optional({factory:{sketch:n=>(i=>i.type===Jd.sliding?nM:i.type===Jd.floating?oM:Iu)(n)({type:n.type,uid:n.uid,onEscape:()=>(n.onEscape(),T.some(!0)),onToggled:(i,l)=>n.onToolbarToggled(l),cyclicKeying:!1,initGroups:[],getSink:n.getSink,providers:n.providers,moreDrawerData:{lazyToolbar:n.lazyToolbar,lazyMoreButton:n.lazyMoreButton,lazyHeader:n.lazyHeader},attributes:n.attributes})},name:"toolbar",schema:[Ze("dom"),Ze("onEscape"),Ze("getSink")]}),fM=hf.optional({factory:{sketch:n=>{const s=n.editor,i=n.sticky?ST:yT;return{uid:n.uid,dom:n.dom,components:n.components,behaviours:ct(i(s,n.sharedBackstage))}}},name:"header",schema:[Ze("dom")]}),mM=hf.optional({factory:{sketch:n=>({uid:n.uid,dom:n.dom,components:[{dom:{tag:"a",attributes:{href:"https://www.tiny.cloud/tinymce-self-hosted-premium-features/?utm_campaign=self_hosted_upgrade_promo&utm_source=tiny&utm_medium=referral",rel:"noopener",target:"_blank","aria-hidden":"true"},classes:["tox-promotion-link"],innerHtml:"⚡️Upgrade"}}]})},name:"promotion",schema:[Ze("dom")]}),pM=hf.optional({name:"socket",schema:[Ze("dom")]}),gM=hf.optional({factory:{sketch:n=>({uid:n.uid,dom:{tag:"div",classes:["tox-sidebar"],attributes:{role:"presentation"}},components:[{dom:{tag:"div",classes:["tox-sidebar__slider"]},components:[],behaviours:ct([Tr.config({}),Co.config({}),oc.config({dimension:{property:"width"},closedClass:"tox-sidebar--sliding-closed",openClass:"tox-sidebar--sliding-open",shrinkingClass:"tox-sidebar--sliding-shrinking",growingClass:"tox-sidebar--sliding-growing",onShrunk:s=>{xn.getCurrent(s).each(bl.hideAllSlots),jo(s,iw)},onGrown:s=>{jo(s,iw)},onStartGrow:s=>{Zt(s,aw,{width:cs(s.element,"width").getOr("")})},onStartShrink:s=>{Zt(s,aw,{width:Uo(s.element)+"px"})}}),po.config({}),xn.config({find:s=>{const i=po.contents(s);return it(i)}})])}],behaviours:ct([RC(0),Vo("sidebar-sliding-events",[Ue(aw,(s,i)=>{mo(s.element,"width",i.event.width)}),Ue(iw,(s,i)=>{sn(s.element,"width")})])])})},name:"sidebar",schema:[Ze("dom")]}),hM=hf.optional({factory:{sketch:n=>({uid:n.uid,dom:{tag:"div",attributes:{"aria-hidden":"true"},classes:["tox-throbber"],styles:{display:"none"}},behaviours:ct([po.config({}),vf.config({focus:!1}),xn.config({find:s=>it(s.components())})]),components:[]})},name:"throbber",schema:[Ze("dom")]}),bM=hf.optional({factory:pw,name:"viewWrapper",schema:[Ze("backstage")]}),yM=hf.optional({factory:{sketch:n=>({uid:n.uid,dom:{tag:"div",classes:["tox-editor-container"]},components:n.components})},name:"editorContainer",schema:[]});var Hr=Vl({name:"OuterContainer",factory:(n,s,i)=>{let l=!1;const u=p=>{l_(p,".tox-statusbar").each(b=>{ur(b,"display")==="none"&&hs(b,"aria-hidden")==="true"?(sn(b,"display"),Er(b,"aria-hidden")):(mo(b,"display","none"),uo(b,"aria-hidden","true"))})},f={getSocket:p=>Ua.getPart(p,n,"socket"),setSidebar:(p,b,y)=>{Ua.getPart(p,n,"sidebar").each(w=>((E,_,O)=>{xn.getCurrent(E).each(L=>{po.set(L,[K6(_)]);const I=O==null?void 0:O.toLowerCase();So(I)&&ro(_,I)&&xn.getCurrent(L).each(K=>{bl.showSlot(K,I),oc.immediateGrow(L),sn(L.element,"width"),sw(E.element,"region")})})})(w,b,y))},toggleSidebar:(p,b)=>{Ua.getPart(p,n,"sidebar").each(y=>((w,E)=>{xn.getCurrent(w).each(_=>{xn.getCurrent(_).each(O=>{oc.hasGrown(_)?bl.isShowing(O,E)?(oc.shrink(_),sw(w.element,"presentation")):(bl.hideAllSlots(O),bl.showSlot(O,E),sw(w.element,"region")):(bl.hideAllSlots(O),bl.showSlot(O,E),oc.grow(_),sw(w.element,"region"))})})})(y,b))},whichSidebar:p=>Ua.getPart(p,n,"sidebar").bind(wS).getOrNull(),getHeader:p=>Ua.getPart(p,n,"header"),getToolbar:p=>Ua.getPart(p,n,"toolbar"),setToolbar:(p,b)=>{Ua.getPart(p,n,"toolbar").each(y=>{const w=nt(b,mw);y.getApis().setGroups(y,w)})},setToolbars:(p,b)=>{Ua.getPart(p,n,"multiple-toolbar").each(y=>{const w=nt(b,E=>nt(E,mw));tw.setItems(y,w)})},refreshToolbar:p=>{Ua.getPart(p,n,"toolbar").each(b=>b.getApis().refresh(b))},toggleToolbarDrawer:p=>{Ua.getPart(p,n,"toolbar").each(b=>{ga(b.getApis().toggle,y=>y(b))})},toggleToolbarDrawerWithoutFocusing:p=>{Ua.getPart(p,n,"toolbar").each(b=>{ga(b.getApis().toggleWithoutFocusing,y=>y(b))})},isToolbarDrawerToggled:p=>Ua.getPart(p,n,"toolbar").bind(b=>T.from(b.getApis().isOpen).map(y=>y(b))).getOr(!1),getThrobber:p=>Ua.getPart(p,n,"throbber"),focusToolbar:p=>{Ua.getPart(p,n,"toolbar").orThunk(()=>Ua.getPart(p,n,"multiple-toolbar")).each(b=>{Yt.focusIn(b)})},setMenubar:(p,b)=>{Ua.getPart(p,n,"menubar").each(y=>{kS.setMenus(y,b)})},focusMenubar:p=>{Ua.getPart(p,n,"menubar").each(b=>{kS.focus(b)})},setViews:(p,b)=>{Ua.getPart(p,n,"viewWrapper").each(y=>{pw.setViews(y,b)})},toggleView:(p,b)=>Ua.getPart(p,n,"viewWrapper").exists(y=>pw.toggleView(y,()=>f.showMainView(p),()=>f.hideMainView(p),b)),whichView:p=>Ua.getPart(p,n,"viewWrapper").bind(pw.whichView).getOrNull(),hideMainView:p=>{l=f.isToolbarDrawerToggled(p),l&&f.toggleToolbarDrawer(p),Ua.getPart(p,n,"editorContainer").each(b=>{const y=b.element;u(y),mo(y,"display","none"),uo(y,"aria-hidden","true")})},showMainView:p=>{l&&f.toggleToolbarDrawer(p),Ua.getPart(p,n,"editorContainer").each(b=>{const y=b.element;u(y),sn(y,"display"),Er(y,"aria-hidden")})}};return{uid:n.uid,dom:n.dom,components:s,apis:f,behaviours:n.behaviours}},configFields:[Ze("dom"),Ze("behaviours")],partFields:[fM,cM,uM,dM,pM,gM,mM,hM,bM,yM],apis:{getSocket:(n,s)=>n.getSocket(s),setSidebar:(n,s,i,l)=>{n.setSidebar(s,i,l)},toggleSidebar:(n,s,i)=>{n.toggleSidebar(s,i)},whichSidebar:(n,s)=>n.whichSidebar(s),getHeader:(n,s)=>n.getHeader(s),getToolbar:(n,s)=>n.getToolbar(s),setToolbar:(n,s,i)=>{n.setToolbar(s,i)},setToolbars:(n,s,i)=>{n.setToolbars(s,i)},refreshToolbar:(n,s)=>n.refreshToolbar(s),toggleToolbarDrawer:(n,s)=>{n.toggleToolbarDrawer(s)},toggleToolbarDrawerWithoutFocusing:(n,s)=>{n.toggleToolbarDrawerWithoutFocusing(s)},isToolbarDrawerToggled:(n,s)=>n.isToolbarDrawerToggled(s),getThrobber:(n,s)=>n.getThrobber(s),setMenubar:(n,s,i)=>{n.setMenubar(s,i)},focusMenubar:(n,s)=>{n.focusMenubar(s)},focusToolbar:(n,s)=>{n.focusToolbar(s)},setViews:(n,s,i)=>{n.setViews(s,i)},toggleView:(n,s,i)=>n.toggleView(s,i),whichView:(n,s)=>n.whichView(s)}});const KT={file:{title:"File",items:"newdocument restoredraft | preview | importword exportpdf exportword | export print | deleteallconversations"},edit:{title:"Edit",items:"undo redo | cut copy paste pastetext | selectall | searchreplace"},view:{title:"View",items:"code revisionhistory | visualaid visualchars visualblocks | spellchecker | preview fullscreen | showcomments"},insert:{title:"Insert",items:"image link media addcomment pageembed inserttemplate codesample inserttable accordion math | charmap emoticons hr | pagebreak nonbreaking anchor tableofcontents footnotes | mergetags | insertdatetime"},format:{title:"Format",items:"bold italic underline strikethrough superscript subscript codeformat | styles blocks fontfamily fontsize align lineheight | forecolor backcolor | language | removeformat"},tools:{title:"Tools",items:"aidialog aishortcuts | spellchecker spellcheckerlanguage | autocorrect capitalization | a11ycheck code typography wordcount addtemplate"},table:{title:"Table",items:"inserttable | cell row column | advtablesort | tableprops deletetable"},help:{title:"Help",items:"help"}},DS=n=>n.split(" "),YT=(n,s)=>{const i={...KT,...s.menus},l=$o(s.menus).length>0,u=s.menubar===void 0||s.menubar===!0?DS("file edit view insert format tools table help"):DS(s.menubar===!1?"":s.menubar),f=kn(u,b=>{const y=ro(KT,b);return l?y||lt(s.menus,b).exists(w=>ro(w,"items")):y}),p=nt(f,b=>{const y=i[b];return((w,E,_)=>{const O=aE(_).split(/[ ,]/);return{text:w.title,getItems:()=>mn(w.items,L=>{const I=L.toLowerCase();return I.trim().length===0||Tt(O,K=>K===I)?[]:I==="separator"||I==="|"?[{type:"separator"}]:E.menuItems[I]?[E.menuItems[I]]:[]})}})({title:y.title,items:DS(y.items)},s,n)});return kn(p,b=>b.getItems().length>0&&Tt(b.getItems(),y=>So(y)||y.type!=="separator"))},RS=(n,s,i)=>(n.on("remove",()=>i.unload(s)),i.load(s)),NS=(n,s,i,l)=>(n.on("remove",()=>l.unloadRawCss(s)),l.loadRawCss(s,i)),XT=async(n,s)=>{const i="ui/"+_x(n).getOr("default")+"/skin.css",l=tinymce.Resource.get(i);if(!So(l)){const u=n.editorManager.suffix;return RS(n,s+`/skin${u}.css`,n.ui.styleSheetLoader)}NS(n,i,l,n.ui.styleSheetLoader)},vM=async(n,s)=>{var i;if(i=wt(n.getElement()),ts(i).isSome()){const l="ui/"+_x(n).getOr("default")+"/skin.shadowdom.css",u=tinymce.Resource.get(l);if(!So(u)){const f=n.editorManager.suffix;return RS(n,s+`/skin.shadowdom${f}.css`,dy.DOM.styleSheetLoader)}NS(n,l,u,dy.DOM.styleSheetLoader)}},JT=(n,s)=>(async(i,l)=>{const u=()=>{const p=wx(l),b=l.editorManager.suffix;p&&l.contentCSS.push(p+(i?"/content.inline":"/content")+`${b}.css`)};_x(l).fold(u,p=>{const b="ui/"+p+(i?"/content.inline":"/content")+".css",y=tinymce.Resource.get(b);So(y)?NS(l,b,y,l.ui.styleSheetLoader):u()});const f=wx(l);if(!cg(l)&&So(f))return Promise.all([XT(l,f),vM(l,f)]).then()})(n,s).then((i=>{const l=()=>{i._skinLoaded=!0,(u=>{u.dispatch("SkinLoaded")})(i)};return()=>{i.initialized?l():i.on("init",l)}})(s),((i,l)=>()=>((u,f)=>{u.dispatch("SkinLoadError",f)})(i,{message:"Skin could not be loaded"}))(s)),xM=dt(JT,!1),QT=dt(JT,!0),Hy=(n,s,i)=>ui(i)?n.translate(s):n.translate([s,n.translate(i)]),kM=(n,s)=>{const i=(f,p,b,y)=>{const w=n.shared.providers.translate(f.title);if(f.type==="separator")return T.some({type:"separator",text:w});if(f.type==="submenu"){const E=mn(f.getStyleItems(),_=>l(_,p,y));return p===0&&E.length<=0?T.none():T.some({type:"nestedmenuitem",text:w,enabled:E.length>0,getSubmenuItems:()=>mn(f.getStyleItems(),_=>l(_,p,y))})}return T.some({type:"togglemenuitem",text:w,icon:f.icon,active:f.isSelected(y),enabled:!b,onAction:s.onAction(f),...f.getStylePreview().fold(()=>({}),E=>({meta:{style:E}}))})},l=(f,p,b)=>{const y=f.type==="formatter"&&s.isInvalid(f);return p===0?y?[]:i(f,p,!1,b).toArray():i(f,p,y,b).toArray()},u=f=>{const p=s.getCurrentValue(),b=s.shouldHide?0:1;return mn(f,y=>l(y,b,p))};return{validateItems:u,getFetch:(f,p)=>(b,y)=>{const w=p(),E=u(w);y(Iy(E,uf.CLOSE_ON_EXECUTE,f,{isHorizontalMenu:!1,search:T.none()}))}}},$y=(n,s)=>{const i=s.dataset,l=i.type==="basic"?()=>nt(i.data,u=>Qz(u,s.isSelectedFor,s.getPreviewFor)):i.getData;return{items:kM(n,s),getStyleItems:l}},Y0=(n,s,i,l,u,f)=>{const{items:p,getStyleItems:b}=$y(s,i),y=eo(i.tooltip);return Fk({text:i.icon.isSome()?T.none():i.text,icon:i.icon,ariaLabel:T.some(i.tooltip),tooltip:T.none(),role:T.none(),fetch:p.getFetch(s,b),onSetup:w=>{const E=_=>w.setTooltip(Hy(n,l(_.value),_.value));return n.on(u,E),Kx(bp(n,"NodeChange",_=>{const O=_.getComponent();i.updateText(O),zo.set(_.getComponent(),!n.selection.isEditable())})(w),()=>n.off(u,E))},getApi:w=>({getComponent:ne(w),setTooltip:E=>{const _=s.shared.providers.translate(E);uo(w.element,"aria-label",_),y.set(E)}}),columns:1,presets:"normal",classes:i.icon.isSome()?[]:["bespoke"],dropdownBehaviours:[Ui.config({...s.shared.providers.tooltips.getConfig({tooltipText:s.shared.providers.translate(i.tooltip),onShow:w=>{if(i.tooltip!==y.get()){const E=s.shared.providers.translate(y.get());Ui.setComponents(w,s.shared.providers.tooltips.getComponents({tooltipText:E}))}}})})]},"tox-tbtn",s.shared,f)};var eb;(function(n){n[n.SemiColon=0]="SemiColon",n[n.Space=1]="Space"})(eb||(eb={}));const MS=(n,s,i)=>{const l=(u=((f,p)=>p===eb.SemiColon?f.replace(/;$/,"").split(";"):f.split(" "))(n.options.get(s),i),nt(u,f=>{let p=f,b=f;const y=f.split("=");return y.length>1&&(p=y[0],b=y[1]),{title:p,format:b}}));var u;return{type:"basic",data:l}},BS=ne("Alignment {0}"),eO="left",gw=[{title:"Left",icon:"align-left",format:"alignleft",command:"JustifyLeft"},{title:"Center",icon:"align-center",format:"aligncenter",command:"JustifyCenter"},{title:"Right",icon:"align-right",format:"alignright",command:"JustifyRight"},{title:"Justify",icon:"align-justify",format:"alignjustify",command:"JustifyFull"}],tO=n=>{const s={type:"basic",data:gw};return{tooltip:Hy(n,BS(),eO),text:T.none(),icon:T.some("align-left"),isSelectedFor:i=>()=>n.formatter.match(i),getCurrentValue:T.none,getPreviewFor:i=>T.none,onAction:i=>()=>$(gw,l=>l.format===i.format).each(l=>n.execCommand(l.command)),updateText:i=>{const l=$(gw,u=>n.formatter.match(u.format)).fold(ne(eO),u=>u.title.toLowerCase());Zt(i,Og,{icon:`align-${l}`}),((u,f)=>{u.dispatch("AlignTextUpdate",f)})(n,{value:l})},dataset:s,shouldHide:!1,isInvalid:i=>!n.formatter.canApply(i.format)}},oO=(n,s)=>{const i=s(),l=nt(i,u=>u.format);return T.from(n.formatter.closest(l)).bind(u=>$(i,f=>f.format===u))},nO=ne("Block {0}"),IS="Paragraph",rO=n=>{const s=MS(n,"block_formats",eb.SemiColon);return{tooltip:Hy(n,nO(),IS),text:T.some(IS),icon:T.none(),isSelectedFor:i=>()=>n.formatter.match(i),getCurrentValue:T.none,getPreviewFor:i=>()=>{const l=n.formatter.get(i);return l?T.some({tag:l.length>0&&(l[0].inline||l[0].block)||"div",styles:n.dom.parseStyle(n.formatter.getCssText(i))}):T.none()},onAction:bA(n),updateText:i=>{const l=oO(n,()=>s.data).fold(ne(IS),u=>u.title);Zt(i,nu,{text:l}),((u,f)=>{u.dispatch("BlocksTextUpdate",f)})(n,{value:l})},dataset:s,shouldHide:!1,isInvalid:i=>!n.formatter.canApply(i.format)}},sO=ne("Font {0}"),LS="System Font",wM=["-apple-system","Segoe UI","Roboto","Helvetica Neue","sans-serif"],aO=n=>{const s=n.split(/\s*,\s*/);return nt(s,i=>i.replace(/^['"]+|['"]+$/g,""))},iO=(n,s)=>s.length>0&&Ga(s,i=>n.indexOf(i.toLowerCase())>-1),lO=n=>{const s=()=>{const l=w=>w?aO(w)[0]:"",u=n.queryCommandValue("FontName"),f=i.data,p=u?u.toLowerCase():"",b=kx(n);return{matchOpt:$(f,w=>{const E=w.format;return E.toLowerCase()===p||l(E).toLowerCase()===l(p).toLowerCase()}).orThunk(()=>Bo(((w,E)=>{if(w.indexOf("-apple-system")===0||E.length>0){const _=aO(w.toLowerCase());return iO(_,wM)||iO(_,E)}return!1})(p,b),{title:LS,format:p})),font:u}},i=MS(n,"font_family_formats",eb.SemiColon);return{tooltip:Hy(n,sO(),LS),text:T.some(LS),icon:T.none(),isSelectedFor:l=>u=>u.exists(f=>f.format===l),getCurrentValue:()=>{const{matchOpt:l}=s();return l},getPreviewFor:l=>()=>T.some({tag:"div",styles:l.indexOf("dings")===-1?{"font-family":l}:{}}),onAction:l=>()=>{n.undoManager.transact(()=>{n.focus(),n.execCommand("FontName",!1,l.format)})},updateText:l=>{const{matchOpt:u,font:f}=s(),p=u.fold(ne(f),b=>b.title);Zt(l,nu,{text:p}),((b,y)=>{b.dispatch("FontFamilyTextUpdate",y)})(n,{value:p})},dataset:i,shouldHide:!1,isInvalid:Le}},_M={unsupportedLength:["em","ex","cap","ch","ic","rem","lh","rlh","vw","vh","vi","vb","vmin","vmax","cm","mm","Q","in","pc","pt","px"],fixed:["px","pt"],relative:["%"],empty:[""]},CM=(()=>{const n="[0-9]+",s="[eE][+-]?"+n,i=u=>`(?:${u})?`,l=["Infinity",n+"\\."+i(n)+i(s),"\\."+n+i(s),n+i(s)].join("|");return new RegExp(`^([+-]?(?:${l}))(.*)$`)})(),X0=(n,s)=>T.from(CM.exec(n)).bind(i=>{const l=Number(i[1]),u=i[2];return((f,p)=>Tt(p,b=>Tt(_M[b],y=>f===y)))(u,s)?T.some({value:l,unit:u}):T.none()}),cO={tab:ne(9),escape:ne(27),enter:ne(13),backspace:ne(8),delete:ne(46),left:ne(37),up:ne(38),right:ne(39),down:ne(40),space:ne(32),home:ne(36),end:ne(35),pageUp:ne(33),pageDown:ne(34)},dO=ne("Font size {0}"),uO="12pt",SM={"8pt":"1","10pt":"2","12pt":"3","14pt":"4","18pt":"5","24pt":"6","36pt":"7"},EM={"xx-small":"7pt","x-small":"8pt",small:"10pt",medium:"12pt",large:"14pt","x-large":"18pt","xx-large":"24pt"},PS=(n,s)=>/[0-9.]+px$/.test(n)?((i,l)=>{const u=Math.pow(10,l);return Math.round(i*u)/u})(72*parseInt(n,10)/96,s||0)+"pt":lt(EM,n).getOr(n),AM=n=>lt(SM,n).getOr(""),fO=n=>{const s=()=>{let u=T.none();const f=l.data,p=n.queryCommandValue("FontSize");if(p)for(let b=3;u.isNone()&&b>=0;b--){const y=PS(p,b),w=AM(y);u=$(f,E=>E.format===p||E.format===y||E.format===w)}return{matchOpt:u,size:p}},i=ne(T.none),l=MS(n,"font_size_formats",eb.Space);return{tooltip:Hy(n,dO(),uO),text:T.some(uO),icon:T.none(),isSelectedFor:u=>f=>f.exists(p=>p.format===u),getPreviewFor:i,getCurrentValue:()=>{const{matchOpt:u}=s();return u},onAction:u=>()=>{n.undoManager.transact(()=>{n.focus(),n.execCommand("FontSize",!1,u.format)})},updateText:u=>{const{matchOpt:f,size:p}=s(),b=f.fold(ne(p),y=>y.title);Zt(u,nu,{text:b}),((y,w)=>{y.dispatch("FontSizeTextUpdate",w)})(n,{value:b})},dataset:l,shouldHide:!1,isInvalid:Le}},mO=n=>ui(n)?"Formats":"Format {0}",FS=(n,s)=>{const i="Formats";return{tooltip:Hy(n,mO(""),""),text:T.some(i),icon:T.none(),isSelectedFor:l=>()=>n.formatter.match(l),getCurrentValue:T.none,getPreviewFor:l=>()=>{const u=n.formatter.get(l);return u!==void 0?T.some({tag:u.length>0&&(u[0].inline||u[0].block)||"div",styles:n.dom.parseStyle(n.formatter.getCssText(l))}):T.none()},onAction:bA(n),updateText:l=>{const u=b=>Xz(b)?mn(b.items,u):mS(b)?[{title:b.title,format:b.format}]:[],f=mn(Jz(n),u),p=oO(n,ne(f)).fold(ne({title:i,tooltipLabel:""}),b=>({title:b.title,tooltipLabel:b.title}));Zt(l,nu,{text:p.title}),((b,y)=>{b.dispatch("StylesTextUpdate",y)})(n,{value:p.tooltipLabel})},shouldHide:sE(n),isInvalid:l=>!n.formatter.canApply(l.format),dataset:s}},pO=ne([Ze("toggleClass"),Ze("fetch"),Ku("onExecute"),Ae("getHotspot",T.some),Ae("getAnchorOverrides",ne({})),Wc(),Ku("onItemExecute"),wn("lazySink"),Ze("dom"),vn("onOpen"),xt("splitDropdownBehaviours",[Us,Yt,Co]),Ae("matchWidth",!1),Ae("useMinWidth",!1),Ae("eventOrder",{}),wn("role")].concat(tC())),zM=gl({factory:ji,schema:[Ze("dom")],name:"arrow",defaults:()=>({buttonBehaviours:ct([Co.revoke()])}),overrides:n=>({dom:{tag:"span",attributes:{role:"presentation"}},action:s=>{s.getSystem().getByUid(n.uid).each(uc)},buttonBehaviours:ct([ko.config({toggleOnExecute:!1,toggleClass:n.toggleClass})])})}),TM=gl({factory:ji,schema:[Ze("dom")],name:"button",defaults:()=>({buttonBehaviours:ct([Co.revoke()])}),overrides:n=>({dom:{tag:"span",attributes:{role:"presentation"}},action:s=>{s.getSystem().getByUid(n.uid).each(i=>{n.onExecute(i,s)})}})}),gO=ne([zM,TM,yd({factory:{sketch:n=>({uid:n.uid,dom:{tag:"span",styles:{display:"none"},attributes:{"aria-hidden":"true"},innerHtml:n.text}})},schema:[Ze("text")],name:"aria-descriptor"}),Au({schema:[xa()],name:"menu",defaults:n=>({onExecute:(s,i)=>{s.getSystem().getByUid(n.uid).each(l=>{n.onItemExecute(l,s,i)})}})}),zA()]),hw=Vl({name:"SplitDropdown",configFields:pO(),partFields:gO(),factory:(n,s,i,l)=>{const u=w=>{xn.getCurrent(w).each(E=>{Wn.highlightFirst(E),Yt.focusIn(E)})},f=w=>{Q2(n,Et,w,l,u,nl.HighlightMenuAndItem).get(ut)},p=w=>{const E=lp(w,n,"button");return uc(E),T.some(!0)},b={..._n([Ar((w,E)=>{Nr(w,n,"aria-descriptor").each(_=>{const O=Pt("aria");uo(_.element,"id",O),uo(w.element,"aria-describedby",O)})})]),...ly(T.some(f))},y={repositionMenus:w=>{ko.isOn(w)&&_g(w)}};return{uid:n.uid,dom:n.dom,components:s,apis:y,eventOrder:{...n.eventOrder,[va()]:["disabling","toggling","alloy.base.behaviour"]},events:b,behaviours:Ut(n.splitDropdownBehaviours,[Us.config({others:{sandbox:w=>{const E=lp(w,n,"arrow");return eC(n,w,{onOpen:()=>{ko.on(E),ko.on(w)},onClose:()=>{ko.off(E),ko.off(w)}})}}}),Yt.config({mode:"special",onSpace:p,onEnter:p,onDown:w=>(f(w),T.some(!0))}),Co.config({}),ko.config({toggleOnExecute:!1,aria:{mode:"expanded"}})]),domModification:{attributes:{role:n.role.getOr("button"),"aria-haspopup":!0}}}},apis:{repositionMenus:(n,s)=>n.repositionMenus(s)}}),hO=n=>({isEnabled:()=>!zo.isDisabled(n),setEnabled:s=>zo.set(n,!s),setText:s=>Zt(n,nu,{text:s}),setIcon:s=>Zt(n,Og,{icon:s})}),OM=n=>({setActive:s=>{ko.set(n,s)},isActive:()=>ko.isOn(n),isEnabled:()=>!zo.isDisabled(n),setEnabled:s=>zo.set(n,!s),setText:s=>Zt(n,nu,{text:s}),setIcon:s=>Zt(n,Og,{icon:s})}),bO=(n,s)=>n.map(i=>({"aria-label":s.translate(i)})).getOr({}),yO=Pt("focus-button"),HS=(n,s,i,l,u,f)=>{const p=s.map(y=>rr($0(y,"tox-tbtn",u))),b=n.map(y=>rr(bm(y,u.icons)));return{dom:{tag:"button",classes:["tox-tbtn"].concat(s.isSome()?["tox-tbtn--select"]:[]),attributes:{...bO(i,u),...It(f)?{"data-mce-name":f}:{}}},components:vy([b.map(y=>y.asSpec()),p.map(y=>y.asSpec())]),eventOrder:{[j()]:["focusing","alloy.base.behaviour",Wh],[Qi()]:[Wh,"toolbar-group-button-events"]},buttonBehaviours:ct([Ux(u.isDisabled),Ra(),Vo(Wh,[Ar((y,w)=>Pk(y)),Ue(nu,(y,w)=>{p.bind(E=>E.getOpt(y)).each(E=>{po.set(E,[zr(u.translate(w.event.text))])})}),Ue(Og,(y,w)=>{b.bind(E=>E.getOpt(y)).each(E=>{po.set(E,[bm(w.event.icon,u.icons)])})}),Ue(j(),(y,w)=>{w.event.prevent(),jo(y,yO)})])].concat(l.getOr([])))}},J0=(n,s,i,l)=>{var u;const f=eo(ut),p=HS(n.icon,n.text,n.tooltip,T.none(),i,l);return ji.sketch({dom:p.dom,components:p.components,eventOrder:VC,buttonBehaviours:{...ct([Vo("toolbar-button-events",[(b={onAction:n.onAction,getApi:s.getApi},Lc((y,w)=>{C0(b,y)(E=>{Zt(y,Lk,{buttonApi:E}),b.onAction(E)})})),yg(s,f),pp(s,f)]),...n.tooltip.map(y=>Ui.config(i.tooltips.getConfig({tooltipText:i.translate(y)+n.shortcut.map(w=>` (${Zx(w)})`).getOr("")}))).toArray(),Ux(()=>!n.enabled||i.isDisabled()),Ra()].concat(s.toolbarButtonBehaviours)),[Wh]:(u=p.buttonBehaviours)===null||u===void 0?void 0:u[Wh]}});var b},vO=(n,s,i,l)=>J0(n,{toolbarButtonBehaviours:i.length>0?[Vo("toolbarButtonWith",i)]:[],getApi:hO,onSetup:n.onSetup},s,l),Q0=(n,s,i,l)=>J0(n,{toolbarButtonBehaviours:[po.config({}),ko.config({toggleClass:"tox-tbtn--enabled",aria:{mode:"pressed"},toggleOnExecute:!1})].concat(i.length>0?[Vo("toolbarToggleButtonWith",i)]:[]),getApi:OM,onSetup:n.onSetup},s,l),DM=(n,s,i)=>l=>wg(u=>s.fetch(u)).map(u=>T.from(ik(Ir(G2(Pt("menu-value"),u,f=>{s.onItemAction(n(l),f)},s.columns,s.presets,uf.CLOSE_ON_EXECUTE,s.select.getOr(Le),i),{movement:R0(s.columns,s.presets),menuBehaviours:_0(s.columns!=="auto"?[]:[Ar((f,p)=>{O2(f,4,gg(s.presets)).each(({numRows:b,numColumns:y})=>{Yt.setGridSize(f,b,y)})})])})))),RM=[{name:"history",items:["undo","redo"]},{name:"ai",items:["aidialog","aishortcuts"]},{name:"styles",items:["styles"]},{name:"formatting",items:["bold","italic"]},{name:"alignment",items:["alignleft","aligncenter","alignright","alignjustify"]},{name:"indentation",items:["outdent","indent"]},{name:"permanent pen",items:["permanentpen"]},{name:"comments",items:["addcomment"]}],ev=(n,s)=>(i,l,u,f)=>{const p=n(i).mapError(b=>dc(b)).getOrDie();return s(p,l,u,f)},NM={button:ev($x,(n,s,i,l)=>((u,f,p)=>vO(u,f,[],p))(n,s.shared.providers,l)),togglebutton:ev(w0,(n,s,i,l)=>((u,f,p)=>Q0(u,f,[],p))(n,s.shared.providers,l)),menubutton:ev(xS,(n,s,i,l)=>j0(n,"tox-tbtn",s,T.none(),!1,l)),splitbutton:ev(n=>Lr("SplitButton",U6,n),(n,s,i,l)=>((u,f,p)=>{const b=eo(u.tooltip.getOr("")),y=_=>({isEnabled:()=>!zo.isDisabled(_),setEnabled:O=>zo.set(_,!O),setIconFill:(O,L)=>{ss(_.element,`svg path[class="${O}"], rect[class="${O}"]`).each(I=>{uo(I,"fill",L)})},setActive:O=>{uo(_.element,"aria-pressed",O),ss(_.element,"span").each(L=>{_.getSystem().getByDom(L).each(I=>ko.set(I,O))})},isActive:()=>ss(_.element,"span").exists(O=>_.getSystem().getByDom(O).exists(ko.isOn)),setText:O=>ss(_.element,"span").each(L=>_.getSystem().getByDom(L).each(I=>Zt(I,nu,{text:O}))),setIcon:O=>ss(_.element,"span").each(L=>_.getSystem().getByDom(L).each(I=>Zt(I,Og,{icon:O}))),setTooltip:O=>{const L=f.providers.translate(O);uo(_.element,"aria-label",L),b.set(O)}}),w=eo(ut),E={getApi:y,onSetup:u.onSetup};return hw.sketch({dom:{tag:"div",classes:["tox-split-button"],attributes:{"aria-pressed":!1,...bO(u.tooltip,f.providers),...It(p)?{"data-mce-name":p}:{}}},onExecute:_=>{const O=y(_);O.isEnabled()&&u.onAction(O)},onItemExecute:(_,O,L)=>{},splitDropdownBehaviours:ct([aA(f.providers.isDisabled),Ra(),Vo("split-dropdown-events",[Ar((_,O)=>Pk(_)),Ue(yO,Co.focus),yg(E,w),pp(E,w)]),Uh.config({}),...u.tooltip.map(_=>Ui.config({...f.providers.tooltips.getConfig({tooltipText:f.providers.translate(_),onShow:O=>{if(b.get()!==_){const L=f.providers.translate(b.get());Ui.setComponents(O,f.providers.tooltips.getComponents({tooltipText:L}))}}})})).toArray()]),eventOrder:{[Qi()]:["alloy.base.behaviour","split-dropdown-events","tooltipping"],[si()]:["split-dropdown-events","tooltipping"]},toggleClass:"tox-tbtn--enabled",lazySink:f.getSink,fetch:DM(y,u,f.providers),parts:{menu:Px(0,u.columns,u.presets)},components:[hw.parts.button(HS(u.icon,u.text,T.none(),T.some([ko.config({toggleClass:"tox-tbtn--enabled",toggleOnExecute:!1})]),f.providers)),hw.parts.arrow({dom:{tag:"button",classes:["tox-tbtn","tox-split-button__chevron"],innerHtml:TE("chevron-down",f.providers.icons)},buttonBehaviours:ct([aA(f.providers.isDisabled),Ra(),Bx()])}),hw.parts["aria-descriptor"]({text:f.providers.translate("To open the popup, press Shift+Enter")})]})})(n,s.shared,l)),grouptoolbarbutton:ev(n=>Lr("GroupToolbarButton",V6,n),(n,s,i,l)=>{const u=i.ui.registry.getAll().buttons,f={[Fb]:s.shared.header.isPositionedAtTop()?wa.TopToBottom:wa.BottomToTop};if(Oh(i)===Jd.floating)return((p,b,y,w,E)=>{const _=b.shared,O=eo(ut),L={toolbarButtonBehaviours:[],getApi:hO,onSetup:p.onSetup},I=[Vo("toolbar-group-button-events",[yg(L,O),pp(L,O)])];return xf.sketch({lazySink:_.getSink,fetch:()=>wg(K=>{K(nt(y(p.items),mw))}),markers:{toggledClass:"tox-tbtn--enabled"},parts:{button:HS(p.icon,p.text,p.tooltip,T.some(I),_.providers,E),toolbar:{dom:{tag:"div",classes:["tox-toolbar__overflow"],attributes:w}}}})})(n,s,p=>tb(i,{buttons:u,toolbar:p,allowToolbarGroups:!1},s,T.none()),f,l);throw new Error("Toolbar groups are only supported when using floating toolbar mode")})},MM={styles:(n,s)=>{const i={type:"advanced",...s.styles};return Y0(n,s,FS(n,i),mO,"StylesTextUpdate","styles")},fontsize:(n,s)=>Y0(n,s,fO(n),dO,"FontSizeTextUpdate","fontsize"),fontsizeinput:(n,s)=>((i,l,u,f)=>{let p=T.none();const b=bp(i,"NodeChange SwitchMode",Y=>{const oe=Y.getComponent();p=T.some(oe),u.updateInputValue(oe),zo.set(oe,!i.selection.isEditable())}),y=Y=>({getComponent:ne(Y)}),w=eo(ut),E=Pt("custom-number-input-events"),_=(Y,oe,re)=>{const be=p.map(kt=>Ee.getValue(kt)).getOr(""),Oe=u.getNewValue(be,Y),Ke=be.length-`${Oe}`.length,Je=p.map(kt=>kt.element.dom.selectionStart-Ke),at=p.map(kt=>kt.element.dom.selectionEnd-Ke);u.onAction(Oe,re),p.each(kt=>{Ee.setValue(kt,Oe),oe&&(Je.each(Mt=>kt.element.dom.selectionStart=Mt),at.each(Mt=>kt.element.dom.selectionEnd=Mt))})},O=(Y,oe)=>_((re,be)=>re-be,Y,oe),L=(Y,oe)=>_((re,be)=>re+be,Y,oe),I=Y=>qr(Y.element).fold(T.none,oe=>(Uc(oe),T.some(!0))),K=Y=>Gm(Y.element)?(pi(Y.element).each(oe=>Uc(oe)),T.some(!0)):T.none(),q=(Y,oe,re,be)=>{const Oe=eo(ut),Ke=l.shared.providers.translate(re),Je=Pt("altExecuting"),at=bp(i,"NodeChange SwitchMode",Mt=>{zo.set(Mt.getComponent(),!i.selection.isEditable())}),kt=Mt=>{zo.isDisabled(Mt)||Y(!0)};return ji.sketch({dom:{tag:"button",attributes:{"aria-label":Ke,"data-mce-name":oe},classes:be.concat(oe)},components:[jC(oe,l.shared.providers.icons)],buttonBehaviours:ct([zo.config({}),Ui.config(l.shared.providers.tooltips.getConfig({tooltipText:Ke})),Vo(Je,[yg({onSetup:at,getApi:y},Oe),pp({getApi:y},Oe),Ue(Ht(),(Mt,qt)=>{qt.event.raw.keyCode!==cO.space()&&qt.event.raw.keyCode!==cO.enter()||zo.isDisabled(Mt)||Y(!1)}),Ue(xi(),kt),Ue(C(),kt)])]),eventOrder:{[Ht()]:[Je,"keying"],[xi()]:[Je,"alloy.base.behaviour"],[C()]:[Je,"alloy.base.behaviour"],[Qi()]:["alloy.base.behaviour",Je,"tooltipping"],[si()]:[Je,"tooltipping"]}})},se=rr(q(Y=>O(!1,Y),"minus","Decrease font size",[])),W=rr(q(Y=>L(!1,Y),"plus","Increase font size",[])),Z=rr({dom:{tag:"div",classes:["tox-input-wrapper"]},components:[mp.sketch({inputBehaviours:ct([zo.config({}),Vo(E,[yg({onSetup:b,getApi:y},w),pp({getApi:y},w)]),Vo("input-update-display-text",[Ue(nu,(Y,oe)=>{Ee.setValue(Y,oe.event.text)}),Ue(Oo(),Y=>{u.onAction(Ee.getValue(Y))}),Ue($a(),Y=>{u.onAction(Ee.getValue(Y))})]),Yt.config({mode:"special",onEnter:Y=>(_(Et,!0,!0),T.some(!0)),onEscape:I,onUp:Y=>(L(!0,!1),T.some(!0)),onDown:Y=>(O(!0,!1),T.some(!0)),onLeft:(Y,oe)=>(oe.cut(),T.none()),onRight:(Y,oe)=>(oe.cut(),T.none())})])})],behaviours:ct([Co.config({}),Yt.config({mode:"special",onEnter:K,onSpace:K,onEscape:I}),Vo("input-wrapper-events",[Ue(Vt(),Y=>{Ot([se,W],oe=>{const re=wt(oe.get(Y).element.dom);Gm(re)&&qm(re)})})])])});return{dom:{tag:"div",classes:["tox-number-input"],attributes:{...It(f)?{"data-mce-name":f}:{}}},components:[se.asSpec(),Z.asSpec(),W.asSpec()],behaviours:ct([Co.config({}),Yt.config({mode:"flow",focusInside:wh.OnEnterOrSpaceMode,cycles:!1,selector:"button, .tox-input-wrapper",onEscape:Y=>Gm(Y.element)?T.none():(Uc(Y.element),T.some(!0))})])}})(n,s,(i=>{const l=()=>i.queryCommandValue("FontSize");return{updateInputValue:u=>Zt(u,nu,{text:l()}),onAction:(u,f)=>i.execCommand("FontSize",!1,u,{skip_focus:!f}),getNewValue:(u,f)=>{X0(u,["unsupportedLength","empty"]);const p=l(),b=X0(u,["unsupportedLength","empty"]).or(X0(p,["unsupportedLength","empty"])),y=b.map(L=>L.value).getOr(16),w=e2(i),E=b.map(L=>L.unit).filter(L=>L!=="").getOr(w),_=f(y,(L=>{var I;return(I={em:{step:.1},cm:{step:.1},in:{step:.1},pc:{step:.1},ch:{step:.1},rem:{step:.1}}[L])!==null&&I!==void 0?I:{step:1}})(E).step),O=`${(L=>L>=0)(_)?_:y}${E}`;return O!==p&&((L,I)=>{L.dispatch("FontSizeInputTextUpdate",I)})(i,{value:O}),O}}})(n),"fontsizeinput"),fontfamily:(n,s)=>Y0(n,s,lO(n),sO,"FontFamilyTextUpdate","fontfamily"),blocks:(n,s)=>Y0(n,s,rO(n),nO,"BlocksTextUpdate","blocks"),align:(n,s)=>Y0(n,s,tO(n),BS,"AlignTextUpdate","align")},tb=(n,s,i,l)=>{const u=(p=>{const b=p.toolbar,y=p.buttons;return b===!1?[]:b===void 0||b===!0?(w=>{const E=nt(RM,_=>{const O=kn(_.items,L=>ro(w,L)||ro(MM,L));return{name:_.name,items:O}});return kn(E,_=>_.items.length>0)})(y):So(b)?(w=>{const E=w.split("|");return nt(E,_=>({items:_.trim().split(" ")}))})(b):(w=>er(w,E=>ro(E,"name")&&ro(E,"items")))(b)?b:(console.error("Toolbar type should be string, string[], boolean or ToolbarGroup[]"),[])})(s),f=nt(u,p=>{const b=mn(p.items,y=>y.trim().length===0?[]:((w,E,_,O,L,I)=>lt(E,_.toLowerCase()).orThunk(()=>I.bind(K=>fo(K,q=>lt(E,q+_.toLowerCase())))).fold(()=>lt(MM,_.toLowerCase()).map(K=>K(w,L)),K=>K.type!=="grouptoolbarbutton"||O?((q,se,W,Z)=>lt(NM,q.type).fold(()=>(console.error("skipping button defined by",q),T.none()),Y=>T.some(Y(q,se,W,Z))))(K,L,w,_.toLowerCase()):(console.warn(`Ignoring the '${_}' toolbar button. Group toolbar buttons are only supported when using floating toolbar mode and cannot be nested.`),T.none())))(n,s.buttons,y,s.allowToolbarGroups,i,l).toArray());return{title:T.from(n.translate(p.name)),items:b}});return kn(f,p=>p.items.length>0)},ob=(n,s,i,l)=>{const u=s.mainUi.outerContainer,f=i.toolbar,p=i.buttons;if(er(f,So)){const b=f.map(y=>{const w={toolbar:y,buttons:p,allowToolbarGroups:i.allowToolbarGroups};return tb(n,w,l,T.none())});Hr.setToolbars(u,b)}else Hr.setToolbar(u,tb(n,i,l,T.none()))},$S=Ja(),xO=$S.os.isiOS()&&$S.os.version.major<=12;var BM=Object.freeze({__proto__:null,render:(n,s,i,l,u)=>{const{mainUi:f,uiMotherships:p}=s,b=eo(0),y=f.outerContainer;xM(n);const w=wt(u.targetNode),E=es(Gr(w));Fe(w,f.mothership),((I,K,q)=>{fp(I)&&Fe(q.mainUi.mothership.element,q.popupUi.mothership),Qb(K,q.dialogUi.mothership)})(n,E,s),n.on("SkinLoaded",()=>{Hr.setSidebar(y,i.sidebar,xx(n)),ob(n,s,i,l),b.set(n.getWin().innerWidth),Hr.setMenubar(y,YT(n,i)),Hr.setViews(y,i.views),((I,K)=>{const{uiMotherships:q}=K,se=I.dom;let W=I.getWin();const Z=I.getDoc().documentElement,Y=eo(_t(W.innerWidth,W.innerHeight)),oe=eo(_t(Z.offsetWidth,Z.offsetHeight)),re=()=>{const Je=Y.get();Je.left===W.innerWidth&&Je.top===W.innerHeight||(Y.set(_t(W.innerWidth,W.innerHeight)),dm(I))},be=()=>{const Je=I.getDoc().documentElement,at=oe.get();at.left===Je.offsetWidth&&at.top===Je.offsetHeight||(oe.set(_t(Je.offsetWidth,Je.offsetHeight)),dm(I))},Oe=Je=>{((at,kt)=>{at.dispatch("ScrollContent",kt)})(I,Je)};se.bind(W,"resize",re),se.bind(W,"scroll",Oe);const Ke=ku(wt(I.getBody()),"load",be);I.on("hide",()=>{Ot(q,Je=>{mo(Je.element,"display","none")})}),I.on("show",()=>{Ot(q,Je=>{sn(Je.element,"display")})}),I.on("NodeChange",be),I.on("remove",()=>{Ke.unbind(),se.unbind(W,"resize",re),se.unbind(W,"scroll",Oe),W=null})})(n,s)});const _=Hr.getSocket(y).getOrDie("Could not find expected socket element");if(xO){cl(_.element,{overflow:"scroll","-webkit-overflow-scrolling":"touch"});const I=((q,se)=>{let W=null;return{cancel:()=>{Rn(W)||(clearTimeout(W),W=null)},throttle:(...Z)=>{Rn(W)&&(W=setTimeout(()=>{W=null,q.apply(null,Z)},20))}}})(()=>{n.dispatch("ScrollContent")}),K=$i(_.element,"scroll",I.throttle);n.on("remove",K.unbind)}sA(n,s),n.addCommand("ToggleSidebar",(I,K)=>{Hr.toggleSidebar(y,K),n.dispatch("ToggleSidebar")}),n.addQueryValueHandler("ToggleSidebar",()=>{var I;return(I=Hr.whichSidebar(y))!==null&&I!==void 0?I:""}),n.addCommand("ToggleView",(I,K)=>{if(Hr.toggleView(y,K)){const q=y.element;f.mothership.broadcastOn([x()],{target:q}),Ot(p,se=>{se.broadcastOn([x()],{target:q})}),Rn(Hr.whichView(y))&&(n.focus(),n.nodeChanged(),Hr.refreshToolbar(y))}}),n.addQueryValueHandler("ToggleView",()=>{var I;return(I=Hr.whichView(y))!==null&&I!==void 0?I:""});const O=Oh(n);O!==Jd.sliding&&O!==Jd.floating||n.on("ResizeWindow ResizeEditor ResizeContent",()=>{const I=n.getWin().innerWidth;I!==b.get()&&(Hr.refreshToolbar(s.mainUi.outerContainer),b.set(I))});const L={setEnabled:I=>{Fh(s,!I)},isEnabled:()=>!zo.isDisabled(y)};return{iframeContainer:_.element.dom,editorContainer:y.element.dom,api:L}}});const kO=n=>/^[0-9\.]+(|px)$/i.test(""+n)?T.some(parseInt(""+n,10)):T.none(),VS=n=>Ho(n)?n+"px":n,bw=(n,s,i)=>{const l=s.filter(f=>n<f),u=i.filter(f=>n>f);return l.or(u).getOr(n)},wO=n=>{const s=X1(n),i=J1(n),l=fy(n);return kO(s).map(u=>bw(u,i,l))},{ToolbarLocation:jS,ToolbarMode:_O}=r0,IM=(n,s,i,l,u)=>{const{mainUi:f,uiMotherships:p}=i,b=dy.DOM,y=Dh(n),w=up(n),E=fy(n).or(wO(n)),_=l.shared.header,O=_.isPositionedAtTop,L=Oh(n),I=L===_O.sliding||L===_O.floating,K=eo(!1),q=()=>K.get()&&!n.removed,se=oe=>I?oe.fold(ne(0),re=>re.components().length>1?ke(re.components()[1].element):0):0,W=()=>{Ot(p,oe=>{oe.broadcastOn([S()],{})})},Z=oe=>{if(!q())return;y||u.on(Oe=>{const Ke=E.getOrThunk(()=>Oa().width-rn(s).left-10);mo(Oe.element,"max-width",Ke+"px")});const re=ys(),be=!(y||y||!(or(f.outerContainer.element).left+Or(f.outerContainer.element)>=window.innerWidth-40||cs(f.outerContainer.element,"width").isSome())||(mo(f.outerContainer.element,"position","absolute"),mo(f.outerContainer.element,"left","0px"),sn(f.outerContainer.element,"width"),0));if(I&&Hr.refreshToolbar(f.outerContainer),!y){const Oe=ys(),Ke=Bo(re.left!==Oe.left,re);((Je,at)=>{u.on(kt=>{const Mt=Hr.getToolbar(f.outerContainer),qt=se(Mt),so=$n(s),Lo=((co,As)=>fp(co)?gu(As):T.none())(n,f.outerContainer.element),ln=Lo.fold(()=>so.x,co=>{const As=$n(co);return hn(co,ha())?so.x:so.x-As.x}),is=Bo(Je,Math.ceil(f.outerContainer.element.dom.getBoundingClientRect().width)).filter(co=>co>150).map(co=>{const As=at.getOr(ys()),wo=window.innerWidth-(ln-As.left),Jr=Math.max(Math.min(co,wo),150);return wo<co&&mo(f.outerContainer.element,"width",Jr+"px"),{width:Jr+"px"}}).getOr({width:"max-content"}),ms={position:"absolute",left:Math.round(ln)+"px",top:Lo.fold(()=>O()?Math.max(so.y-ke(kt.element)+qt,0):so.bottom,co=>{var As;const wo=$n(co),Jr=(As=co.dom.scrollTop)!==null&&As!==void 0?As:0,sr=hn(co,ha())?Math.max(so.y-ke(kt.element)+qt,0):so.y-wo.y+Jr-ke(kt.element)+qt;return O()?sr:so.bottom})+"px"};cl(f.outerContainer.element,{...ms,...is})})})(be,Ke),Ke.each(Je=>{Pn(Je.left,Oe.top)})}w&&u.on(oe),W()},Y=()=>!(y||!w||!q())&&u.get().exists(oe=>{const re=_.getDockingMode(),be=(Ke=>{switch(lg(n)){case jS.auto:const Je=Hr.getToolbar(f.outerContainer),at=se(Je),kt=ke(Ke.element)-at,Mt=$n(s);if(Mt.y>kt)return"top";{const qt=nd(s),so=Math.max(qt.dom.scrollHeight,ke(qt));return Mt.bottom<so-kt||Kr().bottom<Mt.bottom-kt?"bottom":"top"}case jS.bottom:return"bottom";case jS.top:default:return"top"}})(oe);return be!==re&&(Oe=be,u.on(Ke=>{fs.setModes(Ke,[Oe]),_.setDockingMode(Oe);const Je=O()?wa.TopToBottom:wa.BottomToTop;uo(Ke.element,Fb,Je)}),!0);var Oe});return{isVisible:q,isPositionedAtTop:O,show:()=>{K.set(!0),mo(f.outerContainer.element,"display","flex"),b.addClass(n.getBody(),"mce-edit-focus"),Ot(p,oe=>{sn(oe.element,"display")}),Y(),fp(n)?Z(oe=>fs.isDocked(oe)?fs.reset(oe):fs.refresh(oe)):Z(fs.refresh)},hide:()=>{K.set(!1),mo(f.outerContainer.element,"display","none"),b.removeClass(n.getBody(),"mce-edit-focus"),Ot(p,oe=>{mo(oe.element,"display","none")})},update:Z,updateMode:()=>{Y()&&Z(fs.reset)},repositionPopups:W}},CO=(n,s)=>{const i=$n(n);return{pos:s?i.y:i.bottom,bounds:i}};var LM=Object.freeze({__proto__:null,render:(n,s,i,l,u)=>{const{mainUi:f}=s,p=Vn(),b=wt(u.targetNode),y=IM(n,b,s,l,p),w=iE(n);QT(n);const E=()=>{if(p.isSet())return void y.show();p.set(Hr.getHeader(f.outerContainer).getOrDie());const O=Sx(n);fp(n)?(Fe(b,f.mothership),Fe(b,s.popupUi.mothership)):Qb(O,f.mothership),Qb(O,s.dialogUi.mothership);const L=()=>{ob(n,s,i,l),Hr.setMenubar(f.outerContainer,YT(n,i)),y.show(),((I,K,q,se)=>{const W=eo(CO(K,q.isPositionedAtTop())),Z=be=>{const{pos:Oe,bounds:Ke}=CO(K,q.isPositionedAtTop()),{pos:Je,bounds:at}=W.get(),kt=Ke.height!==at.height||Ke.width!==at.width;W.set({pos:Oe,bounds:Ke}),kt&&dm(I,be),q.isVisible()&&(Je!==Oe?q.update(fs.reset):kt&&(q.updateMode(),q.repositionPopups()))};se||(I.on("activate",q.show),I.on("deactivate",q.hide)),I.on("SkinLoaded ResizeWindow",()=>q.update(fs.reset)),I.on("NodeChange keydown",be=>{requestAnimationFrame(()=>Z(be))});let Y=0;const oe=Nk(()=>q.update(fs.refresh),33);I.on("ScrollWindow",()=>{const be=ys().left;be!==Y&&(Y=be,oe.throttle()),q.updateMode()}),fp(I)&&I.on("ElementScroll",be=>{q.update(fs.refresh)});const re=Qa();re.set(ku(wt(I.getBody()),"load",be=>Z(be.raw))),I.on("remove",()=>{re.clear()})})(n,b,y,w),n.nodeChanged()};w?n.once("SkinLoaded",L):L()};n.on("show",E),n.on("hide",y.hide),w||(n.on("focus",E),n.on("blur",y.hide)),n.on("init",()=>{(n.hasFocus()||w)&&E()}),sA(n,s);const _={show:E,hide:y.hide,setEnabled:O=>{Fh(s,!O)},isEnabled:()=>!zo.isDisabled(f.outerContainer)};return{editorContainer:f.outerContainer.element.dom,api:_}}});const SO="contexttoolbar-hide",US=(n,s)=>Ue(Lk,(i,l)=>{const u=(f=>({hide:()=>jo(f,Lp()),getValue:()=>Ee.getValue(f)}))(n.get(i));s.onAction(u,l.event.buttonApi)}),Vy=(n,s)=>{const i=n.label.fold(()=>({}),f=>({"aria-label":f})),l=rr(mp.sketch({inputClasses:["tox-toolbar-textfield","tox-toolbar-nav-js"],data:n.initValue(),inputAttributes:i,selectOnFocus:!0,inputBehaviours:ct([Yt.config({mode:"special",onEnter:f=>u.findPrimary(f).map(p=>(uc(p),!0)),onLeft:(f,p)=>(p.cut(),T.none()),onRight:(f,p)=>(p.cut(),T.none())})])})),u=((f,p,b)=>{const y=nt(p,w=>rr(((E,_,O)=>(L=>L.type==="contextformtogglebutton")(_)?((L,I,K)=>{const{primary:q,...se}=I.original,W=Yi(w0({...se,type:"togglebutton",onAction:ut}));return Q0(W,K,[US(L,I)])})(E,_,O):((L,I,K)=>{const{primary:q,...se}=I.original,W=Yi($x({...se,type:"button",onAction:ut}));return vO(W,K,[US(L,I)])})(E,_,O))(f,w,b)));return{asSpecs:()=>nt(y,w=>w.asSpec()),findPrimary:w=>fo(p,(E,_)=>E.primary?T.from(y[_]).bind(O=>O.getOpt(w)).filter(Gn(zo.isDisabled)):T.none())}})(l,n.commands,s);return[{title:T.none(),items:[l.asSpec()]},{title:T.none(),items:u.asSpecs()}]},Mg=(n,s,i)=>s.bottom-n.y>=i&&n.bottom-s.y>=i,ZS=n=>{const s=(i=>{const l=i.getBoundingClientRect();if(l.height<=0&&l.width<=0){const u=ll(wt(i.startContainer),i.startOffset).element;return(Os(u)?mi(u):T.some(u)).filter(Sr).map(f=>f.dom.getBoundingClientRect()).getOr(l)}return l})(n.selection.getRng());if(n.inline){const i=ys();return Ss(i.left+s.left,i.top+s.top,s.width,s.height)}{const i=Rl(wt(n.getBody()));return Ss(i.x+s.left,i.y+s.top,s.width,s.height)}},WS=(n,s,i,l=0)=>{const u=Oa(window),f=$n(wt(n.getContentAreaContainer())),p=t0(n)||o0(n)||n0(n),{x:b,width:y}=((w,E,_)=>{const O=Math.max(w.x+_,E.x);return{x:O,width:Math.min(w.right-_,E.right)-O}})(f,u,l);if(n.inline&&!p)return Ss(b,u.y,y,u.height);{const w=s.header.isPositionedAtTop(),{y:E,bottom:_}=((O,L,I,K,q,se)=>{const W=wt(O.getContainer()),Z=ss(W,".tox-editor-header").getOr(W),Y=$n(Z),oe=Y.y>=L.bottom,re=K&&!oe;if(O.inline&&re)return{y:Math.max(Y.bottom+se,I.y),bottom:I.bottom};if(O.inline&&!re)return{y:I.y,bottom:Math.min(Y.y-se,I.bottom)};const be=q==="line"?$n(W):L;return re?{y:Math.max(Y.bottom+se,I.y),bottom:Math.min(be.bottom-se,I.bottom)}:{y:Math.max(be.y+se,I.y),bottom:Math.min(Y.y-se,I.bottom)}})(n,f,u,w,i,l);return Ss(b,E,y,_-E)}},qS={valignCentre:[],alignCentre:[],alignLeft:["tox-pop--align-left"],alignRight:["tox-pop--align-right"],right:["tox-pop--right"],left:["tox-pop--left"],bottom:["tox-pop--bottom"],top:["tox-pop--top"],inset:["tox-pop--inset"]},tv={maxHeightFunction:Kd(),maxWidthFunction:G0()},EO=n=>n==="node",ov=(n,s,i,l,u)=>{const f=ZS(n),p=l.lastElement().exists(b=>hn(i,b));return((b,y)=>{const w=b.selection.getRng(),E=ll(wt(w.startContainer),w.startOffset);return w.startContainer===w.endContainer&&w.startOffset===w.endOffset-1&&hn(E.element,y)})(n,i)?p?uS:Dd:p?((b,y,w)=>{const E=cs(b,"position");mo(b,"position",y);const _=Mg(f,$n(s),-20)&&!l.isReposition()?qz:uS;return E.each(O=>mo(b,"position",O)),_})(s,l.getMode()):(l.getMode()==="fixed"?u.y+ys().top:u.y)+(ke(s)+12)<=f.y?Dd:q0},nv=(n,s,i,l)=>{const u=p=>(b,y,w,E,_)=>({...ov(n,E,p,i,_)({...b,y:_.y,height:_.height},y,w,E,_),alwaysFit:!0}),f=p=>EO(l)?[u(p)]:[];return s?{onLtr:p=>[Xr,ka,ws,Js,js,Jn].concat(f(p)),onRtl:p=>[Xr,ws,ka,js,Js,Jn].concat(f(p))}:{onLtr:p=>[Jn,Xr,Js,ka,js,ws].concat(f(p)),onRtl:p=>[Jn,Xr,js,ws,Js,ka].concat(f(p))}},GS=(n,s)=>{const i=kn(s,f=>f.predicate(n.dom)),{pass:l,fail:u}=Zr(i,f=>f.type==="contexttoolbar");return{contextToolbars:l,contextForms:u}},PM=(n,s)=>{const i={},l=[],u=[],f={},p={},b=$o(n);return Ot(b,y=>{const w=n[y];w.type==="contextform"?((E,_)=>{const O=Yi(Lr("ContextForm",mN,_));i[E]=O,O.launch.map(L=>{f["form:"+E]={..._.launch,type:L.type==="contextformtogglebutton"?"togglebutton":"button",onAction:()=>{s(O)}}}),O.scope==="editor"?u.push(O):l.push(O),p[E]=O})(y,w):w.type==="contexttoolbar"&&((E,_)=>{var O;(O=_,Lr("ContextToolbar",XE,O)).each(L=>{_.scope==="editor"?u.push(L):l.push(L),p[E]=L})})(y,w)}),{forms:i,inNodeScope:l,inEditorScope:u,lookupTable:p,formNavigators:f}},AO=Pt("forward-slide"),zO=Pt("backward-slide"),KS=Pt("change-slide-event"),YS="tox-pop--resizing",jy="tox-pop--transition",FM=(n,s,i,l)=>{const u=l.backstage,f=u.shared,p=Ja().deviceType.isTouch,b=Vn(),y=Vn(),w=Vn(),E=Xs((re=>{const be=eo([]);return as.sketch({dom:{tag:"div",classes:["tox-pop"]},fireDismissalEventInstead:{event:"doNotDismissYet"},onShow:Oe=>{be.set([]),as.getContent(Oe).each(Ke=>{sn(Ke.element,"visibility")}),Io(Oe.element,YS),sn(Oe.element,"width")},inlineBehaviours:ct([Vo("context-toolbar-events",[Wu(Nf(),(Oe,Ke)=>{Ke.event.raw.propertyName==="width"&&(Io(Oe.element,YS),sn(Oe.element,"width"))}),Ue(KS,(Oe,Ke)=>{const Je=Oe.element;sn(Je,"width");const at=Uo(Je);as.setContent(Oe,Ke.event.contents),$t(Je,YS);const kt=Uo(Je);mo(Je,"width",at+"px"),as.getContent(Oe).each(Mt=>{Ke.event.focus.bind(qt=>(Uc(qt),Hi(Je))).orThunk(()=>(Yt.focusIn(Mt),tl(Gr(Je))))}),setTimeout(()=>{mo(Oe.element,"width",kt+"px")},0)}),Ue(AO,(Oe,Ke)=>{as.getContent(Oe).each(Je=>{be.set(be.get().concat([{bar:Je,focus:tl(Gr(Oe.element))}]))}),Zt(Oe,KS,{contents:Ke.event.forwardContents,focus:T.none()})}),Ue(zO,(Oe,Ke)=>{Ye(be.get()).each(Je=>{be.set(be.get().slice(0,be.get().length-1)),Zt(Oe,KS,{contents:Hl(Je.bar),focus:Je.focus})})})]),Yt.config({mode:"special",onEscape:Oe=>Ye(be.get()).fold(()=>re.onEscape(),Ke=>(jo(Oe,zO),T.some(!0)))})]),lazySink:()=>qo.value(re.sink)})})({sink:i,onEscape:()=>(n.focus(),T.some(!0))})),_=()=>{const re=w.get().getOr("node"),be=EO(re)?1:0;return WS(n,f,re,be)},O=()=>!(n.removed||p()&&u.isContextMenuOpen()),L=()=>{if(O()){const re=_(),be=gs(w.get(),"node")?((Oe,Ke)=>Ke.filter(Je=>Yn(Je)&&wl(Je)).map(Rl).getOrThunk(()=>ZS(Oe)))(n,b.get()):ZS(n);return re.height<=0||!Mg(be,re,.01)}return!0},I=()=>{b.clear(),y.clear(),w.clear(),as.hide(E)},K=()=>{if(as.isOpen(E)){const re=E.element;sn(re,"display"),L()?mo(re,"display","none"):(y.set(0),as.reposition(E))}},q=re=>({dom:{tag:"div",classes:["tox-pop__dialog"]},components:[re],behaviours:ct([Yt.config({mode:"acyclic"}),Vo("pop-dialog-wrap-events",[Ar(be=>{n.shortcuts.add("ctrl+F9","focus statusbar",()=>Yt.focusIn(be))}),gd(be=>{n.shortcuts.remove("ctrl+F9")})])])}),se=Ti(()=>PM(s,re=>{const be=W([re]);Zt(E,AO,{forwardContents:q(be)})})),W=re=>{const{buttons:be}=n.ui.registry.getAll(),Oe={...be,...se().formNavigators},Ke=Oh(n)===Jd.scrolling?Jd.scrolling:Jd.default,Je=An(nt(re,at=>at.type==="contexttoolbar"?((kt,Mt)=>tb(n,{buttons:kt,toolbar:Mt.items,allowToolbarGroups:!1},l.backstage,T.some(["form:"])))(Oe,at):((kt,Mt)=>Vy(kt,Mt))(at,f.providers)));return Iu({type:Ke,uid:Pt("context-toolbar"),initGroups:Je,onEscape:T.none,cyclicKeying:!0,providers:f.providers})},Z=(re,be)=>{if(oe.cancel(),!O())return;const Oe=W(re),Ke=re[0].position,Je=((kt,Mt)=>{const qt=kt==="node"?f.anchors.node(Mt):f.anchors.cursor(),so=((Lo,ln,is,ms)=>ln==="line"?{bubble:$l(12,0,qS),layouts:{onLtr:()=>[Wm],onRtl:()=>[Db]},overrides:tv}:{bubble:$l(0,12,qS,1/12),layouts:nv(Lo,is,ms,ln),overrides:tv})(n,kt,p(),{lastElement:b.get,isReposition:()=>gs(y.get(),0),getMode:()=>ai.getMode(i)});return Ir(qt,so)})(Ke,be);w.set(Ke),y.set(1);const at=E.element;sn(at,"display"),(kt=>gs(st(kt,b.get(),hn),!0))(be)||(Io(at,jy),ai.reset(i,E)),as.showWithinBounds(E,q(Oe),{anchor:Je,transition:{classes:[jy],mode:"placement"}},()=>T.some(_())),be.fold(b.clear,b.set),L()&&mo(at,"display","none")};let Y=!1;const oe=Nk(()=>{!n.hasFocus()||n.removed||Y||(Zo(E.element,jy)?oe.throttle():((re,be)=>{const Oe=wt(be.getBody()),Ke=at=>hn(at,Oe),Je=wt(be.selection.getNode());return(at=>!Ke(at)&&!Vr(Oe,at))(Je)?T.none():((at,kt,Mt)=>{const qt=GS(at,kt);if(qt.contextForms.length>0)return T.some({elem:at,toolbars:[qt.contextForms[0]]});{const so=GS(at,Mt);if(so.contextForms.length>0)return T.some({elem:at,toolbars:[so.contextForms[0]]});if(qt.contextToolbars.length>0||so.contextToolbars.length>0){const Lo=(ln=>{if(ln.length<=1)return ln;{const is=wo=>Tt(ln,Jr=>Jr.position===wo),ms=wo=>kn(ln,Jr=>Jr.position===wo),co=is("selection"),As=is("node");if(co||As){if(As&&co){const wo=ms("node"),Jr=nt(ms("selection"),sr=>({...sr,position:"node"}));return wo.concat(Jr)}return ms(co?"selection":"node")}return ms("line")}})(qt.contextToolbars.concat(so.contextToolbars));return T.some({elem:at,toolbars:Lo})}return T.none()}})(Je,re.inNodeScope,re.inEditorScope).orThunk(()=>((at,kt,Mt)=>at(kt)?T.none():Oc(kt,qt=>{if(Sr(qt)){const{contextToolbars:so,contextForms:Lo}=GS(qt,Mt.inNodeScope),ln=Lo.length>0?Lo:(is=>{if(is.length<=1)return is;{const ms=co=>$(is,As=>As.position===co);return ms("selection").orThunk(()=>ms("node")).orThunk(()=>ms("line")).map(co=>co.position).fold(()=>[],co=>kn(is,As=>As.position===co))}})(so);return ln.length>0?T.some({elem:qt,toolbars:ln}):T.none()}return T.none()},at))(Ke,Je,re))})(se(),n).fold(I,re=>{Z(re.toolbars,T.some(re.elem))}))},17);n.on("init",()=>{n.on("remove",I),n.on("ScrollContent ScrollWindow ObjectResized ResizeEditor longpress",K),n.on("click keyup focus SetContent",oe.throttle),n.on(SO,I),n.on("contexttoolbar-show",re=>{const be=se();lt(be.lookupTable,re.toolbarKey).each(Oe=>{Z([Oe],Bo(re.target!==n,re.target)),as.getContent(E).each(Yt.focusIn)})}),n.on("focusout",re=>{px.setEditorTimeout(n,()=>{Hi(i.element).isNone()&&Hi(E.element).isNone()&&I()},0)}),n.on("SwitchMode",()=>{n.mode.isReadOnly()&&I()}),n.on("ExecCommand",({command:re})=>{re.toLowerCase()==="toggleview"&&I()}),n.on("AfterProgressState",re=>{re.state?I():n.hasFocus()&&oe.throttle()}),n.on("dragstart",()=>{Y=!0}),n.on("dragend drop",()=>{Y=!1}),n.on("NodeChange",re=>{Hi(E.element).fold(oe.throttle,ut)})})},yw=(n,s)=>{const i=()=>{const l=s.getOptions(n),u=s.getCurrent(n).map(s.hash),f=Vn();return nt(l,p=>({type:"togglemenuitem",text:s.display(p),onSetup:b=>{const y=E=>{E&&(f.on(_=>_.setActive(!1)),f.set(b)),b.setActive(E)};y(gs(u,s.hash(p)));const w=s.watcher(n,p,y);return()=>{f.clear(),w()}},onAction:()=>s.setCurrent(n,p)}))};n.ui.registry.addMenuButton(s.name,{tooltip:s.text,icon:s.icon,fetch:l=>l(i()),onSetup:s.onToolbarSetup}),n.ui.registry.addNestedMenuItem(s.name,{type:"nestedmenuitem",text:s.text,getSubmenuItems:i,onSetup:s.onMenuSetup})},HM=n=>{yw(n,(s=>({name:"lineheight",text:"Line height",icon:"line-height",getOptions:pE,hash:i=>((l,u)=>X0(l,["fixed","relative","empty"]).map(({value:f,unit:p})=>f+p))(i).getOr(i),display:Et,watcher:(i,l,u)=>i.formatter.formatChanged("lineheight",u,!1,{value:l}).unbind,getCurrent:i=>T.from(i.queryCommandValue("LineHeight")),setCurrent:(i,l)=>i.execCommand("LineHeight",!1,l),onToolbarSetup:hl(s),onMenuSetup:hl(s)}))(n)),(s=>T.from(X_(s)).map(i=>({name:"language",text:"Language",icon:"language",getOptions:ne(i),hash:l=>cr(l.customCode)?l.code:`${l.code}/${l.customCode}`,display:l=>l.title,watcher:(l,u,f)=>{var p;return l.formatter.formatChanged("lang",f,!1,{value:u.code,customValue:(p=u.customCode)!==null&&p!==void 0?p:null}).unbind},getCurrent:l=>{const u=wt(l.selection.getNode());return Zd(u,f=>T.some(f).filter(Sr).bind(p=>ls(p,"lang").map(b=>({code:b,customCode:ls(p,"data-mce-lang").getOrUndefined(),title:""}))))},setCurrent:(l,u)=>l.execCommand("Lang",!1,u),onToolbarSetup:l=>{const u=Qa();return l.setActive(s.formatter.match("lang",{},void 0,!0)),u.set(s.formatter.formatChanged("lang",l.setActive,!0)),Kx(u.clear,hl(s)(l))},onMenuSetup:hl(s)})))(n).each(s=>yw(n,s))},$M=n=>bp(n,"NodeChange",s=>{s.setEnabled(n.queryCommandState("outdent")&&n.selection.isEditable())}),TO=(n,s)=>i=>{i.setActive(s.get());const l=u=>{s.set(u.state),i.setActive(u.state)};return n.on("PastePlainTextToggle",l),Kx(()=>n.off("PastePlainTextToggle",l),hl(n)(i))},vw=(n,s)=>()=>{n.execCommand("mceToggleFormat",!1,s)},VM=n=>{(s=>{(i=>{hm.each([{name:"bold",text:"Bold",icon:"bold",shortcut:"Meta+B"},{name:"italic",text:"Italic",icon:"italic",shortcut:"Meta+I"},{name:"underline",text:"Underline",icon:"underline",shortcut:"Meta+U"},{name:"strikethrough",text:"Strikethrough",icon:"strike-through"},{name:"subscript",text:"Subscript",icon:"subscript"},{name:"superscript",text:"Superscript",icon:"superscript"}],(l,u)=>{i.ui.registry.addToggleButton(l.name,{tooltip:l.text,icon:l.icon,onSetup:Ou(i,l.name),onAction:vw(i,l.name),shortcut:l.shortcut})});for(let l=1;l<=6;l++){const u="h"+l,f=`Access+${l}`;i.ui.registry.addToggleButton(u,{text:u.toUpperCase(),tooltip:"Heading "+l,onSetup:Ou(i,u),onAction:vw(i,u),shortcut:f})}})(s),(i=>{hm.each([{name:"copy",text:"Copy",action:"Copy",icon:"copy"},{name:"help",text:"Help",action:"mceHelp",icon:"help",shortcut:"Alt+0"},{name:"selectall",text:"Select all",action:"SelectAll",icon:"select-all",shortcut:"Meta+A"},{name:"newdocument",text:"New document",action:"mceNewDocument",icon:"new-document"},{name:"print",text:"Print",action:"mcePrint",icon:"print",shortcut:"Meta+P"}],l=>{i.ui.registry.addButton(l.name,{tooltip:l.text,icon:l.icon,onAction:yc(i,l.action),shortcut:l.shortcut})}),hm.each([{name:"cut",text:"Cut",action:"Cut",icon:"cut"},{name:"paste",text:"Paste",action:"Paste",icon:"paste"},{name:"removeformat",text:"Clear formatting",action:"RemoveFormat",icon:"remove-formatting"},{name:"remove",text:"Remove",action:"Delete",icon:"remove"},{name:"hr",text:"Horizontal line",action:"InsertHorizontalRule",icon:"horizontal-rule"}],l=>{i.ui.registry.addButton(l.name,{tooltip:l.text,icon:l.icon,onSetup:hl(i),onAction:yc(i,l.action)})})})(s),(i=>{hm.each([{name:"blockquote",text:"Blockquote",action:"mceBlockQuote",icon:"quote"}],l=>{i.ui.registry.addToggleButton(l.name,{tooltip:l.text,icon:l.icon,onAction:yc(i,l.action),onSetup:Ou(i,l.name)})})})(s)})(n),(s=>{hm.each([{name:"newdocument",text:"New document",action:"mceNewDocument",icon:"new-document"},{name:"copy",text:"Copy",action:"Copy",icon:"copy",shortcut:"Meta+C"},{name:"selectall",text:"Select all",action:"SelectAll",icon:"select-all",shortcut:"Meta+A"},{name:"print",text:"Print...",action:"mcePrint",icon:"print",shortcut:"Meta+P"}],i=>{s.ui.registry.addMenuItem(i.name,{text:i.text,icon:i.icon,shortcut:i.shortcut,onAction:yc(s,i.action)})}),hm.each([{name:"bold",text:"Bold",action:"Bold",icon:"bold",shortcut:"Meta+B"},{name:"italic",text:"Italic",action:"Italic",icon:"italic",shortcut:"Meta+I"},{name:"underline",text:"Underline",action:"Underline",icon:"underline",shortcut:"Meta+U"},{name:"strikethrough",text:"Strikethrough",action:"Strikethrough",icon:"strike-through"},{name:"subscript",text:"Subscript",action:"Subscript",icon:"subscript"},{name:"superscript",text:"Superscript",action:"Superscript",icon:"superscript"},{name:"removeformat",text:"Clear formatting",action:"RemoveFormat",icon:"remove-formatting"},{name:"cut",text:"Cut",action:"Cut",icon:"cut",shortcut:"Meta+X"},{name:"paste",text:"Paste",action:"Paste",icon:"paste",shortcut:"Meta+V"},{name:"hr",text:"Horizontal line",action:"InsertHorizontalRule",icon:"horizontal-rule"}],i=>{s.ui.registry.addMenuItem(i.name,{text:i.text,icon:i.icon,shortcut:i.shortcut,onSetup:hl(s),onAction:yc(s,i.action)})}),s.ui.registry.addMenuItem("codeformat",{text:"Code",icon:"sourcecode",onSetup:hl(s),onAction:vw(s,"code")})})(n)},xw=(n,s)=>bp(n,"Undo Redo AddUndo TypingUndo ClearUndos SwitchMode",i=>{i.setEnabled(!n.mode.isReadOnly()&&n.undoManager[s]())}),jM=n=>bp(n,"VisualAid",s=>{s.setActive(n.hasVisual)}),OO=(n,s)=>{(i=>{Ot([{name:"alignleft",text:"Align left",cmd:"JustifyLeft",icon:"align-left"},{name:"aligncenter",text:"Align center",cmd:"JustifyCenter",icon:"align-center"},{name:"alignright",text:"Align right",cmd:"JustifyRight",icon:"align-right"},{name:"alignjustify",text:"Justify",cmd:"JustifyFull",icon:"align-justify"}],l=>{i.ui.registry.addToggleButton(l.name,{tooltip:l.text,icon:l.icon,onAction:yc(i,l.cmd),onSetup:Ou(i,l.name)})}),i.ui.registry.addButton("alignnone",{tooltip:"No alignment",icon:"align-none",onSetup:hl(i),onAction:yc(i,"JustifyNone")})})(n),VM(n),((i,l)=>{((u,f)=>{const p=$y(f,tO(u));u.ui.registry.addNestedMenuItem("align",{text:f.shared.providers.translate("Align"),onSetup:hl(u),getSubmenuItems:()=>p.items.validateItems(p.getStyleItems())})})(i,l),((u,f)=>{const p=$y(f,lO(u));u.ui.registry.addNestedMenuItem("fontfamily",{text:f.shared.providers.translate("Fonts"),onSetup:hl(u),getSubmenuItems:()=>p.items.validateItems(p.getStyleItems())})})(i,l),((u,f)=>{const p={type:"advanced",...f.styles},b=$y(f,FS(u,p));u.ui.registry.addNestedMenuItem("styles",{text:"Formats",onSetup:hl(u),getSubmenuItems:()=>b.items.validateItems(b.getStyleItems())})})(i,l),((u,f)=>{const p=$y(f,rO(u));u.ui.registry.addNestedMenuItem("blocks",{text:"Blocks",onSetup:hl(u),getSubmenuItems:()=>p.items.validateItems(p.getStyleItems())})})(i,l),((u,f)=>{const p=$y(f,fO(u));u.ui.registry.addNestedMenuItem("fontsize",{text:"Font sizes",onSetup:hl(u),getSubmenuItems:()=>p.items.validateItems(p.getStyleItems())})})(i,l)})(n,s),(i=>{(l=>{l.ui.registry.addMenuItem("undo",{text:"Undo",icon:"undo",shortcut:"Meta+Z",onSetup:xw(l,"hasUndo"),onAction:yc(l,"undo")}),l.ui.registry.addMenuItem("redo",{text:"Redo",icon:"redo",shortcut:"Meta+Y",onSetup:xw(l,"hasRedo"),onAction:yc(l,"redo")})})(i),(l=>{l.ui.registry.addButton("undo",{tooltip:"Undo",icon:"undo",enabled:!1,onSetup:xw(l,"hasUndo"),onAction:yc(l,"undo"),shortcut:"Meta+Z"}),l.ui.registry.addButton("redo",{tooltip:"Redo",icon:"redo",enabled:!1,onSetup:xw(l,"hasRedo"),onAction:yc(l,"redo"),shortcut:"Meta+Y"})})(i)})(n),(i=>{(b=>{b.addCommand("mceApplyTextcolor",(y,w)=>{((E,_,O)=>{E.undoManager.transact(()=>{E.focus(),E.formatter.apply(_,{value:O}),E.nodeChanged()})})(b,y,w)}),b.addCommand("mceRemoveTextcolor",y=>{((w,E)=>{w.undoManager.transact(()=>{w.focus(),w.formatter.remove(E,{value:null},void 0,!0),w.nodeChanged()})})(b,y)})})(i);const l=CN(i),u=SN(i),f=eo(l),p=eo(u);nk(i,"forecolor","forecolor",f),nk(i,"backcolor","hilitecolor",p),W2(i,"forecolor","forecolor","Text color",f),W2(i,"backcolor","hilitecolor","Background color",p)})(n),(i=>{(l=>{l.ui.registry.addButton("visualaid",{tooltip:"Visual aids",text:"Visual aids",onAction:yc(l,"mceToggleVisualAid")})})(i),(l=>{l.ui.registry.addToggleMenuItem("visualaid",{text:"Visual aids",onSetup:jM(l),onAction:yc(l,"mceToggleVisualAid")})})(i)})(n),(i=>{(l=>{l.ui.registry.addButton("outdent",{tooltip:"Decrease indent",icon:"outdent",onSetup:$M(l),onAction:yc(l,"outdent")}),l.ui.registry.addButton("indent",{tooltip:"Increase indent",icon:"indent",onSetup:hl(l),onAction:yc(l,"indent")})})(i)})(n),HM(n),(i=>{const l=eo(fE(i)),u=()=>i.execCommand("mceTogglePlainTextPaste");i.ui.registry.addToggleButton("pastetext",{active:!1,icon:"paste-text",tooltip:"Paste as text",onAction:u,onSetup:TO(i,l)}),i.ui.registry.addToggleMenuItem("pastetext",{text:"Paste as text",icon:"paste-text",onAction:u,onSetup:TO(i,l)})})(n)},UM=n=>So(n)?n.split(/[ ,]/):n,DO=n=>s=>s.options.get(n),RO=DO("contextmenu_never_use_native"),ZM=DO("contextmenu_avoid_overlap"),NO=n=>{const s=n.ui.registry.getAll().contextMenus,i=n.options.get("contextmenu");return n.options.isSet("contextmenu")?i:kn(i,l=>ro(s,l))},Uy=(n,s)=>({type:"makeshift",x:n,y:s}),XS=n=>n.type==="longpress"||n.type.indexOf("touch")===0,WM=(n,s)=>s.type==="contextmenu"||s.type==="longpress"?n.inline?(i=>{if(XS(i)){const l=i.touches[0];return Uy(l.pageX,l.pageY)}return Uy(i.pageX,i.pageY)})(s):((i,l)=>{const u=dy.DOM.getPos(i);return((f,p,b)=>Uy(f.x+p,f.y+b))(l,u.x,u.y)})(n.getContentAreaContainer(),(i=>{if(XS(i)){const l=i.touches[0];return Uy(l.clientX,l.clientY)}return Uy(i.clientX,i.clientY)})(s)):MO(n),MO=n=>({type:"selection",root:wt(n.selection.getNode())}),BO=(n,s,i)=>{switch(i){case"node":return(l=>({type:"node",node:T.some(wt(l.selection.getNode())),root:wt(l.getBody())}))(n);case"point":return WM(n,s);case"selection":return MO(n)}},qM=(n,s,i,l,u,f)=>{const p=i(),b=BO(n,s,f);Iy(p,uf.CLOSE_ON_EXECUTE,l,{isHorizontalMenu:!1,search:T.none()}).map(y=>{s.preventDefault(),as.showMenuAt(u,{anchor:b},{menu:{markers:Mh("normal")},data:y})})},GM={onLtr:()=>[Xr,ka,ws,Js,js,Jn,Dd,q0,Jh,Xh,Py,Cp],onRtl:()=>[Xr,ws,ka,js,Js,Jn,Dd,q0,Py,Cp,Jh,Xh]},IO={valignCentre:[],alignCentre:[],alignLeft:["tox-pop--align-left"],alignRight:["tox-pop--align-right"],right:["tox-pop--right"],left:["tox-pop--left"],bottom:["tox-pop--bottom"],top:["tox-pop--top"]},Zy=(n,s,i,l,u,f)=>{const p=Ja(),b=p.os.isiOS(),y=p.os.isMacOS(),w=p.os.isAndroid(),E=p.deviceType.isTouch(),_=()=>{const O=i();((L,I,K,q,se,W,Z)=>{const Y=((oe,re,be)=>{const Oe=BO(oe,re,be);return{bubble:$l(0,be==="point"?12:0,IO),layouts:GM,overrides:{maxWidthFunction:G0(),maxHeightFunction:Kd()},...Oe}})(L,I,W);Iy(K,uf.CLOSE_ON_EXECUTE,q,{isHorizontalMenu:!0,search:T.none()}).map(oe=>{I.preventDefault();const re=Z?nl.HighlightMenuAndItem:nl.HighlightNone;as.showMenuWithinBounds(se,{anchor:Y},{menu:{markers:Mh("normal"),highlightOnOpen:re},data:oe,type:"horizontal"},()=>T.some(WS(L,q.shared,W==="node"?"node":"selection"))),L.dispatch(SO)})})(n,s,O,l,u,f,!(w||b||y&&E))};if((y||b)&&f!=="node"){const O=()=>{(L=>{const I=L.selection.getRng(),K=()=>{px.setEditorTimeout(L,()=>{L.selection.setRng(I)},10),W()};L.once("touchend",K);const q=Z=>{Z.preventDefault(),Z.stopImmediatePropagation()};L.on("mousedown",q,!0);const se=()=>W();L.once("longpresscancel",se);const W=()=>{L.off("touchend",K),L.off("longpresscancel",se),L.off("mousedown",q)}})(n),_()};((L,I)=>{const K=L.selection;if(K.isCollapsed()||I.touches.length<1)return!1;{const q=I.touches[0],se=K.getRng();return jb(L.getWin(),hc.domRange(se)).exists(W=>W.left<=q.clientX&&W.right>=q.clientX&&W.top<=q.clientY&&W.bottom>=q.clientY)}})(n,s)?O():(n.once("selectionchange",O),n.once("touchend",()=>n.off("selectionchange",O)))}else _()},LO=n=>So(n)?n==="|":n.type==="separator",JS={type:"separator"},PO=n=>{const s=i=>({text:i.text,icon:i.icon,enabled:i.enabled,shortcut:i.shortcut});if(So(n))return n;switch(n.type){case"separator":return JS;case"submenu":return{type:"nestedmenuitem",...s(n),getSubmenuItems:()=>{const l=n.getSubmenuItems();return So(l)?l:nt(l,PO)}};default:const i=n;return{type:"menuitem",...s(i),onAction:yo(i.onAction)}}},rv=(n,s)=>{if(s.length===0)return n;const i=Ye(n).filter(l=>!LO(l)).fold(()=>[],l=>[JS]);return n.concat(i).concat(s).concat([JS])},Rd=(n,s)=>!(i=>i.type==="longpress"||ro(i,"touches"))(s)&&(s.button!==2||s.target===n.getBody()&&s.pointerType===""),kw=(n,s)=>Rd(n,s)?n.selection.getStart(!0):s.target,FO=(n,s,i)=>{const l=Ja().deviceType.isTouch,u=Xs(as.sketch({dom:{tag:"div"},lazySink:s,onEscape:()=>n.focus(),onShow:()=>i.setContextMenuState(!0),onHide:()=>i.setContextMenuState(!1),fireDismissalEventInstead:{},inlineBehaviours:ct([Vo("dismissContextMenu",[Ue(Nc(),(b,y)=>{h.close(b),n.focus()})])])})),f=()=>as.hide(u),p=b=>{if(RO(n)&&b.preventDefault(),((w,E)=>E.ctrlKey&&!RO(w))(n,b)||(w=>NO(w).length===0)(n))return;const y=((w,E)=>{const _=ZM(w),O=Rd(w,E)?"selection":"point";if(ra(_)){const L=kw(w,E);return M0(wt(L),_)?"node":O}return O})(n,b);(l()?Zy:qM)(n,b,()=>{const w=kw(n,b),E=n.ui.registry.getAll(),_=NO(n);return((O,L,I)=>{const K=Ao(L,(q,se)=>lt(O,se.toLowerCase()).map(W=>{const Z=W.update(I);if(So(Z)&&ra(di(Z)))return rv(q,Z.split(" "));if(Xo(Z)&&Z.length>0){const Y=nt(Z,PO);return rv(q,Y)}return q}).getOrThunk(()=>q.concat([se])),[]);return K.length>0&&LO(K[K.length-1])&&K.pop(),K})(E.contextMenus,_,w)},i,u,y)};n.on("init",()=>{const b="ResizeEditor ScrollContent ScrollWindow longpresscancel"+(l()?"":" ResizeWindow");n.on(b,f),n.on("longpress contextmenu",p)})},QS=Pr([{offset:["x","y"]},{absolute:["x","y"]},{fixed:["x","y"]}]),ww=n=>s=>s.translate(-n.left,-n.top),_w=n=>s=>s.translate(n.left,n.top),Sp=n=>(s,i)=>Ao(n,(l,u)=>u(l),_t(s,i)),sv=(n,s,i)=>n.fold(Sp([_w(i),ww(s)]),Sp([ww(s)]),Sp([])),nb=(n,s,i)=>n.fold(Sp([_w(i)]),Sp([]),Sp([_w(s)])),HO=(n,s,i)=>n.fold(Sp([]),Sp([ww(i)]),Sp([_w(s),ww(i)])),$O=(n,s,i)=>{const l=n.fold((u,f)=>({position:T.some("absolute"),left:T.some(u+"px"),top:T.some(f+"px")}),(u,f)=>({position:T.some("absolute"),left:T.some(u-i.left+"px"),top:T.some(f-i.top+"px")}),(u,f)=>({position:T.some("fixed"),left:T.some(u+"px"),top:T.some(f+"px")}));return{right:T.none(),bottom:T.none(),...l}},Cw=(n,s,i,l)=>{const u=(f,p)=>(b,y)=>{const w=f(s,i,l);return p(b.getOr(w.left),y.getOr(w.top))};return n.fold(u(HO,Sw),u(nb,Ep),u(sv,Bg))},Sw=QS.offset,Ep=QS.absolute,Bg=QS.fixed,e3=(n,s)=>{const i=hs(n,s);return cr(i)?NaN:parseInt(i,10)},KM=(n,s,i,l,u,f)=>{const p=((w,E,_,O)=>((L,I)=>{const K=L.element,q=e3(K,I.leftAttr),se=e3(K,I.topAttr);return isNaN(q)||isNaN(se)?T.none():T.some(_t(q,se))})(w,E).fold(()=>_,L=>Bg(L.left+O.left,L.top+O.top)))(n,s,i,l),b=s.mustSnap?YM(n,s,p,u,f):XM(n,s,p,u,f),y=sv(p,u,f);return((w,E,_)=>{const O=w.element;uo(O,E.leftAttr,_.left+"px"),uo(O,E.topAttr,_.top+"px")})(n,s,y),b.fold(()=>({coord:Bg(y.left,y.top),extra:T.none()}),w=>({coord:w.output,extra:w.extra}))},VO=(n,s,i,l)=>fo(n,u=>{const f=u.sensor;return((b,y,w,E,_,O)=>{const L=nb(b,_,O),I=nb(y,_,O);return Math.abs(L.left-I.left)<=w&&Math.abs(L.top-I.top)<=E})(s,f,u.range.left,u.range.top,i,l)?T.some({output:Cw(u.output,s,i,l),extra:u.extra}):T.none()}),YM=(n,s,i,l,u)=>{const f=s.getSnapPoints(n);return VO(f,i,l,u).orThunk(()=>Ao(f,(b,y)=>{const w=y.sensor,E=((_,O,L,I,K,q)=>{const se=nb(_,K,q),W=nb(O,K,q),Z=Math.abs(se.left-W.left),Y=Math.abs(se.top-W.top);return _t(Z,Y)})(i,w,y.range.left,y.range.top,l,u);return b.deltas.fold(()=>({deltas:T.some(E),snap:T.some(y)}),_=>(E.left+E.top)/2<=(_.left+_.top)/2?{deltas:T.some(E),snap:T.some(y)}:b)},{deltas:T.none(),snap:T.none()}).snap.map(b=>({output:Cw(b.output,i,l,u),extra:b.extra})))},XM=(n,s,i,l,u)=>{const f=s.getSnapPoints(n);return VO(f,i,l,u)};var JM=Object.freeze({__proto__:null,snapTo:(n,s,i,l)=>{const u=s.getTarget(n.element);if(s.repositionTarget){const f=Gs(n.element),p=ys(f),b=hu(u),y=((E,_,O)=>({coord:Cw(E.output,E.output,_,O),extra:E.extra}))(l,p,b),w=$O(y.coord,0,b);Ta(u,w)}}});const t3="data-initial-z-index",Ew=(n,s)=>{n.getSystem().addToGui(s),(i=>{mi(i.element).filter(Sr).each(l=>{cs(l,"z-index").each(u=>{uo(l,t3,u)}),mo(l,"z-index",ur(i.element,"z-index"))})})(s)},QM=n=>{(s=>{mi(s.element).filter(Sr).each(i=>{ls(i,t3).fold(()=>sn(i,"z-index"),l=>mo(i,"z-index",l)),Er(i,t3)})})(n),n.getSystem().removeFromGui(n)},jO=(n,s,i)=>n.getSystem().build(Du.sketch({dom:{styles:{left:"0px",top:"0px",width:"100%",height:"100%",position:"fixed","z-index":"1000000000000000"},classes:[s]},events:i}));var UO=Li("snaps",[Ze("getSnapPoints"),vn("onSensor"),Ze("leftAttr"),Ze("topAttr"),Ae("lazyViewport",Kr),Ae("mustSnap",!1)]);const o3=[Ae("useFixed",Le),Ze("blockerClass"),Ae("getTarget",Et),Ae("onDrag",ut),Ae("repositionTarget",!0),Ae("onDrop",ut),_r("getBounds",Kr),UO],eB=n=>{return(s=cs(n,"left"),i=cs(n,"top"),l=cs(n,"position"),s.isSome()&&i.isSome()&&l.isSome()?T.some(((u,f,p)=>(p==="fixed"?Bg:Sw)(parseInt(u,10),parseInt(f,10)))(s.getOrDie(),i.getOrDie(),l.getOrDie())):T.none()).getOrThunk(()=>{const u=or(n);return Ep(u.left,u.top)});var s,i,l},ZO=(n,s)=>({bounds:n.getBounds(),height:$e(s.element),width:Or(s.element)}),n3=(n,s,i,l,u)=>{const f=i.update(l,u),p=i.getStartData().getOrThunk(()=>ZO(s,n));f.each(b=>{((y,w,E,_)=>{const O=w.getTarget(y.element);if(w.repositionTarget){const L=Gs(y.element),I=ys(L),K=hu(O),q=eB(O),se=((Z,Y,oe,re,be,Oe,Ke)=>((Je,at,kt,Mt,qt)=>{const so=qt.bounds,Lo=nb(at,kt,Mt),ln=Vc(Lo.left,so.x,so.x+so.width-qt.width),is=Vc(Lo.top,so.y,so.y+so.height-qt.height),ms=Ep(ln,is);return at.fold(()=>{const co=HO(ms,kt,Mt);return Sw(co.left,co.top)},ne(ms),()=>{const co=sv(ms,kt,Mt);return Bg(co.left,co.top)})})(0,Y.fold(()=>{const Je=(at=oe,kt=Oe.left,Mt=Oe.top,at.fold((so,Lo)=>Sw(so+kt,Lo+Mt),(so,Lo)=>Ep(so+kt,Lo+Mt),(so,Lo)=>Bg(so+kt,Lo+Mt)));var at,kt,Mt;const qt=sv(Je,re,be);return Bg(qt.left,qt.top)},Je=>{const at=KM(Z,Je,oe,Oe,re,be);return at.extra.each(kt=>{Je.onSensor(Z,kt)}),at.coord}),re,be,Ke))(y,w.snaps,q,I,K,_,E),W=$O(se,0,K);Ta(O,W)}w.onDrag(y,O,_)})(n,s,p,b)})},WO=(n,s,i,l)=>{s.each(QM),i.snaps.each(f=>{((p,b)=>{((y,w)=>{const E=y.element;Er(E,w.leftAttr),Er(E,w.topAttr)})(p,b)})(n,f)});const u=i.getTarget(n.element);l.reset(),i.onDrop(n,u)},r3=n=>(s,i)=>{const l=u=>{i.setStartData(ZO(s,u))};return _n([Ue(Pl(),u=>{i.getStartData().each(()=>l(u))}),...n(s,i,l)])};var tB=Object.freeze({__proto__:null,getData:n=>T.from(_t(n.x,n.y)),getDelta:(n,s)=>_t(s.left-n.left,s.top-n.top)});const s3=(n,s,i)=>[Ue(j(),(l,u)=>{if(u.event.raw.button!==0)return;u.stop();const f=()=>WO(l,T.some(y),n,s),p=MA(f,200),b={drop:f,delayDrop:p.schedule,forceDrop:f,move:w=>{p.cancel(),n3(l,n,s,tB,w)}},y=jO(l,n.blockerClass,(w=>_n([Ue(j(),w.forceDrop),Ue(rt(),w.drop),Ue(ce(),(E,_)=>{w.move(_.event)}),Ue(ye(),w.delayDrop)]))(b));i(l),Ew(l,y)})],qO=[...o3,bn("dragger",{handlers:r3(s3)})];var GO=Object.freeze({__proto__:null,getData:n=>{const s=n.raw.touches;return s.length===1?(i=>{const l=i[0];return T.some(_t(l.clientX,l.clientY))})(s):T.none()},getDelta:(n,s)=>_t(s.left-n.left,s.top-n.top)});const KO=(n,s,i)=>{const l=Vn(),u=f=>{WO(f,l.get(),n,s),l.clear()};return[Ue(vi(),(f,p)=>{p.stop();const b=()=>u(f),y={drop:b,delayDrop:ut,forceDrop:b,move:E=>{n3(f,n,s,GO,E)}},w=jO(f,n.blockerClass,(E=>_n([Ue(vi(),E.forceDrop),Ue(C(),E.drop),Ue(N(),E.drop),Ue(md(),(_,O)=>{E.move(O.event)})]))(y));l.set(w),i(f),Ew(f,w)}),Ue(md(),(f,p)=>{p.stop(),n3(f,n,s,GO,p.event)}),Ue(C(),(f,p)=>{p.stop(),u(f)}),Ue(N(),u)]},oB=qO,nB=[...o3,bn("dragger",{handlers:r3(KO)})],rB=[...o3,bn("dragger",{handlers:r3((n,s,i)=>[...s3(n,s,i),...KO(n,s,i)])})];var sB=Object.freeze({__proto__:null,mouse:oB,touch:nB,mouseOrTouch:rB}),YO=Object.freeze({__proto__:null,init:()=>{let n=T.none(),s=T.none();const i=ne({});return ki({readState:i,reset:()=>{n=T.none(),s=T.none()},update:(l,u)=>l.getData(u).bind(f=>((p,b)=>{const y=n.map(w=>p.getDelta(w,b));return n=T.some(b),y})(l,f)),getStartData:()=>s,setStartData:l=>{s=T.some(l)}})}});const Ig=z({branchKey:"mode",branches:sB,name:"dragging",active:{events:(n,s)=>n.dragger.handlers(n,s)},extra:{snap:n=>({sensor:n.sensor,range:n.range,output:n.output,extra:T.from(n.extra)})},state:YO,apis:JM}),a3=(n,s,i,l,u,f)=>n.fold(()=>Ig.snap({sensor:Ep(i-20,l-20),range:_t(u,f),output:Ep(T.some(i),T.some(l)),extra:{td:s}}),p=>{const b=i-20,y=l-20,w=p.element.dom.getBoundingClientRect();return Ig.snap({sensor:Ep(b,y),range:_t(40,40),output:Ep(T.some(i-w.width/2),T.some(l-w.height/2)),extra:{td:s}})}),Aw=(n,s,i)=>({getSnapPoints:n,leftAttr:"data-drag-left",topAttr:"data-drag-top",onSensor:(l,u)=>{const f=u.td;((p,b)=>p.exists(y=>hn(y,b)))(s.get(),f)||(s.set(f),i(f))},mustSnap:!0}),XO=n=>rr(ji.sketch({dom:{tag:"div",classes:["tox-selector"]},buttonBehaviours:ct([Ig.config({mode:"mouseOrTouch",blockerClass:"blocker",snaps:n}),Uh.config({})]),eventOrder:{mousedown:["dragging","alloy.base.behaviour"],touchstart:["dragging","alloy.base.behaviour"]}})),JO=(n,s)=>{const i=eo([]),l=eo([]),u=eo(!1),f=Vn(),p=Vn(),b=W=>{const Z=Rl(W);return a3(_.getOpt(s),W,Z.x,Z.y,Z.width,Z.height)},y=W=>{const Z=Rl(W);return a3(O.getOpt(s),W,Z.right,Z.bottom,Z.width,Z.height)},w=Aw(()=>nt(i.get(),W=>b(W)),f,W=>{p.get().each(Z=>{n.dispatch("TableSelectorChange",{start:W,finish:Z})})}),E=Aw(()=>nt(l.get(),W=>y(W)),p,W=>{f.get().each(Z=>{n.dispatch("TableSelectorChange",{start:Z,finish:W})})}),_=XO(w),O=XO(E),L=Xs(_.asSpec()),I=Xs(O.asSpec()),K=(W,Z,Y,oe)=>{const re=Y(Z);Ig.snapTo(W,re),((be,Oe,Ke,Je)=>{const at=Oe.dom.getBoundingClientRect();sn(be.element,"display");const kt=Bd(wt(n.getBody())).dom.innerHeight,Mt=at[oe]<0,qt=((so,Lo)=>so[oe]>Lo)(at,kt);(Mt||qt)&&mo(be.element,"display","none")})(W,Z)},q=W=>K(L,W,b,"top"),se=W=>K(I,W,y,"bottom");if(Ja().deviceType.isTouch()){const W=Z=>nt(Z,wt);n.on("TableSelectionChange",Z=>{u.get()||(Su(s,L),Su(s,I),u.set(!0));const Y=wt(Z.start),oe=wt(Z.finish);f.set(Y),p.set(oe),T.from(Z.otherCells).each(re=>{i.set(W(re.upOrLeftCells)),l.set(W(re.downOrRightCells)),q(Y),se(oe)})}),n.on("ResizeEditor ResizeWindow ScrollContent",()=>{f.get().each(q),p.get().each(se)}),n.on("TableSelectionClear",()=>{u.get()&&(pl(L),pl(I),u.set(!1)),f.clear(),p.clear()})}},aB=(n,s,i)=>{var l;const u=(l=s.delimiter)!==null&&l!==void 0?l:"›";return{dom:{tag:"div",classes:["tox-statusbar__path"],attributes:{role:"navigation"}},behaviours:ct([Yt.config({mode:"flow",selector:"div[role=button]"}),zo.config({disabled:i.isDisabled}),Ra(),Tr.config({}),po.config({}),Vo("elementPathEvents",[Ar((f,p)=>{n.shortcuts.add("alt+F11","focus statusbar elementpath",()=>Yt.focusIn(f)),n.on("NodeChange",b=>{const y=(E=>{const _=[];let O=E.length;for(;O-- >0;){const I=E[O];if(I.nodeType===1&&(L=I).nodeName!=="BR"&&!L.getAttribute("data-mce-bogus")&&L.getAttribute("data-mce-type")!=="bookmark"){const K=wN(n,I);if(K.isDefaultPrevented()||_.push({name:K.name,element:I}),K.isPropagationStopped())break}}var L;return _})(b.parents),w=y.length>0?Ao(y,(E,_,O)=>{const L=((I,K,q)=>ji.sketch({dom:{tag:"div",classes:["tox-statusbar__path-item"],attributes:{"data-index":q,"aria-level":q+1}},components:[zr(I)],action:se=>{n.focus(),n.selection.select(K),n.nodeChanged()},buttonBehaviours:ct([Ai(i.isDisabled),Ra()])}))(_.name,_.element,O);return O===0?E.concat([L]):E.concat([{dom:{tag:"div",classes:["tox-statusbar__path-divider"],attributes:{"aria-hidden":!0}},components:[zr(` ${u} `)]},L])},[]):[];po.set(f,w)})})])]),components:[]}};var Lg;(function(n){n[n.None=0]="None",n[n.Both=1]="Both",n[n.Vertical=2]="Vertical"})(Lg||(Lg={}));const QO=(n,s,i)=>{const l=wt(n.getContainer()),u=((f,p,b,y,w)=>{const E={height:bw(y+p.top,uy(f),gx(f))};return b===Lg.Both&&(E.width=bw(w+p.left,J1(f),fy(f))),E})(n,s,i,ke(l),Uo(l));Kn(u,(f,p)=>{Ho(f)&&mo(l,p,VS(f))}),(f=>{f.dispatch("ResizeEditor")})(n)},zw=(n,s,i,l)=>{const u=_t(20*i,20*l);return QO(n,u,s),T.some(!0)},i3=(n,s)=>{const i=()=>{const l=[],u=t2(n),f=uE(n),p=Xc(n)||n.hasPlugin("wordcount");return f&&l.push(aB(n,{},s)),u&&l.push((()=>{const b=Zx("Alt+0");return{dom:{tag:"div",classes:["tox-statusbar__help-text"]},components:[zr(Cd.translate(["Press {0} for help",b]))]}})()),p&&l.push((()=>{const b=[];return n.hasPlugin("wordcount")&&b.push(((y,w)=>{const E=(_,O,L)=>po.set(_,[zr(w.translate(["{0} "+L,O[L]]))]);return ji.sketch({dom:{tag:"button",classes:["tox-statusbar__wordcount"]},components:[],buttonBehaviours:ct([Ai(w.isDisabled),Ra(),Tr.config({}),po.config({}),Ee.config({store:{mode:"memory",initialValue:{mode:"words",count:{words:0,characters:0}}}}),Vo("wordcount-events",[Lc(_=>{const O=Ee.getValue(_),L=O.mode==="words"?"characters":"words";Ee.setValue(_,{mode:L,count:O.count}),E(_,O.count,L)}),Ar(_=>{y.on("wordCountUpdate",O=>{const{mode:L}=Ee.getValue(_);Ee.setValue(_,{mode:L,count:O.wordCount}),E(_,O.wordCount,L)})})])]),eventOrder:{[va()]:["disabling","alloy.base.behaviour","wordcount-events"]}})})(n,s)),Xc(n)&&b.push({dom:{tag:"span",classes:["tox-statusbar__branding"]},components:[{dom:{tag:"a",attributes:{href:"https://www.tiny.cloud/powered-by-tiny?utm_campaign=poweredby&utm_source=tiny&utm_medium=referral&utm_content=v7",rel:"noopener",target:"_blank","aria-label":Cd.translate(["Powered by {0}","Tiny"])},innerHtml:`<svg width="50px" height="16px" viewBox="0 0 50 16" xmlns="http://www.w3.org/2000/svg">
  <path fill-rule="evenodd" clip-rule="evenodd" d="M10.143 0c2.608.015 5.186 2.178 5.186 5.331 0 0 .077 3.812-.084 4.87-.361 2.41-2.164 4.074-4.65 4.496-1.453.284-2.523.49-3.212.623-.373.071-.634.122-.785.152-.184.038-.997.145-1.35.145-2.732 0-5.21-2.04-5.248-5.33 0 0 0-3.514.03-4.442.093-2.4 1.758-4.342 4.926-4.963 0 0 3.875-.752 4.036-.782.368-.07.775-.1 1.15-.1Zm1.826 2.8L5.83 3.989v2.393l-2.455.475v5.968l6.137-1.189V9.243l2.456-.476V2.8ZM5.83 6.382l3.682-.713v3.574l-3.682.713V6.382Zm27.173-1.64-.084-1.066h-2.226v9.132h2.456V7.743c-.008-1.151.998-2.064 2.149-2.072 1.15-.008 1.987.92 1.995 2.072v5.065h2.455V7.359c-.015-2.18-1.657-3.929-3.837-3.913a3.993 3.993 0 0 0-2.908 1.296Zm-6.3-4.266L29.16 0v2.387l-2.456.475V.476Zm0 3.2v9.132h2.456V3.676h-2.456Zm18.179 11.787L49.11 3.676H46.58l-1.612 4.527-.46 1.382-.384-1.382-1.611-4.527H39.98l3.3 9.132L42.15 16l2.732-.537ZM22.867 9.738c0 .752.568 1.075.921 1.075.353 0 .668-.047.998-.154l.537 1.765c-.23.154-.92.537-2.225.537-1.305 0-2.655-.997-2.686-2.686a136.877 136.877 0 0 1 0-4.374H18.8V3.676h1.612v-1.98l2.455-.476v2.456h2.302V5.9h-2.302v3.837Z"/>
</svg>
`.trim()},behaviours:ct([Co.config({})])}]}),{dom:{tag:"div",classes:["tox-statusbar__right-container"]},components:b}})()),l.length>0?[{dom:{tag:"div",classes:["tox-statusbar__text-container",...(()=>{const b="tox-statusbar__text-container--flex-start",y="tox-statusbar__text-container--flex-end";if(u){const w="tox-statusbar__text-container-3-cols";return p||f?p&&!f?[w,y]:[w,b]:[w,"tox-statusbar__text-container--space-around"]}return[p&&!f?y:b]})()]},components:l}]:[]};return{dom:{tag:"div",classes:["tox-statusbar"]},components:(()=>{const l=i(),u=((f,p)=>{const b=(w=>{const E=ii(w);return E===!1?Lg.None:E==="both"?Lg.Both:Lg.Vertical})(f);if(b===Lg.None)return T.none();const y=b===Lg.Both?"Press the arrow keys to resize the editor.":"Press the Up and Down arrow keys to resize the editor.";return T.some(Sd("resize-handle",{tag:"div",classes:["tox-statusbar__resize-handle"],attributes:{"aria-label":p.translate(y),"data-mce-name":"resize-handle"},behaviours:[Ig.config({mode:"mouse",repositionTarget:!1,onDrag:(w,E,_)=>QO(f,_,b),blockerClass:"tox-blocker"}),Yt.config({mode:"special",onLeft:()=>zw(f,b,-1,0),onRight:()=>zw(f,b,1,0),onUp:()=>zw(f,b,0,-1),onDown:()=>zw(f,b,0,1)}),Tr.config({}),Co.config({}),Ui.config(p.tooltips.getConfig({tooltipText:p.translate("Resize")}))]},p.icons))})(n,s);return l.concat(u.toArray())})()}},ym=(n,s)=>s.get().getOrDie(`UI for ${n} has not been rendered`),iB=(n,s)=>{const i=n.inline,l=i?LM:BM,u=up(n)?$6:xT,f=(()=>{const re=Vn(),be=Vn(),Oe=Vn();return{dialogUi:re,popupUi:be,mainUi:Oe,getUiMotherships:()=>{const Ke=re.get().map(at=>at.mothership),Je=be.get().map(at=>at.mothership);return Ke.fold(()=>Je.toArray(),at=>Je.fold(()=>[at],kt=>hn(at.element,kt.element)?[at]:[at,kt]))},lazyGetInOuterOrDie:(Ke,Je)=>()=>Oe.get().bind(at=>Je(at.outerContainer)).getOrDie(`Could not find ${Ke} element in OuterContainer`)}})(),p=Vn(),b=Vn(),y=Vn(),w=Ja().deviceType.isTouch()?["tox-platform-touch"]:[],E=o2(n),_=Oh(n),O=rr({dom:{tag:"div",classes:["tox-anchorbar"]}}),L=rr({dom:{tag:"div",classes:["tox-bottom-anchorbar"]}}),I=()=>f.mainUi.get().map(re=>re.outerContainer).bind(Hr.getHeader),K=f.lazyGetInOuterOrDie("anchor bar",O.getOpt),q=f.lazyGetInOuterOrDie("bottom anchor bar",L.getOpt),se=f.lazyGetInOuterOrDie("toolbar",Hr.getToolbar),W=f.lazyGetInOuterOrDie("throbber",Hr.getThrobber),Z=((re,be,Oe,Ke)=>{const Je=eo(!1),at=(co=>{const As=eo(o2(co)?"bottom":"top");return{isPositionedAtTop:()=>As.get()==="top",getDockingMode:As.get,setDockingMode:As.set}})(be),kt={icons:()=>be.ui.registry.getAll().icons,menuItems:()=>be.ui.registry.getAll().menuItems,translate:Cd.translate,isDisabled:()=>be.mode.isReadOnly()||!be.ui.isEnabled(),getOption:be.options.get,tooltips:M6(re.dialog)},Mt=F6(be),qt=(co=>{const As=Zs=>()=>co.formatter.match(Zs),wo=Zs=>()=>{const Wa=co.formatter.get(Zs);return Wa!==void 0?T.some({tag:Wa.length>0&&(Wa[0].inline||Wa[0].block)||"div",styles:co.dom.parseStyle(co.formatter.getCssText(Zs))}):T.none()},Jr=eo([]),sr=eo([]),yl=eo(!1);return co.on("PreInit",Zs=>{const Wa=Jz(co),vc=eT(co,Wa,As,wo);Jr.set(vc)}),co.on("addStyleModifications",Zs=>{const Wa=eT(co,Zs.items,As,wo);sr.set(Wa),yl.set(Zs.replace)}),{getData:()=>{const Zs=yl.get()?[]:Jr.get(),Wa=sr.get();return Zs.concat(Wa)}}})(be),so=(co=>({colorPicker:D6(co),hasCustomColors:R6(co),getColors:Kz(co),getColorCols:Yz(co)}))(be),Lo=(co=>({isDraggableModal:N6(co)}))(be),ln={shared:{providers:kt,anchors:Gz(be,Oe,Ke,at.isPositionedAtTop),header:at},urlinput:Mt,styles:qt,colorinput:so,dialog:Lo,isContextMenuOpen:()=>Je.get(),setContextMenuState:co=>Je.set(co)},is={...ln,shared:{...ln.shared,interpreter:co=>Mu(co,{},is),getSink:re.popup}},ms={...ln,shared:{...ln.shared,interpreter:co=>Mu(co,{},ms),getSink:re.dialog}};return{popup:is,dialog:ms}})({popup:()=>qo.fromOption(f.popupUi.get().map(re=>re.sink),"(popup) UI has not been rendered"),dialog:()=>qo.fromOption(f.dialogUi.get().map(re=>re.sink),"UI has not been rendered")},n,K,q),Y=()=>{const re=(()=>{const ln={attributes:{[Fb]:E?wa.BottomToTop:wa.TopToBottom}},is=Hr.parts.menubar({dom:{tag:"div",classes:["tox-menubar"]},backstage:Z.popup,onEscape:()=>{n.focus()}}),ms=Hr.parts.toolbar({dom:{tag:"div",classes:["tox-toolbar"]},getSink:Z.popup.shared.getSink,providers:Z.popup.shared.providers,onEscape:()=>{n.focus()},onToolbarToggled:vc=>{((Gy,Ky)=>{Gy.dispatch("ToggleToolbarDrawer",{state:Ky})})(n,vc)},type:_,lazyToolbar:se,lazyHeader:()=>I().getOrDie("Could not find header element"),...ln}),co=Hr.parts["multiple-toolbar"]({dom:{tag:"div",classes:["tox-toolbar-overlord"]},providers:Z.popup.shared.providers,onEscape:()=>{n.focus()},type:_}),As=n0(n),wo=o0(n),Jr=t0(n),sr=mE(n),yl=Hr.parts.promotion({dom:{tag:"div",classes:["tox-promotion"]}}),Zs=As||wo||Jr,Wa=sr?[yl,is]:[is];return Hr.parts.header({dom:{tag:"div",classes:["tox-editor-header"].concat(Zs?[]:["tox-editor-header--empty"]),...ln},components:An([Jr?Wa:[],As?[co]:wo?[ms]:[],Dh(n)?[]:[O.asSpec()]]),sticky:up(n),editor:n,sharedBackstage:Z.popup.shared})})(),be={dom:{tag:"div",classes:["tox-sidebar-wrap"]},components:[Hr.parts.socket({dom:{tag:"div",classes:["tox-edit-area"]}}),Hr.parts.sidebar({dom:{tag:"div",classes:["tox-sidebar"]}})]},Oe=Hr.parts.throbber({dom:{tag:"div",classes:["tox-throbber"]},backstage:Z.popup}),Ke=Hr.parts.viewWrapper({backstage:Z.popup}),Je=dE(n)&&!i?T.some(i3(n,Z.popup.shared.providers)):T.none(),at=An([E?[]:[re],i?[]:[be],E?[re]:[]]),kt=Hr.parts.editorContainer({components:An([at,i?[]:[L.asSpec()]])}),Mt=Ex(n),qt={role:"application",...Cd.isRtl()?{dir:"rtl"}:{},...Mt?{"aria-hidden":"true"}:{}},so=Xs(Hr.sketch({dom:{tag:"div",classes:["tox","tox-tinymce"].concat(i?["tox-tinymce-inline"]:[]).concat(E?["tox-tinymce--toolbar-bottom"]:[]).concat(w),styles:{visibility:"hidden",...Mt?{opacity:"0",border:"0"}:{}},attributes:qt},components:[kt,...i?[]:[Ke,...Je.toArray()],Oe],behaviours:ct([Ra(),zo.config({disableClass:"tox-tinymce--disabled"}),Yt.config({mode:"cyclic",selector:".tox-menubar, .tox-toolbar, .tox-toolbar__primary, .tox-toolbar__overflow--open, .tox-sidebar__overflow--open, .tox-statusbar__path, .tox-statusbar__wordcount, .tox-statusbar__branding a, .tox-statusbar__resize-handle"})])})),Lo=iC(so);return p.set(Lo),{mothership:Lo,outerContainer:so}},oe=re=>{const be=VS((Ke=>(at=>{const kt=Y1(at),Mt=uy(at),qt=gx(at);return kO(kt).map(so=>bw(so,Mt,qt))})(Ke).getOr(Y1(Ke)))(n)),Oe=VS((Ke=>wO(Ke).getOr(X1(Ke)))(n));return n.inline||(Wl("div","width",Oe)&&mo(re.element,"width",Oe),Wl("div","height",be)?mo(re.element,"height",be):mo(re.element,"height","400px")),be};return{popups:{backstage:Z.popup,getMothership:()=>ym("popups",y)},dialogs:{backstage:Z.dialog,getMothership:()=>ym("dialogs",b)},renderUI:()=>{const re=Y(),be=(()=>{const Ke=Sx(n),Je=hn(ha(),Ke)&&ur(Ke,"display")==="grid",at={dom:{tag:"div",classes:["tox","tox-silver-sink","tox-tinymce-aux"].concat(w),attributes:{...Cd.isRtl()?{dir:"rtl"}:{}}},behaviours:ct([ai.config({useFixed:()=>u.isDocked(I)})])},kt={dom:{styles:{width:document.body.clientWidth+"px"}},events:_n([Ue(If(),so=>{mo(so.element,"width",document.body.clientWidth+"px")})])},Mt=Xs(Ir(at,Je?kt:{})),qt=iC(Mt);return b.set(qt),{sink:Mt,mothership:qt}})(),Oe=fp(n)?(()=>{const Ke={dom:{tag:"div",classes:["tox","tox-silver-sink","tox-silver-popup-sink","tox-tinymce-aux"].concat(w),attributes:{...Cd.isRtl()?{dir:"rtl"}:{}}},behaviours:ct([ai.config({useFixed:()=>u.isDocked(I),getBounds:()=>s.getPopupSinkBounds()})])},Je=Xs(Ke),at=iC(Je);return y.set(at),{sink:Je,mothership:at}})():(Ke=>(y.set(Ke.mothership),Ke))(be);return f.dialogUi.set(be),f.popupUi.set(Oe),f.mainUi.set(re),(Ke=>{const{mainUi:Je,popupUi:at,uiMotherships:kt}=Ke;Mn(bx(n),(wo,Jr)=>{n.ui.registry.addGroupToolbarButton(Jr,wo)});const{buttons:Mt,menuItems:qt,contextToolbars:so,sidebars:Lo,views:ln}=n.ui.registry.getAll(),is=Cx(n),ms={menuItems:qt,menus:dg(n),menubar:dp(n),toolbar:is.getOrThunk(()=>py(n)),allowToolbarGroups:_===Jd.floating,buttons:Mt,sidebar:Lo,views:ln};var co;co=Je.outerContainer,n.addShortcut("alt+F9","focus menubar",()=>{Hr.focusMenubar(co)}),n.addShortcut("alt+F10","focus toolbar",()=>{Hr.focusToolbar(co)}),n.addCommand("ToggleToolbarDrawer",(wo,Jr)=>{Jr!=null&&Jr.skipFocus?Hr.toggleToolbarDrawerWithoutFocusing(co):Hr.toggleToolbarDrawer(co)}),n.addQueryStateHandler("ToggleToolbarDrawer",()=>Hr.isToolbarDrawerToggled(co)),((wo,Jr,sr)=>{const yl=(Un,wm)=>{Ot([Jr,...sr],Lu=>{Lu.broadcastEvent(Un,wm)})},Zs=(Un,wm)=>{Ot([Jr,...sr],Lu=>{Lu.broadcastOn([Un],wm)})},Wa=Un=>Zs(x(),{target:Un.target}),vc=Kl(),Gy=$i(vc,"touchstart",Wa),Ky=$i(vc,"touchmove",Un=>yl(Bf(),Un)),zp=$i(vc,"touchend",Un=>yl(jt(),Un)),Tp=$i(vc,"mousedown",Wa),uv=$i(vc,"mouseup",Un=>{Un.raw.button===0&&Zs(D(),{target:Un.target})}),Pg=Un=>Zs(x(),{target:wt(Un.target)}),xm=Un=>{Un.button===0&&Zs(D(),{target:wt(Un.target)})},Fg=()=>{Ot(wo.editorManager.get(),Un=>{wo!==Un&&Un.dispatch("DismissPopups",{relatedTarget:wo})})},Hg=Un=>yl(Pl(),Pv(Un)),$g=Un=>{Zs(S(),{}),yl(If(),Pv(Un))},Vw=Gr(wt(wo.getElement())),fv=ku(Vw,"scroll",Un=>{requestAnimationFrame(()=>{if(wo.getContainer()!=null){const wm=ug(wo,Jr.element).map(Lu=>[Lu.element,...Lu.others]).getOr([]);Tt(wm,Lu=>hn(Lu,Un.target))&&(wo.dispatch("ElementScroll",{target:Un.target.dom}),yl(Bc(),Un))}})}),Vg=()=>Zs(S(),{}),Op=Un=>{Un.state&&Zs(x(),{target:wt(wo.getContainer())})},km=Un=>{Zs(x(),{target:wt(Un.relatedTarget.getContainer())})},mv=Un=>wo.dispatch("focusin",Un),pv=Un=>wo.dispatch("focusout",Un);wo.on("PostRender",()=>{wo.on("click",Pg),wo.on("tap",Pg),wo.on("mouseup",xm),wo.on("mousedown",Fg),wo.on("ScrollWindow",Hg),wo.on("ResizeWindow",$g),wo.on("ResizeEditor",Vg),wo.on("AfterProgressState",Op),wo.on("DismissPopups",km),Ot([Jr,...sr],Un=>{Un.element.dom.addEventListener("focusin",mv),Un.element.dom.addEventListener("focusout",pv)})}),wo.on("remove",()=>{wo.off("click",Pg),wo.off("tap",Pg),wo.off("mouseup",xm),wo.off("mousedown",Fg),wo.off("ScrollWindow",Hg),wo.off("ResizeWindow",$g),wo.off("ResizeEditor",Vg),wo.off("AfterProgressState",Op),wo.off("DismissPopups",km),Ot([Jr,...sr],Un=>{Un.element.dom.removeEventListener("focusin",mv),Un.element.dom.removeEventListener("focusout",pv)}),Tp.unbind(),Gy.unbind(),Ky.unbind(),zp.unbind(),uv.unbind(),fv.unbind()}),wo.on("detach",()=>{Ot([Jr,...sr],Kv),Ot([Jr,...sr],Un=>Un.destroy())})})(n,Je.mothership,kt),u.setup(n,Z.popup.shared,I),OO(n,Z.popup),FO(n,Z.popup.shared.getSink,Z.popup),(wo=>{const{sidebars:Jr}=wo.ui.registry.getAll();Ot($o(Jr),sr=>{const yl=Jr[sr],Zs=()=>gs(T.from(wo.queryCommandValue("ToggleSidebar")),sr);wo.ui.registry.addToggleButton(sr,{icon:yl.icon,tooltip:yl.tooltip,onAction:Wa=>{wo.execCommand("ToggleSidebar",!1,sr),Wa.setActive(Zs())},onSetup:Wa=>{Wa.setActive(Zs());const vc=()=>Wa.setActive(Zs());return wo.on("ToggleSidebar",vc),()=>{wo.off("ToggleSidebar",vc)}}})})})(n),X6(n,W,Z.popup.shared),FM(n,so,at.sink,{backstage:Z.popup}),JO(n,at.sink);const As={targetNode:n.getElement(),height:oe(Je.outerContainer)};return l.render(n,Ke,ms,Z.popup,As)})({popupUi:Oe,dialogUi:be,mainUi:re,uiMotherships:f.getUiMotherships()})}}},av=ne([Ze("lazySink"),wn("dragBlockClass"),_r("getBounds",Kr),Ae("useTabstopAt",Lt),Ae("firstTabstop",0),Ae("eventOrder",{}),xt("modalBehaviours",[Yt]),Fl("onExecute"),Hm("onEscape")]),l3={sketch:Et},c3=ne([yd({name:"draghandle",overrides:(n,s)=>({behaviours:ct([Ig.config({mode:"mouse",getTarget:i=>xu(i,'[role="dialog"]').getOr(i),blockerClass:n.dragBlockClass.getOrDie(new Error(`The drag blocker class was not specified for a dialog with a drag handle: 
`+JSON.stringify(s,null,2)).message),getBounds:n.getDragBounds})])})}),gl({schema:[Ze("dom")],name:"title"}),gl({factory:l3,schema:[Ze("dom")],name:"close"}),gl({factory:l3,schema:[Ze("dom")],name:"body"}),yd({factory:l3,schema:[Ze("dom")],name:"footer"}),Au({factory:{sketch:(n,s)=>({...n,dom:s.dom,components:s.components})},schema:[Ae("dom",{tag:"div",styles:{position:"fixed",left:"0px",top:"0px",right:"0px",bottom:"0px"}}),Ae("components",[])],name:"blocker"})]),Za=Vl({name:"ModalDialog",configFields:av(),partFields:c3(),factory:(n,s,i,l)=>{const u=Vn(),f=Pt("modal-events"),p={...n.eventOrder,[Qi()]:[f].concat(n.eventOrder["alloy.system.attached"]||[])},b=Ja();return{uid:n.uid,dom:n.dom,components:s,apis:{show:y=>{u.set(y);const w=n.lazySink(y).getOrDie(),E=l.blocker(),_=w.getSystem().build({...E,components:E.components.concat([Hl(y)]),behaviours:ct([Co.config({}),Vo("dialog-blocker-events",[Wu(bo(),()=>{vf.isBlocked(y)||Yt.focusIn(y)})])])});Su(w,_),Yt.focusIn(y)},hide:y=>{u.clear(),mi(y.element).each(w=>{y.getSystem().getByDom(w).each(E=>{pl(E)})})},getBody:y=>lp(y,n,"body"),getFooter:y=>Nr(y,n,"footer"),setIdle:y=>{vf.unblock(y)},setBusy:(y,w)=>{vf.block(y,w)}},eventOrder:p,domModification:{attributes:{role:"dialog","aria-modal":"true"}},behaviours:Ut(n.modalBehaviours,[po.config({}),Yt.config({mode:"cyclic",onEnter:n.onExecute,onEscape:n.onEscape,useTabstopAt:n.useTabstopAt,firstTabstop:n.firstTabstop}),vf.config({getRoot:u.get}),Vo(f,[Ar(y=>{const w=lp(y,n,"title").element,E=(_=>_.dom.textContent)(w);b.os.isMacOS()&&It(E)?uo(y.element,"aria-label",E):((_,O)=>{const L=ls(_,"id").fold(()=>{const I=Pt("dialog-label");return uo(O,"id",I),I},Et);uo(_,"aria-labelledby",L)})(y.element,w)})])])}},apis:{show:(n,s)=>{n.show(s)},hide:(n,s)=>{n.hide(s)},getBody:(n,s)=>n.getBody(s),getFooter:(n,s)=>n.getFooter(s),setBusy:(n,s,i)=>{n.setBusy(s,i)},setIdle:(n,s)=>{n.setIdle(s)}}}),lB=to([fa,y2].concat(Ph)),cB=dd,Tw=[S2("button"),eu,Ll("align","end",["start","end"]),x0,ff,fu("buttonType",["primary","secondary"])],eD=[...Tw,Qd],iv=[Ii("type",["submit","cancel","custom"]),...eD],d3=[Ii("type",["menu"]),bg,v0,eu,Fa("items",lB),...Tw],u3=[...Tw,Ii("type",["togglebutton"]),v0,eu,bg,Ha("active",!1)],dB=xs("type",{submit:iv,cancel:iv,custom:iv,menu:d3,togglebutton:u3}),Nd=[fa,Qd,Ii("level",["info","warn","error","success"]),k2,Ae("url","")],uB=to(Nd),fB=[fa,Qd,ff,S2("button"),eu,aN,fu("buttonType",["primary","secondary","toolbar"]),x0],tD=to(fB),rb=[fa,y2],kf=rb.concat([w2]),mB=rb.concat([v2,ff]),pB=to(mB),gB=dd,hB=kf.concat([KE("auto")]),bB=to(hB),yB=du([Bh,Qd,k2]),oD=kf.concat([Dr("storageKey","default")]),vB=to(oD),xB=Ps,kB=to(kf),nD=Ps,f3=rb.concat([Dr("tag","textarea"),rs("scriptId"),rs("scriptUrl"),ml("onFocus"),Hs("settings",void 0,Df)]),wB=rb.concat([Dr("tag","textarea"),Bl("init")]),m3=zc(n=>Lr("customeditor.old",Bi(wB),n).orThunk(()=>Lr("customeditor.new",Bi(f3),n))),Wy=Ps,rD=to(kf),sD=ds(ul),aD=n=>[fa,jd("columns"),n],_B=[fa,rs("html"),Ll("presets","presentation",["presentation","document"])],CB=to(_B),Ow=kf.concat([Ha("border",!1),Ha("sandboxed",!0),Ha("streamContent",!1),Ha("transparent",!0)]),SB=to(Ow),EB=Ps,iD=to(rb.concat([Da("height")])),lD=to([rs("url"),Fs("zoom"),Fs("cachedWidth"),Fs("cachedHeight")]),p3=kf.concat([Da("inputMode"),Da("placeholder"),Ha("maximized",!1),ff]),cD=to(p3),nc=Ps,dD=n=>[fa,v2,n,Ll("align","start",["start","center","end"])],AB=[Qd,Bh],zB=[Qd,Fa("items",fl(0,()=>g3))],g3=cd([to(AB),to(zB)]),TB=kf.concat([Fa("items",g3),ff]),OB=to(TB),DB=Ps,uD=kf.concat([Uu("items",[Qd,Bh]),Tc("size",1),ff]),vm=to(uD),h3=Ps,fD=kf.concat([Ha("constrain",!0),ff]),Dw=to(fD),Rw=to([rs("width"),rs("height")]),RB=rb.concat([v2,Tc("min",0),Tc("max",0)]),NB=to(RB),MB=uu,BB=[fa,Fa("header",Ps),Fa("cells",ds(Ps))],IB=to(BB),LB=kf.concat([Da("placeholder"),Ha("maximized",!1),ff]),PB=to(LB),mD=Ps,pD=[Ii("type",["directory","leaf"]),x2,rs("id"),oi("menu",ET)],wf=to(pD),Nw=pD.concat([Fa("children",fl(0,()=>$d("type",{directory:gD,leaf:wf})))]),gD=to(Nw),FB=$d("type",{directory:gD,leaf:wf}),hD=[fa,Fa("items",FB),ml("onLeafAction"),ml("onToggleExpand"),ni("defaultExpandedIds",[],Ps),Da("defaultSelectedId")],bD=to(hD),b3=kf.concat([Ll("filetype","file",["image","media","file"]),ff,Da("picker_text")]),Mw=to(b3),lv=to([Bh,C2]),sb=n=>la("items","items",{tag:"required",process:{}},ds(zc(s=>Lr(`Checking item of ${n}`,Bw,s).fold(i=>qo.error(dc(i)),i=>qo.value(i))))),Bw=Ml(()=>{return $d("type",{alertbanner:uB,bar:to((n=sb("bar"),[fa,n])),button:tD,checkbox:pB,colorinput:vB,colorpicker:kB,dropzone:rD,grid:to(aD(sb("grid"))),iframe:SB,input:cD,listbox:OB,selectbox:vm,sizeinput:Dw,slider:NB,textarea:PB,urlinput:Mw,customeditor:m3,htmlpanel:CB,imagepreview:iD,collection:bB,label:to(dD(sb("label"))),table:IB,tree:bD,panel:y3});var n}),yD=[fa,Ae("classes",[]),Fa("items",Bw)],y3=to(yD),vD=[S2("tab"),x2,Fa("items",Bw)],HB=[fa,Uu("tabs",vD)],$B=to(HB),VB=eD,jB=dB,UB=to([rs("title"),ya("body",$d("type",{panel:y3,tabpanel:$B})),Dr("size","normal"),ni("buttons",[],jB),Ae("initialData",{}),_r("onAction",ut),_r("onChange",ut),_r("onSubmit",ut),_r("onClose",ut),_r("onCancel",ut),_r("onTabChange",ut)]),xD=to([Ii("type",["cancel","custom"]),...VB]),kD=to([rs("title"),rs("url"),Fs("height"),Fs("width"),Ud("buttons",xD),_r("onAction",ut),_r("onCancel",ut),_r("onClose",ut),_r("onMessage",ut)]),v3=n=>ir(n)?[n].concat(mn(ps(n),v3)):Xo(n)?mn(n,v3):[],wD=n=>So(n.type)&&So(n.name),ZB={checkbox:gB,colorinput:xB,colorpicker:nD,dropzone:sD,input:nc,iframe:EB,imagepreview:lD,selectbox:h3,sizeinput:Rw,slider:MB,listbox:DB,size:Rw,textarea:mD,urlinput:lv,customeditor:Wy,collection:yB,togglemenuitem:cB},_D=n=>{const s=(l=>kn(v3(l),wD))(n),i=mn(s,l=>(u=>T.from(ZB[u.type]))(l).fold(()=>[],u=>[ya(l.name,u)]));return to(i)},qy=n=>{var s;return{internalDialog:Yi(Lr("dialog",UB,n)),dataValidator:_D(n),initialData:(s=n.initialData)!==null&&s!==void 0?s:{}}},ab={open:(n,s)=>{const i=qy(s);return n(i.internalDialog,i.initialData,i.dataValidator)},openUrl:(n,s)=>n(Yi(Lr("dialog",kD,s))),redial:n=>qy(n)};var CD=Object.freeze({__proto__:null,events:(n,s)=>{const i=(l,u)=>{n.updateState.each(f=>{const p=f(l,u);s.set(p)}),n.renderComponents.each(f=>{const p=f(u,s.get());(n.reuseDom?j_:Ah)(l,p)})};return _n([Ue(mu(),(l,u)=>{const f=u;if(!f.universal){const p=n.channel;_e(f.channels,p)&&i(l,f.data)}}),Ar((l,u)=>{n.initialData.each(f=>{i(l,f)})})])}}),WB=Object.freeze({__proto__:null,getState:(n,s,i)=>i}),qB=[Ze("channel"),wn("renderComponents"),wn("updateState"),wn("initialData"),Ha("reuseDom",!0)];const td=ks({fields:qB,name:"reflecting",active:CD,apis:WB,state:Object.freeze({__proto__:null,init:()=>{const n=eo(T.none());return{readState:()=>n.get().getOr("none"),get:n.get,set:n.set,clear:()=>n.set(T.none())}}})}),SD=n=>{const s=[],i={};return Kn(n,(l,u)=>{l.fold(()=>{s.push(u)},f=>{i[u]=f})}),s.length>0?qo.error(s):qo.value(i)},ED=(n,s,i)=>{const l=rr(Ry.sketch(f=>({dom:{tag:"div",classes:["tox-form"].concat(n.classes)},components:nt(n.items,p=>Yk(f,p,s,i))})));return{dom:{tag:"div",classes:["tox-dialog__body"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-content"]},components:[l.asSpec()]}],behaviours:ct([Yt.config({mode:"acyclic",useTabstopAt:Gn(By)}),(u=l,xn.config({find:u.getOpt})),hz(l,{postprocess:f=>SD(f).fold(p=>(console.error(p),{}),Et)}),Vo("dialog-body-panel",[Ue(bo(),(f,p)=>{f.getSystem().broadcastOn([F0],{newFocus:T.some(p.event.target)})})])])};var u},GB=vd({name:"TabButton",configFields:[Ae("uid",void 0),Ze("value"),la("dom","dom",$u(()=>({attributes:{role:"tab",id:Pt("aria"),"aria-selected":"false"}})),yi()),wn("action"),Ae("domModification",{}),xt("tabButtonBehaviours",[Co,Yt,Ee]),Ze("view")],factory:(n,s)=>({uid:n.uid,dom:n.dom,components:n.components,events:ly(n.action),behaviours:Ut(n.tabButtonBehaviours,[Co.config({}),Yt.config({mode:"execution",useSpace:!0,useEnter:!0}),Ee.config({store:{mode:"memory",initialValue:n.value}})]),domModification:n.domModification})}),AD=ne([Ze("tabs"),Ze("dom"),Ae("clickToDismiss",!1),xt("tabbarBehaviours",[Wn,Yt]),yu(["tabClass","selectedClass"])]),x3=Qv({factory:GB,name:"tabs",unit:"tab",overrides:n=>{const s=(l,u)=>{Wn.dehighlight(l,u),Zt(l,Zu(),{tabbar:l,button:u})},i=(l,u)=>{Wn.highlight(l,u),Zt(l,Lf(),{tabbar:l,button:u})};return{action:l=>{const u=l.getSystem().getByUid(n.uid).getOrDie(),f=Wn.isHighlighted(u,l);(f&&n.clickToDismiss?s:f?ut:i)(u,l)},domModification:{classes:[n.markers.tabClass]}}}}),Ap=ne([x3]),Iw=Vl({name:"Tabbar",configFields:AD(),partFields:Ap(),factory:(n,s,i,l)=>({uid:n.uid,dom:n.dom,components:s,"debug.sketcher":"Tabbar",domModification:{attributes:{role:"tablist"}},behaviours:Ut(n.tabbarBehaviours,[Wn.config({highlightClass:n.markers.selectedClass,itemClass:n.markers.tabClass,onHighlight:(u,f)=>{uo(f.element,"aria-selected","true")},onDehighlight:(u,f)=>{uo(f.element,"aria-selected","false")}}),Yt.config({mode:"flow",getInitial:u=>Wn.getHighlighted(u).map(f=>f.element),selector:"."+n.markers.tabClass,executeOnMove:!0})])})}),zD=vd({name:"Tabview",configFields:[xt("tabviewBehaviours",[po])],factory:(n,s)=>({uid:n.uid,dom:n.dom,behaviours:Ut(n.tabviewBehaviours,[po.config({})]),domModification:{attributes:{role:"tabpanel"}}})}),TD=ne([Ae("selectFirst",!0),vn("onChangeTab"),vn("onDismissTab"),Ae("tabs",[]),xt("tabSectionBehaviours",[])]),k3=gl({factory:Iw,schema:[Ze("dom"),Il("markers",[Ze("tabClass"),Ze("selectedClass")])],name:"tabbar",defaults:n=>({tabs:n.tabs})}),OD=gl({factory:zD,name:"tabview"}),Lw=ne([k3,OD]),ib=Vl({name:"TabSection",configFields:TD(),partFields:Lw(),factory:(n,s,i,l)=>{const u=(f,p)=>{Nr(f,n,"tabbar").each(b=>{p(b).each(uc)})};return{uid:n.uid,dom:n.dom,components:s,behaviours:oo(n.tabSectionBehaviours),events:_n(An([n.selectFirst?[Ar((f,p)=>{u(f,Wn.getFirst)})]:[],[Ue(Lf(),(f,p)=>{(b=>{const y=Ee.getValue(b);Nr(b,n,"tabview").each(w=>{$(n.tabs,E=>E.value===y).each(E=>{const _=E.view();ls(b.element,"id").each(O=>{uo(w.element,"aria-labelledby",O)}),po.set(w,_),n.onChangeTab(w,b,_)})})})(p.event.button)}),Ue(Zu(),(f,p)=>{const b=p.event.button;n.onDismissTab(f,b)})]])),apis:{getViewItems:f=>Nr(f,n,"tabview").map(p=>po.contents(p)).getOr([]),showTab:(f,p)=>{u(f,b=>{const y=Wn.getCandidates(b);return $(y,w=>Ee.getValue(w)===p).filter(w=>!Wn.isHighlighted(b,w))})}}}},apis:{getViewItems:(n,s)=>n.getViewItems(s),showTab:(n,s,i)=>{n.showTab(s,i)}}}),w3=(n,s)=>{mo(n,"height",s+"px"),mo(n,"flex-basis",s+"px")},Pw=(n,s,i)=>{xu(n,'[role="dialog"]').each(l=>{ss(l,'[role="tablist"]').each(u=>{i.get().map(f=>(mo(s,"height","0"),mo(s,"flex-basis","0"),Math.min(f,((p,b,y)=>{const w=nd(p).dom,E=xu(p,".tox-dialog-wrap").getOr(p);let _;_=ur(E,"position")==="fixed"?Math.max(w.clientHeight,window.innerHeight):Math.max(w.offsetHeight,w.scrollHeight);const O=ke(b),L=b.dom.offsetLeft>=y.dom.offsetLeft+Uo(y)?Math.max(ke(y),O):O,I=parseInt(ur(p,"margin-top"),10)||0,K=parseInt(ur(p,"margin-bottom"),10)||0;return _-(ke(p)+I+K-L)})(l,s,u)))).each(f=>{w3(s,f)})})})},_3=n=>ss(n,'[role="tabpanel"]'),DD="send-data-to-section",RD="send-data-to-view",KB=(n,s,i)=>{const l=eo({}),u=w=>{const E=Ee.getValue(w),_=SD(E).getOr({}),O=l.get(),L=Ir(O,_);l.set(L)},f=w=>{const E=l.get();Ee.setValue(w,E)},p=eo(null),b=nt(n.tabs,w=>({value:w.name,dom:{tag:"div",classes:["tox-dialog__body-nav-item"]},components:[zr(i.shared.providers.translate(w.title))],view:()=>[Ry.sketch(E=>({dom:{tag:"div",classes:["tox-form"]},components:nt(w.items,_=>Yk(E,_,s,i)),formBehaviours:ct([Yt.config({mode:"acyclic",useTabstopAt:Gn(By)}),Vo("TabView.form.events",[Ar(f),gd(u)]),Ci.config({channels:Ji([{key:DD,value:{onReceive:u}},{key:RD,value:{onReceive:f}}])})])}))]})),y=(w=>{const E=Vn();return{extraEvents:[Ar(O=>{const L=O.element;_3(L).each(I=>{mo(I,"visibility","hidden"),O.getSystem().getByDom(I).toOptional().each(K=>{const q=((W,Z,Y)=>nt(W,(oe,re)=>{po.set(Y,W[re].view());const be=Z.dom.getBoundingClientRect();return po.set(Y,[]),be.height}))(w,I,K);(W=>it(We(W,(Z,Y)=>Z>Y?-1:Z<Y?1:0)))(q).fold(E.clear,E.set)}),Pw(L,I,E),sn(I,"visibility"),((K,q)=>{it(K).each(se=>ib.showTab(q,se.value))})(w,O),requestAnimationFrame(()=>{Pw(L,I,E)})})}),Ue(If(),O=>{const L=O.element;_3(L).each(I=>{Pw(L,I,E)})}),Ue(LA,(O,L)=>{const I=O.element;_3(I).each(K=>{const q=tl(Gr(K));mo(K,"visibility","hidden");const se=cs(K,"height").map(Z=>parseInt(Z,10));sn(K,"height"),sn(K,"flex-basis");const W=K.dom.getBoundingClientRect().height;se.forall(Z=>W>Z)?(E.set(W),Pw(I,K,E)):se.each(Z=>{w3(K,Z)}),sn(K,"visibility"),q.each(Uc)})})],selectFirst:!1}})(b);return ib.sketch({dom:{tag:"div",classes:["tox-dialog__body"]},onChangeTab:(w,E,_)=>{const O=Ee.getValue(E);Zt(w,mk,{name:O,oldName:p.get()}),p.set(O)},tabs:b,components:[ib.parts.tabbar({dom:{tag:"div",classes:["tox-dialog__body-nav"]},components:[Iw.parts.tabs({})],markers:{tabClass:"tox-tab",selectedClass:"tox-dialog__body-nav-item--active"},tabbarBehaviours:ct([Tr.config({})])}),ib.parts.tabview({dom:{tag:"div",classes:["tox-dialog__body-content"]}})],selectFirst:y.selectFirst,tabSectionBehaviours:ct([Vo("tabpanel",y.extraEvents),Yt.config({mode:"acyclic"}),xn.config({find:w=>it(ib.getViewItems(w))}),Zh(T.none(),w=>(w.getSystem().broadcastOn([DD],{}),l.get()),(w,E)=>{l.set(E),w.getSystem().broadcastOn([RD],{})})])})},C3=(n,s,i,l,u)=>({dom:{tag:"div",classes:["tox-dialog__content-js"],attributes:{...i.map(f=>({id:f})).getOr({}),...u?{"aria-live":"polite"}:{}}},components:[],behaviours:ct([RC(0),td.config({channel:`${BC}-${s}`,updateState:(f,p)=>T.some({isTabPanel:()=>p.body.type==="tabpanel"}),renderComponents:f=>{const p=f.body;return p.type==="tabpanel"?[KB(p,f.initialData,l)]:[ED(p,f.initialData,l)]},initialData:n})])}),ND=lf.deviceType.isTouch(),MD=(n,s)=>({dom:{tag:"div",styles:{display:"none"},classes:["tox-dialog__header"]},components:[n,s]}),BD=(n,s)=>Za.parts.close(ji.sketch({dom:{tag:"button",classes:["tox-button","tox-button--icon","tox-button--naked"],attributes:{type:"button","aria-label":s.translate("Close")}},action:n,buttonBehaviours:ct([Tr.config({})])})),ID=()=>Za.parts.title({dom:{tag:"div",classes:["tox-dialog__title"],innerHtml:"",styles:{display:"none"}}}),cv=(n,s)=>Za.parts.body({dom:{tag:"div",classes:["tox-dialog__body"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-content"]},components:[{dom:am(`<p>${AE(s.translate(n))}</p>`)}]}]}),LD=n=>Za.parts.footer({dom:{tag:"div",classes:["tox-dialog__footer"]},components:n}),PD=(n,s)=>[Du.sketch({dom:{tag:"div",classes:["tox-dialog__footer-start"]},components:n}),Du.sketch({dom:{tag:"div",classes:["tox-dialog__footer-end"]},components:s})],Fw=n=>{const s="tox-dialog",i=s+"-wrap",l=i+"__backdrop",u=s+"__disable-scroll";return Za.sketch({lazySink:n.lazySink,onEscape:f=>(n.onEscape(f),T.some(!0)),useTabstopAt:f=>!By(f),firstTabstop:n.firstTabstop,dom:{tag:"div",classes:[s].concat(n.extraClasses),styles:{position:"relative",...n.extraStyles}},components:[n.header,n.body,...n.footer.toArray()],parts:{blocker:{dom:am(`<div class="${i}"></div>`),components:[{dom:{tag:"div",classes:ND?[l,l+"--opaque"]:[l]}}]}},dragBlockClass:i,modalBehaviours:ct([Co.config({}),Vo("dialog-events",n.dialogEvents.concat([Wu(bo(),(f,p)=>{vf.isBlocked(f)||Yt.focusIn(f)}),Ue(Mc(),(f,p)=>{f.getSystem().broadcastOn([F0],{newFocus:p.event.newFocus})})])),Vo("scroll-lock",[Ar(()=>{$t(ha(),u)}),gd(()=>{Io(ha(),u)})]),...n.extraBehaviours]),eventOrder:{[va()]:["dialog-events"],[Qi()]:["scroll-lock","dialog-events","alloy.base.behaviour"],[si()]:["alloy.base.behaviour","dialog-events","scroll-lock"],...n.eventOrder}})},S3=n=>ji.sketch({dom:{tag:"button",classes:["tox-button","tox-button--icon","tox-button--naked"],attributes:{type:"button","aria-label":n.translate("Close"),"data-mce-name":"close"}},buttonBehaviours:ct([Tr.config({}),Ui.config(n.tooltips.getConfig({tooltipText:n.translate("Close")}))]),components:[Sd("close",{tag:"span",classes:["tox-icon"]},n.icons)],action:s=>{jo(s,Sg)}}),FD=(n,s,i,l)=>({dom:{tag:"h1",classes:["tox-dialog__title"],attributes:{...i.map(u=>({id:u})).getOr({})}},components:[],behaviours:ct([td.config({channel:`${xz}-${s}`,initialData:n,renderComponents:u=>[zr(l.translate(u.title))]})])}),HD=()=>({dom:am('<div class="tox-dialog__draghandle"></div>')}),Hw=(n,s,i)=>((l,u,f)=>{const p=Za.parts.title(FD(l,u,T.none(),f)),b=Za.parts.draghandle(HD()),y=Za.parts.close(S3(f)),w=[p].concat(l.draggable?[b]:[]).concat([y]);return Du.sketch({dom:am('<div class="tox-dialog__header"></div>'),components:w})})({title:i.shared.providers.translate(n),draggable:i.dialog.isDraggableModal()},s,i.shared.providers),$D=(n,s,i,l)=>({dom:{tag:"div",classes:["tox-dialog__busy-spinner"],attributes:{"aria-label":i.translate(n)},styles:{left:"0px",right:"0px",bottom:"0px",top:`${l.getOr(0)}px`,position:"absolute"}},behaviours:s,components:[{dom:am('<div class="tox-spinner"><div></div><div></div><div></div></div>')}]}),E3=(n,s,i)=>({onClose:()=>i.closeWindow(),onBlock:l=>{const u=ss(n().element,".tox-dialog__header").map(f=>ke(f));Za.setBusy(n(),(f,p)=>$D(l.message,p,s,u))},onUnblock:()=>{Za.setIdle(n())}}),VD="tox-dialog--fullscreen",A3="tox-dialog--width-lg",z3="tox-dialog--width-md",dv=n=>{switch(n){case"large":return T.some(A3);case"medium":return T.some(z3);default:return T.none()}},T3=(n,s)=>{const i=wt(s.element.dom);Zo(i,VD)||(Cn(i,[A3,z3]),dv(n).each(l=>$t(i,l)))},jD=(n,s)=>{const i=wt(n.element.dom),l=Jl(i),u=$(l,f=>f===A3||f===z3).or(dv(s));((f,p)=>{Ot(p,b=>{((y,w)=>{ge(y)?y.dom.classList.toggle(w):((E,_)=>_e(je(E),_)?Bt(E,_):pt(E,_))(y,w),Fo(y)})(f,b)})})(i,[VD,...u.toArray()])},UD=(n,s,i)=>Xs(Fw({...n,firstTabstop:1,lazySink:i.shared.getSink,extraBehaviours:[Rk({}),...n.extraBehaviours],onEscape:l=>{jo(l,Sg)},dialogEvents:s,eventOrder:{[mu()]:[td.name(),Ci.name()],[Qi()]:["scroll-lock",td.name(),"messages","dialog-events","alloy.base.behaviour"],[si()]:["alloy.base.behaviour","dialog-events","messages",td.name(),"scroll-lock"]}})),O3=(n,s={})=>nt(n,i=>i.type==="menu"?(l=>{const u=nt(l.items,f=>{const p=lt(s,f.name).getOr(eo(!1));return{...f,storage:p}});return{...l,items:u}})(i):i),ZD=n=>Ao(n,(s,i)=>i.type==="menu"?Ao(i.items,(l,u)=>(l[u.name]=u.storage,l),s):s,{}),D3=(n,s)=>[Yg(bo(),c6),n(B0,(i,l,u,f)=>{tl(Gr(f.element)).fold(ut,qm),s.onClose(),l.onClose()}),n(Sg,(i,l,u,f)=>{l.onCancel(i),jo(f,B0)}),Ue(fk,(i,l)=>s.onUnblock()),Ue(uk,(i,l)=>s.onBlock(l.event))],WD=(n,s,i)=>{const l=(f,p)=>Ue(f,(b,y)=>{u(b,(w,E)=>{p(n(),w,y.event,b)})}),u=(f,p)=>{td.getState(f).get().each(b=>{p(b.internalDialog,f)})};return[...D3(l,s),l(jh,(f,p)=>p.onSubmit(f)),l(Qc,(f,p,b)=>{p.onChange(f,{name:b.name})}),l(fm,(f,p,b,y)=>{const w=()=>y.getSystem().isConnected()?Yt.focusIn(y):void 0,E=L=>sa(L,"disabled")||ls(L,"aria-disabled").exists(I=>I==="true"),_=Gr(y.element),O=tl(_);p.onAction(f,{name:b.name,value:b.value}),tl(_).fold(w,L=>{E(L)||O.exists(I=>Vr(L,I)&&E(I))?w():i().toOptional().filter(I=>!Vr(I.element,L)).each(w)})}),l(mk,(f,p,b)=>{p.onTabChange(f,{newTabName:b.name,oldTabName:b.oldName})}),gd(f=>{const p=n();Ee.setValue(f,p.getData())})]},qD=(n,s)=>{const i=s.map(f=>f.footerButtons).getOr([]),l=Zr(i,f=>f.align==="start"),u=(f,p)=>Du.sketch({dom:{tag:"div",classes:[`tox-dialog__footer-${f}`]},components:nt(p,b=>b.memento.asSpec())});return[u("start",l.pass),u("end",l.fail)]},GD=(n,s,i)=>({dom:am('<div class="tox-dialog__footer"></div>'),components:[],behaviours:ct([td.config({channel:`${IC}-${s}`,initialData:n,updateState:(l,u)=>{const f=nt(u.buttons,p=>{const b=rr(((y,w)=>Wk(y,y.type,w))(p,i));return{name:p.name,align:p.align,memento:b}});return T.some({lookupByName:p=>((b,y,w)=>$(y,E=>E.name===w).bind(E=>E.memento.getOpt(b)))(l,f,p),footerButtons:f})},renderComponents:qD})])}),KD=(n,s,i)=>Za.parts.footer(GD(n,s,i)),YD=(n,s)=>{if(n.getRoot().getSystem().isConnected()){const i=xn.getCurrent(n.getFormWrapper()).getOr(n.getFormWrapper());return Ry.getField(i,s).orThunk(()=>n.getFooter().bind(u=>td.getState(u).get()).bind(u=>u.lookupByName(s)))}return T.none()},XD=(n,s,i)=>{const l=f=>{const p=n.getRoot();p.getSystem().isConnected()&&f(p)},u={getData:()=>{const f=n.getRoot(),p=f.getSystem().isConnected()?n.getFormWrapper():f;return{...Ee.getValue(p),...Mn(i,b=>b.get())}},setData:f=>{l(p=>{const b=u.getData(),y=Ir(b,f),w=((_,O)=>{const L=_.getRoot();return td.getState(L).get().map(I=>Yi(Lr("data",I.dataValidator,O))).getOr(O)})(n,y),E=n.getFormWrapper();Ee.setValue(E,w),Kn(i,(_,O)=>{ro(y,O)&&_.set(y[O])})})},setEnabled:(f,p)=>{YD(n,f).each(p?zo.enable:zo.disable)},focus:f=>{YD(n,f).each(Co.focus)},block:f=>{if(!So(f))throw new Error("The dialogInstanceAPI.block function should be passed a blocking message of type string as an argument");l(p=>{Zt(p,uk,{message:f})})},unblock:()=>{l(f=>{jo(f,fk)})},showTab:f=>{l(p=>{const b=n.getBody();td.getState(b).get().exists(y=>y.isTabPanel())&&xn.getCurrent(b).each(y=>{ib.showTab(y,f)})})},redial:f=>{l(p=>{const b=n.getId(),y=s(f),w=O3(y.internalDialog.buttons,i);p.getSystem().broadcastOn([`${Bk}-${b}`],y),p.getSystem().broadcastOn([`${xz}-${b}`],y.internalDialog),p.getSystem().broadcastOn([`${BC}-${b}`],y.internalDialog),p.getSystem().broadcastOn([`${IC}-${b}`],{...y.internalDialog,buttons:w}),u.setData(y.initialData)})},close:()=>{l(f=>{jo(f,B0)})},toggleFullscreen:n.toggleFullscreen};return u},JD=(n,s,i,l=!1,u)=>{const f=Pt("dialog"),p=Pt("dialog-label"),b=Pt("dialog-content"),y=n.internalDialog,w=eo(y.size),E=dv(w.get()).toArray(),_=rr(((Y,oe,re,be)=>Du.sketch({dom:am('<div class="tox-dialog__header"></div>'),components:[FD(Y,oe,T.some(re),be),HD(),S3(be)],containerBehaviours:ct([Ig.config({mode:"mouse",blockerClass:"blocker",getTarget:Oe=>jn(Oe,'[role="dialog"]').getOrDie(),snaps:{getSnapPoints:()=>[],leftAttr:"data-drag-left",topAttr:"data-drag-top"}})])}))({title:y.title,draggable:!0},f,p,i.shared.providers)),O=rr(((Y,oe,re,be,Oe)=>C3(Y,oe,T.some(re),be,Oe))({body:y.body,initialData:y.initialData},f,b,i,l)),L=O3(y.buttons),I=ZD(L),K=Bo(L.length!==0,rr(((Y,oe,re)=>GD(Y,oe,re))({buttons:L},f,i))),q=WD(()=>Z,{onBlock:Y=>{vf.block(W,(oe,re)=>{const be=_.getOpt(W).map(Oe=>ke(Oe.element));return $D(Y.message,re,i.shared.providers,be)})},onUnblock:()=>{vf.unblock(W)},onClose:()=>s.closeWindow()},i.shared.getSink),se=Ja().os,W=Xs({dom:{tag:"div",classes:["tox-dialog","tox-dialog-inline",...E],attributes:{role:"dialog",...se.isMacOS()?{"aria-label":y.title}:{"aria-labelledby":p}}},eventOrder:{[mu()]:[td.name(),Ci.name()],[va()]:["execute-on-form"],[Qi()]:["reflecting","execute-on-form"]},behaviours:ct([Yt.config({mode:"cyclic",onEscape:Y=>(jo(Y,B0),T.some(!0)),useTabstopAt:Y=>!By(Y)&&(Aa(Y)!=="button"||hs(Y,"disabled")!=="disabled"),firstTabstop:1}),td.config({channel:`${Bk}-${f}`,updateState:(Y,oe)=>(w.set(oe.internalDialog.size),T3(oe.internalDialog.size,Y),u(),T.some(oe)),initialData:n}),Co.config({}),Vo("execute-on-form",q.concat([Wu(bo(),(Y,oe)=>{Yt.focusIn(Y)}),Ue(Mc(),(Y,oe)=>{Y.getSystem().broadcastOn([F0],{newFocus:oe.event.newFocus})})])),vf.config({getRoot:()=>T.some(W)}),po.config({}),Rk({})]),components:[_.asSpec(),O.asSpec(),...K.map(Y=>Y.asSpec()).toArray()]}),Z=XD({getId:ne(f),getRoot:ne(W),getFooter:()=>K.map(Y=>Y.get(W)),getBody:()=>O.get(W),getFormWrapper:()=>{const Y=O.get(W);return xn.getCurrent(Y).getOr(Y)},toggleFullscreen:()=>{jD(W,w.get())}},s.redial,I);return{dialog:W,instanceApi:Z}};var R3=tinymce.util.Tools.resolve("tinymce.util.URI");const YB=["insertContent","setContent","execCommand","close","block","unblock"],QD=n=>ir(n)&&YB.indexOf(n.mceAction)!==-1,XB=(n,s,i,l)=>{const u=Pt("dialog"),f=Hw(n.title,u,l),p=(se=>{const W={dom:{tag:"div",classes:["tox-dialog__content-js"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-iframe"]},components:[MC(T.none(),{dom:{tag:"iframe",attributes:{src:se.url}},behaviours:ct([Tr.config({}),Co.config({})])})]}],behaviours:ct([Yt.config({mode:"acyclic",useTabstopAt:Gn(By)})])};return Za.parts.body(W)})(n),b=n.buttons.bind(se=>se.length===0?T.none():T.some(KD({buttons:se},u,l))),y=((se,W)=>{const Z=(oe,re)=>Ue(oe,(be,Oe)=>{Y(be,(Ke,Je)=>{re(q,Ke,Oe.event,be)})}),Y=(oe,re)=>{td.getState(oe).get().each(be=>{re(be,oe)})};return[...D3(Z,W),Z(fm,(oe,re,be)=>{re.onAction(oe,{name:be.name})})]})(0,E3(()=>K,l.shared.providers,s)),w={...n.height.fold(()=>({}),se=>({height:se+"px","max-height":se+"px"})),...n.width.fold(()=>({}),se=>({width:se+"px","max-width":se+"px"}))},E=n.width.isNone()&&n.height.isNone()?["tox-dialog--width-lg"]:[],_=new R3(n.url,{base_uri:new R3(window.location.href)}),O=`${_.protocol}://${_.host}${_.port?":"+_.port:""}`,L=Qa(),I=[td.config({channel:`${Bk}-${u}`,updateState:(se,W)=>T.some(W),initialData:n}),Vo("messages",[Ar(()=>{const se=$i(wt(window),"message",W=>{if(_.isSameOrigin(new R3(W.raw.origin))){const Z=W.raw.data;QD(Z)?((Y,oe,re)=>{switch(re.mceAction){case"insertContent":Y.insertContent(re.content);break;case"setContent":Y.setContent(re.content);break;case"execCommand":const be=!!Qn(re.ui)&&re.ui;Y.execCommand(re.cmd,be,re.value);break;case"close":oe.close();break;case"block":oe.block(re.message);break;case"unblock":oe.unblock()}})(i,q,Z):(Y=>!QD(Y)&&ir(Y)&&ro(Y,"mceAction"))(Z)&&n.onMessage(q,Z)}});L.set(se)}),gd(L.clear)]),Ci.config({channels:{[LC]:{onReceive:(se,W)=>{ss(se.element,"iframe").each(Z=>{const Y=Z.dom.contentWindow;It(Y)&&Y.postMessage(W,O)})}}}})],K=UD({id:u,header:f,body:p,footer:b,extraClasses:E,extraBehaviours:I,extraStyles:w},y,l),q=(se=>{const W=Z=>{se.getSystem().isConnected()&&Z(se)};return{block:Z=>{if(!So(Z))throw new Error("The urlDialogInstanceAPI.block function should be passed a blocking message of type string as an argument");W(Y=>{Zt(Y,uk,{message:Z})})},unblock:()=>{W(Z=>{jo(Z,fk)})},close:()=>{W(Z=>{jo(Z,B0)})},sendMessage:Z=>{W(Y=>{Y.getSystem().broadcastOn([LC],Z)})}}})(K);return{dialog:K,instanceApi:q}},$w=(n,s)=>Yi(Lr("data",s,n)),e5=n=>M0(n,".tox-alert-dialog")||M0(n,".tox-confirm-dialog"),JB=(n,s,i)=>s&&i?[]:[fs.config({contextual:{lazyContext:()=>T.some($n(wt(n.getContentAreaContainer()))),fadeInClass:"tox-dialog-dock-fadein",fadeOutClass:"tox-dialog-dock-fadeout",transitionClass:"tox-dialog-dock-transition"},modes:["top"],lazyViewport:l=>ug(n,l.element).map(u=>({bounds:fg(u),optScrollEnv:T.some({currentScrollTop:u.element.dom.scrollTop,scrollElmTop:or(u.element).top})})).getOrThunk(()=>({bounds:Kr(),optScrollEnv:T.none()}))})],QB=n=>{const s=n.editor,i=up(s),l=(y=>{const w=y.shared;return{open:(E,_)=>{const O=()=>{Za.hide(q),_()},L=rr(Wk({name:"close-alert",text:"OK",primary:!0,buttonType:T.some("primary"),align:"end",enabled:!0,icon:T.none()},"cancel",y)),I=ID(),K=BD(O,w.providers),q=Xs(Fw({lazySink:()=>w.getSink(),header:MD(I,K),body:cv(E,w.providers),footer:T.some(LD(PD([],[L.asSpec()]))),onEscape:O,extraClasses:["tox-alert-dialog"],extraBehaviours:[],extraStyles:{},dialogEvents:[Ue(Sg,O)],eventOrder:{}}));Za.show(q);const se=L.get(q);Co.focus(se)}}})(n.backstages.dialog),u=(y=>{const w=y.shared;return{open:(E,_)=>{const O=Z=>{Za.hide(se),_(Z)},L=rr(Wk({name:"yes",text:"Yes",primary:!0,buttonType:T.some("primary"),align:"end",enabled:!0,icon:T.none()},"submit",y)),I=Wk({name:"no",text:"No",primary:!1,buttonType:T.some("secondary"),align:"end",enabled:!0,icon:T.none()},"cancel",y),K=ID(),q=BD(()=>O(!1),w.providers),se=Xs(Fw({lazySink:()=>w.getSink(),header:MD(K,q),body:cv(E,w.providers),footer:T.some(LD(PD([],[I,L.asSpec()]))),onEscape:()=>O(!1),extraClasses:["tox-confirm-dialog"],extraBehaviours:[],extraStyles:{},dialogEvents:[Ue(Sg,()=>O(!1)),Ue(jh,()=>O(!0))],eventOrder:{}}));Za.show(se);const W=L.get(se);Co.focus(W)}}})(n.backstages.dialog),f=(y,w)=>ab.open((E,_,O)=>{const L=_,I=((K,q,se)=>{const W=Pt("dialog"),Z=K.internalDialog,Y=Hw(Z.title,W,se),oe=eo(Z.size),re=dv(oe.get()).toArray(),be=((Lo,ln,is)=>{const ms=C3(Lo,ln,T.none(),is,!1);return Za.parts.body(ms)})({body:Z.body,initialData:Z.initialData},W,se),Oe=O3(Z.buttons),Ke=ZD(Oe),Je=Bo(Oe.length!==0,KD({buttons:Oe},W,se)),at=WD(()=>so,E3(()=>Mt,se.shared.providers,q),se.shared.getSink),kt={id:W,header:Y,body:be,footer:Je,extraClasses:re,extraBehaviours:[td.config({channel:`${Bk}-${W}`,updateState:(Lo,ln)=>(oe.set(ln.internalDialog.size),T3(ln.internalDialog.size,Lo),T.some(ln)),initialData:K})],extraStyles:{}},Mt=UD(kt,at,se),qt={getId:ne(W),getRoot:ne(Mt),getBody:()=>Za.getBody(Mt),getFooter:()=>Za.getFooter(Mt),getFormWrapper:()=>{const Lo=Za.getBody(Mt);return xn.getCurrent(Lo).getOr(Lo)},toggleFullscreen:()=>{jD(Mt,oe.get())}},so=XD(qt,q.redial,Ke);return{dialog:Mt,instanceApi:so}})({dataValidator:O,initialData:L,internalDialog:E},{redial:ab.redial,closeWindow:()=>{Za.hide(I.dialog),w(I.instanceApi)}},n.backstages.dialog);return Za.show(I.dialog),I.instanceApi.setData(L),I.instanceApi},y),p=(y,w,E,_)=>ab.open((O,L,I)=>{const K=$w(L,I),q=Vn(),se=n.backstages.popup.shared.header.isPositionedAtTop(),W=()=>q.on(oe=>{as.reposition(oe),i&&se||fs.refresh(oe)}),Z=JD({dataValidator:I,initialData:K,internalDialog:O},{redial:ab.redial,closeWindow:()=>{q.on(as.hide),s.off("ResizeEditor",W),q.clear(),E(Z.instanceApi)}},n.backstages.popup,_.ariaAttrs,W),Y=Xs(as.sketch({lazySink:n.backstages.popup.shared.getSink,dom:{tag:"div",classes:[]},fireDismissalEventInstead:_.persistent?{event:"doNotDismissYet"}:{},...se?{}:{fireRepositionEventInstead:{}},inlineBehaviours:ct([Vo("window-manager-inline-events",[Ue(Nc(),(oe,re)=>{jo(Z.dialog,Sg)})]),...JB(s,i,se)]),isExtraPart:(oe,re)=>e5(re)}));return q.set(Y),as.showWithinBounds(Y,Hl(Z.dialog),{anchor:w},()=>{const oe=s.inline?ha():wt(s.getContainer()),re=$n(oe);return T.some(re)}),i&&se||(fs.refresh(Y),s.on("ResizeEditor",W)),Z.instanceApi.setData(K),Yt.focusIn(Z.dialog),Z.instanceApi},y),b=(y,w,E,_)=>ab.open((O,L,I)=>{const K=$w(L,I),q=Vn(),se=n.backstages.popup.shared.header.isPositionedAtTop(),W=()=>q.on(oe=>{as.reposition(oe),fs.refresh(oe)}),Z=JD({dataValidator:I,initialData:K,internalDialog:O},{redial:ab.redial,closeWindow:()=>{q.on(as.hide),s.off("ResizeEditor ScrollWindow ElementScroll",W),q.clear(),E(Z.instanceApi)}},n.backstages.popup,_.ariaAttrs,W),Y=Xs(as.sketch({lazySink:n.backstages.popup.shared.getSink,dom:{tag:"div",classes:[]},fireDismissalEventInstead:_.persistent?{event:"doNotDismissYet"}:{},...se?{}:{fireRepositionEventInstead:{}},inlineBehaviours:ct([Vo("window-manager-inline-events",[Ue(Nc(),(oe,re)=>{jo(Z.dialog,Sg)})]),fs.config({contextual:{lazyContext:()=>T.some($n(wt(s.getContentAreaContainer()))),fadeInClass:"tox-dialog-dock-fadein",fadeOutClass:"tox-dialog-dock-fadeout",transitionClass:"tox-dialog-dock-transition"},modes:["top","bottom"],lazyViewport:oe=>ug(s,oe.element).map(re=>({bounds:fg(re),optScrollEnv:T.some({currentScrollTop:re.element.dom.scrollTop,scrollElmTop:or(re.element).top})})).getOrThunk(()=>({bounds:Kr(),optScrollEnv:T.none()}))})]),isExtraPart:(oe,re)=>e5(re)}));return q.set(Y),as.showWithinBounds(Y,Hl(Z.dialog),{anchor:w},()=>n.backstages.popup.shared.getSink().toOptional().bind(oe=>{const re=ug(s,oe.element).map(Ke=>fg(Ke)).getOr(Kr()),be=$n(wt(s.getContentAreaContainer())),Oe=Nl(be,re);return T.some(Ss(Oe.x,Oe.y,Oe.width,Oe.height-15))})),fs.refresh(Y),s.on("ResizeEditor ScrollWindow ElementScroll ResizeWindow",W),Z.instanceApi.setData(K),Yt.focusIn(Z.dialog),Z.instanceApi},y);return{open:(y,w,E)=>{if(!cr(w)){if(w.inline==="toolbar")return p(y,n.backstages.popup.shared.anchors.inlineDialog(),E,w);if(w.inline==="bottom")return b(y,n.backstages.popup.shared.anchors.inlineBottomDialog(),E,w);if(w.inline==="cursor")return p(y,n.backstages.popup.shared.anchors.cursor(),E,w)}return f(y,E)},openUrl:(y,w)=>((E,_)=>ab.openUrl(O=>{const L=XB(O,{closeWindow:()=>{Za.hide(L.dialog),_(L.instanceApi)}},s,n.backstages.dialog);return Za.show(L.dialog),L.instanceApi},E))(y,w),alert:(y,w)=>{l.open(y,w)},close:y=>{y.close()},confirm:(y,w)=>{u.open(y,w)}}};id.add("silver",n=>{(b=>{rE(b),(y=>{const w=y.options.register,E=O=>er(O,So)?{value:_N(O),valid:!0}:{valid:!1,message:"Must be an array of strings."},_=O=>Ho(O)&&O>0?{value:O,valid:!0}:{valid:!1,message:"Must be a positive number."};w("color_map",{processor:E,default:["#BFEDD2","Light Green","#FBEEB8","Light Yellow","#F8CAC6","Light Red","#ECCAFA","Light Purple","#C2E0F4","Light Blue","#2DC26B","Green","#F1C40F","Yellow","#E03E2D","Red","#B96AD9","Purple","#3598DB","Blue","#169179","Dark Turquoise","#E67E23","Orange","#BA372A","Dark Red","#843FA1","Dark Purple","#236FA1","Dark Blue","#ECF0F1","Light Gray","#CED4D9","Medium Gray","#95A5A6","Gray","#7E8C8D","Dark Gray","#34495E","Navy Blue","#000000","Black","#ffffff","White"]}),w("color_map_background",{processor:E}),w("color_map_foreground",{processor:E}),w("color_cols",{processor:_,default:Qx(y)}),w("color_cols_foreground",{processor:_,default:U2(y,T0)}),w("color_cols_background",{processor:_,default:U2(y,O0)}),w("custom_colors",{processor:"boolean",default:!0}),w("color_default_foreground",{processor:"string",default:Jx}),w("color_default_background",{processor:"string",default:Jx})})(b),(y=>{const w=y.options.register;w("contextmenu_avoid_overlap",{processor:"string",default:""}),w("contextmenu_never_use_native",{processor:"boolean",default:!1}),w("contextmenu",{processor:E=>E===!1?{value:[],valid:!0}:So(E)||er(E,So)?{value:UM(E),valid:!0}:{valid:!1,message:"Must be false or a string."},default:"link linkchecker image editimage table spellchecker configurepermanentpen"})})(b)})(n);let s=()=>Kr();const{dialogs:i,popups:l,renderUI:u}=iB(n,{getPopupSinkBounds:()=>s()});nC(n,l.backstage.shared);const f=QB({editor:n,backstages:{popup:l.backstage,dialog:i.backstage}}),p=Vn();return{renderUI:()=>{const b=u();return ug(n,l.getMothership().element).each(y=>{s=()=>fg(y)}),b},getWindowManagerImpl:ne(f),getNotificationManagerImpl:()=>DE(n,{backstage:l.backstage},l.getMothership(),p)}})})();(function(){var na=tinymce.util.Tools.resolve("tinymce.ModelManager");const Sa=m=>h=>(x=>{const S=typeof x;return x===null?"null":S==="object"&&Array.isArray(x)?"array":S==="object"&&(D=R=x,(H=String).prototype.isPrototypeOf(D)||((U=R.constructor)===null||U===void 0?void 0:U.name)===H.name)?"string":S;var D,R,H,U})(h)===m,pa=m=>h=>typeof h===m,Qr=m=>h=>m===h,ar=Sa("string"),So=Sa("object"),ir=Sa("array"),lr=Qr(null),Xo=pa("boolean"),Rn=Qr(void 0),Qn=m=>!(h=>h==null)(m),cr=pa("function"),Ur=pa("number"),It=()=>{},Jt=m=>()=>m,Ho=m=>m,er=(m,h)=>m===h;function ut(m,...h){return(...x)=>{const S=h.concat(x);return m.apply(null,S)}}const yo=m=>h=>!m(h),He=m=>m(),ne=Jt(!1),Et=Jt(!0);class ve{constructor(h,x){this.tag=h,this.value=x}static some(h){return new ve(!0,h)}static none(){return ve.singletonNone}fold(h,x){return this.tag?x(this.value):h()}isSome(){return this.tag}isNone(){return!this.tag}map(h){return this.tag?ve.some(h(this.value)):ve.none()}bind(h){return this.tag?h(this.value):ve.none()}exists(h){return this.tag&&h(this.value)}forall(h){return!this.tag||h(this.value)}filter(h){return!this.tag||h(this.value)?this:ve.none()}getOr(h){return this.tag?this.value:h}or(h){return this.tag?this:h}getOrThunk(h){return this.tag?this.value:h()}orThunk(h){return this.tag?this:h()}getOrDie(h){if(this.tag)return this.value;throw new Error(h??"Called getOrDie on None")}static from(h){return Qn(h)?ve.some(h):ve.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(h){this.tag&&h(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}ve.singletonNone=new ve(!1);const dt=Array.prototype.slice,Gn=Array.prototype.indexOf,gn=Array.prototype.push,vo=(m,h)=>{return x=m,S=h,Gn.call(x,S)>-1;var x,S},Le=(m,h)=>{for(let x=0,S=m.length;x<S;x++)if(h(m[x],x))return!0;return!1},Lt=(m,h)=>{const x=[];for(let S=0;S<m;S++)x.push(h(S));return x},T=(m,h)=>{const x=m.length,S=new Array(x);for(let D=0;D<x;D++){const R=m[D];S[D]=h(R,D)}return S},Eo=(m,h)=>{for(let x=0,S=m.length;x<S;x++)h(m[x],x)},lo=(m,h)=>{const x=[],S=[];for(let D=0,R=m.length;D<R;D++){const H=m[D];(h(H,D)?x:S).push(H)}return{pass:x,fail:S}},Ro=(m,h)=>{const x=[];for(let S=0,D=m.length;S<D;S++){const R=m[S];h(R,S)&&x.push(R)}return x},Cr=(m,h,x)=>(((S,D)=>{for(let R=S.length-1;R>=0;R--)D(S[R],R)})(m,(S,D)=>{x=h(x,S,D)}),x),_e=(m,h,x)=>(Eo(m,(S,D)=>{x=h(x,S,D)}),x),Tt=(m,h)=>((x,S,D)=>{for(let R=0,H=x.length;R<H;R++){const U=x[R];if(S(U,R))return ve.some(U);if(D(U,R))break}return ve.none()})(m,h,ne),un=(m,h)=>{for(let x=0,S=m.length;x<S;x++)if(h(m[x],x))return ve.some(x);return ve.none()},yt=m=>{const h=[];for(let x=0,S=m.length;x<S;++x){if(!ir(m[x]))throw new Error("Arr.flatten item "+x+" was not an array, input: "+m);gn.apply(h,m[x])}return h},nt=(m,h)=>yt(T(m,h)),Ot=(m,h)=>{for(let x=0,S=m.length;x<S;++x)if(h(m[x],x)!==!0)return!1;return!0},Zr=(m,h)=>{const x={};for(let S=0,D=m.length;S<D;S++){const R=m[S];x[String(R)]=h(R,S)}return x},kn=(m,h)=>h>=0&&h<m.length?ve.some(m[h]):ve.none(),fn=m=>kn(m,0),Ao=m=>kn(m,m.length-1),$=(m,h)=>{for(let x=0;x<m.length;x++){const S=h(m[x],x);if(S.isSome())return S}return ve.none()},zs=Object.keys,An=Object.hasOwnProperty,mn=(m,h)=>{const x=zs(m);for(let S=0,D=x.length;S<D;S++){const R=x[S];h(m[R],R)}},Ga=(m,h)=>sl(m,(x,S)=>({k:S,v:h(x,S)})),sl=(m,h)=>{const x={};return mn(m,(S,D)=>{const R=h(S,D);x[R.k]=R.v}),x},nn=(m,h)=>{const x=[];return mn(m,(S,D)=>{x.push(h(S,D))}),x},dr=m=>nn(m,Ho),To=(m,h)=>An.call(m,h),We=typeof window<"u"?window:Function("return this;")(),et=(m,h)=>((x,S)=>{let D=S??We;for(let R=0;R<x.length&&D!=null;++R)D=D[x[R]];return D})(m.split("."),h),it=Object.getPrototypeOf,Ye=m=>{const h=et("ownerDocument.defaultView",m);return So(m)&&((x=>((S,D)=>{const R=((H,U)=>et(H,U))(S,D);if(R==null)throw new Error(S+" not available on this browser");return R})("HTMLElement",x))(h).prototype.isPrototypeOf(m)||/^HTML\w*Element$/.test(it(m).constructor.name))},Qt=m=>m.dom.nodeName.toLowerCase(),fo=m=>m.dom.nodeType,$o=m=>h=>fo(h)===m,Nn=m=>fo(m)===8||Qt(m)==="#comment",Kn=m=>Mn(m)&&Ye(m.dom),Mn=$o(1),zn=$o(3),Wr=$o(9),qs=$o(11),hr=m=>h=>Mn(h)&&Qt(h)===m,tr=(m,h,x)=>{if(!(ar(x)||Xo(x)||Ur(x)))throw console.error("Invalid call to Attribute.set. Key ",h,":: Value ",x,":: Element ",m),new Error("Attribute value was not simple");m.setAttribute(h,x+"")},Ko=(m,h,x)=>{tr(m.dom,h,x)},ps=(m,h)=>{const x=m.dom;mn(h,(S,D)=>{tr(x,D,S)})},lt=(m,h)=>{const x=m.dom.getAttribute(h);return x===null?void 0:x},ro=(m,h)=>ve.from(lt(m,h)),Po=(m,h)=>{m.dom.removeAttribute(h)},gs=m=>_e(m.dom.attributes,(h,x)=>(h[x.name]=x.value,h),{}),Ea=m=>{if(m==null)throw new Error("Node cannot be null or undefined");return{dom:m}},st={fromHtml:(m,h)=>{const x=(h||document).createElement("div");if(x.innerHTML=m,!x.hasChildNodes()||x.childNodes.length>1){const S="HTML does not have a single root node";throw console.error(S,m),new Error(S)}return Ea(x.childNodes[0])},fromTag:(m,h)=>{const x=(h||document).createElement(m);return Ea(x)},fromText:(m,h)=>{const x=(h||document).createTextNode(m);return Ea(x)},fromDom:Ea,fromPoint:(m,h,x)=>ve.from(m.dom.elementFromPoint(h,x)).map(Ea)},ga=(m,h)=>{const x=m.dom;if(x.nodeType!==1)return!1;{const S=x;if(S.matches!==void 0)return S.matches(h);if(S.msMatchesSelector!==void 0)return S.msMatchesSelector(h);if(S.webkitMatchesSelector!==void 0)return S.webkitMatchesSelector(h);if(S.mozMatchesSelector!==void 0)return S.mozMatchesSelector(h);throw new Error("Browser lacks native selectors")}},Bo=m=>m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11||m.childElementCount===0,Wi=(m,h)=>{const x=h===void 0?document:h.dom;return Bo(x)?ve.none():ve.from(x.querySelector(m)).map(st.fromDom)},Bn=(m,h)=>m.dom===h.dom,Ts=(m,h)=>{const x=m.dom,S=h.dom;return x!==S&&x.contains(S)},kl=ga,Ba=m=>st.fromDom(m.dom.ownerDocument),di=m=>Wr(m)?m:Ba(m),ra=m=>ve.from(m.dom.parentNode).map(st.fromDom),ui=m=>ve.from(m.dom.parentElement).map(st.fromDom),Hn=(m,h)=>{const x=cr(h)?h:ne;let S=m.dom;const D=[];for(;S.parentNode!==null&&S.parentNode!==void 0;){const R=S.parentNode,H=st.fromDom(R);if(D.push(H),x(H)===!0)break;S=R}return D},xo=m=>ve.from(m.dom.previousSibling).map(st.fromDom),Ka=m=>ve.from(m.dom.nextSibling).map(st.fromDom),_s=m=>T(m.dom.childNodes,st.fromDom),al=(m,h)=>{const x=m.dom.childNodes;return ve.from(x[h]).map(st.fromDom)},wt=(m,h)=>{ra(m).each(x=>{x.dom.insertBefore(h.dom,m.dom)})},fi=(m,h)=>{Ka(m).fold(()=>{ra(m).each(x=>{wr(x,h)})},x=>{wt(x,h)})},Ul=(m,h)=>{(S=>al(S,0))(m).fold(()=>{wr(m,h)},S=>{m.dom.insertBefore(h.dom,S.dom)})},wr=(m,h)=>{m.dom.appendChild(h.dom)},od=(m,h)=>{wt(m,h),wr(h,m)},Aa=(m,h)=>{Eo(h,(x,S)=>{const D=S===0?m:h[S-1];fi(D,x)})},Cs=(m,h)=>{Eo(h,x=>{wr(m,x)})},wl=m=>{m.dom.textContent="",Eo(_s(m),h=>{Sr(h)})},Sr=m=>{const h=m.dom;h.parentNode!==null&&h.parentNode.removeChild(h)},Os=m=>{const h=_s(m);h.length>0&&Aa(m,h),Sr(m)},Ya=(m,h)=>st.fromDom(m.dom.cloneNode(h)),_l=m=>Ya(m,!1),za=m=>Ya(m,!0),Cl=(m,h)=>{const x=st.fromTag(h),S=gs(m);return ps(x,S),x},il=["tfoot","thead","tbody","colgroup"],_c=(m,h,x)=>({element:m,rowspan:h,colspan:x}),hn=(m,h,x)=>({element:m,cells:h,section:x}),Vr=(m,h,x)=>({element:m,isNew:h,isLocked:x}),Gs=(m,h,x,S)=>({element:m,cells:h,section:x,isNew:S}),Sl=cr(Element.prototype.attachShadow)&&cr(Node.prototype.getRootNode),nd=Jt(Sl),Bd=Sl?m=>st.fromDom(m.dom.getRootNode()):di,mi=m=>st.fromDom(m.dom.host),qr=m=>{const h=zn(m)?m.dom.parentNode:m.dom;if(h==null||h.ownerDocument===null)return!1;const x=h.ownerDocument;return(R=>{const H=Bd(R);return qs(U=H)&&Qn(U.dom.host)?ve.some(H):ve.none();var U})(st.fromDom(h)).fold(()=>x.body.contains(h),(S=qr,D=mi,R=>S(D(R))));var S,D},Id=m=>{const h=m.dom.body;if(h==null)throw new Error("Body is not available yet");return st.fromDom(h)},In=(m,h)=>{let x=[];return Eo(_s(m),S=>{h(S)&&(x=x.concat([S])),x=x.concat(In(S,h))}),x},Ln=(m,h,x)=>((S,D,R)=>Ro(Hn(S,R),H=>ga(H,h)))(m,0,x),pi=(m,h)=>((x,S)=>Ro(_s(x),D=>ga(D,h)))(m),Ia=(m,h)=>((x,S)=>{const D=S===void 0?document:S.dom;return Bo(D)?[]:T(D.querySelectorAll(x),st.fromDom)})(h,m);var ll=(m,h,x,S,D)=>m(x,S)?ve.some(x):cr(D)&&D(x)?ve.none():h(x,S,D);const El=(m,h,x)=>{let S=m.dom;const D=cr(x)?x:ne;for(;S.parentNode;){S=S.parentNode;const R=st.fromDom(S);if(h(R))return ve.some(R);if(D(R))break}return ve.none()},Al=(m,h,x)=>ll((S,D)=>D(S),El,m,h,x),Ds=(m,h,x)=>El(m,S=>ga(S,h),x),Gr=(m,h)=>((x,S)=>Tt(x.dom.childNodes,D=>{return R=st.fromDom(D),ga(R,h);var R}).map(st.fromDom))(m),es=(m,h)=>Wi(h,m),ts=(m,h,x)=>ll((S,D)=>ga(S,D),Ds,m,h,x),Xa=(m,h,x=er)=>m.exists(S=>x(S,h)),Yn=m=>{const h=[],x=S=>{h.push(S)};for(let S=0;S<m.length;S++)m[S].each(x);return h},ha=(m,h)=>m?ve.some(h):ve.none(),La=(m,h,x)=>h===""||m.length>=h.length&&m.substr(x,x+h.length)===h,Is=(m,h,x=0,S)=>{const D=m.indexOf(h,x);return D!==-1&&(!!Rn(S)||D+h.length<=S)},uo=(m,h)=>La(m,h,0),qi=(m,h)=>La(m,h,m.length-h.length),hs=(m=>h=>h.replace(m,""))(/^\s+|\s+$/g),ls=m=>m.length>0,sa=m=>m.style!==void 0&&cr(m.style.getPropertyValue),Er=(m,h,x)=>{if(!ar(x))throw console.error("Invalid call to CSS.set. Property ",h,":: Value ",x,":: Element ",m),new Error("CSS value must be a string: "+x);sa(m)&&m.style.setProperty(h,x)},jr=(m,h,x)=>{const S=m.dom;Er(S,h,x)},gi=(m,h)=>{const x=m.dom;mn(h,(S,D)=>{Er(x,D,S)})},mo=(m,h)=>{const x=m.dom,S=window.getComputedStyle(x).getPropertyValue(h);return S!==""||qr(m)?S:cl(x,h)},cl=(m,h)=>sa(m)?m.style.getPropertyValue(h):"",Ta=(m,h)=>{const x=m.dom,S=cl(x,h);return ve.from(S).filter(D=>D.length>0)},ur=(m,h)=>{((x,S)=>{sa(x)&&x.style.removeProperty(S)})(m.dom,h),Xa(ro(m,"style").map(hs),"")&&Po(m,"style")},Pa=(m,h,x=0)=>ro(m,h).map(S=>parseInt(S,10)).getOr(x),cs=(m,h)=>Pa(m,h,1),Zl=m=>hr("col")(m)?Pa(m,"span",1)>1:cs(m,"colspan")>1,Wl=(m,h)=>parseInt(mo(m,h),10),sn=Jt(10),ql=Jt(10),G=(m,h)=>pe(m,h,Et),pe=(m,h,x)=>nt(_s(m),S=>ga(S,h)?x(S)?[S]:[]:pe(S,h,x)),ke=(m,h)=>((x,S,D=ne)=>D(S)?ve.none():vo(x,Qt(S))?ve.some(S):Ds(S,x.join(","),R=>ga(R,"table")||D(R)))(["td","th"],m,h),$e=m=>G(m,"th,td"),gt=m=>ga(m,"colgroup")?pi(m,"col"):nt(or(m),h=>pi(h,"col")),_t=(m,h)=>ts(m,"table",h),Jo=m=>G(m,"tr"),or=m=>_t(m).fold(Jt([]),h=>pi(h,"colgroup")),rn=(m,h)=>T(m,x=>{if(Qt(x)==="colgroup"){const S=T(gt(x),D=>{const R=Pa(D,"span",1);return _c(D,1,R)});return hn(x,S,"colgroup")}{const S=T($e(x),D=>{const R=Pa(D,"rowspan",1),H=Pa(D,"colspan",1);return _c(D,R,H)});return hn(x,S,h(x))}}),Xn=m=>ra(m).map(h=>{const x=Qt(h);return(S=>vo(il,S))(x)?x:"tbody"}).getOr("tbody"),Uo=m=>{const h=Jo(m),x=[...or(m),...h];return rn(x,Xn)},Or=m=>{let h,x=!1;return(...S)=>(x||(x=!0,h=m.apply(null,S)),h)},Ti=()=>Wo(0,0),Wo=(m,h)=>({major:m,minor:h}),Cc={nu:Wo,detect:(m,h)=>{const x=String(h).toLowerCase();return m.length===0?Ti():((S,D)=>{const R=((U,te)=>{for(let de=0;de<U.length;de++){const xe=U[de];if(xe.test(te))return xe}})(S,D);if(!R)return{major:0,minor:0};const H=U=>Number(D.replace(R,"$"+U));return Wo(H(1),H(2))})(m,x)},unknown:Ti},Sc=(m,h)=>{const x=String(h).toLowerCase();return Tt(m,S=>S.search(x))},F=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,Q=m=>h=>Is(h,m),ue=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:m=>Is(m,"edge/")&&Is(m,"chrome")&&Is(m,"safari")&&Is(m,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,F],search:m=>Is(m,"chrome")&&!Is(m,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:m=>Is(m,"msie")||Is(m,"trident")},{name:"Opera",versionRegexes:[F,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:Q("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:Q("firefox")},{name:"Safari",versionRegexes:[F,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:m=>(Is(m,"safari")||Is(m,"mobile/"))&&Is(m,"applewebkit")}],Ne=[{name:"Windows",search:Q("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:m=>Is(m,"iphone")||Is(m,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:Q("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:Q("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:Q("linux"),versionRegexes:[]},{name:"Solaris",search:Q("sunos"),versionRegexes:[]},{name:"FreeBSD",search:Q("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:Q("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],At={browsers:Jt(ue),oses:Jt(Ne)},Qo="Edge",os="Chromium",hi="Opera",ft="Firefox",Gi="Safari",Oi=m=>{const h=m.current,x=m.version,S=D=>()=>h===D;return{current:h,version:x,isEdge:S(Qo),isChromium:S(os),isIE:S("IE"),isOpera:S(hi),isFirefox:S(ft),isSafari:S(Gi)}},zl=()=>Oi({current:void 0,version:Cc.unknown()}),Ls=Oi,zf="Windows",rd="Android",Ec="Linux",Tl="macOS",au="Solaris",sd="FreeBSD",t1="ChromeOS",Zg=m=>{const h=m.current,x=m.version,S=D=>()=>h===D;return{current:h,version:x,isWindows:S(zf),isiOS:S("iOS"),isAndroid:S(rd),isMacOS:S(Tl),isLinux:S(Ec),isSolaris:S(au),isFreeBSD:S(sd),isChromeOS:S(t1)}},Wg=()=>Zg({current:void 0,version:Cc.unknown()}),pb=Zg,sc=m=>window.matchMedia(m).matches;let Om=Or(()=>((m,h,x)=>{const S=At.browsers(),D=At.oses(),R=h.bind(te=>((de,xe)=>$(xe.brands,le=>{const me=le.brand.toLowerCase();return Tt(de,he=>{var ze;return me===((ze=he.brand)===null||ze===void 0?void 0:ze.toLowerCase())}).map(he=>({current:he.name,version:Cc.nu(parseInt(le.version,10),0)}))}))(S,te)).orThunk(()=>((te,de)=>Sc(te,de).map(xe=>{const le=Cc.detect(xe.versionRegexes,de);return{current:xe.name,version:le}}))(S,m)).fold(zl,Ls),H=((te,de)=>Sc(te,de).map(xe=>{const le=Cc.detect(xe.versionRegexes,de);return{current:xe.name,version:le}}))(D,m).fold(Wg,pb),U=((te,de,xe,le)=>{const me=te.isiOS()&&/ipad/i.test(xe)===!0,he=te.isiOS()&&!me,ze=te.isiOS()||te.isAndroid(),Te=ze||le("(pointer:coarse)"),qe=me||!he&&ze&&le("(min-device-width:768px)"),Xe=he||ze&&!qe,Ge=de.isSafari()&&te.isiOS()&&/safari/i.test(xe)===!1,Qe=!Xe&&!qe&&!Ge;return{isiPad:Jt(me),isiPhone:Jt(he),isTablet:Jt(qe),isPhone:Jt(Xe),isTouch:Jt(Te),isAndroid:te.isAndroid,isiOS:te.isiOS,isWebView:Jt(Ge),isDesktop:Jt(Qe)}})(H,R,m,x);return{browser:R,os:H,deviceType:U}})(navigator.userAgent,ve.from(navigator.userAgentData),sc));const Ld=()=>Om(),Ol=(m,h)=>{const x=D=>{const R=h(D);if(R<=0||R===null){const H=mo(D,m);return parseFloat(H)||0}return R},S=(D,R)=>_e(R,(H,U)=>{const te=mo(D,U),de=te===void 0?0:parseInt(te,10);return isNaN(de)?H:H+de},0);return{set:(D,R)=>{if(!Ur(R)&&!R.match(/^[0-9]+$/))throw new Error(m+".set accepts only positive integer values. Value was "+R);const H=D.dom;sa(H)&&(H.style[m]=R+"px")},get:x,getOuter:x,aggregate:S,max:(D,R,H)=>{const U=S(D,H);return R>U?R-U:0}}},Ja=(m,h,x)=>((S,D)=>(R=>{const H=parseFloat(R);return isNaN(H)?ve.none():ve.some(H)})(S).getOr(D))(mo(m,h),x),en=Ol("width",m=>m.dom.offsetWidth),Gl=m=>en.get(m),Di=m=>en.getOuter(m),ad=m=>((h,x)=>{const S=h.dom,D=S.getBoundingClientRect().width||S.offsetWidth;return x==="border-box"?D:((R,H,U,te)=>H-Ja(R,`padding-${U}`,0)-Ja(R,`padding-${te}`,0)-Ja(R,`border-${U}-width`,0)-Ja(R,`border-${te}-width`,0))(h,D,"left","right")})(m,"content-box"),iu=(m,h,x)=>{const S=m.cells,D=S.slice(0,h),R=S.slice(h),H=D.concat(x).concat(R);return Dm(m,H)},Ri=(m,h,x)=>iu(m,h,[x]),ns=(m,h,x)=>{m.cells[h]=x},Dm=(m,h)=>Gs(m.element,h,m.section,m.isNew),Ki=(m,h)=>m.cells[h],bs=(m,h)=>Ki(m,h).element,ys=m=>m.cells.length,Pn=m=>{const h=lo(m,x=>x.section==="colgroup");return{rows:h.fail,cols:h.pass}},Dl=(m,h,x)=>{const S=T(m.cells,x);return Gs(h(m.element),S,m.section,!0)},Oa="data-snooker-locked-cols",Kl=m=>ro(m,Oa).bind(h=>ve.from(h.match(/\d+/g))).map(h=>Zr(h,Et)),vs=m=>{const h=_e(Pn(m).rows,(S,D)=>(Eo(D.cells,(R,H)=>{R.isLocked&&(S[H]=!0)}),S),{}),x=nn(h,(S,D)=>parseInt(D,10));return((S,D)=>{const R=dt.call(S,0);return R.sort(void 0),R})(x)},Ks=(m,h)=>m+","+h,Fu=(m,h)=>{const x=nt(m.all,S=>S.cells);return Ro(x,h)},Ss=m=>{const h={},x=[],S=fn(m).map(me=>me.element).bind(_t).bind(Kl).getOr({});let D=0,R=0,H=0;const{pass:U,fail:te}=lo(m,me=>me.section==="colgroup");Eo(te,me=>{const he=[];Eo(me.cells,ze=>{let Te=0;for(;h[Ks(H,Te)]!==void 0;)Te++;const qe=((Ge,Qe)=>To(Ge,Qe)&&Ge[Qe]!==void 0&&Ge[Qe]!==null)(S,Te.toString()),Xe=((Ge,Qe,ht,Ee,xt,oo)=>({element:Ge,rowspan:Qe,colspan:ht,row:Ee,column:xt,isLocked:oo}))(ze.element,ze.rowspan,ze.colspan,H,Te,qe);for(let Ge=0;Ge<ze.colspan;Ge++)for(let Qe=0;Qe<ze.rowspan;Qe++){const ht=Te+Ge,Ee=Ks(H+Qe,ht);h[Ee]=Xe,R=Math.max(R,ht+1)}he.push(Xe)}),D++,x.push(hn(me.element,he,me.section)),H++});const{columns:de,colgroups:xe}=Ao(U).map(me=>{const he=(Te=>{const qe={};let Xe=0;return Eo(Te.cells,Ge=>{const Qe=Ge.colspan;Lt(Qe,ht=>{const Ee=Xe+ht;qe[Ee]=((xt,oo,Ut)=>({element:xt,colspan:oo,column:Ut}))(Ge.element,Qe,Ee)}),Xe+=Qe}),qe})(me);return{colgroups:[((Te,qe)=>({element:Te,columns:qe}))(me.element,dr(he))],columns:he}}).getOrThunk(()=>({colgroups:[],columns:{}}));return{grid:((me,he)=>({rows:me,columns:he}))(D,R),access:h,all:x,columns:de,colgroups:xe}},$n=m=>{const h=Uo(m);return Ss(h)},Rl=Ss,Nl=(m,h,x)=>ve.from(m.access[Ks(h,x)]),Kr=(m,h,x)=>{const S=Fu(m,D=>x(h,D.element));return S.length>0?ve.some(S[0]):ve.none()},eo=Fu,lu=m=>nt(m.all,h=>h.cells),Qa=m=>dr(m.columns),Vn=m=>zs(m.columns).length>0,id=(m,h)=>ve.from(m.columns[h]),Pd=(m,h=Et)=>{const x=m.grid,S=Lt(x.columns,Ho),D=Lt(x.rows,Ho);return T(S,R=>ac(()=>nt(D,H=>Nl(m,H,R).filter(U=>U.column===R).toArray()),H=>H.colspan===1&&h(H.element),()=>Nl(m,0,R)))},ac=(m,h,x)=>{const S=m();return Tt(S,h).orThunk(()=>ve.from(S[0]).orThunk(x)).map(D=>D.element)},qo=m=>{const h=m.grid,x=Lt(h.rows,Ho),S=Lt(h.columns,Ho);return T(x,D=>ac(()=>nt(S,R=>Nl(m,D,R).filter(H=>H.row===D).fold(Jt([]),H=>[H])),R=>R.rowspan===1,()=>Nl(m,D,0)))},ei=(m,h)=>x=>Tf(x)==="rtl"?h:m,Tf=m=>mo(m,"direction")==="rtl"?"rtl":"ltr",Of=Ol("height",m=>{const h=m.dom;return qr(m)?h.getBoundingClientRect().height:h.offsetHeight}),Fd=m=>Of.get(m),dl=m=>Of.getOuter(m),Hd=(m,h)=>({left:m,top:h,translate:(x,S)=>Hd(m+x,h+S)}),fe=Hd,ld=(m,h)=>m!==void 0?m:h!==void 0?h:0,ti=m=>{const h=m.dom.ownerDocument,x=h.body,S=h.defaultView,D=h.documentElement;if(x===m.dom)return fe(x.offsetLeft,x.offsetTop);const R=ld(S==null?void 0:S.pageYOffset,D.scrollTop),H=ld(S==null?void 0:S.pageXOffset,D.scrollLeft),U=ld(D.clientTop,x.clientTop),te=ld(D.clientLeft,x.clientLeft);return Hu(m).translate(H-te,R-U)},Hu=m=>{const h=m.dom,x=h.ownerDocument.body;return x===h?fe(x.offsetLeft,x.offsetTop):qr(m)?(S=>{const D=S.getBoundingClientRect();return fe(D.left,D.top)})(h):fe(0,0)},Ir=(m,h)=>({row:m,y:h}),Bp=(m,h)=>({col:m,x:h}),an=m=>ti(m).left+Di(m),bi=m=>ti(m).left,$u=(m,h)=>Bp(m,bi(h)),Ni=(m,h)=>Bp(m,an(h)),ic=m=>ti(m).top,Mi=(m,h)=>Ir(m,ic(h)),aa=(m,h)=>Ir(m,ic(h)+dl(h)),ul=(m,h,x)=>{if(x.length===0)return[];const S=T(x.slice(1),(R,H)=>R.map(U=>m(H,U))),D=x[x.length-1].map(R=>h(x.length-1,R));return S.concat([D])},cu={delta:Ho,positions:m=>ul(Mi,aa,m),edge:ic},Rm=ei({delta:Ho,edge:bi,positions:m=>ul($u,Ni,m)},{delta:m=>-m,edge:an,positions:m=>ul(Ni,$u,m)}),Ml={delta:(m,h)=>Rm(h).delta(m,h),positions:(m,h)=>Rm(h).positions(m,h),edge:m=>Rm(m).edge(m)},lc={unsupportedLength:["em","ex","cap","ch","ic","rem","lh","rlh","vw","vh","vi","vb","vmin","vmax","cm","mm","Q","in","pc","pt","px"],fixed:["px","pt"],relative:["%"],empty:[""]},Bi=(()=>{const m="[0-9]+",h="[eE][+-]?"+m,x=D=>`(?:${D})?`,S=["Infinity",m+"\\."+x(m)+x(h),"\\."+m+x(h),m+x(h)].join("|");return new RegExp(`^([+-]?(?:${S}))(.*)$`)})(),to=/(\d+(\.\d+)?)%/,ds=/(\d+(\.\d+)?)px|em/,cd=hr("col"),Nm=hr("tr"),du=(m,h,x)=>{const S=ui(m).getOrThunk(()=>Id(Ba(m)));return h(m)/x(S)*100},yi=(m,h)=>{jr(m,"width",h+"px")},Vu=(m,h)=>{jr(m,"width",h+"%")},uu=(m,h)=>{jr(m,"height",h+"px")},Ps=m=>{const h=(x=>{return Ja(S=x,"height",S.dom.offsetHeight)+"px";var S})(m);return h?((x,S,D,R)=>{const H=parseFloat(x);return qi(x,"%")&&Qt(S)!=="table"?((U,te,de,xe)=>{const le=_t(U).map(me=>{const he=de(me);return Math.floor(te/100*he)}).getOr(te);return xe(U,le),le})(S,H,D,R):H})(h,m,Fd,uu):Fd(m)},dd=(m,h)=>Ta(m,h).orThunk(()=>ro(m,h).map(x=>x+"px")),cc=m=>dd(m,"width"),Ac=m=>du(m,Gl,ad),Df=m=>{return cd(m)?Gl(m):Ja(h=m,"width",h.dom.offsetWidth);var h},$d=m=>Nm(m)?Fd(m):((h,x,S)=>S(h)/cs(h,"rowspan"))(m,0,Ps),zc=(m,h,x)=>{jr(m,"width",h+x)},ju=m=>du(m,Gl,ad)+"%",Lr=Jt(to),Yi=hr("col"),ia=m=>cc(m).getOrThunk(()=>Df(m)+"px"),dc=m=>{return(h=m,dd(h,"height")).getOrThunk(()=>$d(m)+"px");var h},xs=(m,h,x,S,D,R)=>m.filter(S).fold(()=>R(((H,U)=>{if(U<0||U>=H.length-1)return ve.none();const te=H[U].fold(()=>{const xe=(le=>{const me=dt.call(le,0);return me.reverse(),me})(H.slice(0,U));return $(xe,(le,me)=>le.map(he=>({value:he,delta:me+1})))},xe=>ve.some({value:xe,delta:0})),de=H[U+1].fold(()=>{const xe=H.slice(U+1);return $(xe,(le,me)=>le.map(he=>({value:he,delta:me+1})))},xe=>ve.some({value:xe,delta:1}));return te.bind(xe=>de.map(le=>{const me=le.delta+xe.delta;return Math.abs(le.value-xe.value)/me}))})(x,h)),H=>D(H)),fl=(m,h,x,S)=>{const D=Pd(m),R=Vn(m)?(te=>T(Qa(te),de=>ve.from(de.element)))(m):D,H=[ve.some(Ml.edge(h))].concat(T(Ml.positions(D,h),te=>te.map(de=>de.x))),U=yo(Zl);return T(R,(te,de)=>xs(te,de,H,U,xe=>{if((me=>{const he=Ld().browser,ze=he.isChromium()||he.isFirefox();return!Yi(me)||ze})(xe))return x(xe);{const me=(le=D[de])!=null?Ho(le):ve.none();return xs(me,de,H,U,he=>S(ve.some(Gl(he))),S)}var le},S))},la=m=>m.map(h=>h+"px").getOr(""),ba=(m,h,x)=>fl(m,h,Df,S=>S.getOrThunk(x.minCellWidth)),Vd=(m,h,x,S)=>{const D=qo(m),R=T(m.all,U=>ve.some(U.element)),H=[ve.some(cu.edge(h))].concat(T(cu.positions(D,h),U=>U.map(te=>te.y)));return T(R,(U,te)=>xs(U,te,H,Et,x,S))},Ze=(m,h)=>()=>qr(m)?h(m):parseFloat(Ta(m,"width").getOr("0")),ya=m=>{const h=Ze(m,S=>parseFloat(ju(S))),x=Ze(m,Gl);return{width:h,pixelWidth:x,getWidths:(S,D)=>((R,H,U)=>fl(R,H,Ac,te=>te.fold(()=>U.minCellWidth(),de=>de/U.pixelWidth()*100)))(S,m,D),getCellDelta:S=>S/x()*100,singleColumnWidth:(S,D)=>[100-S],minCellWidth:()=>sn()/x()*100,setElementWidth:Vu,adjustTableWidth:S=>{const D=h();Vu(m,D+S/100*D)},isRelative:!0,label:"percent"}},jd=m=>{const h=Ze(m,Gl);return{width:h,pixelWidth:h,getWidths:(x,S)=>ba(x,m,S),getCellDelta:Ho,singleColumnWidth:(x,S)=>[Math.max(sn(),x+S)-x],minCellWidth:sn,setElementWidth:yi,adjustTableWidth:x=>{const S=h()+x;yi(m,S)},isRelative:!1,label:"pixel"}},rs=m=>cc(m).fold(()=>(h=>{const x=Ze(h,Gl),S=Jt(0);return{width:x,pixelWidth:x,getWidths:(D,R)=>ba(D,h,R),getCellDelta:S,singleColumnWidth:Jt([0]),minCellWidth:S,setElementWidth:It,adjustTableWidth:It,isRelative:!0,label:"none"}})(m),h=>((x,S)=>Lr().exec(S)!==null?ya(x):jd(x))(m,h)),Ii=jd,Bl=ya,Il=(m,h,x)=>{const S=m[x].element,D=st.fromTag("td");wr(D,st.fromTag("br")),(h?wr:Ul)(S,D)},Uu=((m,h)=>{const x=S=>m(S)?ve.from(S.dom.nodeValue):ve.none();return{get:S=>{if(!m(S))throw new Error("Can only get text value of a text node");return x(S).getOr("")},getOption:x,set:(S,D)=>{if(!m(S))throw new Error("Can only set raw text value of a text node");S.dom.nodeValue=D}}})(zn),Fa=m=>Uu.get(m),wn=m=>Uu.getOption(m),oi=(m,h)=>Uu.set(m,h),Fs=m=>Qt(m)==="img"?1:wn(m).fold(()=>_s(m).length,h=>h.length),Da=["img","br"],fu=m=>wn(m).filter(h=>h.trim().length!==0||h.indexOf(" ")>-1).isSome()||vo(Da,Qt(m))||(h=>Kn(h)&&lt(h,"contenteditable")==="false")(m),ml=m=>((h,x)=>{const S=D=>{for(let R=0;R<D.childNodes.length;R++){const H=st.fromDom(D.childNodes[R]);if(x(H))return ve.some(H);const U=S(D.childNodes[R]);if(U.isSome())return U}return ve.none()};return S(h.dom)})(m,fu),Ud=m=>Li(m,fu),Li=(m,h)=>{const x=S=>{const D=_s(S);for(let R=D.length-1;R>=0;R--){const H=D[R];if(h(H))return ve.some(H);const U=x(H);if(U.isSome())return U}return ve.none()};return x(m)},Ae={scope:["row","col"]},Hs=m=>()=>{const h=st.fromTag("td",m.dom);return wr(h,st.fromTag("br",m.dom)),h},Tc=m=>()=>st.fromTag("col",m.dom),Dr=m=>()=>st.fromTag("colgroup",m.dom),Ll=m=>()=>st.fromTag("tr",m.dom),Ha=(m,h,x)=>{const S=((D,R)=>{const H=Cl(D,R),U=_s(za(D));return Cs(H,U),H})(m,h);return mn(x,(D,R)=>{D===null?Po(S,R):Ko(S,R,D)}),S},_r=m=>m,ni=(m,h,x)=>{const S=(D,R)=>{((H,U)=>{const te=H.dom,de=U.dom;sa(te)&&sa(de)&&(de.style.cssText=te.style.cssText)})(D.element,R),ur(R,"height"),D.colspan!==1&&ur(R,"width")};return{col:D=>{const R=st.fromTag(Qt(D.element),h.dom);return S(D,R),m(D.element,R),R},colgroup:Dr(h),row:Ll(h),cell:D=>{const R=st.fromTag(Qt(D.element),h.dom),H=x.getOr(["strong","em","b","i","span","font","h1","h2","h3","h4","h5","h6","p","div"]),U=H.length>0?((te,de,xe)=>ml(te).map(le=>{const me=xe.join(","),he=Ln(le,me,ze=>Bn(ze,te));return Cr(he,(ze,Te)=>{const qe=_l(Te);return wr(ze,qe),qe},de)}).getOr(de))(D.element,R,H):R;return wr(U,st.fromTag("br")),S(D,R),((te,de)=>{mn(Ae,(xe,le)=>ro(te,le).filter(me=>vo(xe,me)).each(me=>Ko(de,le,me)))})(D.element,R),m(D.element,R),R},replace:Ha,colGap:Tc(h),gap:Hs(h)}},fr=m=>({col:Tc(m),colgroup:Dr(m),row:Ll(m),cell:Hs(m),replace:_r,colGap:Tc(m),gap:Hs(m)}),Pr=m=>h=>h.options.get(m),Xi="100%",Ji=m=>{var h;const x=m.dom,S=(h=x.getParent(m.selection.getStart(),x.isBlock))!==null&&h!==void 0?h:m.getBody();return ad(st.fromDom(S))+"px"},ud=m=>ve.from(m.options.get("table_clone_elements")),Oc=Pr("table_header_type"),Zd=Pr("table_column_resizing"),Rf=m=>Zd(m)==="preservetable",Mm=m=>Zd(m)==="resizetable",fd=Pr("table_sizing_mode"),Rs=m=>fd(m)==="relative",vi=m=>fd(m)==="fixed",md=m=>fd(m)==="responsive",C=Pr("table_resize_bars"),N=Pr("table_style_by_css"),j=Pr("table_merge_content_on_paste"),ce=m=>{const h=m.options,x=h.get("table_default_attributes");return h.isSet("table_default_attributes")?x:((S,D)=>md(S)||N(S)?D:vi(S)?{...D,width:Ji(S)}:{...D,width:Xi})(m,x)},ye=Pr("table_use_colgroups"),rt=m=>ts(m,"[contenteditable]"),Vt=(m,h=!1)=>qr(m)?m.dom.isContentEditable:rt(m).fold(Jt(h),x=>bo(x)==="true"),bo=m=>m.dom.contentEditable,Oo=m=>st.fromDom(m.getBody()),Ht=m=>h=>Bn(h,Oo(m)),mr=m=>{Po(m,"data-mce-style");const h=x=>Po(x,"data-mce-style");Eo($e(m),h),Eo(gt(m),h),Eo(Jo(m),h)},Fr=m=>st.fromDom(m.selection.getStart()),$a=m=>m.getBoundingClientRect().width,xi=m=>m.getBoundingClientRect().height,ri=m=>(h,x)=>{const S=h.dom.getStyle(x,m)||h.dom.getAttrib(x,m);return ve.from(S).filter(ls)},Nf=ri("width"),_v=ri("height"),qg=m=>Al(m,hr("table")).exists(Vt),Tn=(m,h)=>{const x=h.column,S=h.column+h.colspan-1,D=h.row,R=h.row+h.rowspan-1;return x<=m.finishCol&&S>=m.startCol&&D<=m.finishRow&&R>=m.startRow},Ip=(m,h)=>h.column>=m.startCol&&h.column+h.colspan-1<=m.finishCol&&h.row>=m.startRow&&h.row+h.rowspan-1<=m.finishRow,us=(m,h,x)=>{const S=Kr(m,h,Bn),D=Kr(m,x,Bn);return S.bind(R=>D.map(H=>{return U=R,te=H,{startRow:Math.min(U.row,te.row),startCol:Math.min(U.column,te.column),finishRow:Math.max(U.row+U.rowspan-1,te.row+te.rowspan-1),finishCol:Math.max(U.column+U.colspan-1,te.column+te.colspan-1)};var U,te}))},Dc=(m,h,x)=>us(m,h,x).map(S=>{const D=eo(m,ut(Tn,S));return T(D,R=>R.element)}),Mf=(m,h)=>Kr(m,h,(x,S)=>Ts(S,x)).map(x=>x.element),mu=(m,h,x)=>{const S=pd(m);return Dc(S,h,x)},va=(m,h,x,S,D)=>{const R=pd(m),H=Bn(m,x)?ve.some(h):Mf(R,h),U=Bn(m,D)?ve.some(S):Mf(R,S);return H.bind(te=>U.bind(de=>Dc(R,te,de)))},pd=$n;var Bm=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","li","table","thead","tbody","tfoot","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"],Im=()=>({up:Jt({selector:Ds,closest:ts,predicate:El,all:Hn}),down:Jt({selector:Ia,predicate:In}),styles:Jt({get:mo,getRaw:Ta,set:jr,remove:ur}),attrs:Jt({get:lt,set:Ko,remove:Po,copyTo:(m,h)=>{const x=gs(m);ps(h,x)}}),insert:Jt({before:wt,after:fi,afterAll:Aa,append:wr,appendAll:Cs,prepend:Ul,wrap:od}),remove:Jt({unwrap:Os,remove:Sr}),create:Jt({nu:st.fromTag,clone:m=>st.fromDom(m.dom.cloneNode(!1)),text:st.fromText}),query:Jt({comparePosition:(m,h)=>m.dom.compareDocumentPosition(h.dom),prevSibling:xo,nextSibling:Ka}),property:Jt({children:_s,name:Qt,parent:ra,document:m=>di(m).dom,isText:zn,isComment:Nn,isElement:Mn,isSpecial:m=>{const h=Qt(m);return vo(["script","noscript","iframe","noframes","noembed","title","style","textarea","xmp"],h)},getLanguage:m=>Mn(m)?ro(m,"lang"):ve.none(),getText:Fa,setText:oi,isBoundary:m=>!!Mn(m)&&(Qt(m)==="body"||vo(Bm,Qt(m))),isEmptyTag:m=>!!Mn(m)&&vo(["br","img","hr","input"],Qt(m)),isNonEditable:m=>Mn(m)&&lt(m,"contenteditable")==="false"}),eq:Bn,is:kl});const Lp=(m,h,x,S)=>{const D=h(m,x);return Cr(S,(R,H)=>{const U=h(m,H);return Pp(m,R,U)},D)},Pp=(m,h,x)=>h.bind(S=>x.filter(ut(m.eq,S))),Rc=Im(),Bf=(m,h)=>((x,S,D)=>D.length>0?((R,H,U,te)=>te(R,H,U[0],U.slice(1)))(x,S,D,Lp):ve.none())(Rc,(x,S)=>m(S),h),jt=m=>Ds(m,"table"),Pl=(m,h,x)=>{const S=D=>R=>x!==void 0&&x(R)||Bn(R,D);return Bn(m,h)?ve.some({boxes:ve.some([m]),start:m,finish:h}):jt(m).bind(D=>jt(h).bind(R=>{if(Bn(D,R))return ve.some({boxes:mu(D,m,h),start:m,finish:h});if(Ts(D,R)){const H=Ln(h,"td,th",S(D)),U=H.length>0?H[H.length-1]:h;return ve.some({boxes:va(D,m,D,h,R),start:m,finish:U})}if(Ts(R,D)){const H=Ln(m,"td,th",S(R)),U=H.length>0?H[H.length-1]:m;return ve.some({boxes:va(R,m,D,h,R),start:m,finish:U})}return((H,U,te)=>((de,xe,le,me=ne)=>{const he=[xe].concat(de.up().all(xe)),ze=[le].concat(de.up().all(le)),Te=Qe=>un(Qe,me).fold(()=>Qe,ht=>Qe.slice(0,ht+1)),qe=Te(he),Xe=Te(ze),Ge=Tt(qe,Qe=>Le(Xe,((ht,Ee)=>ut(ht.eq,Ee))(de,Qe)));return{firstpath:qe,secondpath:Xe,shared:Ge}})(Rc,H,U,void 0))(m,h).shared.bind(H=>ts(H,"table",x).bind(U=>{const te=Ln(h,"td,th",S(U)),de=te.length>0?te[te.length-1]:h,xe=Ln(m,"td,th",S(U)),le=xe.length>0?xe[xe.length-1]:m;return ve.some({boxes:va(U,m,D,h,R),start:le,finish:de})}))}))},If=(m,h)=>{const x=Ia(m,h);return x.length>0?ve.some(x):ve.none()},Qi=(m,h,x)=>es(m,h).bind(S=>es(m,x).bind(D=>Bf(jt,[S,D]).map(R=>({first:S,last:D,table:R})))),si=(m,h,x,S,D)=>((R,H)=>Tt(R,U=>ga(U,H)))(m,D).bind(R=>((H,U,te)=>_t(H).bind(de=>((xe,le,me,he)=>Kr(xe,le,Bn).bind(ze=>{const Te=me>0?ze.row+ze.rowspan-1:ze.row,qe=he>0?ze.column+ze.colspan-1:ze.column;return Nl(xe,Te+me,qe+he).map(Xe=>Xe.element)}))(pd(de),H,U,te)))(R,h,x).bind(H=>((U,te)=>Ds(U,"table").bind(de=>es(de,te).bind(xe=>Pl(xe,U).bind(le=>le.boxes.map(me=>({boxes:me,start:le.start,finish:le.finish}))))))(H,S))),Nc=(m,h)=>If(m,h),gb=(m,h,x)=>Qi(m,h,x).bind(S=>{const D=te=>Bn(m,te),R="thead,tfoot,tbody,table",H=Ds(S.first,R,D),U=Ds(S.last,R,D);return H.bind(te=>U.bind(de=>Bn(te,de)?((xe,le,me)=>((he,ze,Te)=>us(he,ze,Te).bind(qe=>((Xe,Ge)=>{let Qe=!0;const ht=ut(Ip,Ge);for(let Ee=Ge.startRow;Ee<=Ge.finishRow;Ee++)for(let xt=Ge.startCol;xt<=Ge.finishCol;xt++)Qe=Qe&&Nl(Xe,Ee,xt).exists(ht);return Qe?ve.some(Ge):ve.none()})(he,qe)))(pd(xe),le,me))(S.table,S.first,S.last):ve.none()))}),Mc=Ho,Gg=m=>{const h=(x,S)=>ro(x,S).exists(D=>parseInt(D,10)>1);return m.length>0&&Ot(m,x=>h(x,"rowspan")||h(x,"colspan"))?ve.some(m):ve.none()},Bc=(m,h,x)=>h.length<=1?ve.none():gb(m,x.firstSelectedSelector,x.lastSelectedSelector).map(S=>({bounds:S,cells:h})),Lf="data-mce-selected",Zu="data-mce-first-selected",mt="data-mce-last-selected",Kg="["+Lf+"]",jo={selected:Lf,selectedSelector:"td["+Lf+"],th["+Lf+"]",firstSelected:Zu,firstSelectedSelector:"td["+Zu+"],th["+Zu+"]",lastSelected:mt,lastSelectedSelector:"td["+mt+"],th["+mt+"]"},Zt=(m,h,x)=>({element:x,mergable:Bc(h,m,jo),unmergable:Gg(m),selection:Mc(m)}),uc=m=>(h,x)=>{const S=Qt(h),D=S==="col"||S==="colgroup"?_t(R=h).bind(H=>Nc(H,jo.firstSelectedSelector)).fold(Jt(R),H=>H[0]):h;var R;return ts(D,m,x)},Lm=uc("th,td,caption"),Yr=uc("th,td"),fc=m=>{return h=m.model.table.getSelectedCells(),T(h,st.fromDom);var h},_n=(m,h)=>{m.on("BeforeGetContent",x=>{const S=D=>{x.preventDefault(),(R=>_t(R[0]).map(H=>{const U=((te,de)=>{const xe=Qe=>ga(Qe.element,de),le=za(te),me=Uo(le),he=rs(te),ze=Rl(me),Te=((Qe,ht)=>{const Ee=Qe.grid.columns;let xt=Qe.grid.rows,oo=Ee,Ut=0,Dn=0;const Gt=[],Go=[];return mn(Qe.access,ho=>{if(Gt.push(ho),ht(ho)){Go.push(ho);const nr=ho.row,ea=nr+ho.rowspan-1,Si=ho.column,Va=Si+ho.colspan-1;nr<xt?xt=nr:ea>Ut&&(Ut=ea),Si<oo?oo=Si:Va>Dn&&(Dn=Va)}}),((ho,nr,ea,Si,Va,ec)=>({minRow:ho,minCol:nr,maxRow:ea,maxCol:Si,allCells:Va,selectedCells:ec}))(xt,oo,Ut,Dn,Gt,Go)})(ze,xe),qe="th:not("+de+"),td:not("+de+")",Xe=pe(le,"th,td",Qe=>ga(Qe,qe));Eo(Xe,Sr),((Qe,ht,Ee,xt)=>{const oo=Ro(Qe,Gt=>Gt.section!=="colgroup"),Ut=ht.grid.columns,Dn=ht.grid.rows;for(let Gt=0;Gt<Dn;Gt++){let Go=!1;for(let ho=0;ho<Ut;ho++)Gt<Ee.minRow||Gt>Ee.maxRow||ho<Ee.minCol||ho>Ee.maxCol||(Nl(ht,Gt,ho).filter(xt).isNone()?Il(oo,Go,Gt):Go=!0)}})(me,ze,Te,xe);const Ge=((Qe,ht,Ee,xt)=>{if(xt.minCol===0&&ht.grid.columns===xt.maxCol+1)return 0;const oo=ba(ht,Qe,Ee),Ut=_e(oo,(Go,ho)=>Go+ho,0),Dn=_e(oo.slice(xt.minCol,xt.maxCol+1),(Go,ho)=>Go+ho,0),Gt=Dn/Ut*Ee.pixelWidth()-Ee.pixelWidth();return Ee.getCellDelta(Gt)})(te,$n(te),he,Te);return((Qe,ht,Ee,xt)=>{mn(Ee.columns,Ut=>{(Ut.column<ht.minCol||Ut.column>ht.maxCol)&&Sr(Ut.element)});const oo=Ro(G(Qe,"tr"),Ut=>Ut.dom.childElementCount===0);Eo(oo,Sr),ht.minCol!==ht.maxCol&&ht.minRow!==ht.maxRow||Eo(G(Qe,"th,td"),Ut=>{Po(Ut,"rowspan"),Po(Ut,"colspan")}),Po(Qe,Oa),Po(Qe,"data-snooker-col-series"),rs(Qe).adjustTableWidth(xt)})(le,Te,ze,Ge),le})(H,Kg);return mr(U),[U]}))(D).each(R=>{x.content=x.format==="text"?(H=>T(H,U=>U.dom.innerText).join(""))(R):((H,U)=>T(U,te=>H.selection.serializer.serialize(te.dom,{})).join(""))(m,R)})};if(x.selection===!0){const D=(R=>Ro(fc(R),H=>ga(H,jo.selectedSelector)))(m);D.length>=1&&S(D)}}),m.on("BeforeSetContent",x=>{if(x.selection===!0&&x.paste===!0){const S=fc(m);fn(S).each(D=>{_t(D).each(R=>{const H=Ro(((te,de)=>{const xe=document.createElement("div");return xe.innerHTML=te,_s(st.fromDom(xe))})(x.content),te=>Qt(te)!=="meta"),U=hr("table");if(j(m)&&H.length===1&&U(H[0])){x.preventDefault();const te=st.fromDom(m.getDoc()),de=fr(te),xe=((le,me,he)=>({element:le,clipboard:me,generators:he}))(D,H[0],de);h.pasteCells(R,xe).each(()=>{m.focus()})}})})}})},br=(m,h)=>({element:m,offset:h}),Pf=(m,h,x)=>m.property().isText(h)&&m.property().getText(h).trim().length===0||m.property().isComment(h)?x(h).bind(S=>Pf(m,S,x).orThunk(()=>ve.some(S))):ve.none(),Ue=(m,h)=>m.property().isText(h)?m.property().getText(h).length:m.property().children(h).length,Yl=(m,h)=>{const x=Pf(m,h,m.query().prevSibling).getOr(h);if(m.property().isText(x))return br(x,Ue(m,x));const S=m.property().children(x);return S.length>0?Yl(m,S[S.length-1]):br(x,Ue(m,x))},Fp=Yl,pu=Im(),Yg=(m,h)=>{Zl(m)||(S=>cc(S).bind(D=>{return R=D,H=["fixed","relative","empty"],ve.from(Bi.exec(R)).bind(U=>{const te=Number(U[1]),de=U[2];return((xe,le)=>Le(le,me=>Le(lc[me],he=>xe===he)))(de,H)?ve.some({value:te,unit:de}):ve.none()});var R,H}))(m).each(S=>{const D=S.value/2;zc(m,D,S.unit),zc(h,D,S.unit)})},Ic=m=>T(m,Jt(0)),hb=(m,h,x,S,D)=>D(m.slice(0,h)).concat(S).concat(D(m.slice(x))),Wu=m=>(h,x,S,D)=>{if(m(S)){const R=Math.max(D,h[x]-Math.abs(S)),H=Math.abs(R-h[x]);return S>=0?H:-H}return S},Ar=Wu(m=>m<0),gd=Wu(Et),Xg=()=>{const m=(x,S,D,R)=>{const H=(100+D)/100,U=Math.max(R,(x[S]+D)/H);return T(x,(te,de)=>(de===S?U:te/H)-te)},h=(x,S,D,R,H,U)=>U?m(x,S,R,H):((te,de,xe,le,me)=>{const he=Ar(te,de,le,me);return hb(te,de,xe+1,[he,0],Ic)})(x,S,D,R,H);return{resizeTable:(x,S)=>x(S),clampTableDelta:Ar,calcLeftEdgeDeltas:h,calcMiddleDeltas:(x,S,D,R,H,U,te)=>h(x,D,R,H,U,te),calcRightEdgeDeltas:(x,S,D,R,H,U)=>{if(U)return m(x,D,R,H);{const te=Ar(x,D,R,H);return Ic(x.slice(0,D)).concat([te])}},calcRedestributedWidths:(x,S,D,R)=>{if(R){const H=(S+D)/S,U=T(x,te=>te/H);return{delta:100*H-100,newSizes:U}}return{delta:D,newSizes:x}}}},Lc=()=>{const m=(h,x,S,D,R)=>{const H=gd(h,D>=0?S:x,D,R);return hb(h,x,S+1,[H,-H],Ic)};return{resizeTable:(h,x,S)=>{S&&h(x)},clampTableDelta:(h,x,S,D,R)=>{if(R){if(S>=0)return S;{const H=_e(h,(U,te)=>U+te-D,0);return Math.max(-H,S)}}return Ar(h,x,S,D)},calcLeftEdgeDeltas:m,calcMiddleDeltas:(h,x,S,D,R,H)=>m(h,S,D,R,H),calcRightEdgeDeltas:(h,x,S,D,R,H)=>{if(H)return Ic(h);{const U=D/h.length;return T(h,Jt(U))}},calcRedestributedWidths:(h,x,S,D)=>({delta:0,newSizes:h})}},Ff=m=>$n(m).grid,Wd=hr("th"),$s=m=>Ot(m,h=>Wd(h.element)),ca=(m,h)=>m&&h?"sectionCells":m?"section":"cells",Hp=m=>{const h=m.section==="thead",x=Xa(Ys(m.cells),"th");return m.section==="tfoot"?{type:"footer"}:h||x?{type:"header",subType:ca(h,x)}:{type:"body"}},Ys=m=>{const h=Ro(m,x=>Wd(x.element));return h.length===0?ve.some("td"):h.length===m.length?ve.some("th"):ve.none()},Xl=(m,h,x)=>Vr(x(m.element,h),!0,m.isLocked),ki=(m,h)=>m.section!==h?Gs(m.element,m.cells,h,m.isNew):m,ct=()=>({transformRow:ki,transformCell:(m,h,x)=>{const S=x(m.element,h),D=Qt(S)!=="td"?((R,H)=>{const U=Cl(R,"td");fi(R,U);const te=_s(R);return Cs(U,te),Sr(R),U})(S):S;return Vr(D,m.isNew,m.isLocked)}}),Jg=()=>({transformRow:ki,transformCell:Xl}),ks=()=>({transformRow:(m,h)=>ki(m,h==="thead"?"tbody":h),transformCell:Xl}),k=ct,z=Jg,V=ks,ee=()=>({transformRow:Ho,transformCell:Xl}),ge=(m,h,x,S)=>{x===S?Po(m,h):Ko(m,h,x)},je=(m,h,x)=>{Ao(pi(m,h)).fold(()=>Ul(m,x),S=>fi(S,x))},pt=(m,h)=>{const x=[],S=[],D=me=>T(me,he=>{he.isNew&&x.push(he.element);const ze=he.element;return wl(ze),Eo(he.cells,Te=>{Te.isNew&&S.push(Te.element),ge(Te.element,"colspan",Te.colspan,1),ge(Te.element,"rowspan",Te.rowspan,1),wr(ze,Te.element)}),ze}),R=me=>nt(me,he=>T(he.cells,ze=>(ge(ze.element,"span",ze.colspan,1),ze.element))),H=(me,he)=>{const ze=((qe,Xe)=>{const Ge=Gr(qe,Xe).getOrThunk(()=>{const Qe=st.fromTag(Xe,Ba(qe).dom);return Xe==="thead"?je(qe,"caption,colgroup",Qe):Xe==="colgroup"?je(qe,"caption",Qe):wr(qe,Qe),Qe});return wl(Ge),Ge})(m,he),Te=(he==="colgroup"?R:D)(me);Cs(ze,Te)},U=(me,he)=>{me.length>0?H(me,he):(ze=>{Gr(m,ze).each(Sr)})(he)},te=[],de=[],xe=[],le=[];return Eo(h,me=>{switch(me.section){case"thead":te.push(me);break;case"tbody":de.push(me);break;case"tfoot":xe.push(me);break;case"colgroup":le.push(me)}}),U(le,"colgroup"),U(te,"thead"),U(de,"tbody"),U(xe,"tfoot"),{newRows:x,newCells:S}},Bt=(m,h)=>{if(m.length===0)return 0;const x=m[0];return un(m,S=>!h(x.element,S.element)).getOr(m.length)},$t=(m,h)=>{const x=T(m,S=>T(S.cells,ne));return T(m,(S,D)=>{const R=nt(S.cells,(H,U)=>{if(x[D][U]===!1){const me=((he,ze,Te,qe)=>{const Xe=((Ee,xt)=>Ee[xt])(he,ze),Ge=Xe.section==="colgroup",Qe=Bt(Xe.cells.slice(Te),qe),ht=Ge?1:Bt(((Ee,xt)=>T(Ee,oo=>Ki(oo,xt)))(he.slice(ze),Te),qe);return{colspan:Qe,rowspan:ht}})(m,D,U,h);return((he,ze,Te,qe)=>{for(let Xe=he;Xe<he+Te;Xe++)for(let Ge=ze;Ge<ze+qe;Ge++)x[Xe][Ge]=!0})(D,U,me.rowspan,me.colspan),[(te=H.element,de=me.rowspan,xe=me.colspan,le=H.isNew,{element:te,rowspan:de,colspan:xe,isNew:le})]}return[];var te,de,xe,le});return((H,U,te,de)=>({element:H,cells:U,section:te,isNew:de}))(S.element,R,S.section,S.isNew)})},Fo=(m,h,x)=>{const S=[];Eo(m.colgroups,D=>{const R=[];for(let H=0;H<m.grid.columns;H++){const U=id(m,H).map(te=>Vr(te.element,x,!1)).getOrThunk(()=>Vr(h.colGap(),!0,!1));R.push(U)}S.push(Gs(D.element,R,"colgroup",x))});for(let D=0;D<m.grid.rows;D++){const R=[];for(let te=0;te<m.grid.columns;te++){const de=Nl(m,D,te).map(xe=>Vr(xe.element,x,xe.isLocked)).getOrThunk(()=>Vr(h.gap(),!0,!1));R.push(de)}const H=m.all[D],U=Gs(H.element,R,H.section,x);S.push(U)}return S},Io=m=>$t(m,Bn),Zo=(m,h)=>$(m.all,x=>Tt(x.cells,S=>Bn(h,S.element))),pr=(m,h,x)=>{const S=T(h.selection,R=>ke(R).bind(H=>Zo(m,H)).filter(x)),D=Yn(S);return ha(D.length>0,D)},Cn=(m,h,x,S,D)=>(R,H,U,te)=>{const de=$n(R),xe=ve.from(te==null?void 0:te.section).getOrThunk(ee);return h(de,H).map(le=>{const me=((Te,qe)=>Fo(Te,qe,!1))(de,U),he=m(me,le,Bn,D(U),xe),ze=vs(he.grid);return{info:le,grid:Io(he.grid),cursor:he.cursor,lockedColumns:ze}}).bind(le=>{const me=pt(R,le.grid),he=ve.from(te==null?void 0:te.sizing).getOrThunk(()=>rs(R)),ze=ve.from(te==null?void 0:te.resize).getOrThunk(Lc);return x(R,le.grid,le.info,{sizing:he,resize:ze,section:xe}),S(R),Po(R,Oa),le.lockedColumns.length>0&&Ko(R,Oa,le.lockedColumns.join(",")),ve.some({cursor:le.cursor,newRows:me.newRows,newCells:me.newCells})})},Jl=(m,h)=>pr(m,h,Et).map(x=>({cells:x,generators:h.generators,clipboard:h.clipboard})),Es=(m,h)=>pr(m,h,Et),wi=(m,h)=>pr(m,h,x=>!x.isLocked),gu=(m,h)=>Ot(h,x=>((S,D)=>Zo(S,D).exists(R=>!R.isLocked))(m,x)),hu=(m,h,x,S)=>{const D=Pn(m).rows;let R=!0;for(let H=0;H<D.length;H++)for(let U=0;U<ys(D[0]);U++){const te=D[H],de=Ki(te,U),xe=x(de.element,h);xe&&!R?ns(te,U,Vr(S(),!0,de.isLocked)):xe&&(R=!1)}return m},mc=m=>{const h=R=>R(m),x=Jt(m),S=()=>D,D={tag:!0,inner:m,fold:(R,H)=>H(m),isValue:Et,isError:ne,map:R=>qd.value(R(m)),mapError:S,bind:h,exists:h,forall:h,getOr:x,or:S,getOrThunk:x,orThunk:S,getOrDie:x,each:R=>{R(m)},toOptional:()=>ve.some(m)};return D},Hf=m=>{const h=()=>x,x={tag:!1,inner:m,fold:(D,R)=>D(m),isValue:ne,isError:Et,map:h,mapError:D=>qd.error(D(m)),bind:h,exists:ne,forall:Et,getOr:Ho,or:Ho,getOrThunk:He,orThunk:He,getOrDie:(S=String(m),()=>{throw new Error(S)}),each:It,toOptional:ve.none};var S;return x},qd={value:mc,error:Hf,fromOption:(m,h)=>m.fold(()=>Hf(h),mc)},$f=(m,h)=>({rowDelta:0,colDelta:ys(m[0])-ys(h[0])}),bu=(m,h)=>({rowDelta:m.length-h.length,colDelta:0}),Pm=(m,h,x,S)=>{const D=h.section==="colgroup"?x.col:x.cell;return Lt(m,R=>Vr(D(),!0,S(R)))},$p=(m,h,x,S)=>{const D=m[m.length-1];return m.concat(Lt(h,()=>{const R=D.section==="colgroup"?x.colgroup:x.row,H=Dl(D,R,Ho),U=Pm(H.cells.length,H,x,te=>To(S,te.toString()));return Dm(H,U)}))},On=(m,h,x,S)=>T(m,D=>{const R=Pm(h,D,x,ne);return iu(D,S,R)}),Rr=(m,h,x)=>{const S=h.colDelta<0?On:Ho,D=h.rowDelta<0?$p:Ho,R=vs(m),H=ys(m[0]),U=Le(R,xe=>xe===H-1),te=S(m,Math.abs(h.colDelta),x,U?H-1:H),de=vs(te);return D(te,Math.abs(h.rowDelta),x,Zr(de,Et))},el=(m,h,x,S)=>{const D=ut(S,Ki(m[h],x).element),R=m[h];return m.length>1&&ys(R)>1&&(x>0&&D(bs(R,x-1))||x<R.cells.length-1&&D(bs(R,x+1))||h>0&&D(bs(m[h-1],x))||h<m.length-1&&D(bs(m[h+1],x)))},Pi=(m,h,x)=>Ro(x,S=>S>=m.column&&S<=ys(h[0])+m.column),bb=(m,h,x,S,D)=>{((de,xe,le,me)=>{xe>0&&xe<de[0].cells.length&&Eo(de,he=>{const ze=he.cells[xe-1];let Te=0;const qe=me();for(;he.cells.length>xe+Te&&le(ze.element,he.cells[xe+Te].element);)ns(he,xe+Te,Vr(qe,!0,he.cells[xe+Te].isLocked)),Te++})})(h,m,D,S.cell);const R=bu(x,h),H=Rr(x,R,S),U=bu(h,H),te=Rr(h,U,S);return T(te,(de,xe)=>iu(de,m,H[xe].cells))},Vp=(m,h,x,S,D)=>{((Ge,Qe,ht,Ee)=>{const xt=Pn(Ge).rows;if(Qe>0&&Qe<xt.length){const oo=((Ut,Dn)=>_e(Ut,(Gt,Go)=>Le(Gt,ho=>Dn(ho.element,Go.element))?Gt:Gt.concat([Go]),[]))(xt[Qe-1].cells,ht);Eo(oo,Ut=>{let Dn=ve.none();for(let Gt=Qe;Gt<xt.length;Gt++)for(let Go=0;Go<ys(xt[0]);Go++){const ho=xt[Gt],nr=Ki(ho,Go);ht(nr.element,Ut.element)&&(Dn.isNone()&&(Dn=ve.some(Ee())),Dn.each(ea=>{ns(ho,Go,Vr(ea,!0,nr.isLocked))}))}})}})(h,m,D,S.cell);const R=vs(h),H=$f(h,x),U={...H,colDelta:H.colDelta-R.length},te=Rr(h,U,S),{cols:de,rows:xe}=Pn(te),le=vs(te),me=$f(x,h),he={...me,colDelta:me.colDelta+le.length},ze=(qe=S,Xe=le,T(x,Ge=>_e(Xe,(Qe,ht)=>{const Ee=Pm(1,Ge,qe,Et)[0];return Ri(Qe,ht,Ee)},Ge))),Te=Rr(ze,he,S);var qe,Xe;return[...de,...xe.slice(0,m),...Te,...xe.slice(m,xe.length)]},qu=(m,h,x,S,D)=>{const{rows:R,cols:H}=Pn(m),U=R.slice(0,h),te=R.slice(h);return[...H,...U,((de,xe,le,me)=>Dl(de,he=>me(he,le),xe))(R[x],(de,xe)=>h>0&&h<R.length&&S(bs(R[h-1],xe),bs(R[h],xe))?Ki(R[h],xe):Vr(D(de.element,S),!0,de.isLocked),S,D),...te]},Gu=(m,h,x,S,D)=>T(m,R=>{const H=h>0&&h<ys(R)&&S(bs(R,h-1),bs(R,h)),U=((te,de,xe,le,me,he,ze)=>{if(xe!=="colgroup"&&le)return Ki(te,de);{const Te=Ki(te,me);return Vr(ze(Te.element,he),!0,!1)}})(R,h,R.section,H,x,S,D);return Ri(R,h,U)}),o1=(m,h,x,S)=>((D,R,H,U)=>bs(D[R],H)!==void 0&&R>0&&U(bs(D[R-1],H),bs(D[R],H)))(m,h,x,S)||((D,R,H)=>R>0&&H(bs(D,R-1),bs(D,R)))(m[h],x,S),Qg=(m,h,x,S)=>{const D=R=>(H=>H==="row"?(U=>cs(U,"rowspan")>1)(h):Zl(h))(R)?`${R}group`:R;return m?Wd(h)?D(x):null:S&&Wd(h)?D(x==="row"?"col":"row"):null},n1=(m,h,x)=>Vr(x(m.element,h),!0,m.isLocked),jp=(m,h,x,S,D,R,H)=>T(m,(U,te)=>((de,xe)=>{const le=de.cells,me=T(le,(he,ze)=>{if((Te=>Le(h,qe=>x(Te.element,qe.element)))(he)){const Te=H(he,te,ze)?D(he,x,S):he;return R(Te,te,ze).each(qe=>{var Xe,Ge;Xe=Te.element,Ge={scope:ve.from(qe)},mn(Ge,(Qe,ht)=>{Qe.fold(()=>{Po(Xe,ht)},Ee=>{tr(Xe.dom,ht,Ee)})})}),Te}return he});return Gs(de.element,me,de.section,de.isNew)})(U)),Cv=(m,h,x)=>nt(m,(S,D)=>o1(m,D,h,x)?[]:[Ki(S,h)]),eh=(m,h,x,S,D)=>{const R=Pn(m).rows,H=nt(h,xe=>Cv(R,xe,S)),U=T(R,xe=>$s(xe.cells)),te=((xe,le)=>Ot(le,Ho)&&$s(xe)?Et:(me,he,ze)=>!(Qt(me.element)==="th"&&le[he]))(H,U);return jp(m,H,S,D,n1,((xe,le)=>(me,he)=>ve.some(Qg(xe,me.element,"row",le[he])))(x,U),te)},Up=(m,h,x,S)=>{const D=Pn(m).rows,R=T(h,H=>Ki(D[H.row],H.column));return jp(m,R,x,S,n1,ve.none,Et)},Fm=m=>{if(!ir(m))throw new Error("cases must be an array");if(m.length===0)throw new Error("there must be at least one case");const h=[],x={};return Eo(m,(S,D)=>{const R=zs(S);if(R.length!==1)throw new Error("one and only one name per case");const H=R[0],U=S[H];if(x[H]!==void 0)throw new Error("duplicate key detected:"+H);if(H==="cata")throw new Error("cannot have a case named cata (sorry)");if(!ir(U))throw new Error("case arguments must be an array");h.push(H),x[H]=(...te)=>{const de=te.length;if(de!==U.length)throw new Error("Wrong number of arguments to case "+H+". Expected "+U.length+" ("+U+"), got "+de);return{fold:(...xe)=>{if(xe.length!==m.length)throw new Error("Wrong number of arguments to fold. Expected "+m.length+", got "+xe.length);return xe[D].apply(null,te)},match:xe=>{const le=zs(xe);if(h.length!==le.length)throw new Error("Wrong number of arguments to match. Expected: "+h.join(",")+`
Actual: `+le.join(","));if(!Ot(h,me=>vo(le,me)))throw new Error("Not all branches were specified when using match. Specified: "+le.join(", ")+`
Required: `+h.join(", "));return xe[H].apply(null,te)},log:xe=>{console.log(xe,{constructors:h,constructor:H,params:te})}}}}),x},Zp={...Fm([{none:[]},{only:["index"]},{left:["index","next"]},{middle:["prev","index","next"]},{right:["prev","index"]}])},th=(m,h,x)=>{const S=((D,R)=>Vn(D)?((H,U)=>{const te=Qa(H);return T(te,(de,xe)=>({element:de.element,width:U[xe],colspan:de.colspan}))})(D,R):((H,U)=>{const te=lu(H);return T(te,de=>{const xe=((le,me,he)=>{let ze=0;for(let Te=le;Te<me;Te++)ze+=he[Te]!==void 0?he[Te]:0;return ze})(de.column,de.column+de.colspan,U);return{element:de.element,width:xe,colspan:de.colspan}})})(D,R))(m,h);Eo(S,D=>{x.setElementWidth(D.element,D.width)})},Pc=(m,h,x,S,D)=>{const R=$n(m),H=D.getCellDelta(h),U=D.getWidths(R,D),te=x===R.grid.columns-1,de=S.clampTableDelta(U,x,H,D.minCellWidth(),te),xe=((me,he,ze,Te,qe)=>{const Xe=me.slice(0),Ge=((ht,Ee)=>ht.length===0?Zp.none():ht.length===1?Zp.only(0):Ee===0?Zp.left(0,1):Ee===ht.length-1?Zp.right(Ee-1,Ee):Ee>0&&Ee<ht.length-1?Zp.middle(Ee-1,Ee,Ee+1):Zp.none())(me,he),Qe=Jt(T(Xe,Jt(0)));return Ge.fold(Qe,ht=>Te.singleColumnWidth(Xe[ht],ze),(ht,Ee)=>qe.calcLeftEdgeDeltas(Xe,ht,Ee,ze,Te.minCellWidth(),Te.isRelative),(ht,Ee,xt)=>qe.calcMiddleDeltas(Xe,ht,Ee,xt,ze,Te.minCellWidth(),Te.isRelative),(ht,Ee)=>qe.calcRightEdgeDeltas(Xe,ht,Ee,ze,Te.minCellWidth(),Te.isRelative))})(U,x,de,D,S),le=T(xe,(me,he)=>me+U[he]);th(R,le,D),S.resizeTable(D.adjustTableWidth,de,te)},r1=(m,h,x)=>{const S=$n(m),D=((te,de)=>Vd(te,de,$d,xe=>xe.getOrThunk(ql)))(S,m),R=T(D,(te,de)=>x===de?Math.max(h+te,ql()):te),H=((te,de)=>T(te.all,(xe,le)=>({element:xe.element,height:de[le]})))(S,R);Eo(H,te=>{uu(te.element,te.height)}),Eo(lu(S),te=>{(de=>{ur(de,"height")})(te.element)});const U=Cr(R,(te,de)=>te+de,0);uu(m,U)},Fc=m=>_e(m,(h,x)=>Le(h,S=>S.column===x.column)?h:h.concat([x]),[]).sort((h,x)=>h.column-x.column),Vf=hr("col"),Wp=hr("colgroup"),s1=m=>Qt(m)==="tr"||Wp(m),a1=m=>({element:m,colspan:Pa(m,"colspan",1),rowspan:Pa(m,"rowspan",1)}),i1=m=>ro(m,"scope").map(h=>h.substr(0,3)),pc=(m,h=a1)=>{const x=D=>{if(s1(D))return Wp((R={element:D}).element)?m.colgroup(R):m.row(R);{const H=D,U=(te=>Vf(te.element)?m.col(te):m.cell(te))(h(H));return S=ve.some({item:H,replacement:U}),U}var R};let S=ve.none();return{getOrInit:(D,R)=>S.fold(()=>x(D),H=>R(D,H.item)?H.replacement:x(D))}},l1=m=>h=>{const x=[],S=D=>{const R=m==="td"?{scope:null}:{},H=h.replace(D,m,R);return x.push({item:D,sub:H}),H};return{replaceOrInit:(D,R)=>{if(s1(D)||Vf(D))return D;{const H=D;return((U,te)=>Tt(x,de=>te(de.item,U)))(H,R).fold(()=>S(H),U=>R(D,U.item)?U.sub:S(H))}}}},n_=m=>({unmerge:h=>{const x=i1(h);return x.each(S=>Ko(h,"scope",S)),()=>{const S=m.cell({element:h,colspan:1,rowspan:1});return ur(S,"width"),ur(h,"width"),x.each(D=>Ko(S,"scope",D)),S}},merge:h=>(ur(h[0],"width"),(()=>{const x=Yn(T(h,i1));if(x.length===0)return ve.none();{const S=x[0],D=["row","col"];return Le(x,R=>R!==S&&vo(D,R))?ve.none():ve.from(S)}})().fold(()=>Po(h[0],"scope"),x=>Ko(h[0],"scope",x+"group")),Jt(h[0]))}),jf=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","table","thead","tfoot","tbody","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"],xa=Im(),yu=m=>((h,x)=>{const S=h.property().name(x);return vo(jf,S)})(xa,m),yb=m=>((h,x)=>{const S=h.property().name(x);return vo(["ol","ul"],S)})(xa,m),vn=m=>{const h=hr("br"),x=D=>Ud(D).bind(R=>{const H=Ka(R).map(U=>!!yu(U)||!!((te,de)=>vo(["br","img","hr","input"],te.property().name(de)))(xa,U)&&Qt(U)!=="img").getOr(!1);return ra(R).map(U=>{return H===!0||Qt(te=U)==="li"||El(te,yb).isSome()||h(R)||yu(U)&&!Bn(D,U)?[]:[st.fromTag("br")];var te})}).getOr([]),S=(()=>{const D=nt(m,R=>{const H=_s(R);return(U=>Ot(U,te=>h(te)||zn(te)&&Fa(te).trim().length===0))(H)?[]:H.concat(x(R))});return D.length===0?[st.fromTag("br")]:D})();wl(m[0]),Cs(m[0],S)},Fl=m=>Vt(m,!0),Ku=m=>{$e(m).length===0&&Sr(m)},Hm=(m,h)=>({grid:m,cursor:h}),bn=(m,h,x)=>{const S=((D,R,H)=>{var U,te;const de=Pn(D).rows;return ve.from((te=(U=de[R])===null||U===void 0?void 0:U.cells[H])===null||te===void 0?void 0:te.element).filter(Fl).orThunk(()=>(xe=>$(xe,le=>$(le.cells,me=>{const he=me.element;return ha(Fl(he),he)})))(de))})(m,h,x);return Hm(m,S)},oh=m=>_e(m,(h,x)=>Le(h,S=>S.row===x.row)?h:h.concat([x]),[]).sort((h,x)=>h.row-x.row),nh=(m,h)=>(x,S,D,R,H)=>{const U=oh(S),te=T(U,xe=>xe.row),de=((xe,le,me,he,ze,Te,qe)=>{const{cols:Xe,rows:Ge}=Pn(xe),Qe=Ge[le[0]],ht=nt(le,Gt=>((Go,ho,nr)=>{const ea=Go[ho];return nt(ea.cells,(Si,Va)=>o1(Go,ho,Va,nr)?[]:[Si])})(Ge,Gt,ze)),Ee=T(Qe.cells,(Gt,Go)=>$s(Cv(Ge,Go,ze))),xt=[...Ge];Eo(le,Gt=>{xt[Gt]=qe.transformRow(Ge[Gt],me)});const oo=[...Xe,...xt],Ut=((Gt,Go)=>Ot(Go,Ho)&&$s(Gt.cells)?Et:(ho,nr,ea)=>!(Qt(ho.element)==="th"&&Go[ea]))(Qe,Ee),Dn=((Gt,Go)=>(ho,nr,ea)=>ve.some(Qg(Gt,ho.element,"col",Go[ea])))(he,Ee);return jp(oo,ht,ze,Te,qe.transformCell,Dn,Ut)})(x,te,m,h,D,R.replaceOrInit,H);return bn(de,S[0].row,S[0].column)},r_=nh("thead",!0),fs=nh("tbody",!1),c1=nh("tfoot",!1),vb=(m,h,x)=>{const S=((R,H)=>rn(R,()=>H))(m,x.section),D=Rl(S);return Fo(D,h,!0)},xb=(m,h,x,S)=>((D,R,H,U)=>{const te=Rl(R),de=U.getWidths(te,U);th(te,de,U)})(0,h,0,S.sizing),Pt=(m,h,x,S)=>((D,R,H,U,te)=>{const de=Rl(R),xe=U.getWidths(de,U),le=U.pixelWidth(),{newSizes:me,delta:he}=te.calcRedestributedWidths(xe,le,H.pixelDelta,U.isRelative);th(de,me,U),U.adjustTableWidth(he)})(0,h,x,S.sizing,S.resize),Sv=(m,h)=>Le(h,x=>x.column===0&&x.isLocked),rh=(m,h)=>Le(h,x=>x.column+x.colspan>=m.grid.columns&&x.isLocked),qp=(m,h)=>{const x=Pd(m),S=Fc(h);return _e(S,(D,R)=>D+x[R.column].map(Di).getOr(0),0)},Hc=m=>(h,x)=>Es(h,x).filter(S=>!(m?Sv:rh)(h,S)).map(S=>({details:S,pixelDelta:qp(h,S)})),sh=m=>(h,x)=>Jl(h,x).filter(S=>!(m?Sv:rh)(h,S.cells)),Uf=l1("th"),vu=l1("td"),Ev=Cn((m,h,x,S)=>{const D=h[0].row,R=oh(h),H=Cr(R,(U,te)=>({grid:qu(U.grid,D,te.row+U.delta,x,S.getOrInit),delta:U.delta+1}),{grid:m,delta:0}).grid;return bn(H,D,h[0].column)},Es,It,It,pc),Gp=Cn((m,h,x,S)=>{const D=oh(h),R=D[D.length-1],H=R.row+R.rowspan,U=Cr(D,(te,de)=>qu(te,H,de.row,x,S.getOrInit),m);return bn(U,H,h[0].column)},Es,It,It,pc),Zf=Cn((m,h,x,S)=>{const D=h.details,R=Fc(D),H=R[0].column,U=Cr(R,(te,de)=>({grid:Gu(te.grid,H,de.column+te.delta,x,S.getOrInit),delta:te.delta+1}),{grid:m,delta:0}).grid;return bn(U,D[0].row,H)},Hc(!0),Pt,It,pc),kb=Cn((m,h,x,S)=>{const D=h.details,R=D[D.length-1],H=R.column+R.colspan,U=Fc(D),te=Cr(U,(de,xe)=>Gu(de,H,xe.column,x,S.getOrInit),m);return bn(te,D[0].row,H)},Hc(!1),Pt,It,pc),Av=Cn((m,h,x,S)=>{const D=Fc(h.details),R=((U,te)=>nt(U,de=>{const xe=de.cells,le=Cr(te,(me,he)=>he>=0&&he<me.length?me.slice(0,he).concat(me.slice(he+1)):me,xe);return le.length>0?[Gs(de.element,le,de.section,de.isNew)]:[]}))(m,T(D,U=>U.column)),H=R.length>0?R[0].cells.length-1:0;return bn(R,D[0].row,Math.min(D[0].column,H))},(m,h)=>wi(m,h).map(x=>({details:x,pixelDelta:-qp(m,x)})),Pt,Ku,pc),wb=Cn((m,h,x,S)=>{const D=oh(h),R=((U,te,de)=>{const{rows:xe,cols:le}=Pn(U);return[...le,...xe.slice(0,te),...xe.slice(de+1)]})(m,D[0].row,D[D.length-1].row),H=Math.max(Pn(R).rows.length-1,0);return bn(R,Math.min(h[0].row,H),h[0].column)},Es,It,Ku,pc),_b=Cn((m,h,x,S)=>{const D=Fc(h),R=T(D,U=>U.column),H=eh(m,R,!0,x,S.replaceOrInit);return bn(H,h[0].row,h[0].column)},wi,It,It,Uf),d1=Cn((m,h,x,S)=>{const D=Fc(h),R=T(D,U=>U.column),H=eh(m,R,!1,x,S.replaceOrInit);return bn(H,h[0].row,h[0].column)},wi,It,It,vu),Cb=Cn(r_,wi,It,It,Uf),s_=Cn(fs,wi,It,It,vu),zv=Cn(c1,wi,It,It,vu),a_=Cn((m,h,x,S)=>{const D=Up(m,h,x,S.replaceOrInit);return bn(D,h[0].row,h[0].column)},wi,It,It,Uf),Tv=Cn((m,h,x,S)=>{const D=Up(m,h,x,S.replaceOrInit);return bn(D,h[0].row,h[0].column)},wi,It,It,vu),$m=Cn((m,h,x,S)=>{const D=h.cells;vn(D);const R=((H,U,te,de)=>{const xe=Pn(H).rows;if(xe.length===0)return H;for(let le=U.startRow;le<=U.finishRow;le++)for(let me=U.startCol;me<=U.finishCol;me++){const he=xe[le],ze=Ki(he,me).isLocked;ns(he,me,Vr(de(),!1,ze))}return H})(m,h.bounds,0,S.merge(D));return Hm(R,ve.from(D[0]))},(m,h)=>((x,S)=>S.mergable)(0,h).filter(x=>gu(m,x.cells)),xb,It,n_),ah=Cn((m,h,x,S)=>{const D=Cr(h,(R,H)=>hu(R,H,x,S.unmerge(H)),m);return Hm(D,ve.from(h[0]))},(m,h)=>((x,S)=>S.unmergable)(0,h).filter(x=>gu(m,x)),xb,It,n_),u1=Cn((m,h,x,S)=>{const D=((U,te)=>{const de=$n(U);return Fo(de,te,!0)})(h.clipboard,h.generators);var R,H;return((U,te,de,xe,le)=>{const me=vs(te),he=((Xe,Ge,Qe)=>{const ht=ys(Ge[0]),Ee=Pn(Ge).cols.length+Xe.row,xt=Lt(ht-Xe.column,oo=>oo+Xe.column);return{row:Ee,column:Tt(xt,oo=>Ot(Qe,Ut=>Ut!==oo)).getOr(ht-1)}})(U,te,me),ze=Pn(de).rows,Te=Pi(he,ze,me);return((Xe,Ge,Qe)=>{if(Xe.row>=Ge.length||Xe.column>ys(Ge[0]))return qd.error("invalid start address out of table bounds, row: "+Xe.row+", column: "+Xe.column);const ht=Ge.slice(Xe.row),Ee=ht[0].cells.slice(Xe.column),xt=ys(Qe[0]),oo=Qe.length;return qd.value({rowDelta:ht.length-oo,colDelta:Ee.length-xt})})(he,te,ze).map(Xe=>{const Ge={...Xe,colDelta:Xe.colDelta-Te.length},Qe=Rr(te,Ge,xe),ht=vs(Qe),Ee=Pi(he,ze,ht);return((xt,oo,Ut,Dn,Gt,Go)=>{const ho=xt.row,nr=xt.column,ea=ho+Ut.length,Si=nr+ys(Ut[0])+Go.length,Va=Zr(Go,Et);for(let ec=ho;ec<ea;ec++){let Yd=0;for(let Ei=nr;Ei<Si;Ei++){if(Va[Ei]){Yd++;continue}el(oo,ec,Ei,Gt)&&hu(oo,bs(oo[ec],Ei),Gt,Dn.cell);const nf=Ei-nr-Yd,rf=Ki(Ut[ec-ho],nf),ap=rf.element,D1=Dn.replace(ap);ns(oo[ec],Ei,Vr(D1,!0,rf.isLocked))}}return oo})(he,Qe,ze,xe,le,Ee)})})((R=h.row,H=h.column,{row:R,column:H}),m,D,h.generators,x).fold(()=>Hm(m,ve.some(h.element)),U=>bn(U,h.row,h.column))},(m,h)=>ke(h.element).bind(x=>Zo(m,x).map(S=>({...S,generators:h.generators,clipboard:h.clipboard}))),xb,It,pc),Yu=Cn((m,h,x,S)=>{const D=Pn(m).rows,R=h.cells[0].column,H=D[h.cells[0].row],U=vb(h.clipboard,h.generators,H),te=bb(R,m,U,h.generators,x);return bn(te,h.cells[0].row,h.cells[0].column)},sh(!0),It,It,pc),Vm=Cn((m,h,x,S)=>{const D=Pn(m).rows,R=h.cells[h.cells.length-1].column+h.cells[h.cells.length-1].colspan,H=D[h.cells[0].row],U=vb(h.clipboard,h.generators,H),te=bb(R,m,U,h.generators,x);return bn(te,h.cells[0].row,R)},sh(!1),It,It,pc),Ov=Cn((m,h,x,S)=>{const D=Pn(m).rows,R=h.cells[0].row,H=D[R],U=vb(h.clipboard,h.generators,H),te=Vp(R,m,U,h.generators,x);return bn(te,h.cells[0].row,h.cells[0].column)},Jl,It,It,pc),Dv=Cn((m,h,x,S)=>{const D=Pn(m).rows,R=h.cells[h.cells.length-1].row+h.cells[h.cells.length-1].rowspan,H=D[h.cells[0].row],U=vb(h.clipboard,h.generators,H),te=Vp(R,m,U,h.generators,x);return bn(te,R,h.cells[0].column)},Jl,It,It,pc),f1=(m,h)=>{const x=$n(m);return Es(x,h).bind(S=>{const D=S[S.length-1],R=S[0].column,H=D.column+D.colspan,U=yt(T(x.all,te=>Ro(te.cells,de=>de.column>=R&&de.column<H)));return Ys(U)}).getOr("")},Sb=(m,h)=>{const x=$n(m);return Es(x,h).bind(Ys).getOr("")},i_=(m,h)=>{const x=$n(m);return Es(x,h).bind(S=>{const D=S[S.length-1],R=S[0].row,H=D.row+D.rowspan;return(U=>{const te=T(U,le=>Hp(le).type),de=vo(te,"header"),xe=vo(te,"footer");if(de||xe){const le=vo(te,"body");return!de||le||xe?de||le||!xe?ve.none():ve.some("footer"):ve.some("header")}return ve.some("body")})(x.all.slice(R,H))}).getOr("")},Rv=(m,h)=>m.dispatch("NewRow",{node:h}),Eb=(m,h)=>m.dispatch("NewCell",{node:h}),zr=(m,h,x)=>{m.dispatch("TableModified",{...x,table:h})},ih={structure:!1,style:!0},da={structure:!0,style:!1},m1={structure:!0,style:!0},Xs=(m,h)=>Rs(m)?Bl(h):vi(m)?Ii(h):rs(h),Hl=(m,h,x)=>{const S=xe=>Qt(Oo(xe))==="table",D=ud(m),R=Mm(m)?It:Yg,H=xe=>{switch(Oc(m)){case"section":return k();case"sectionCells":return z();case"cells":return V();default:return((le,me)=>{var he;switch((he=$n(le),$(he.all,ze=>{const Te=Hp(ze);return Te.type==="header"?ve.from(Te.subType):ve.none()})).getOr(me)){case"section":return ct();case"sectionCells":return Jg();case"cells":return ks()}})(xe,"section")}},U=(xe,le,me,he)=>(ze,Te,qe=!1)=>{mr(ze);const Xe=st.fromDom(m.getDoc()),Ge=ni(me,Xe,D),Qe={sizing:Xs(m,ze),resize:Mm(m)?Xg():Lc(),section:H(ze)};return le(ze)?xe(ze,Te,Ge,Qe).bind(ht=>{h.refresh(ze.dom),Eo(ht.newRows,xt=>{Rv(m,xt.dom)}),Eo(ht.newCells,xt=>{Eb(m,xt.dom)});const Ee=((xt,oo)=>oo.cursor.fold(()=>{const Ut=$e(xt);return fn(Ut).filter(qr).map(Dn=>{x.clearSelectedCells(xt.dom);const Gt=m.dom.createRng();return Gt.selectNode(Dn.dom),m.selection.setRng(Gt),Ko(Dn,"data-mce-selected","1"),Gt})},Ut=>{const Dn=Fp(pu,Ut),Gt=m.dom.createRng();return Gt.setStart(Dn.element.dom,Dn.offset),Gt.setEnd(Dn.element.dom,Dn.offset),m.selection.setRng(Gt),x.clearSelectedCells(xt.dom),ve.some(Gt)}))(ze,ht);return qr(ze)&&(mr(ze),qe||zr(m,ze.dom,he)),Ee.map(xt=>({rng:xt,effect:he}))}):ve.none()},te=U(wb,xe=>!S(m)||Ff(xe).rows>1,It,da),de=U(Av,xe=>!S(m)||Ff(xe).columns>1,It,da);return{deleteRow:te,deleteColumn:de,insertRowsBefore:U(Ev,Et,It,da),insertRowsAfter:U(Gp,Et,It,da),insertColumnsBefore:U(Zf,Et,R,da),insertColumnsAfter:U(kb,Et,R,da),mergeCells:U($m,Et,It,da),unmergeCells:U(ah,Et,It,da),pasteColsBefore:U(Yu,Et,It,da),pasteColsAfter:U(Vm,Et,It,da),pasteRowsBefore:U(Ov,Et,It,da),pasteRowsAfter:U(Dv,Et,It,da),pasteCells:U(u1,Et,It,m1),makeCellsHeader:U(a_,Et,It,da),unmakeCellsHeader:U(Tv,Et,It,da),makeColumnsHeader:U(_b,Et,It,da),unmakeColumnsHeader:U(d1,Et,It,da),makeRowsHeader:U(Cb,Et,It,da),makeRowsBody:U(s_,Et,It,da),makeRowsFooter:U(zv,Et,It,da),getTableRowType:i_,getTableCellType:Sb,getTableColType:f1}},p1=(m,h,x)=>{const S=Pa(m,h,1);x===1||S<=1?Po(m,h):Ko(m,h,Math.min(x,S))},lh=(m,h)=>x=>{const S=x.column+x.colspan-1,D=x.column;return S>=m&&D<h},Kp=Fm([{invalid:["raw"]},{pixels:["value"]},{percent:["value"]}]),jm=(m,h,x)=>{const S=x.substring(0,x.length-m.length),D=parseFloat(S);return S===D.toString()?h(D):Kp.invalid(x)},Xu={...Kp,from:m=>qi(m,"%")?jm("%",Kp.percent,m):qi(m,"px")?jm("px",Kp.pixels,m):Kp.invalid(m)},Wf=(m,h,x)=>{const S=Xu.from(x),D=Ot(m,R=>R==="0px")?((R,H)=>{const U=R.fold(()=>Jt(""),te=>Jt(te/H+"px"),()=>Jt(100/H+"%"));return Lt(H,U)})(S,m.length):((R,H,U)=>R.fold(()=>H,te=>((de,xe,le)=>{const me=le/xe;return T(de,he=>Xu.from(he).fold(()=>he,ze=>ze*me+"px",ze=>ze/100*le+"px"))})(H,U,te),te=>((de,xe)=>T(de,le=>Xu.from(le).fold(()=>le,me=>me/xe*100+"%",me=>me+"%")))(H,U)))(S,m,h);return Ab(D)},xu=(m,h)=>m.length===0?h:Cr(m,(x,S)=>Xu.from(S).fold(Jt(0),Ho,Ho)+x,0),l_=(m,h)=>Xu.from(m).fold(Jt(m),x=>x+h+"px",x=>x+h+"%"),Ab=m=>{if(m.length===0)return m;const h=Cr(m,(S,D)=>{const R=Xu.from(D).fold(()=>({value:D,remainder:0}),H=>((U,te)=>{const de=Math.floor(U);return{value:de+"px",remainder:U-de}})(H),H=>({value:H+"%",remainder:0}));return{output:[R.value].concat(S.output),remainder:S.remainder+R.remainder}},{output:[],remainder:0}),x=h.output;return x.slice(0,x.length-1).concat([l_(x[x.length-1],Math.round(h.remainder))])},ss=Xu.from,jn=(m,h,x)=>{const S=$n(m),D=S.all,R=lu(S),H=Qa(S);h.each(U=>{const te=ss(U).fold(Jt("px"),Jt("px"),Jt("%")),de=Gl(m),xe=((me,he)=>fl(me,he,ia,la))(S,m),le=Wf(xe,de,U);Vn(S)?((me,he,ze)=>{Eo(he,(Te,qe)=>{const Xe=xu([me[qe]],sn());jr(Te.element,"width",Xe+ze)})})(le,H,te):((me,he,ze)=>{Eo(he,Te=>{const qe=me.slice(Te.column,Te.colspan+Te.column),Xe=xu(qe,sn());jr(Te.element,"width",Xe+ze)})})(le,R,te),jr(m,"width",U)}),x.each(U=>{const te=Fd(m),de=((xe,le)=>Vd(xe,le,dc,la))(S,m);((xe,le,me)=>{Eo(me,he=>{ur(he.element,"height")}),Eo(le,(he,ze)=>{jr(he.element,"height",xe[ze])})})(Wf(de,te,U),D,R),jr(m,"height",U)})},Yp=m=>cc(m).exists(h=>to.test(h)),g1=m=>cc(m).exists(h=>ds.test(h)),qf=m=>cc(m).isNone(),Vs=m=>{Po(m,"width"),Po(m,"height")},$c=m=>{const h=ju(m);jn(m,ve.some(h),ve.none()),Vs(m)},gc=m=>{const h=(x=>Gl(x)+"px")(m);jn(m,ve.some(h),ve.none()),Vs(m)},zb=m=>{ur(m,"width");const h=gt(m),x=h.length>0?h:$e(m);Eo(x,S=>{ur(S,"width"),Vs(S)}),Vs(m)},h1={styles:{"border-collapse":"collapse",width:"100%"},attributes:{border:"1"},colGroups:!1},Tb=(m,h,x,S)=>Lt(m,D=>((R,H,U,te)=>{const de=st.fromTag("tr");for(let xe=0;xe<R;xe++){const le=st.fromTag(te<H||xe<U?"th":"td");xe<U&&Ko(le,"scope","row"),te<H&&Ko(le,"scope","col"),wr(le,st.fromTag("br")),wr(de,le)}return de})(h,x,S,D)),Xp=(m,h)=>{m.selection.select(h.dom,!0),m.selection.collapse(!0)},Ob=(m,h,x,S,D)=>{const R=(U=>{const te=U.options,de=te.get("table_default_styles");return te.isSet("table_default_styles")?de:((xe,le)=>md(xe)||!N(xe)?le:vi(xe)?{...le,width:Ji(xe)}:{...le,width:Xi})(U,de)})(m),H={styles:R,attributes:ce(m),colGroups:ye(m)};return m.undoManager.ignore(()=>{const U=((de,xe,le,me,he,ze=h1)=>{const Te=st.fromTag("table"),qe=he!=="cells";gi(Te,ze.styles),ps(Te,ze.attributes),ze.colGroups&&wr(Te,(ht=>{const Ee=st.fromTag("colgroup");return Lt(ht,()=>wr(Ee,st.fromTag("col"))),Ee})(xe));const Xe=Math.min(de,le);if(qe&&le>0){const ht=st.fromTag("thead");wr(Te,ht);const Ee=Tb(le,xe,he==="sectionCells"?Xe:0,me);Cs(ht,Ee)}const Ge=st.fromTag("tbody");wr(Te,Ge);const Qe=Tb(qe?de-Xe:de,xe,qe?0:le,me);return Cs(Ge,Qe),Te})(x,h,D,S,Oc(m),H);Ko(U,"data-mce-id","__mce");const te=(de=>{const xe=st.fromTag("div"),le=st.fromDom(de.dom.cloneNode(!0));return wr(xe,le),(me=>me.dom.innerHTML)(xe)})(U);m.insertContent(te),m.addVisual()}),es(Oo(m),'table[data-mce-id="__mce"]').map(U=>(vi(m)?gc(U):md(m)?zb(U):(Rs(m)||(te=>ar(te)&&te.indexOf("%")!==-1)(R.width))&&$c(U),mr(U),Po(U,"data-mce-id"),((te,de)=>{Eo(Ia(de,"tr"),xe=>{Rv(te,xe.dom),Eo(Ia(xe,"th,td"),le=>{Eb(te,le.dom)})})})(m,U),((te,de)=>{es(de,"td,th").each(ut(Xp,te))})(m,U),U.dom)).getOrNull()};var Jp=tinymce.util.Tools.resolve("tinymce.FakeClipboard");const Nv="x-tinymce/dom-table-",Um=Nv+"rows",Vc=Nv+"columns",_i=m=>{const h=Jp.FakeClipboardItem(m);Jp.write([h])},Ju=m=>{var h;const x=(h=Jp.read())!==null&&h!==void 0?h:[];return $(x,S=>ve.from(S.getType(m)))},Mv=m=>{Ju(m).isSome()&&Jp.clear()},Bv=m=>{m.fold(Fi,h=>_i({[Um]:h}))},jc=()=>Ju(Um),Fi=()=>Mv(Um),Zm=m=>{m.fold(ka,h=>_i({[Vc]:h}))},ch=()=>Ju(Vc),ka=()=>Mv(Vc),ws=m=>Lm(Fr(m),Ht(m)).filter(qg),Js=(m,h)=>{const x=Ht(m),S=le=>_t(le,x),D=le=>(me=>Yr(Fr(me),Ht(me)).filter(qg))(m).bind(me=>S(me).map(he=>le(he,me))),R=le=>{m.focus()},H=(le,me=!1)=>D((he,ze)=>{const Te=Zt(fc(m),he,ze);le(he,Te,me).each(R)}),U=()=>D((le,me)=>((he,ze,Te)=>{const qe=$n(he);return Es(qe,ze).bind(Xe=>{const Ge=Fo(qe,Te,!1),Qe=Pn(Ge).rows.slice(Xe[0].row,Xe[Xe.length-1].row+Xe[Xe.length-1].rowspan),ht=nt(Qe,xt=>{const oo=Ro(xt.cells,Ut=>!Ut.isLocked);return oo.length>0?[{...xt,cells:oo}]:[]}),Ee=Io(ht);return ha(Ee.length>0,Ee)}).map(Xe=>T(Xe,Ge=>{const Qe=_l(Ge.element);return Eo(Ge.cells,ht=>{const Ee=za(ht.element);ge(Ee,"colspan",ht.colspan,1),ge(Ee,"rowspan",ht.rowspan,1),wr(Qe,Ee)}),Qe}))})(le,Zt(fc(m),le,me),ni(It,st.fromDom(m.getDoc()),ve.none()))),te=()=>D((le,me)=>((he,ze)=>{const Te=$n(he);return wi(Te,ze).map(qe=>{const Xe=qe[qe.length-1],Ge=qe[0].column,Qe=Xe.column+Xe.colspan,ht=((xt,oo,Ut)=>{if(Vn(xt)){const Dn=Ro(Qa(xt),lh(oo,Ut)),Gt=T(Dn,ho=>{const nr=za(ho.element);return p1(nr,"span",Ut-oo),nr}),Go=st.fromTag("colgroup");return Cs(Go,Gt),[Go]}return[]})(Te,Ge,Qe),Ee=((xt,oo,Ut)=>T(xt.all,Dn=>{const Gt=Ro(Dn.cells,lh(oo,Ut)),Go=T(Gt,nr=>{const ea=za(nr.element);return p1(ea,"colspan",Ut-oo),ea}),ho=st.fromTag("tr");return Cs(ho,Go),ho}))(Te,Ge,Qe);return[...ht,...Ee]})})(le,Zt(fc(m),le,me))),de=(le,me)=>me().each(he=>{const ze=T(he,Te=>za(Te));D((Te,qe)=>{const Xe=fr(st.fromDom(m.getDoc())),Ge=((Qe,ht,Ee,xt)=>({selection:Mc(Qe),clipboard:Ee,generators:xt}))(fc(m),0,ze,Xe);le(Te,Ge).each(R)})}),xe=le=>(me,he)=>((ze,Te)=>To(ze,Te)?ve.from(ze[Te]):ve.none())(he,"type").each(ze=>{H(le(ze),he.no_events)});mn({mceTableSplitCells:()=>H(h.unmergeCells),mceTableMergeCells:()=>H(h.mergeCells),mceTableInsertRowBefore:()=>H(h.insertRowsBefore),mceTableInsertRowAfter:()=>H(h.insertRowsAfter),mceTableInsertColBefore:()=>H(h.insertColumnsBefore),mceTableInsertColAfter:()=>H(h.insertColumnsAfter),mceTableDeleteCol:()=>H(h.deleteColumn),mceTableDeleteRow:()=>H(h.deleteRow),mceTableCutCol:()=>te().each(le=>{Zm(le),H(h.deleteColumn)}),mceTableCutRow:()=>U().each(le=>{Bv(le),H(h.deleteRow)}),mceTableCopyCol:()=>te().each(le=>Zm(le)),mceTableCopyRow:()=>U().each(le=>Bv(le)),mceTablePasteColBefore:()=>de(h.pasteColsBefore,ch),mceTablePasteColAfter:()=>de(h.pasteColsAfter,ch),mceTablePasteRowBefore:()=>de(h.pasteRowsBefore,jc),mceTablePasteRowAfter:()=>de(h.pasteRowsAfter,jc),mceTableDelete:()=>ws(m).each(le=>{_t(le,x).filter(yo(x)).each(me=>{const he=st.fromText("");if(fi(me,he),Sr(me),m.dom.isEmpty(m.getBody()))m.setContent(""),m.selection.setCursorLocation();else{const ze=m.dom.createRng();ze.setStart(he.dom,0),ze.setEnd(he.dom,0),m.selection.setRng(ze),m.nodeChanged()}})}),mceTableCellToggleClass:(le,me)=>{D(he=>{const ze=fc(m),Te=Ot(ze,Xe=>m.formatter.match("tablecellclass",{value:me},Xe.dom)),qe=Te?m.formatter.remove:m.formatter.apply;Eo(ze,Xe=>qe("tablecellclass",{value:me},Xe.dom)),zr(m,he.dom,ih)})},mceTableToggleClass:(le,me)=>{D(he=>{m.formatter.toggle("tableclass",{value:me},he.dom),zr(m,he.dom,ih)})},mceTableToggleCaption:()=>{ws(m).each(le=>{_t(le,x).each(me=>{Gr(me,"caption").fold(()=>{const he=st.fromTag("caption");wr(he,st.fromText("Caption")),((ze,Te,qe)=>{al(ze,0).fold(()=>{wr(ze,Te)},Xe=>{wt(Xe,Te)})})(me,he),m.selection.setCursorLocation(he.dom,0)},he=>{hr("caption")(le)&&Wi("td",me).each(ze=>m.selection.setCursorLocation(ze.dom,0)),Sr(he)}),zr(m,me.dom,da)})})},mceTableSizingMode:(le,me)=>(he=>ws(m).each(ze=>{md(m)||vi(m)||Rs(m)||_t(ze,x).each(Te=>{he!=="relative"||Yp(Te)?he!=="fixed"||g1(Te)?he!=="responsive"||qf(Te)||zb(Te):gc(Te):$c(Te),mr(Te),zr(m,Te.dom,da)})}))(me),mceTableCellType:xe(le=>le==="th"?h.makeCellsHeader:h.unmakeCellsHeader),mceTableColType:xe(le=>le==="th"?h.makeColumnsHeader:h.unmakeColumnsHeader),mceTableRowType:xe(le=>{switch(le){case"header":return h.makeRowsHeader;case"footer":return h.makeRowsFooter;default:return h.makeRowsBody}})},(le,me)=>m.addCommand(me,le)),m.addCommand("mceInsertTable",(le,me)=>{((he,ze,Te,qe={})=>{const Xe=Ge=>Ur(Ge)&&Ge>0;if(Xe(ze)&&Xe(Te)){const Ge=qe.headerRows||0,Qe=qe.headerColumns||0;return Ob(he,Te,ze,Qe,Ge)}console.error("Invalid values for mceInsertTable - rows and columns values are required to insert a table.")})(m,me.rows,me.columns,me.options)}),m.addCommand("mceTableApplyCellStyle",(le,me)=>{const he=qe=>"tablecell"+qe.toLowerCase().replace("-","");if(!So(me))return;const ze=Ro(fc(m),qg);if(ze.length===0)return;const Te=((qe,Xe)=>{const Ge={};return((Qe,ht,Ee,xt)=>{mn(Qe,(oo,Ut)=>{(ht(oo,Ut)?Ee:xt)(oo,Ut)})})(qe,Xe,(Qe=>(ht,Ee)=>{Qe[Ee]=ht})(Ge),It),Ge})(me,(qe,Xe)=>m.formatter.has(he(Xe))&&ar(qe));(qe=>{for(const Xe in qe)if(An.call(qe,Xe))return!1;return!0})(Te)||(mn(Te,(qe,Xe)=>{const Ge=he(Xe);Eo(ze,Qe=>{qe===""?m.formatter.remove(Ge,{value:null},Qe.dom,!0):m.formatter.apply(Ge,{value:qe},Qe.dom)})}),S(ze[0]).each(qe=>zr(m,qe.dom,ih)))})},js=Fm([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),Jn={before:js.before,on:js.on,after:js.after,cata:(m,h,x,S)=>m.fold(h,x,S),getStart:m=>m.fold(Ho,Ho,Ho)},Xr=(m,h)=>({selection:m,kill:h}),Wm=(m,h)=>{const x=m.document.createRange();return x.selectNode(h.dom),x},Db=(m,h)=>{const x=m.document.createRange();return b1(x,h),x},b1=(m,h)=>m.selectNodeContents(h.dom),y1=(m,h,x)=>{const S=m.document.createRange();var D;return D=S,h.fold(R=>{D.setStartBefore(R.dom)},(R,H)=>{D.setStart(R.dom,H)},R=>{D.setStartAfter(R.dom)}),((R,H)=>{H.fold(U=>{R.setEndBefore(U.dom)},(U,te)=>{R.setEnd(U.dom,te)},U=>{R.setEndAfter(U.dom)})})(S,x),S},dh=(m,h,x,S,D)=>{const R=m.document.createRange();return R.setStart(h.dom,x),R.setEnd(S.dom,D),R},v1=m=>({left:m.left,top:m.top,right:m.right,bottom:m.bottom,width:m.width,height:m.height}),Gf=Fm([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),Rb=(m,h,x)=>h(st.fromDom(x.startContainer),x.startOffset,st.fromDom(x.endContainer),x.endOffset),Iv=(m,h)=>{const x=((S,D)=>D.match({domRange:R=>({ltr:Jt(R),rtl:ve.none}),relative:(R,H)=>({ltr:Or(()=>y1(S,R,H)),rtl:Or(()=>ve.some(y1(S,H,R)))}),exact:(R,H,U,te)=>({ltr:Or(()=>dh(S,R,H,U,te)),rtl:Or(()=>ve.some(dh(S,U,te,R,H)))})}))(m,h);return((S,D)=>{const R=D.ltr();return R.collapsed?D.rtl().filter(H=>H.collapsed===!1).map(H=>Gf.rtl(st.fromDom(H.endContainer),H.endOffset,st.fromDom(H.startContainer),H.startOffset)).getOrThunk(()=>Rb(0,Gf.ltr,R)):Rb(0,Gf.ltr,R)})(0,x)},x1=(m,h)=>Iv(m,h).match({ltr:(x,S,D,R)=>{const H=m.document.createRange();return H.setStart(x.dom,S),H.setEnd(D.dom,R),H},rtl:(x,S,D,R)=>{const H=m.document.createRange();return H.setStart(D.dom,R),H.setEnd(x.dom,S),H}});Gf.ltr,Gf.rtl;const Ci=(m,h,x,S)=>({start:m,soffset:h,finish:x,foffset:S}),Qp=(m,h,x,S)=>({start:Jn.on(m,h),finish:Jn.on(x,S)}),Uc=(m,h)=>{const x=x1(m,h);return Ci(st.fromDom(x.startContainer),x.startOffset,st.fromDom(x.endContainer),x.endOffset)},qm=Qp,Gm=(m,h,x,S,D)=>Bn(x,S)?ve.none():Pl(x,S,h).bind(R=>{const H=R.boxes.getOr([]);return H.length>1?(D(m,H,R.start,R.finish),ve.some(Xr(ve.some(qm(x,0,x,Fs(x))),!0))):ve.none()}),tl=(m,h)=>({item:m,mode:h}),Hi=(m,h,x,S=Kf)=>m.property().parent(h).map(D=>tl(D,S)),Kf=(m,h,x,S=Km)=>x.sibling(m,h).map(D=>tl(D,S)),Km=(m,h,x,S=Km)=>{const D=m.property().children(h);return x.first(D).map(R=>tl(R,S))},k1=[{current:Hi,next:Kf,fallback:ve.none()},{current:Kf,next:Km,fallback:ve.some(Hi)},{current:Km,next:Km,fallback:ve.some(Kf)}],Qu=(m,h,x,S,D=k1)=>Tt(D,R=>R.current===x).bind(R=>R.current(m,h,S,R.next).orThunk(()=>R.fallback.bind(H=>Qu(m,h,H,S)))),Nb=(m,h,x,S,D,R)=>Qu(m,h,S,D).bind(H=>R(H.item)?ve.none():x(H.item)?ve.some(H.item):Nb(m,H.item,x,H.mode,D,R)),Mb=m=>h=>m.property().children(h).length===0,eg=(m,h,x,S)=>Nb(m,h,x,Kf,{sibling:(D,R)=>D.query().prevSibling(R),first:D=>D.length>0?ve.some(D[D.length-1]):ve.none()},S),Lv=(m,h,x,S)=>Nb(m,h,x,Kf,{sibling:(D,R)=>D.query().nextSibling(R),first:D=>D.length>0?ve.some(D[0]):ve.none()},S),Bb=Im(),Ib=(m,h)=>((x,S,D)=>eg(x,S,Mb(x),D))(Bb,m,h),w1=(m,h)=>((x,S,D)=>Lv(x,S,Mb(x),D))(Bb,m,h),Ym=Fm([{none:["message"]},{success:[]},{failedUp:["cell"]},{failedDown:["cell"]}]),c_=m=>ts(m,"tr"),Xm={...Ym,verify:(m,h,x,S,D,R,H)=>ts(S,"td,th",H).bind(U=>ts(h,"td,th",H).map(te=>Bn(U,te)?Bn(S,U)&&Fs(U)===D?R(te):Ym.none("in same cell"):Bf(c_,[U,te]).fold(()=>((de,xe,le)=>{const me=de.getRect(xe),he=de.getRect(le);return he.right>me.left&&he.left<me.right})(m,te,U)?Ym.success():R(te),de=>R(te)))).getOr(Ym.none("default")),cata:(m,h,x,S,D)=>m.fold(h,x,S,D)},$i=hr("br"),ku=(m,h,x)=>h(m,x).bind(S=>zn(S)&&Fa(S).trim().length===0?ku(S,h,x):ve.some(S)),Pv=(m,h,x,S)=>((D,R)=>al(D,R).filter($i).orThunk(()=>al(D,R-1).filter($i)))(h,x).bind(D=>S.traverse(D).fold(()=>ku(D,S.gather,m).map(S.relative),R=>(H=>ra(H).bind(U=>{const te=_s(U);return((de,xe)=>un(de,ut(Bn,xe)))(te,H).map(de=>((xe,le,me,he)=>({parent:xe,children:le,element:me,index:he}))(U,te,H,de))}))(R).map(H=>Jn.on(H.parent,H.index)))),Gd=(m,h)=>({left:m.left,top:m.top+h,right:m.right,bottom:m.bottom+h}),Yf=(m,h)=>({left:m.left,top:m.top-h,right:m.right,bottom:m.bottom-h}),Lb=(m,h,x)=>({left:m.left+h,top:m.top+x,right:m.right+h,bottom:m.bottom+x}),wu=m=>({left:m.left,top:m.top,right:m.right,bottom:m.bottom}),_1=(m,h)=>ve.some(m.getRect(h)),Kd=(m,h,x)=>Mn(h)?_1(m,h).map(wu):zn(h)?((S,D,R)=>R>=0&&R<Fs(D)?S.getRangedRect(D,R,D,R+1):R>0?S.getRangedRect(D,R-1,D,R):ve.none())(m,h,x).map(wu):ve.none(),tg=(m,h)=>Mn(h)?_1(m,h).map(wu):zn(h)?m.getRangedRect(h,0,h,Fs(h)).map(wu):ve.none(),Xf=Fm([{none:[]},{retry:["caret"]}]),Fv=(m,h,x)=>Al(h,yu).fold(ne,S=>tg(m,S).exists(D=>((R,H)=>R.left<H.left||Math.abs(H.right-R.left)<1||R.left>H.right)(x,D))),$l={point:m=>m.bottom,adjuster:(m,h,x,S,D)=>{const R=Gd(D,5);return Math.abs(x.bottom-S.bottom)<1||x.top>D.bottom?Xf.retry(R):x.top===D.bottom?Xf.retry(Gd(D,1)):Fv(m,h,D)?Xf.retry(Lb(R,5,0)):Xf.none()},move:Gd,gather:w1},Zc=(m,h,x,S,D)=>D===0?ve.some(S):((R,H,U)=>R.elementFromPoint(H,U).filter(te=>Qt(te)==="table").isSome())(m,S.left,h.point(S))?((R,H,U,te,de)=>Zc(R,H,U,H.move(te,5),de))(m,h,x,S,D-1):m.situsFromPoint(S.left,h.point(S)).bind(R=>R.start.fold(ve.none,H=>tg(m,H).bind(U=>h.adjuster(m,H,U,x,S).fold(ve.none,te=>Zc(m,h,x,te,D-1))).orThunk(()=>ve.some(S)),ve.none)),uh=(m,h,x)=>{const S=m.move(x,5),D=Zc(h,m,x,S,100).getOr(S);return((R,H,U)=>R.point(H)>U.getInnerHeight()?ve.some(R.point(H)-U.getInnerHeight()):R.point(H)<0?ve.some(-R.point(H)):ve.none())(m,D,h).fold(()=>h.situsFromPoint(D.left,m.point(D)),R=>(h.scrollBy(0,R),h.situsFromPoint(D.left,m.point(D)-R)))},Qs={tryUp:ut(uh,{point:m=>m.top,adjuster:(m,h,x,S,D)=>{const R=Yf(D,5);return Math.abs(x.top-S.top)<1||x.bottom<D.top?Xf.retry(R):x.bottom===D.top?Xf.retry(Yf(D,1)):Fv(m,h,D)?Xf.retry(Lb(R,5,0)):Xf.none()},move:Yf,gather:Ib}),tryDown:ut(uh,$l),getJumpSize:Jt(5)},Pb=(m,h,x)=>m.getSelection().bind(S=>((D,R,H,U)=>($i(R)?((de,xe,le)=>le.traverse(xe).orThunk(()=>ku(xe,le.gather,de)).map(le.relative))(D,R,U):Pv(D,R,H,U)).map(de=>({start:de,finish:de})))(h,S.finish,S.foffset,x).fold(()=>ve.some(br(S.finish,S.foffset)),D=>{const R=m.fromSitus(D);return H=Xm.verify(m,S.finish,S.foffset,R.finish,R.foffset,x.failure,h),Xm.cata(H,U=>ve.none(),()=>ve.none(),U=>ve.some(br(U,0)),U=>ve.some(br(U,Fs(U))));var H})),wa=(m,h,x,S,D,R)=>R===0?ve.none():Wc(m,h,x,S,D).bind(H=>{const U=m.fromSitus(H),te=Xm.verify(m,x,S,U.finish,U.foffset,D.failure,h);return Xm.cata(te,()=>ve.none(),()=>ve.some(H),de=>Bn(x,de)&&S===0?Fb(m,x,S,Yf,D):wa(m,h,de,0,D,R-1),de=>Bn(x,de)&&S===Fs(de)?Fb(m,x,S,Gd,D):wa(m,h,de,Fs(de),D,R-1))}),Fb=(m,h,x,S,D)=>Kd(m,h,x).bind(R=>Hv(m,D,S(R,Qs.getJumpSize()))),Hv=(m,h,x)=>{const S=Ld().browser;return S.isChromium()||S.isSafari()||S.isFirefox()?h.retry(m,x):ve.none()},Wc=(m,h,x,S,D)=>Kd(m,x,S).bind(R=>Hv(m,D,R)),_u=(m,h,x,S,D)=>ts(S,"td,th",h).bind(R=>ts(R,"table",h).bind(H=>((U,te)=>El(U,de=>ra(de).exists(xe=>Bn(xe,te)),void 0).isSome())(D,H)?((U,te,de)=>Pb(U,te,de).bind(xe=>wa(U,te,xe.element,xe.offset,de,20).map(U.fromSitus)))(m,h,x).bind(U=>ts(U.finish,"td,th",h).map(te=>({start:R,finish:te,range:U}))):ve.none())),ef=(m,h,x,S,D,R)=>R(S,h).orThunk(()=>_u(m,h,x,S,D).map(H=>{const U=H.range;return Xr(ve.some(qm(U.start,U.soffset,U.finish,U.foffset)),!0)})),qc=(m,h)=>ts(m,"tr",h).bind(x=>ts(x,"table",h).bind(S=>{const D=Ia(S,"tr");return Bn(x,D[0])?((R,H,U)=>eg(Bb,R,te=>Ud(te).isSome(),U))(S,0,h).map(R=>{const H=Fs(R);return Xr(ve.some(qm(R,H,R,H)),!0)}):ve.none()})),C1=(m,h)=>ts(m,"tr",h).bind(x=>ts(x,"table",h).bind(S=>{const D=Ia(S,"tr");return Bn(x,D[D.length-1])?((R,H,U)=>Lv(Bb,R,te=>ml(te).isSome(),U))(S,0,h).map(R=>Xr(ve.some(qm(R,0,R,0)),!0)):ve.none()})),$v=(m,h,x,S,D,R,H)=>_u(m,x,S,D,R).bind(U=>Gm(h,x,U.start,U.finish,H)),fh=m=>{let h=m;return{get:()=>h,set:x=>{h=x}}},Jm=()=>{const m=(h=>{const x=fh(ve.none()),S=()=>x.get().each(h);return{clear:()=>{S(),x.set(ve.none())},isSet:()=>x.get().isSome(),get:()=>x.get(),set:D=>{S(),x.set(ve.some(D))}}})(It);return{...m,on:h=>m.get().each(h)}},S1=(m,h)=>ts(m,"td,th",h),Hb=m=>ui(m).exists(Vt),mh={traverse:Ka,gather:w1,relative:Jn.before,retry:Qs.tryDown,failure:Xm.failedDown},E1={traverse:xo,gather:Ib,relative:Jn.before,retry:Qs.tryUp,failure:Xm.failedUp},Cu=m=>h=>h===m,ph=Cu(38),tf=Cu(40),Ql=m=>m>=37&&m<=40,$b={isBackward:Cu(37),isForward:Cu(39)},d_={isBackward:Cu(39),isForward:Cu(37)},Jf=Fm([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),hc={domRange:Jf.domRange,relative:Jf.relative,exact:Jf.exact,exactFromRange:m=>Jf.exact(m.start,m.soffset,m.finish,m.foffset),getWin:m=>{const h=(x=>x.match({domRange:S=>st.fromDom(S.startContainer),relative:(S,D)=>Jn.getStart(S),exact:(S,D,R,H)=>S}))(m);return st.fromDom(di(h).dom.defaultView)},range:Ci},og=document.caretPositionFromPoint?(m,h,x)=>{var S,D;return ve.from((D=(S=m.dom).caretPositionFromPoint)===null||D===void 0?void 0:D.call(S,h,x)).bind(R=>{if(R.offsetNode===null)return ve.none();const H=m.dom.createRange();return H.setStart(R.offsetNode,R.offset),H.collapse(),ve.some(H)})}:document.caretRangeFromPoint?(m,h,x)=>{var S,D;return ve.from((D=(S=m.dom).caretRangeFromPoint)===null||D===void 0?void 0:D.call(S,h,x))}:ve.none,gh=(m,h)=>{const x=Qt(m);return x==="input"?Jn.after(m):vo(["br","img"],x)?h===0?Jn.before(m):Jn.after(m):Jn.on(m,h)},hh=m=>ve.from(m.getSelection()),Qm=(m,h)=>{hh(m).each(x=>{x.removeAllRanges(),x.addRange(h)})},Vb=(m,h,x,S,D)=>{const R=dh(m,h,x,S,D);Qm(m,R)},A1=(m,h)=>Iv(m,h).match({ltr:(x,S,D,R)=>{Vb(m,x,S,D,R)},rtl:(x,S,D,R)=>{hh(m).each(H=>{if(H.setBaseAndExtent)H.setBaseAndExtent(x.dom,S,D.dom,R);else if(H.extend)try{((U,te,de,xe,le,me)=>{te.collapse(de.dom,xe),te.extend(le.dom,me)})(0,H,x,S,D,R)}catch{Vb(m,D,R,x,S)}else Vb(m,D,R,x,S)})}}),ng=(m,h,x,S,D)=>{const R=((H,U,te,de)=>{const xe=gh(H,U),le=gh(te,de);return hc.relative(xe,le)})(h,x,S,D);A1(m,R)},ua=(m,h,x)=>{const S=((D,R)=>{const H=D.fold(Jn.before,gh,Jn.after),U=R.fold(Jn.before,gh,Jn.after);return hc.relative(H,U)})(h,x);A1(m,S)},z1=m=>{if(m.rangeCount>0){const h=m.getRangeAt(0),x=m.getRangeAt(m.rangeCount-1);return ve.some(Ci(st.fromDom(h.startContainer),h.startOffset,st.fromDom(x.endContainer),x.endOffset))}return ve.none()},u_=m=>{if(m.anchorNode===null||m.focusNode===null)return z1(m);{const h=st.fromDom(m.anchorNode),x=st.fromDom(m.focusNode);return((S,D,R,H)=>{const U=((de,xe,le,me)=>{const he=Ba(de).dom.createRange();return he.setStart(de.dom,xe),he.setEnd(le.dom,me),he})(S,D,R,H),te=Bn(S,R)&&D===H;return U.collapsed&&!te})(h,m.anchorOffset,x,m.focusOffset)?ve.some(Ci(h,m.anchorOffset,x,m.focusOffset)):z1(m)}},jb=(m,h,x=!0)=>{const S=(x?Db:Wm)(m,h);Qm(m,S)},Vv=m=>(h=>hh(h).filter(x=>x.rangeCount>0).bind(u_))(m).map(h=>hc.exact(h.start,h.soffset,h.finish,h.foffset)),rg=m=>({elementFromPoint:(h,x)=>st.fromPoint(st.fromDom(m.document),h,x),getRect:h=>h.dom.getBoundingClientRect(),getRangedRect:(h,x,S,D)=>{const R=hc.exact(h,x,S,D);return((H,U)=>(te=>{const de=te.getClientRects(),xe=de.length>0?de[0]:te.getBoundingClientRect();return xe.width>0||xe.height>0?ve.some(xe).map(v1):ve.none()})(x1(H,U)))(m,R)},getSelection:()=>Vv(m).map(h=>Uc(m,h)),fromSitus:h=>{const x=hc.relative(h.start,h.finish);return Uc(m,x)},situsFromPoint:(h,x)=>((S,D,R)=>((H,U,te)=>{const de=st.fromDom(H.document);return og(de,U,te).map(xe=>Ci(st.fromDom(xe.startContainer),xe.startOffset,st.fromDom(xe.endContainer),xe.endOffset))})(S,D,R))(m,h,x).map(S=>Qp(S.start,S.soffset,S.finish,S.foffset)),clearSelection:()=>{(h=>{hh(h).each(x=>x.removeAllRanges())})(m)},collapseSelection:(h=!1)=>{Vv(m).each(x=>x.fold(S=>S.collapse(h),(S,D)=>{const R=h?S:D;ua(m,R,R)},(S,D,R,H)=>{const U=h?S:R,te=h?D:H;ng(m,U,te,U,te)}))},setSelection:h=>{ng(m,h.start,h.soffset,h.finish,h.foffset)},setRelativeSelection:(h,x)=>{ua(m,h,x)},selectNode:h=>{jb(m,h,!1)},selectContents:h=>{jb(m,h)},getInnerHeight:()=>m.innerHeight,getScrollY:()=>(h=>{const x=h!==void 0?h.dom:document,S=x.body.scrollLeft||x.documentElement.scrollLeft,D=x.body.scrollTop||x.documentElement.scrollTop;return fe(S,D)})(st.fromDom(m.document)).top,scrollBy:(h,x)=>{((S,D,R)=>{const H=(R!==void 0?R.dom:document).defaultView;H&&H.scrollBy(S,D)})(h,x,st.fromDom(m.document))}}),Qf=(m,h)=>({rows:m,cols:h}),Ub=m=>Al(m,Kn).exists(Vt),Zb=(m,h)=>Ub(m)||Ub(h),jv=m=>m.dom.classList!==void 0,Wb=(m,h)=>((x,S,D)=>{const R=((H,U)=>{const te=lt(H,U);return te===void 0||te===""?[]:te.split(" ")})(x,S).concat([D]);return Ko(x,S,R.join(" ")),!0})(m,"class",h),em=(m,h)=>{jv(m)?m.dom.classList.add(h):Wb(m,h)},qb=(m,h)=>jv(m)&&m.dom.classList.contains(h),Uv=()=>({tag:"none"}),hd=m=>({tag:"multiple",elements:m}),Zv=m=>({tag:"single",element:m}),bh=m=>{const h=st.fromDom((U=>{if(nd()&&Qn(U.target)){const te=st.fromDom(U.target);if(Mn(te)&&Qn(te.dom.shadowRoot)&&U.composed&&U.composedPath){const de=U.composedPath();if(de)return fn(de)}}return ve.from(U.target)})(m).getOr(m.target)),x=()=>m.stopPropagation(),S=()=>m.preventDefault(),D=(R=S,H=x,(...U)=>R(H.apply(null,U)));var R,H;return((U,te,de,xe,le,me,he)=>({target:U,x:te,y:de,stop:xe,prevent:le,kill:me,raw:he}))(h,m.clientX,m.clientY,x,S,D,m)},Wv=(m,h,x,S)=>{m.dom.removeEventListener(h,x,S)},qv=Et,ep=(m,h,x)=>((S,D,R,H)=>((U,te,de,xe,le)=>{const me=((he,ze)=>Te=>{he(Te)&&ze(bh(Te))})(de,xe);return U.dom.addEventListener(te,me,le),{unbind:ut(Wv,U,te,me,le)}})(S,D,R,H,!1))(m,h,qv,x),tp=bh,Gb=m=>!qb(st.fromDom(m.target),"ephox-snooker-resizer-bar"),f_=(m,h)=>{const x=(D=jo.selectedSelector,{get:()=>Nc(st.fromDom(m.getBody()),D).fold(()=>Yr(Fr(m),Ht(m)).fold(Uv,Zv),hd)}),S=((R,H,U)=>{const te=me=>{Po(me,R.selected),Po(me,R.firstSelected),Po(me,R.lastSelected)},de=me=>{Ko(me,R.selected,"1")},xe=me=>{le(me),U()},le=me=>{const he=Ia(me,`${R.selectedSelector},${R.firstSelectedSelector},${R.lastSelectedSelector}`);Eo(he,te)};return{clearBeforeUpdate:le,clear:xe,selectRange:(me,he,ze,Te)=>{xe(me),Eo(he,de),Ko(ze,R.firstSelected,"1"),Ko(Te,R.lastSelected,"1"),H(he,ze,Te)},selectedSelector:R.selectedSelector,firstSelectedSelector:R.firstSelectedSelector,lastSelectedSelector:R.lastSelectedSelector}})(jo,(R,H,U)=>{_t(H).each(te=>{const de=T(R,he=>he.dom),xe=ud(m),le=ni(It,st.fromDom(m.getDoc()),xe),me=((he,ze,Te)=>{const qe=$n(he);return Es(qe,ze).map(Xe=>{const Ge=Fo(qe,Te,!1),{rows:Qe}=Pn(Ge),ht=((xt,oo)=>{const Ut=xt.slice(0,oo[oo.length-1].row+1),Dn=Io(Ut);return nt(Dn,Gt=>{const Go=Gt.cells.slice(0,oo[oo.length-1].column+1);return T(Go,ho=>ho.element)})})(Qe,Xe),Ee=((xt,oo)=>{const Ut=xt.slice(oo[0].row+oo[0].rowspan-1,xt.length),Dn=Io(Ut);return nt(Dn,Gt=>{const Go=Gt.cells.slice(oo[0].column+oo[0].colspan-1,Gt.cells.length);return T(Go,ho=>ho.element)})})(Qe,Xe);return{upOrLeftCells:ht,downOrRightCells:Ee}})})(te,{selection:fc(m)},le).map(he=>Ga(he,ze=>T(ze,Te=>Te.dom))).getOrUndefined();((he,ze,Te,qe,Xe)=>{he.dispatch("TableSelectionChange",{cells:ze,start:Te,finish:qe,otherCells:Xe})})(m,de,H.dom,U.dom,me)})},()=>(R=>{R.dispatch("TableSelectionClear")})(m));var D;return m.on("init",R=>{const H=m.getWin(),U=Oo(m),te=Ht(m),de=((Te,qe,Xe,Ge)=>{const Qe=((ht,Ee,xt,oo)=>{const Ut=Jm(),Dn=Ut.clear,Gt=Go=>{Ut.on(ho=>{oo.clearBeforeUpdate(Ee),S1(Go.target,xt).each(nr=>{Pl(ho,nr,xt).each(ea=>{const Si=ea.boxes.getOr([]);if(Si.length===1){const Va=Si[0],ec=bo(Va)==="false",Yd=Xa(rt(Go.target),Va,Bn);ec&&Yd&&(oo.selectRange(Ee,Si,Va,Va),ht.selectContents(Va))}else Si.length>1&&(oo.selectRange(Ee,Si,ea.start,ea.finish),ht.selectContents(nr))})})})};return{clearstate:Dn,mousedown:Go=>{oo.clear(Ee),S1(Go.target,xt).filter(Hb).each(Ut.set)},mouseover:Go=>{Gt(Go)},mouseup:Go=>{Gt(Go),Dn()}}})(rg(Te),qe,Xe,Ge);return{clearstate:Qe.clearstate,mousedown:Qe.mousedown,mouseover:Qe.mouseover,mouseup:Qe.mouseup}})(H,U,te,S),xe=((Te,qe,Xe,Ge)=>{const Qe=rg(Te),ht=()=>(Ge.clear(qe),ve.none());return{keydown:(Ee,xt,oo,Ut,Dn,Gt)=>{const Go=Ee.raw,ho=Go.which,nr=Go.shiftKey===!0;return If(qe,Ge.selectedSelector).fold(()=>(Ql(ho)&&!nr&&Ge.clearBeforeUpdate(qe),Ql(ho)&&nr&&!Zb(xt,Ut)?ve.none:tf(ho)&&nr?ut($v,Qe,qe,Xe,mh,Ut,xt,Ge.selectRange):ph(ho)&&nr?ut($v,Qe,qe,Xe,E1,Ut,xt,Ge.selectRange):tf(ho)?ut(ef,Qe,Xe,mh,Ut,xt,C1):ph(ho)?ut(ef,Qe,Xe,E1,Ut,xt,qc):ve.none),Si=>{const Va=ec=>()=>$(ec,Ei=>((nf,rf,ap,D1,sf)=>si(D1,nf,rf,sf.firstSelectedSelector,sf.lastSelectedSelector).map(ip=>(sf.clearBeforeUpdate(ap),sf.selectRange(ap,ip.boxes,ip.start,ip.finish),ip.boxes)))(Ei.rows,Ei.cols,qe,Si,Ge)).fold(()=>Qi(qe,Ge.firstSelectedSelector,Ge.lastSelectedSelector).map(Ei=>{const nf=tf(ho)||Gt.isForward(ho)?Jn.after:Jn.before;return Qe.setRelativeSelection(Jn.on(Ei.first,0),nf(Ei.table)),Ge.clear(qe),Xr(ve.none(),!0)}),Ei=>ve.some(Xr(ve.none(),!0)));return Ql(ho)&&nr&&!Zb(xt,Ut)?ve.none:tf(ho)&&nr?Va([Qf(1,0)]):ph(ho)&&nr?Va([Qf(-1,0)]):Gt.isBackward(ho)&&nr?Va([Qf(0,-1),Qf(-1,0)]):Gt.isForward(ho)&&nr?Va([Qf(0,1),Qf(1,0)]):Ql(ho)&&!nr?ht:ve.none})()},keyup:(Ee,xt,oo,Ut,Dn)=>If(qe,Ge.selectedSelector).fold(()=>{const Gt=Ee.raw,Go=Gt.which;return Gt.shiftKey===!0&&Ql(Go)&&Zb(xt,Ut)?((ho,nr,ea,Si,Va,ec,Yd)=>Bn(ea,Va)&&Si===ec?ve.none():ts(ea,"td,th",nr).bind(Ei=>ts(Va,"td,th",nr).bind(nf=>Gm(ho,nr,Ei,nf,Yd))))(qe,Xe,xt,oo,Ut,Dn,Ge.selectRange):ve.none()},ve.none)}})(H,U,te,S),le=((Te,qe,Xe,Ge)=>{const Qe=rg(Te);return(ht,Ee)=>{Ge.clearBeforeUpdate(qe),Pl(ht,Ee,Xe).each(xt=>{const oo=xt.boxes.getOr([]);Ge.selectRange(qe,oo,xt.start,xt.finish),Qe.selectContents(Ee),Qe.collapseSelection()})}})(H,U,te,S);m.on("TableSelectorChange",Te=>le(Te.start,Te.finish));const me=(Te,qe)=>{(Xe=>Xe.raw.shiftKey===!0)(Te)&&(qe.kill&&Te.kill(),qe.selection.each(Xe=>{const Ge=hc.relative(Xe.start,Xe.finish),Qe=x1(H,Ge);m.selection.setRng(Qe)}))},he=Te=>Te.button===0,ze=(()=>{const Te=fh(st.fromDom(U)),qe=fh(0);return{touchEnd:Xe=>{const Ge=st.fromDom(Xe.target);if(hr("td")(Ge)||hr("th")(Ge)){const Qe=Te.get(),ht=qe.get();Bn(Qe,Ge)&&Xe.timeStamp-ht<300&&(Xe.preventDefault(),le(Ge,Ge))}Te.set(Ge),qe.set(Xe.timeStamp)}}})();m.on("dragstart",Te=>{de.clearstate()}),m.on("mousedown",Te=>{he(Te)&&Gb(Te)&&de.mousedown(tp(Te))}),m.on("mouseover",Te=>{var qe;(qe=Te).buttons!==void 0&&!(1&qe.buttons)||!Gb(Te)||de.mouseover(tp(Te))}),m.on("mouseup",Te=>{he(Te)&&Gb(Te)&&de.mouseup(tp(Te))}),m.on("touchend",ze.touchEnd),m.on("keyup",Te=>{const qe=tp(Te);if(qe.raw.shiftKey&&Ql(qe.raw.which)){const Xe=m.selection.getRng(),Ge=st.fromDom(Xe.startContainer),Qe=st.fromDom(Xe.endContainer);xe.keyup(qe,Ge,Xe.startOffset,Qe,Xe.endOffset).each(ht=>{me(qe,ht)})}}),m.on("keydown",Te=>{const qe=tp(Te);h.hide();const Xe=m.selection.getRng(),Ge=st.fromDom(Xe.startContainer),Qe=st.fromDom(Xe.endContainer),ht=ei($b,d_)(st.fromDom(m.selection.getStart()));xe.keydown(qe,Ge,Xe.startOffset,Qe,Xe.endOffset,ht).each(Ee=>{me(qe,Ee)}),h.show()}),m.on("NodeChange",()=>{const Te=m.selection,qe=st.fromDom(Te.getStart()),Xe=st.fromDom(Te.getEnd());Bf(_t,[qe,Xe]).fold(()=>S.clear(U),It)})}),m.on("PreInit",()=>{m.serializer.addTempAttr(jo.firstSelected),m.serializer.addTempAttr(jo.lastSelected)}),{getSelectedCells:()=>((R,H,U,te)=>{switch(R.tag){case"none":return H();case"single":return(de=>[de.dom])(R.element);case"multiple":return(de=>T(de,xe=>xe.dom))(R.elements)}})(x.get(),Jt([])),clearSelectedCells:R=>S.clear(st.fromDom(R))}},Gc=m=>{let h=[];return{bind:x=>{if(x===void 0)throw new Error("Event bind error: undefined handler");h.push(x)},unbind:x=>{h=Ro(h,S=>S!==x)},trigger:(...x)=>{const S={};Eo(m,(D,R)=>{S[D]=x[R]}),Eo(h,D=>{D(S)})}}},op=m=>({registry:Ga(m,h=>({bind:h.bind,unbind:h.unbind})),trigger:Ga(m,h=>h.trigger)}),of=m=>m.slice(0).sort(),Gv=(m,h)=>{const x=Ro(h,S=>!vo(m,S));x.length>0&&(S=>{throw new Error("Unsupported keys for object: "+of(S).join(", "))})(x)},np=m=>((h,x)=>((S,D,R)=>{if(D.length===0)throw new Error("You must specify at least one required field.");return((H,U)=>{if(!ir(U))throw new Error("The "+H+" fields must be an array. Was: "+U+".");Eo(U,te=>{if(!ar(te))throw new Error("The value "+te+" in the "+H+" fields was not a string.")})})("required",D),(H=>{const U=of(H);Tt(U,(te,de)=>de<U.length-1&&te===U[de+1]).each(te=>{throw new Error("The field: "+te+" occurs more than once in the combined fields: ["+U.join(", ")+"].")})})(D),H=>{const U=zs(H);Ot(D,de=>vo(U,de))||((de,xe)=>{throw new Error("All required keys ("+of(de).join(", ")+") were not specified. Specified keys were: "+of(xe).join(", ")+".")})(D,U),S(D,U);const te=Ro(D,de=>!R.validate(H[de],de));return te.length>0&&((de,xe)=>{throw new Error("All values need to be of type: "+xe+". Keys ("+of(de).join(", ")+") were not.")})(te,R.label),H}})(h,x,{validate:cr,label:"function"}))(Gv,m),ai=np(["compare","extract","mutate","sink"]),Kb=np(["element","start","stop","destroy"]),tm=np(["forceDrop","drop","move","delayDrop"]),rp=()=>{const m=(()=>{const S=op({move:Gc(["info"])});return{onEvent:It,reset:It,events:S.registry}})(),h=(()=>{let S=ve.none();const D=op({move:Gc(["info"])});return{onEvent:(R,H)=>{H.extract(R).each(U=>{((de,xe)=>{const le=S.map(me=>de.compare(me,xe));return S=ve.some(xe),le})(H,U).each(de=>{D.trigger.move(de)})})},reset:()=>{S=ve.none()},events:D.registry}})();let x=m;return{on:()=>{x.reset(),x=h},off:()=>{x.reset(),x=m},isOn:()=>x===h,onEvent:(S,D)=>{x.onEvent(S,D)},events:h.events}},yh=m=>{const h=m.replace(/\./g,"-");return{resolve:x=>h+"-"+x}},vh=yh("ephox-dragster").resolve;var Yb=ai({compare:(m,h)=>fe(h.left-m.left,h.top-m.top),extract:m=>ve.some(fe(m.x,m.y)),sink:(m,h)=>{const x=(U=>{const te={layerClass:vh("blocker"),...U},de=st.fromTag("div");return Ko(de,"role","presentation"),gi(de,{position:"fixed",left:"0px",top:"0px",width:"100%",height:"100%"}),em(de,vh("blocker")),em(de,te.layerClass),{element:Jt(de),destroy:()=>{Sr(de)}}})(h),S=ep(x.element(),"mousedown",m.forceDrop),D=ep(x.element(),"mouseup",m.drop),R=ep(x.element(),"mousemove",m.move),H=ep(x.element(),"mouseout",m.delayDrop);return Kb({element:x.element,start:U=>{wr(U,x.element())},stop:()=>{Sr(x.element())},destroy:()=>{x.destroy(),D.unbind(),R.unbind(),H.unbind(),S.unbind()}})},mutate:(m,h)=>{m.mutate(h.left,h.top)}});const Su=yh("ephox-snooker").resolve,Xb=Su("resizer-bar"),Jb=Su("resizer-rows"),pl=Su("resizer-cols"),Eu=m=>{const h=Ia(m.parent(),"."+Xb);Eo(h,Sr)},Qb=(m,h,x)=>{const S=m.origin();Eo(h,D=>{D.each(R=>{const H=x(S,R);em(H,Xb),wr(m.parent(),H)})})},Fe=(m,h,x,S,D)=>{const R=ti(x),H=h.isResizable,U=S.length>0?cu.positions(S,x):[],te=U.length>0?((le,me)=>nt(le.all,(he,ze)=>me(he.element)?[ze]:[]))(m,H):[];((le,me,he,ze)=>{Qb(le,me,(Te,qe)=>{const Xe=((Ge,Qe,ht,Ee,xt)=>{const oo=st.fromTag("div");return gi(oo,{position:"absolute",left:Qe+"px",top:ht-3.5+"px",height:"7px",width:Ee+"px"}),ps(oo,{"data-row":Ge,role:"presentation"}),oo})(qe.row,he.left-Te.left,qe.y-Te.top,ze);return em(Xe,Jb),Xe})})(h,Ro(U,(le,me)=>Le(te,he=>me===he)),R,Di(x));const de=D.length>0?Ml.positions(D,x):[],xe=de.length>0?((le,me)=>{const he=[];return Lt(le.grid.columns,ze=>{id(le,ze).map(Te=>Te.element).forall(me)&&he.push(ze)}),Ro(he,ze=>{const Te=eo(le,qe=>qe.column===ze);return Ot(Te,qe=>me(qe.element))})})(m,H):[];((le,me,he,ze)=>{Qb(le,me,(Te,qe)=>{const Xe=((Ge,Qe,ht,Ee,xt)=>{const oo=st.fromTag("div");return gi(oo,{position:"absolute",left:Qe-3.5+"px",top:ht+"px",height:xt+"px",width:"7px"}),ps(oo,{"data-column":Ge,role:"presentation"}),oo})(qe.col,qe.x-Te.left,he.top-Te.top,0,ze);return em(Xe,pl),Xe})})(h,Ro(de,(le,me)=>Le(xe,he=>me===he)),R,dl(x))},sp=(m,h)=>{if(Eu(m),m.isResizable(h)){const x=$n(h),S=qo(x),D=Pd(x);Fe(x,m,h,S,D)}},Kv=(m,h)=>{const x=Ia(m.parent(),"."+Xb);Eo(x,h)},Yv=m=>{Kv(m,h=>{jr(h,"display","none")})},ey=m=>{Kv(m,h=>{jr(h,"display","block")})},bd=Su("resizer-bar-dragging"),T1=m=>{const h=(()=>{const le=op({drag:Gc(["xDelta","yDelta","target"])});let me=ve.none();const he=(()=>{const ze=op({drag:Gc(["xDelta","yDelta"])});return{mutate:(Te,qe)=>{ze.trigger.drag(Te,qe)},events:ze.registry}})();return he.events.drag.bind(ze=>{me.each(Te=>{le.trigger.drag(ze.xDelta,ze.yDelta,Te)})}),{assign:ze=>{me=ve.some(ze)},get:()=>me,mutate:he.mutate,events:le.registry}})(),x=((le,me={})=>{var he;return((ze,Te,qe)=>{let Xe=!1;const Ge=op({start:Gc([]),stop:Gc([])}),Qe=rp(),ht=()=>{oo.stop(),Qe.isOn()&&(Qe.off(),Ge.trigger.stop())},Ee=((Ut,Dn)=>{let Gt=null;const Go=()=>{lr(Gt)||(clearTimeout(Gt),Gt=null)};return{cancel:Go,throttle:(...ho)=>{Go(),Gt=setTimeout(()=>{Gt=null,Ut.apply(null,ho)},200)}}})(ht);Qe.events.move.bind(Ut=>{Te.mutate(ze,Ut.info)});const xt=Ut=>(...Dn)=>{Xe&&Ut.apply(null,Dn)},oo=Te.sink(tm({forceDrop:ht,drop:xt(ht),move:xt(Ut=>{Ee.cancel(),Qe.onEvent(Ut,Te)}),delayDrop:xt(Ee.throttle)}),qe);return{element:oo.element,go:Ut=>{oo.start(Ut),Qe.on(),Ge.trigger.start()},on:()=>{Xe=!0},off:()=>{Xe=!1},isActive:()=>Xe,destroy:()=>{oo.destroy()},events:Ge.registry}})(le,(he=me.mode)!==null&&he!==void 0?he:Yb,me)})(h,{});let S=ve.none();const D=(le,me)=>ve.from(lt(le,me));h.events.drag.bind(le=>{D(le.target,"data-row").each(me=>{const he=Wl(le.target,"top");jr(le.target,"top",he+le.yDelta+"px")}),D(le.target,"data-column").each(me=>{const he=Wl(le.target,"left");jr(le.target,"left",he+le.xDelta+"px")})});const R=(le,me)=>Wl(le,me)-Pa(le,"data-initial-"+me,0);x.events.stop.bind(()=>{h.get().each(le=>{S.each(me=>{D(le,"data-row").each(he=>{const ze=R(le,"top");Po(le,"data-initial-top"),xe.trigger.adjustHeight(me,ze,parseInt(he,10))}),D(le,"data-column").each(he=>{const ze=R(le,"left");Po(le,"data-initial-left"),xe.trigger.adjustWidth(me,ze,parseInt(he,10))}),sp(m,me)})})});const H=(le,me)=>{xe.trigger.startAdjust(),h.assign(le),Ko(le,"data-initial-"+me,Wl(le,me)),em(le,bd),jr(le,"opacity","0.2"),x.go(m.parent())},U=ep(m.parent(),"mousedown",le=>{var me;me=le.target,qb(me,Jb)&&H(le.target,"top"),(he=>qb(he,pl))(le.target)&&H(le.target,"left")}),te=le=>Bn(le,m.view()),de=ep(m.view(),"mouseover",le=>{var me;(me=le.target,ts(me,"table",te).filter(Vt)).fold(()=>{qr(le.target)&&Eu(m)},he=>{x.isActive()&&(S=ve.some(he),sp(m,he))})}),xe=op({adjustHeight:Gc(["table","delta","row"]),adjustWidth:Gc(["table","delta","column"]),startAdjust:Gc([])});return{destroy:()=>{U.unbind(),de.unbind(),x.destroy(),Eu(m)},refresh:le=>{sp(m,le)},on:x.on,off:x.off,hideBars:ut(Yv,m),showBars:ut(ey,m),events:xe.registry}},ty=m=>Qn(m)&&m.nodeName==="TABLE",xh="bar-",O1=m=>lt(m,"data-mce-resize")!=="false",m_=m=>{const h=Jm(),x=Jm(),S=Jm();let D,R,H,U;const te=le=>Xs(m,le),de=()=>Rf(m)?Lc():Xg(),xe=(le,me,he,ze)=>{const Te=(Ge=>{return uo(Qe=Ge,"corner-")?((ht,Ee)=>ht.substring(7))(Qe):Qe;var Qe})(me),qe=qi(Te,"e"),Xe=uo(Te,"n");if(R===""&&$c(le),U===""&&(Ge=>{const Qe=(ht=>Fd(ht)+"px")(Ge);jn(Ge,ve.none(),ve.some(Qe)),Vs(Ge)})(le),he!==D&&R!==""){jr(le,"width",R);const Ge=de(),Qe=te(le),ht=Rf(m)||qe?(Ee=>Ff(Ee).columns)(le)-1:0;Pc(le,he-D,ht,Ge,Qe)}else if((Ge=>/^(\d+(\.\d+)?)%$/.test(Ge))(R)){const Ge=parseFloat(R.replace("%",""));jr(le,"width",he*Ge/D+"%")}if((Ge=>/^(\d+(\.\d+)?)px$/.test(Ge))(R)&&(Ge=>{const Qe=$n(Ge);Vn(Qe)||Eo($e(Ge),ht=>{const Ee=mo(ht,"width");jr(ht,"width",Ee),Po(ht,"width")})})(le),ze!==H&&U!==""){jr(le,"height",U);const Ge=Xe?0:(Qe=>Ff(Qe).rows)(le)-1;r1(le,ze-H,Ge)}};return m.on("init",()=>{const le=((me,he)=>me.inline?((ze,Te,qe)=>({parent:Jt(Te),view:Jt(ze),origin:Jt(fe(0,0)),isResizable:qe}))(st.fromDom(me.getBody()),(()=>{const ze=st.fromTag("div");return gi(ze,{position:"static",height:"0",width:"0",padding:"0",margin:"0",border:"0"}),wr(Id(st.fromDom(document)),ze),ze})(),he):((ze,Te)=>{const qe=Wr(ze)?(Xe=>st.fromDom(di(Xe).dom.documentElement))(ze):ze;return{parent:Jt(qe),view:Jt(ze),origin:Jt(fe(0,0)),isResizable:Te}})(st.fromDom(me.getDoc()),he))(m,O1);if(S.set(le),(me=>{const he=me.options.get("object_resizing");return vo(he.split(","),"table")})(m)&&C(m)){const me=((he,ze,Te)=>{const qe=cu,Xe=Ml,Ge=T1(he),Qe=op({beforeResize:Gc(["table","type"]),afterResize:Gc(["table","type"]),startDrag:Gc([])});return Ge.events.adjustHeight.bind(ht=>{const Ee=ht.table;Qe.trigger.beforeResize(Ee,"row");const xt=qe.delta(ht.delta,Ee);r1(Ee,xt,ht.row),Qe.trigger.afterResize(Ee,"row")}),Ge.events.startAdjust.bind(ht=>{Qe.trigger.startDrag()}),Ge.events.adjustWidth.bind(ht=>{const Ee=ht.table;Qe.trigger.beforeResize(Ee,"col");const xt=Xe.delta(ht.delta,Ee),oo=Te(Ee);Pc(Ee,xt,ht.column,ze,oo),Qe.trigger.afterResize(Ee,"col")}),{on:Ge.on,off:Ge.off,refreshBars:Ge.refresh,hideBars:Ge.hideBars,showBars:Ge.showBars,destroy:Ge.destroy,events:Qe.registry}})(le,de(),te);me.on(),me.events.startDrag.bind(he=>{h.set(m.selection.getRng())}),me.events.beforeResize.bind(he=>{const ze=he.table.dom;((Te,qe,Xe,Ge,Qe)=>{Te.dispatch("ObjectResizeStart",{target:qe,width:Xe,height:Ge,origin:Qe})})(m,ze,$a(ze),xi(ze),xh+he.type)}),me.events.afterResize.bind(he=>{const ze=he.table,Te=ze.dom;mr(ze),h.on(qe=>{m.selection.setRng(qe),m.focus()}),((qe,Xe,Ge,Qe,ht)=>{qe.dispatch("ObjectResized",{target:Xe,width:Ge,height:Qe,origin:ht})})(m,Te,$a(Te),xi(Te),xh+he.type),m.undoManager.add()}),x.set(me)}}),m.on("ObjectResizeStart",le=>{const me=le.target;if(ty(me)){const he=st.fromDom(me);Eo(m.dom.select(".mce-clonedresizable"),ze=>{m.dom.addClass(ze,"mce-"+Zd(m)+"-columns")}),!g1(he)&&vi(m)?gc(he):!Yp(he)&&Rs(m)&&$c(he),qf(he)&&uo(le.origin,xh)&&$c(he),D=le.width,R=md(m)?"":Nf(m,me).getOr(""),H=le.height,U=_v(m,me).getOr("")}}),m.on("ObjectResized",le=>{const me=le.target;if(ty(me)){const he=st.fromDom(me),ze=le.origin;(Te=>uo(Te,"corner-"))(ze)&&xe(he,ze,le.width,le.height),mr(he),zr(m,he.dom,ih)}}),m.on("SwitchMode",()=>{x.on(le=>{m.mode.isReadOnly()?le.hideBars():le.showBars()})}),m.on("dragstart dragend",le=>{x.on(me=>{le.type==="dragstart"?(me.hideBars(),me.off()):(me.on(),me.showBars())})}),m.on("remove",()=>{x.on(le=>{le.destroy()}),S.on(le=>{((me,he)=>{me.inline&&Sr(he.parent())})(m,le)})}),{refresh:le=>{x.on(me=>me.refreshBars(st.fromDom(le)))},hide:()=>{x.on(le=>le.hideBars())},show:()=>{x.on(le=>le.showBars())}}},Xv=m=>{(D=>{const R=D.options.register;R("table_clone_elements",{processor:"string[]"}),R("table_use_colgroups",{processor:"boolean",default:!0}),R("table_header_type",{processor:H=>{const U=vo(["section","cells","sectionCells","auto"],H);return U?{value:H,valid:U}:{valid:!1,message:"Must be one of: section, cells, sectionCells or auto."}},default:"section"}),R("table_sizing_mode",{processor:"string",default:"auto"}),R("table_default_attributes",{processor:"object",default:{border:"1"}}),R("table_default_styles",{processor:"object",default:{"border-collapse":"collapse"}}),R("table_column_resizing",{processor:H=>{const U=vo(["preservetable","resizetable"],H);return U?{value:H,valid:U}:{valid:!1,message:"Must be preservetable, or resizetable."}},default:"preservetable"}),R("table_resize_bars",{processor:"boolean",default:!0}),R("table_style_by_css",{processor:"boolean",default:!0}),R("table_merge_content_on_paste",{processor:"boolean",default:!0})})(m);const h=m_(m),x=f_(m,h),S=Hl(m,h,x);return Js(m,S),((D,R)=>{const H=Ht(D),U=te=>Yr(Fr(D)).bind(de=>_t(de,H).map(xe=>{const le=Zt(fc(D),xe,de);return te(xe,le)})).getOr("");mn({mceTableRowType:()=>U(R.getTableRowType),mceTableCellType:()=>U(R.getTableCellType),mceTableColType:()=>U(R.getTableColType)},(te,de)=>D.addQueryValueHandler(de,te))})(m,S),_n(m,S),{getSelectedCells:x.getSelectedCells,clearSelectedCells:x.clearSelectedCells}};na.add("dom",m=>({table:Xv(m)}))})();tinymce.Resource.add("ui/default/skin.css",`.tox{box-shadow:none;box-sizing:content-box;color:#222f3e;cursor:auto;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;font-size:16px;font-style:normal;font-weight:400;line-height:normal;-webkit-tap-highlight-color:transparent;text-decoration:none;text-shadow:none;text-transform:none;vertical-align:initial;white-space:normal}.tox :not(svg):not(rect){box-sizing:inherit;color:inherit;cursor:inherit;direction:inherit;font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;line-height:inherit;-webkit-tap-highlight-color:inherit;text-align:inherit;text-decoration:inherit;text-shadow:inherit;text-transform:inherit;vertical-align:inherit;white-space:inherit}.tox :not(svg):not(rect){background:0 0;border:0;box-shadow:none;float:none;height:auto;margin:0;max-width:none;outline:0;padding:0;position:static;width:auto}.tox:not([dir=rtl]){direction:ltr;text-align:left}.tox[dir=rtl]{direction:rtl;text-align:right}.tox-tinymce{border:2px solid #eee;border-radius:10px;box-shadow:none;box-sizing:border-box;display:flex;flex-direction:column;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;overflow:hidden;position:relative;visibility:inherit!important}.tox.tox-tinymce-inline{border:none;box-shadow:none;overflow:initial}.tox.tox-tinymce-inline .tox-editor-container{overflow:initial}.tox.tox-tinymce-inline .tox-editor-header{background-color:#fff;border:2px solid #eee;border-radius:10px;box-shadow:none;overflow:hidden}.tox-tinymce-aux{font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;z-index:1300}.tox-tinymce :focus,.tox-tinymce-aux :focus{outline:0}button::-moz-focus-inner{border:0}.tox[dir=rtl] .tox-icon--flip svg{transform:rotateY(180deg)}.tox .accessibility-issue__header{align-items:center;display:flex;margin-bottom:4px}.tox .accessibility-issue__description{align-items:stretch;border-radius:6px;display:flex;justify-content:space-between}.tox .accessibility-issue__description>div{padding-bottom:4px}.tox .accessibility-issue__description>div>div{align-items:center;display:flex;margin-bottom:4px}.tox .accessibility-issue__description>div>div .tox-icon svg{display:block}.tox .accessibility-issue__repair{margin-top:16px}.tox .tox-dialog__body-content .accessibility-issue--info .accessibility-issue__description{background-color:rgba(0,101,216,.1);color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--info .tox-form__group h2{color:#006ce7}.tox .tox-dialog__body-content .accessibility-issue--info .tox-icon svg{fill:#006ce7}.tox .tox-dialog__body-content .accessibility-issue--info a.tox-button--naked.tox-button--icon{background-color:#006ce7;color:#fff}.tox .tox-dialog__body-content .accessibility-issue--info a.tox-button--naked.tox-button--icon:focus,.tox .tox-dialog__body-content .accessibility-issue--info a.tox-button--naked.tox-button--icon:hover{background-color:#0060ce}.tox .tox-dialog__body-content .accessibility-issue--info a.tox-button--naked.tox-button--icon:active{background-color:#0054b4}.tox .tox-dialog__body-content .accessibility-issue--warn .accessibility-issue__description{background-color:rgba(255,165,0,.08);color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--warn .tox-form__group h2{color:#8f5d00}.tox .tox-dialog__body-content .accessibility-issue--warn .tox-icon svg{fill:#8f5d00}.tox .tox-dialog__body-content .accessibility-issue--warn a.tox-button--naked.tox-button--icon{background-color:#ffe89d;color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--warn a.tox-button--naked.tox-button--icon:focus,.tox .tox-dialog__body-content .accessibility-issue--warn a.tox-button--naked.tox-button--icon:hover{background-color:#f2d574;color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--warn a.tox-button--naked.tox-button--icon:active{background-color:#e8c657;color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--error .accessibility-issue__description{background-color:rgba(204,0,0,.1);color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--error .tox-form__group h2{color:#c00}.tox .tox-dialog__body-content .accessibility-issue--error .tox-icon svg{fill:#c00}.tox .tox-dialog__body-content .accessibility-issue--error a.tox-button--naked.tox-button--icon{background-color:#f2bfbf;color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--error a.tox-button--naked.tox-button--icon:focus,.tox .tox-dialog__body-content .accessibility-issue--error a.tox-button--naked.tox-button--icon:hover{background-color:#e9a4a4;color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--error a.tox-button--naked.tox-button--icon:active{background-color:#ee9494;color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--success .accessibility-issue__description{background-color:rgba(120,171,70,.1);color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--success .accessibility-issue__description>:last-child{display:none}.tox .tox-dialog__body-content .accessibility-issue--success .tox-form__group h2{color:#527530}.tox .tox-dialog__body-content .accessibility-issue--success .tox-icon svg{fill:#527530}.tox .tox-dialog__body-content .accessibility-issue__header .tox-form__group h1,.tox .tox-dialog__body-content .tox-form__group .accessibility-issue__description h2{font-size:14px;margin-top:0}.tox:not([dir=rtl]) .tox-dialog__body-content .accessibility-issue__header .tox-button{margin-left:4px}.tox:not([dir=rtl]) .tox-dialog__body-content .accessibility-issue__header>:nth-last-child(2){margin-left:auto}.tox:not([dir=rtl]) .tox-dialog__body-content .accessibility-issue__description{padding:4px 4px 4px 8px}.tox[dir=rtl] .tox-dialog__body-content .accessibility-issue__header .tox-button{margin-right:4px}.tox[dir=rtl] .tox-dialog__body-content .accessibility-issue__header>:nth-last-child(2){margin-right:auto}.tox[dir=rtl] .tox-dialog__body-content .accessibility-issue__description{padding:4px 8px 4px 4px}.tox .mce-codemirror{background:#fff;bottom:0;font-size:13px;left:0;position:absolute;right:0;top:0;z-index:1}.tox .mce-codemirror.tox-inline-codemirror{margin:8px;position:absolute}.tox .tox-advtemplate .tox-form__grid{flex:1}.tox .tox-advtemplate .tox-form__grid>div:first-child{display:flex;flex-direction:column;width:30%}.tox .tox-advtemplate .tox-form__grid>div:first-child>div:nth-child(2){flex-basis:0;flex-grow:1;overflow:auto}@media only screen and (max-width:767px){body:not(.tox-force-desktop) .tox .tox-advtemplate .tox-form__grid>div:first-child{width:100%}}.tox .tox-advtemplate iframe{border-color:#eee;border-radius:10px;border-style:solid;border-width:1px;margin:0 10px}.tox .tox-anchorbar{display:flex;flex:0 0 auto}.tox .tox-bottom-anchorbar{display:flex;flex:0 0 auto}.tox .tox-bar{display:flex;flex:0 0 auto}.tox .tox-button{background-color:#006ce7;background-image:none;background-position:0 0;background-repeat:repeat;border-color:#006ce7;border-radius:6px;border-style:solid;border-width:1px;box-shadow:none;box-sizing:border-box;color:#fff;cursor:pointer;display:inline-block;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;font-size:14px;font-style:normal;font-weight:700;letter-spacing:normal;line-height:24px;margin:0;outline:0;padding:4px 16px;position:relative;text-align:center;text-decoration:none;text-transform:none;white-space:nowrap}.tox .tox-button::before{border-radius:6px;bottom:-1px;box-shadow:inset 0 0 0 1px #fff,0 0 0 2px #006ce7;content:'';left:-1px;opacity:0;pointer-events:none;position:absolute;right:-1px;top:-1px}.tox .tox-button[disabled]{background-color:#006ce7;background-image:none;border-color:#006ce7;box-shadow:none;color:rgba(255,255,255,.5);cursor:not-allowed}.tox .tox-button:focus:not(:disabled){background-color:#0060ce;background-image:none;border-color:#0060ce;box-shadow:none;color:#fff}.tox .tox-button:focus:not(:disabled)::before{opacity:1}.tox .tox-button:hover:not(:disabled){background-color:#0060ce;background-image:none;border-color:#0060ce;box-shadow:none;color:#fff}.tox .tox-button:active:not(:disabled){background-color:#0054b4;background-image:none;border-color:#0054b4;box-shadow:none;color:#fff}.tox .tox-button.tox-button--enabled{background-color:#0054b4;background-image:none;border-color:#0054b4;box-shadow:none;color:#fff}.tox .tox-button.tox-button--enabled[disabled]{background-color:#0054b4;background-image:none;border-color:#0054b4;box-shadow:none;color:rgba(255,255,255,.5);cursor:not-allowed}.tox .tox-button.tox-button--enabled:focus:not(:disabled){background-color:#00489b;background-image:none;border-color:#00489b;box-shadow:none;color:#fff}.tox .tox-button.tox-button--enabled:hover:not(:disabled){background-color:#00489b;background-image:none;border-color:#00489b;box-shadow:none;color:#fff}.tox .tox-button.tox-button--enabled:active:not(:disabled){background-color:#003c81;background-image:none;border-color:#003c81;box-shadow:none;color:#fff}.tox .tox-button--icon-and-text,.tox .tox-button.tox-button--icon-and-text,.tox .tox-button.tox-button--secondary.tox-button--icon-and-text{display:flex;padding:5px 4px}.tox .tox-button--icon-and-text .tox-icon svg,.tox .tox-button.tox-button--icon-and-text .tox-icon svg,.tox .tox-button.tox-button--secondary.tox-button--icon-and-text .tox-icon svg{display:block;fill:currentColor}.tox .tox-button--secondary{background-color:#f0f0f0;background-image:none;background-position:0 0;background-repeat:repeat;border-color:#f0f0f0;border-radius:6px;border-style:solid;border-width:1px;box-shadow:none;color:#222f3e;font-size:14px;font-style:normal;font-weight:700;letter-spacing:normal;outline:0;padding:4px 16px;text-decoration:none;text-transform:none}.tox .tox-button--secondary[disabled]{background-color:#f0f0f0;background-image:none;border-color:#f0f0f0;box-shadow:none;color:rgba(34,47,62,.5)}.tox .tox-button--secondary:focus:not(:disabled){background-color:#e3e3e3;background-image:none;border-color:#e3e3e3;box-shadow:none;color:#222f3e}.tox .tox-button--secondary:hover:not(:disabled){background-color:#e3e3e3;background-image:none;border-color:#e3e3e3;box-shadow:none;color:#222f3e}.tox .tox-button--secondary:active:not(:disabled){background-color:#d6d6d6;background-image:none;border-color:#d6d6d6;box-shadow:none;color:#222f3e}.tox .tox-button--secondary.tox-button--enabled{background-color:#a8c8ed;background-image:none;border-color:#a8c8ed;box-shadow:none;color:#222f3e}.tox .tox-button--secondary.tox-button--enabled[disabled]{background-color:#a8c8ed;background-image:none;border-color:#a8c8ed;box-shadow:none;color:rgba(34,47,62,.5)}.tox .tox-button--secondary.tox-button--enabled:focus:not(:disabled){background-color:#93bbe9;background-image:none;border-color:#93bbe9;box-shadow:none;color:#222f3e}.tox .tox-button--secondary.tox-button--enabled:hover:not(:disabled){background-color:#93bbe9;background-image:none;border-color:#93bbe9;box-shadow:none;color:#222f3e}.tox .tox-button--secondary.tox-button--enabled:active:not(:disabled){background-color:#7daee4;background-image:none;border-color:#7daee4;box-shadow:none;color:#222f3e}.tox .tox-button--icon,.tox .tox-button.tox-button--icon,.tox .tox-button.tox-button--secondary.tox-button--icon{padding:4px}.tox .tox-button--icon .tox-icon svg,.tox .tox-button.tox-button--icon .tox-icon svg,.tox .tox-button.tox-button--secondary.tox-button--icon .tox-icon svg{display:block;fill:currentColor}.tox .tox-button-link{background:0;border:none;box-sizing:border-box;cursor:pointer;display:inline-block;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;font-size:16px;font-weight:400;line-height:1.3;margin:0;padding:0;white-space:nowrap}.tox .tox-button-link--sm{font-size:14px}.tox .tox-button--naked{background-color:transparent;border-color:transparent;box-shadow:unset;color:#222f3e}.tox .tox-button--naked[disabled]{background-color:rgba(34,47,62,.12);border-color:transparent;box-shadow:unset;color:rgba(34,47,62,.5)}.tox .tox-button--naked:hover:not(:disabled){background-color:rgba(34,47,62,.12);border-color:transparent;box-shadow:unset;color:#222f3e}.tox .tox-button--naked:focus:not(:disabled){background-color:rgba(34,47,62,.12);border-color:transparent;box-shadow:unset;color:#222f3e}.tox .tox-button--naked:active:not(:disabled){background-color:rgba(34,47,62,.18);border-color:transparent;box-shadow:unset;color:#222f3e}.tox .tox-button--naked .tox-icon svg{fill:currentColor}.tox .tox-button--naked.tox-button--icon:hover:not(:disabled){color:#222f3e}.tox .tox-checkbox{align-items:center;border-radius:6px;cursor:pointer;display:flex;height:36px;min-width:36px}.tox .tox-checkbox__input{height:1px;overflow:hidden;position:absolute;top:auto;width:1px}.tox .tox-checkbox__icons{align-items:center;border-radius:6px;box-shadow:0 0 0 2px transparent;box-sizing:content-box;display:flex;height:24px;justify-content:center;padding:calc(4px - 1px);width:24px}.tox .tox-checkbox__icons .tox-checkbox-icon__unchecked svg{display:block;fill:rgba(34,47,62,.3)}@media (forced-colors:active){.tox .tox-checkbox__icons .tox-checkbox-icon__unchecked svg{fill:currentColor!important}}.tox .tox-checkbox__icons .tox-checkbox-icon__indeterminate svg{display:none;fill:#006ce7}.tox .tox-checkbox__icons .tox-checkbox-icon__checked svg{display:none;fill:#006ce7}.tox .tox-checkbox--disabled{color:rgba(34,47,62,.5);cursor:not-allowed}.tox .tox-checkbox--disabled .tox-checkbox__icons .tox-checkbox-icon__checked svg{fill:rgba(34,47,62,.5)}.tox .tox-checkbox--disabled .tox-checkbox__icons .tox-checkbox-icon__unchecked svg{fill:rgba(34,47,62,.5)}.tox .tox-checkbox--disabled .tox-checkbox__icons .tox-checkbox-icon__indeterminate svg{fill:rgba(34,47,62,.5)}.tox input.tox-checkbox__input:checked+.tox-checkbox__icons .tox-checkbox-icon__unchecked svg{display:none}.tox input.tox-checkbox__input:checked+.tox-checkbox__icons .tox-checkbox-icon__checked svg{display:block}.tox input.tox-checkbox__input:indeterminate+.tox-checkbox__icons .tox-checkbox-icon__unchecked svg{display:none}.tox input.tox-checkbox__input:indeterminate+.tox-checkbox__icons .tox-checkbox-icon__indeterminate svg{display:block}.tox input.tox-checkbox__input:focus+.tox-checkbox__icons{border-radius:6px;box-shadow:inset 0 0 0 1px #006ce7;padding:calc(4px - 1px)}.tox:not([dir=rtl]) .tox-checkbox__label{margin-left:4px}.tox:not([dir=rtl]) .tox-checkbox__input{left:-10000px}.tox:not([dir=rtl]) .tox-bar .tox-checkbox{margin-left:4px}.tox[dir=rtl] .tox-checkbox__label{margin-right:4px}.tox[dir=rtl] .tox-checkbox__input{right:-10000px}.tox[dir=rtl] .tox-bar .tox-checkbox{margin-right:4px}.tox .tox-collection--toolbar .tox-collection__group{display:flex;padding:0}.tox .tox-collection--grid .tox-collection__group{display:flex;flex-wrap:wrap;max-height:208px;overflow-x:hidden;overflow-y:auto;padding:0}.tox .tox-collection--list .tox-collection__group{border-bottom-width:0;border-color:#e3e3e3;border-left-width:0;border-right-width:0;border-style:solid;border-top-width:1px;padding:4px 0}.tox .tox-collection--list .tox-collection__group:first-child{border-top-width:0}.tox .tox-collection__group-heading{background-color:#fcfcfc;color:rgba(34,47,62,.7);cursor:default;font-size:12px;font-style:normal;font-weight:400;margin-bottom:4px;margin-top:-4px;padding:4px 8px;text-transform:none;-webkit-touch-callout:none;-webkit-user-select:none;-moz-user-select:none;user-select:none}.tox .tox-collection__item{align-items:center;border-radius:3px;color:#222f3e;display:flex;-webkit-touch-callout:none;-webkit-user-select:none;-moz-user-select:none;user-select:none}.tox .tox-collection--list .tox-collection__item{padding:4px 8px}.tox .tox-collection--toolbar .tox-collection__item{border-radius:3px;padding:4px}.tox .tox-collection--grid .tox-collection__item{border-radius:3px;padding:4px}.tox .tox-collection--list .tox-collection__item--enabled{background-color:#fff;color:#222f3e}.tox .tox-collection--list .tox-collection__item--active{background-color:#006ce7}.tox .tox-collection--toolbar .tox-collection__item--enabled,.tox .tox-collection--toolbar .tox-collection__item--enabled.tox-collection__item--active,.tox .tox-collection--toolbar .tox-collection__item--enabled.tox-collection__item--active:hover{background-color:#a6ccf7;color:#222f3e}@media (forced-colors:active){.tox .tox-collection--toolbar .tox-collection__item--enabled,.tox .tox-collection--toolbar .tox-collection__item--enabled.tox-collection__item--active,.tox .tox-collection--toolbar .tox-collection__item--enabled.tox-collection__item--active:hover{border-radius:3px;outline:solid 1px}}.tox .tox-collection--toolbar .tox-collection__item--active{background-color:#fff;position:relative}.tox .tox-collection--toolbar .tox-collection__item--active:hover{background-color:#f0f0f0;color:#222f3e}.tox .tox-collection--toolbar .tox-collection__item--active:focus{background-color:#f0f0f0;color:#222f3e}.tox .tox-collection--toolbar .tox-collection__item--active:focus::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-collection--toolbar .tox-collection__item--active:focus::after{border:2px solid highlight}}.tox .tox-collection--grid .tox-collection__item--enabled{background-color:#a6ccf7;color:#222f3e}.tox .tox-collection--grid .tox-collection__item--active:not(.tox-collection__item--state-disabled){background-color:#f0f0f0;color:#222f3e;position:relative;z-index:1}.tox .tox-collection--grid .tox-collection__item--active:not(.tox-collection__item--state-disabled):focus::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7 inset;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-collection--grid .tox-collection__item--active:not(.tox-collection__item--state-disabled):focus::after{border:2px solid highlight}}.tox .tox-collection--list .tox-collection__item--active:not(.tox-collection__item--state-disabled){color:#fff}@media (forced-colors:active){.tox .tox-collection--list .tox-collection__item--active:not(.tox-collection__item--state-disabled){border:solid 1px}}.tox .tox-collection--toolbar .tox-collection__item--active:not(.tox-collection__item--state-disabled){color:#222f3e}@media (forced-colors:active){.tox .tox-collection--toolbar .tox-collection__item--active:not(.tox-collection__item--state-disabled):hover{border-radius:3px;outline:solid 1px}}.tox .tox-collection__item-checkmark,.tox .tox-collection__item-icon{align-items:center;display:flex;height:24px;justify-content:center;width:24px}.tox .tox-collection__item-checkmark svg,.tox .tox-collection__item-icon svg{fill:currentColor}.tox .tox-collection--toolbar-lg .tox-collection__item-icon{height:48px;width:48px}.tox .tox-collection__item-label{color:currentColor;display:inline-block;flex:1;font-size:14px;font-style:normal;font-weight:400;line-height:24px;max-width:100%;text-transform:none;word-break:break-all}.tox .tox-collection__item-accessory{color:currentColor;display:inline-block;font-size:14px;height:24px;line-height:24px;text-transform:none}.tox .tox-collection__item-caret{align-items:center;display:flex;min-height:24px}.tox .tox-collection__item-caret::after{content:'';font-size:0;min-height:inherit}.tox .tox-collection__item-caret svg{fill:currentColor}.tox .tox-collection__item--state-disabled{background-color:transparent;color:rgba(34,47,62,.5);cursor:not-allowed}.tox .tox-collection__item--state-disabled .tox-collection__item-caret svg{fill:rgba(34,47,62,.5)}.tox .tox-collection--list .tox-collection__item:not(.tox-collection__item--enabled) .tox-collection__item-checkmark svg{display:none}.tox .tox-collection--list .tox-collection__item:not(.tox-collection__item--enabled) .tox-collection__item-accessory+.tox-collection__item-checkmark{display:none}.tox .tox-collection--horizontal{background-color:#fff;border:1px solid #e3e3e3;border-radius:6px;box-shadow:0 0 2px 0 rgba(34,47,62,.2),0 4px 8px 0 rgba(34,47,62,.15);display:flex;flex:0 0 auto;flex-shrink:0;flex-wrap:nowrap;margin-bottom:0;overflow-x:auto;padding:0}.tox .tox-collection--horizontal .tox-collection__group{align-items:center;display:flex;flex-wrap:nowrap;margin:0;padding:0 4px}.tox .tox-collection--horizontal .tox-collection__item{height:28px;margin:6px 1px 5px 0;padding:0 4px}.tox .tox-collection--horizontal .tox-collection__item-label{white-space:nowrap}.tox .tox-collection--horizontal .tox-collection__item-caret{margin-left:4px}.tox .tox-collection__item-container{display:flex}.tox .tox-collection__item-container--row{align-items:center;flex:1 1 auto;flex-direction:row}.tox .tox-collection__item-container--row.tox-collection__item-container--align-left{margin-right:auto}.tox .tox-collection__item-container--row.tox-collection__item-container--align-right{justify-content:flex-end;margin-left:auto}.tox .tox-collection__item-container--row.tox-collection__item-container--valign-top{align-items:flex-start;margin-bottom:auto}.tox .tox-collection__item-container--row.tox-collection__item-container--valign-middle{align-items:center}.tox .tox-collection__item-container--row.tox-collection__item-container--valign-bottom{align-items:flex-end;margin-top:auto}.tox .tox-collection__item-container--column{align-self:center;flex:1 1 auto;flex-direction:column}.tox .tox-collection__item-container--column.tox-collection__item-container--align-left{align-items:flex-start}.tox .tox-collection__item-container--column.tox-collection__item-container--align-right{align-items:flex-end}.tox .tox-collection__item-container--column.tox-collection__item-container--valign-top{align-self:flex-start}.tox .tox-collection__item-container--column.tox-collection__item-container--valign-middle{align-self:center}.tox .tox-collection__item-container--column.tox-collection__item-container--valign-bottom{align-self:flex-end}.tox:not([dir=rtl]) .tox-collection--horizontal .tox-collection__group:not(:last-of-type){border-right:1px solid transparent}.tox:not([dir=rtl]) .tox-collection--list .tox-collection__item>:not(:first-child){margin-left:8px}.tox:not([dir=rtl]) .tox-collection--list .tox-collection__item>.tox-collection__item-label:first-child{margin-left:4px}.tox:not([dir=rtl]) .tox-collection__item-accessory{margin-left:16px;text-align:right}.tox:not([dir=rtl]) .tox-collection .tox-collection__item-caret{margin-left:16px}.tox[dir=rtl] .tox-collection--horizontal .tox-collection__group:not(:last-of-type){border-left:1px solid transparent}.tox[dir=rtl] .tox-collection--list .tox-collection__item>:not(:first-child){margin-right:8px}.tox[dir=rtl] .tox-collection--list .tox-collection__item>.tox-collection__item-label:first-child{margin-right:4px}.tox[dir=rtl] .tox-collection__item-accessory{margin-right:16px;text-align:left}.tox[dir=rtl] .tox-collection .tox-collection__item-caret{margin-right:16px;transform:rotateY(180deg)}.tox[dir=rtl] .tox-collection--horizontal .tox-collection__item-caret{margin-right:4px}@media (forced-colors:active){.tox .tox-hue-slider,.tox .tox-rgb-form .tox-rgba-preview{background-color:currentColor!important;border:1px solid highlight!important;forced-color-adjust:none}}.tox .tox-color-picker-container{display:flex;flex-direction:row;height:225px;margin:0}.tox .tox-sv-palette{box-sizing:border-box;display:flex;height:100%}.tox .tox-sv-palette-spectrum{height:100%}.tox .tox-sv-palette,.tox .tox-sv-palette-spectrum{width:225px}.tox .tox-sv-palette-thumb{background:0 0;border:1px solid #000;border-radius:50%;box-sizing:content-box;height:12px;position:absolute;width:12px}.tox .tox-sv-palette-inner-thumb{border:1px solid #fff;border-radius:50%;height:10px;position:absolute;width:10px}.tox .tox-hue-slider{box-sizing:border-box;height:100%;width:25px}.tox .tox-hue-slider-spectrum{background:linear-gradient(to bottom,red,#ff0080,#f0f,#8000ff,#00f,#0080ff,#0ff,#00ff80,#0f0,#80ff00,#ff0,#ff8000,red);height:100%;width:100%}.tox .tox-hue-slider,.tox .tox-hue-slider-spectrum{width:20px}.tox .tox-hue-slider-spectrum:focus,.tox .tox-sv-palette-spectrum:focus{outline:#08f solid}.tox .tox-hue-slider-thumb{background:#fff;border:1px solid #000;box-sizing:content-box;height:4px;width:100%}.tox .tox-rgb-form{display:flex;flex-direction:column;justify-content:space-between}.tox .tox-rgb-form div{align-items:center;display:flex;justify-content:space-between;margin-bottom:5px;width:inherit}.tox .tox-rgb-form input{width:6em}.tox .tox-rgb-form input.tox-invalid{border:1px solid red!important}.tox .tox-rgb-form .tox-rgba-preview{border:1px solid #000;flex-grow:2;margin-bottom:0}.tox:not([dir=rtl]) .tox-sv-palette{margin-right:15px}.tox:not([dir=rtl]) .tox-hue-slider{margin-right:15px}.tox:not([dir=rtl]) .tox-hue-slider-thumb{margin-left:-1px}.tox:not([dir=rtl]) .tox-rgb-form label{margin-right:.5em}.tox[dir=rtl] .tox-sv-palette{margin-left:15px}.tox[dir=rtl] .tox-hue-slider{margin-left:15px}.tox[dir=rtl] .tox-hue-slider-thumb{margin-right:-1px}.tox[dir=rtl] .tox-rgb-form label{margin-left:.5em}.tox .tox-toolbar .tox-swatches,.tox .tox-toolbar__overflow .tox-swatches,.tox .tox-toolbar__primary .tox-swatches{margin:5px 0 6px 11px}.tox .tox-collection--list .tox-collection__group .tox-swatches-menu{border:0;margin:-4px -4px}.tox .tox-swatches__row{display:flex}@media (forced-colors:active){.tox .tox-swatches__row{forced-color-adjust:none}}.tox .tox-swatch{height:30px;transition:transform .15s,box-shadow .15s;width:30px}.tox .tox-swatch:focus,.tox .tox-swatch:hover{box-shadow:0 0 0 1px rgba(127,127,127,.3) inset;transform:scale(.8)}.tox .tox-swatch--remove{align-items:center;display:flex;justify-content:center}.tox .tox-swatch--remove svg path{stroke:#e74c3c}.tox .tox-swatches__picker-btn{align-items:center;background-color:transparent;border:0;cursor:pointer;display:flex;height:30px;justify-content:center;outline:0;padding:0;width:30px}.tox .tox-swatches__picker-btn svg{fill:#222f3e;height:24px;width:24px}.tox .tox-swatches__picker-btn:hover{background:#f0f0f0}.tox div.tox-swatch:not(.tox-swatch--remove) svg{display:none;fill:#222f3e;height:24px;margin:calc((30px - 24px)/ 2) calc((30px - 24px)/ 2);width:24px}.tox div.tox-swatch:not(.tox-swatch--remove) svg path{fill:#fff;paint-order:stroke;stroke:#222f3e;stroke-width:2px}.tox div.tox-swatch:not(.tox-swatch--remove).tox-collection__item--enabled svg{display:block}.tox:not([dir=rtl]) .tox-swatches__picker-btn{margin-left:auto}.tox[dir=rtl] .tox-swatches__picker-btn{margin-right:auto}.tox .tox-comment-thread{background:#fff;position:relative}.tox .tox-comment-thread>:not(:first-child){margin-top:8px}.tox .tox-comment{background:#fff;border:1px solid #eee;border-radius:6px;box-shadow:0 4px 8px 0 rgba(34,47,62,.1);padding:8px 8px 16px 8px;position:relative}.tox .tox-comment__header{align-items:center;color:#222f3e;display:flex;justify-content:space-between}.tox .tox-comment__date{color:#222f3e;font-size:12px;line-height:18px}.tox .tox-comment__body{color:#222f3e;font-size:14px;font-style:normal;font-weight:400;line-height:1.3;margin-top:8px;position:relative;text-transform:initial}.tox .tox-comment__body textarea{resize:none;white-space:normal;width:100%}.tox .tox-comment__expander{padding-top:8px}.tox .tox-comment__expander p{color:rgba(34,47,62,.7);font-size:14px;font-style:normal}.tox .tox-comment__body p{margin:0}.tox .tox-comment__buttonspacing{padding-top:16px;text-align:center}.tox .tox-comment-thread__overlay::after{background:#fff;bottom:0;content:"";display:flex;left:0;opacity:.9;position:absolute;right:0;top:0;z-index:5}.tox .tox-comment__reply{display:flex;flex-shrink:0;flex-wrap:wrap;justify-content:flex-end;margin-top:8px}.tox .tox-comment__reply>:first-child{margin-bottom:8px;width:100%}.tox .tox-comment__edit{display:flex;flex-wrap:wrap;justify-content:flex-end;margin-top:16px}.tox .tox-comment__gradient::after{background:linear-gradient(rgba(255,255,255,0),#fff);bottom:0;content:"";display:block;height:5em;margin-top:-40px;position:absolute;width:100%}.tox .tox-comment__overlay{background:#fff;bottom:0;display:flex;flex-direction:column;flex-grow:1;left:0;opacity:.9;position:absolute;right:0;text-align:center;top:0;z-index:5}.tox .tox-comment__loading-text{align-items:center;color:#222f3e;display:flex;flex-direction:column;position:relative}.tox .tox-comment__loading-text>div{padding-bottom:16px}.tox .tox-comment__overlaytext{bottom:0;flex-direction:column;font-size:14px;left:0;padding:1em;position:absolute;right:0;top:0;z-index:10}.tox .tox-comment__overlaytext p{background-color:#fff;box-shadow:0 0 8px 8px #fff;color:#222f3e;text-align:center}.tox .tox-comment__overlaytext div:nth-of-type(2){font-size:.8em}.tox .tox-comment__busy-spinner{align-items:center;background-color:#fff;bottom:0;display:flex;justify-content:center;left:0;position:absolute;right:0;top:0;z-index:20}.tox .tox-comment__scroll{display:flex;flex-direction:column;flex-shrink:1;overflow:auto}.tox .tox-conversations{margin:8px}.tox:not([dir=rtl]) .tox-comment__edit{margin-left:8px}.tox:not([dir=rtl]) .tox-comment__buttonspacing>:last-child,.tox:not([dir=rtl]) .tox-comment__edit>:last-child,.tox:not([dir=rtl]) .tox-comment__reply>:last-child{margin-left:8px}.tox[dir=rtl] .tox-comment__edit{margin-right:8px}.tox[dir=rtl] .tox-comment__buttonspacing>:last-child,.tox[dir=rtl] .tox-comment__edit>:last-child,.tox[dir=rtl] .tox-comment__reply>:last-child{margin-right:8px}.tox .tox-user{align-items:center;display:flex}.tox .tox-user__avatar svg{fill:rgba(34,47,62,.7)}.tox .tox-user__avatar img{border-radius:50%;height:36px;object-fit:cover;vertical-align:middle;width:36px}.tox .tox-user__name{color:#222f3e;font-size:14px;font-style:normal;font-weight:700;line-height:18px;text-transform:none}.tox:not([dir=rtl]) .tox-user__avatar img,.tox:not([dir=rtl]) .tox-user__avatar svg{margin-right:8px}.tox:not([dir=rtl]) .tox-user__avatar+.tox-user__name{margin-left:8px}.tox[dir=rtl] .tox-user__avatar img,.tox[dir=rtl] .tox-user__avatar svg{margin-left:8px}.tox[dir=rtl] .tox-user__avatar+.tox-user__name{margin-right:8px}.tox .tox-dialog-wrap{align-items:center;bottom:0;display:flex;justify-content:center;left:0;position:fixed;right:0;top:0;z-index:1100}.tox .tox-dialog-wrap__backdrop{background-color:rgba(255,255,255,.75);bottom:0;left:0;position:absolute;right:0;top:0;z-index:1}.tox .tox-dialog-wrap__backdrop--opaque{background-color:#fff}.tox .tox-dialog{background-color:#fff;border-color:#eee;border-radius:10px;border-style:solid;border-width:0;box-shadow:0 16px 16px -10px rgba(34,47,62,.15),0 0 40px 1px rgba(34,47,62,.15);display:flex;flex-direction:column;max-height:100%;max-width:480px;overflow:hidden;position:relative;width:95vw;z-index:2}@media only screen and (max-width:767px){body:not(.tox-force-desktop) .tox .tox-dialog{align-self:flex-start;margin:8px auto;max-height:calc(100vh - 8px * 2);width:calc(100vw - 16px)}}.tox .tox-dialog-inline{z-index:1100}.tox .tox-dialog__header{align-items:center;background-color:#fff;border-bottom:none;color:#222f3e;display:flex;font-size:16px;justify-content:space-between;padding:8px 16px 0 16px;position:relative}.tox .tox-dialog__header .tox-button{z-index:1}.tox .tox-dialog__draghandle{cursor:grab;height:100%;left:0;position:absolute;top:0;width:100%}.tox .tox-dialog__draghandle:active{cursor:grabbing}.tox .tox-dialog__dismiss{margin-left:auto}.tox .tox-dialog__title{font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;font-size:20px;font-style:normal;font-weight:400;line-height:1.3;margin:0;text-transform:none}.tox .tox-dialog__body{color:#222f3e;display:flex;flex:1;font-size:16px;font-style:normal;font-weight:400;line-height:1.3;min-width:0;text-align:left;text-transform:none}@media only screen and (max-width:767px){body:not(.tox-force-desktop) .tox .tox-dialog__body{flex-direction:column}}.tox .tox-dialog__body-nav{align-items:flex-start;display:flex;flex-direction:column;flex-shrink:0;padding:16px 16px}@media only screen and (min-width:768px){.tox .tox-dialog__body-nav{max-width:11em}}@media only screen and (max-width:767px){body:not(.tox-force-desktop) .tox .tox-dialog__body-nav{flex-direction:row;-webkit-overflow-scrolling:touch;overflow-x:auto;padding-bottom:0}}.tox .tox-dialog__body-nav-item{border-bottom:2px solid transparent;color:rgba(34,47,62,.7);display:inline-block;flex-shrink:0;font-size:14px;line-height:1.3;margin-bottom:8px;max-width:13em;text-decoration:none}.tox .tox-dialog__body-nav-item:focus{background-color:rgba(0,108,231,.1)}.tox .tox-dialog__body-nav-item--active{border-bottom:2px solid #006ce7;color:#006ce7}@media (forced-colors:active){.tox .tox-dialog__body-nav-item--active{border-bottom:2px solid highlight;color:highlight}}.tox .tox-dialog__body-content{box-sizing:border-box;display:flex;flex:1;flex-direction:column;max-height:min(650px,calc(100vh - 110px));overflow:auto;-webkit-overflow-scrolling:touch;padding:16px 16px}.tox .tox-dialog__body-content>*{margin-bottom:0;margin-top:16px}.tox .tox-dialog__body-content>:first-child{margin-top:0}.tox .tox-dialog__body-content>:last-child{margin-bottom:0}.tox .tox-dialog__body-content>:only-child{margin-bottom:0;margin-top:0}.tox .tox-dialog__body-content a{color:#006ce7;cursor:pointer;text-decoration:underline}.tox .tox-dialog__body-content a:focus,.tox .tox-dialog__body-content a:hover{color:#003c81;text-decoration:underline}.tox .tox-dialog__body-content a:focus-visible{border-radius:1px;outline:2px solid #006ce7;outline-offset:2px}.tox .tox-dialog__body-content a:active{color:#00244e;text-decoration:underline}.tox .tox-dialog__body-content svg{fill:#222f3e}.tox .tox-dialog__body-content strong{font-weight:700}.tox .tox-dialog__body-content ul{list-style-type:disc}.tox .tox-dialog__body-content dd,.tox .tox-dialog__body-content ol,.tox .tox-dialog__body-content ul{padding-inline-start:2.5rem}.tox .tox-dialog__body-content dl,.tox .tox-dialog__body-content ol,.tox .tox-dialog__body-content ul{margin-bottom:16px}.tox .tox-dialog__body-content dd,.tox .tox-dialog__body-content dl,.tox .tox-dialog__body-content dt,.tox .tox-dialog__body-content ol,.tox .tox-dialog__body-content ul{display:block;margin-inline-end:0;margin-inline-start:0}.tox .tox-dialog__body-content .tox-form__group h1{color:#222f3e;font-size:20px;font-style:normal;font-weight:700;letter-spacing:normal;margin-bottom:16px;margin-top:2rem;text-transform:none}.tox .tox-dialog__body-content .tox-form__group h2{color:#222f3e;font-size:16px;font-style:normal;font-weight:700;letter-spacing:normal;margin-bottom:16px;margin-top:2rem;text-transform:none}.tox .tox-dialog__body-content .tox-form__group p{margin-bottom:16px}.tox .tox-dialog__body-content .tox-form__group h1:first-child,.tox .tox-dialog__body-content .tox-form__group h2:first-child,.tox .tox-dialog__body-content .tox-form__group p:first-child{margin-top:0}.tox .tox-dialog__body-content .tox-form__group h1:last-child,.tox .tox-dialog__body-content .tox-form__group h2:last-child,.tox .tox-dialog__body-content .tox-form__group p:last-child{margin-bottom:0}.tox .tox-dialog__body-content .tox-form__group h1:only-child,.tox .tox-dialog__body-content .tox-form__group h2:only-child,.tox .tox-dialog__body-content .tox-form__group p:only-child{margin-bottom:0;margin-top:0}.tox .tox-dialog__body-content .tox-form__group .tox-label.tox-label--center{text-align:center}.tox .tox-dialog__body-content .tox-form__group .tox-label.tox-label--end{text-align:end}.tox .tox-dialog--width-lg{height:650px;max-width:1200px}.tox .tox-dialog--fullscreen{height:100%;max-width:100%}.tox .tox-dialog--fullscreen .tox-dialog__body-content{max-height:100%}.tox .tox-dialog--width-md{max-width:800px}.tox .tox-dialog--width-md .tox-dialog__body-content{overflow:auto}.tox .tox-dialog__body-content--centered{text-align:center}.tox .tox-dialog__footer{align-items:center;background-color:#fff;border-top:none;display:flex;justify-content:space-between;padding:8px 16px}.tox .tox-dialog__footer-end,.tox .tox-dialog__footer-start{display:flex}.tox .tox-dialog__busy-spinner{align-items:center;background-color:rgba(255,255,255,.75);bottom:0;display:flex;justify-content:center;left:0;position:absolute;right:0;top:0;z-index:3}.tox .tox-dialog__table{border-collapse:collapse;width:100%}.tox .tox-dialog__table thead th{font-weight:700;padding-bottom:8px}.tox .tox-dialog__table thead th:first-child{padding-right:8px}.tox .tox-dialog__table tbody tr{border-bottom:1px solid #626262}.tox .tox-dialog__table tbody tr:last-child{border-bottom:none}.tox .tox-dialog__table td{padding-bottom:8px;padding-top:8px}.tox .tox-dialog__table td:first-child{padding-right:8px}.tox .tox-dialog__iframe{min-height:200px}.tox .tox-dialog__iframe.tox-dialog__iframe--opaque{background:#fff}.tox .tox-navobj-bordered{position:relative}.tox .tox-navobj-bordered::before{border:1px solid #eee;border-radius:6px;content:'';inset:0;opacity:1;pointer-events:none;position:absolute;z-index:1}.tox .tox-navobj-bordered iframe{border-radius:6px}.tox .tox-navobj-bordered-focus.tox-navobj-bordered::before{border-color:#006ce7;box-shadow:0 0 0 1px #006ce7;outline:0}.tox .tox-dialog__popups{position:absolute;width:100%;z-index:1100}.tox .tox-dialog__body-iframe{display:flex;flex:1;flex-direction:column}.tox .tox-dialog__body-iframe .tox-navobj{display:flex;flex:1}.tox .tox-dialog__body-iframe .tox-navobj :nth-child(2){flex:1;height:100%}.tox .tox-dialog-dock-fadeout{opacity:0;visibility:hidden}.tox .tox-dialog-dock-fadein{opacity:1;visibility:visible}.tox .tox-dialog-dock-transition{transition:visibility 0s linear .3s,opacity .3s ease}.tox .tox-dialog-dock-transition.tox-dialog-dock-fadein{transition-delay:0s}@media only screen and (max-width:767px){body:not(.tox-force-desktop) .tox:not([dir=rtl]) .tox-dialog__body-nav{margin-right:0}}@media only screen and (max-width:767px){body:not(.tox-force-desktop) .tox:not([dir=rtl]) .tox-dialog__body-nav-item:not(:first-child){margin-left:8px}}.tox:not([dir=rtl]) .tox-dialog__footer .tox-dialog__footer-end>*,.tox:not([dir=rtl]) .tox-dialog__footer .tox-dialog__footer-start>*{margin-left:8px}.tox[dir=rtl] .tox-dialog__body{text-align:right}@media only screen and (max-width:767px){body:not(.tox-force-desktop) .tox[dir=rtl] .tox-dialog__body-nav{margin-left:0}}@media only screen and (max-width:767px){body:not(.tox-force-desktop) .tox[dir=rtl] .tox-dialog__body-nav-item:not(:first-child){margin-right:8px}}.tox[dir=rtl] .tox-dialog__footer .tox-dialog__footer-end>*,.tox[dir=rtl] .tox-dialog__footer .tox-dialog__footer-start>*{margin-right:8px}body.tox-dialog__disable-scroll{overflow:hidden}.tox .tox-dropzone-container{display:flex;flex:1}.tox .tox-dropzone{align-items:center;background:#fff;border:2px dashed #eee;box-sizing:border-box;display:flex;flex-direction:column;flex-grow:1;justify-content:center;min-height:100px;padding:10px}.tox .tox-dropzone p{color:rgba(34,47,62,.7);margin:0 0 16px 0}.tox .tox-edit-area{display:flex;flex:1;overflow:hidden;position:relative}.tox .tox-edit-area::before{border:2px solid #006ce7;border-radius:4px;content:'';inset:0;opacity:0;pointer-events:none;position:absolute;transition:opacity .15s;z-index:1}@media (forced-colors:active){.tox .tox-edit-area::before{border:2px solid highlight}}.tox .tox-edit-area__iframe{background-color:#fff;border:0;box-sizing:border-box;flex:1;height:100%;position:absolute;width:100%}.tox.tox-edit-focus .tox-edit-area::before{opacity:1}.tox.tox-inline-edit-area{border:1px dotted #eee}.tox .tox-editor-container{display:flex;flex:1 1 auto;flex-direction:column;overflow:hidden}.tox .tox-editor-header{display:grid;grid-template-columns:1fr min-content;z-index:2}.tox:not(.tox-tinymce-inline) .tox-editor-header{background-color:#fff;border-bottom:none;box-shadow:0 2px 2px -2px rgba(34,47,62,.1),0 8px 8px -4px rgba(34,47,62,.07);padding:4px 0}.tox:not(.tox-tinymce-inline) .tox-editor-header:not(.tox-editor-dock-transition){transition:box-shadow .5s}.tox:not(.tox-tinymce-inline).tox-tinymce--toolbar-bottom .tox-editor-header{border-top:1px solid #e3e3e3;box-shadow:none}.tox:not(.tox-tinymce-inline).tox-tinymce--toolbar-sticky-on .tox-editor-header{background-color:#fff;box-shadow:0 2px 2px -2px rgba(34,47,62,.2),0 8px 8px -4px rgba(34,47,62,.15);padding:4px 0}.tox:not(.tox-tinymce-inline).tox-tinymce--toolbar-sticky-on.tox-tinymce--toolbar-bottom .tox-editor-header{box-shadow:0 2px 2px -2px rgba(34,47,62,.2),0 8px 8px -4px rgba(34,47,62,.15)}.tox.tox:not(.tox-tinymce-inline) .tox-editor-header.tox-editor-header--empty{background:0 0;border:none;box-shadow:none;padding:0}.tox-editor-dock-fadeout{opacity:0;visibility:hidden}.tox-editor-dock-fadein{opacity:1;visibility:visible}.tox-editor-dock-transition{transition:visibility 0s linear .25s,opacity .25s ease}.tox-editor-dock-transition.tox-editor-dock-fadein{transition-delay:0s}.tox .tox-control-wrap{flex:1;position:relative}.tox .tox-control-wrap:not(.tox-control-wrap--status-invalid) .tox-control-wrap__status-icon-invalid,.tox .tox-control-wrap:not(.tox-control-wrap--status-unknown) .tox-control-wrap__status-icon-unknown,.tox .tox-control-wrap:not(.tox-control-wrap--status-valid) .tox-control-wrap__status-icon-valid{display:none}.tox .tox-control-wrap svg{display:block}.tox .tox-control-wrap__status-icon-wrap{position:absolute;top:50%;transform:translateY(-50%)}.tox .tox-control-wrap__status-icon-invalid svg{fill:#c00}.tox .tox-control-wrap__status-icon-unknown svg{fill:orange}.tox .tox-control-wrap__status-icon-valid svg{fill:green}.tox:not([dir=rtl]) .tox-control-wrap--status-invalid .tox-textfield,.tox:not([dir=rtl]) .tox-control-wrap--status-unknown .tox-textfield,.tox:not([dir=rtl]) .tox-control-wrap--status-valid .tox-textfield{padding-right:32px}.tox:not([dir=rtl]) .tox-control-wrap__status-icon-wrap{right:4px}.tox[dir=rtl] .tox-control-wrap--status-invalid .tox-textfield,.tox[dir=rtl] .tox-control-wrap--status-unknown .tox-textfield,.tox[dir=rtl] .tox-control-wrap--status-valid .tox-textfield{padding-left:32px}.tox[dir=rtl] .tox-control-wrap__status-icon-wrap{left:4px}.tox .tox-autocompleter{max-width:25em}.tox .tox-autocompleter .tox-menu{box-sizing:border-box;max-width:25em}.tox .tox-autocompleter .tox-autocompleter-highlight{font-weight:700}.tox .tox-color-input{display:flex;position:relative;z-index:1}.tox .tox-color-input .tox-textfield{z-index:-1}.tox .tox-color-input span{border-color:rgba(34,47,62,.2);border-radius:6px;border-style:solid;border-width:1px;box-shadow:none;box-sizing:border-box;height:24px;position:absolute;top:6px;width:24px}@media (forced-colors:active){.tox .tox-color-input span{border-color:currentColor;border-width:2px!important;forced-color-adjust:none}}.tox .tox-color-input span:focus:not([aria-disabled=true]),.tox .tox-color-input span:hover:not([aria-disabled=true]){border-color:#006ce7;cursor:pointer}.tox .tox-color-input span::before{background-image:linear-gradient(45deg,rgba(0,0,0,.25) 25%,transparent 25%),linear-gradient(-45deg,rgba(0,0,0,.25) 25%,transparent 25%),linear-gradient(45deg,transparent 75%,rgba(0,0,0,.25) 75%),linear-gradient(-45deg,transparent 75%,rgba(0,0,0,.25) 75%);background-position:0 0,0 6px,6px -6px,-6px 0;background-size:12px 12px;border:1px solid #fff;border-radius:6px;box-sizing:border-box;content:'';height:24px;left:-1px;position:absolute;top:-1px;width:24px;z-index:-1}@media (forced-colors:active){.tox .tox-color-input span::before{border:none}}.tox .tox-color-input span[aria-disabled=true]{cursor:not-allowed}.tox:not([dir=rtl]) .tox-color-input .tox-textfield{padding-left:36px}.tox:not([dir=rtl]) .tox-color-input span{left:6px}.tox[dir=rtl] .tox-color-input .tox-textfield{padding-right:36px}.tox[dir=rtl] .tox-color-input span{right:6px}.tox .tox-label,.tox .tox-toolbar-label{color:rgba(34,47,62,.7);display:block;font-size:14px;font-style:normal;font-weight:400;line-height:1.3;padding:0 8px 0 0;text-transform:none;white-space:nowrap}.tox .tox-toolbar-label{padding:0 8px}.tox[dir=rtl] .tox-label{padding:0 0 0 8px}.tox .tox-form{display:flex;flex:1;flex-direction:column}.tox .tox-form__group{box-sizing:border-box;margin-bottom:4px}.tox .tox-form-group--maximize{flex:1}.tox .tox-form__group--error{color:#c00}.tox .tox-form__group--collection{display:flex}.tox .tox-form__grid{display:flex;flex-direction:row;flex-wrap:wrap;justify-content:space-between}.tox .tox-form__grid--2col>.tox-form__group{width:calc(50% - (8px / 2))}.tox .tox-form__grid--3col>.tox-form__group{width:calc(100% / 3 - (8px / 2))}.tox .tox-form__grid--4col>.tox-form__group{width:calc(25% - (8px / 2))}.tox .tox-form__controls-h-stack{align-items:center;display:flex}.tox .tox-form__group--inline{align-items:center;display:flex}.tox .tox-form__group--stretched{display:flex;flex:1;flex-direction:column}.tox .tox-form__group--stretched .tox-textarea{flex:1}.tox .tox-form__group--stretched .tox-navobj{display:flex;flex:1}.tox .tox-form__group--stretched .tox-navobj :nth-child(2){flex:1;height:100%}.tox:not([dir=rtl]) .tox-form__controls-h-stack>:not(:first-child){margin-left:4px}.tox[dir=rtl] .tox-form__controls-h-stack>:not(:first-child){margin-right:4px}.tox .tox-lock.tox-locked .tox-lock-icon__unlock,.tox .tox-lock:not(.tox-locked) .tox-lock-icon__lock{display:none}.tox .tox-listboxfield .tox-listbox--select,.tox .tox-textarea,.tox .tox-textarea-wrap .tox-textarea:focus,.tox .tox-textfield,.tox .tox-toolbar-textfield{-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:#fff;border-color:#eee;border-radius:6px;border-style:solid;border-width:1px;box-shadow:none;box-sizing:border-box;color:#222f3e;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;font-size:16px;line-height:24px;margin:0;min-height:34px;outline:0;padding:5px 5.5px;resize:none;width:100%}.tox .tox-textarea[disabled],.tox .tox-textfield[disabled]{background-color:#f2f2f2;color:rgba(34,47,62,.85);cursor:not-allowed}.tox .tox-custom-editor:focus-within,.tox .tox-listboxfield .tox-listbox--select:focus,.tox .tox-textarea-wrap:focus-within,.tox .tox-textarea:focus,.tox .tox-textfield:focus{background-color:#fff;border-color:#006ce7;box-shadow:0 0 0 1px #006ce7;outline:0}.tox .tox-toolbar-textfield{border-width:0;margin-bottom:3px;margin-top:2px;max-width:250px}.tox .tox-naked-btn{background-color:transparent;border:0;border-color:transparent;box-shadow:unset;color:#006ce7;cursor:pointer;display:block;margin:0;padding:0}.tox .tox-naked-btn svg{display:block;fill:#222f3e}.tox:not([dir=rtl]) .tox-toolbar-textfield+*{margin-left:4px}.tox[dir=rtl] .tox-toolbar-textfield+*{margin-right:4px}.tox .tox-listboxfield{cursor:pointer;position:relative}.tox .tox-listboxfield .tox-listbox--select[disabled]{background-color:#f2f2f2;color:rgba(34,47,62,.85);cursor:not-allowed}.tox .tox-listbox__select-label{cursor:default;flex:1;margin:0 4px}.tox .tox-listbox__select-chevron{align-items:center;display:flex;justify-content:center;width:16px}.tox .tox-listbox__select-chevron svg{fill:#222f3e}@media (forced-colors:active){.tox .tox-listbox__select-chevron svg{fill:currentColor!important}}.tox .tox-listboxfield .tox-listbox--select{align-items:center;display:flex}.tox:not([dir=rtl]) .tox-listboxfield svg{right:8px}.tox[dir=rtl] .tox-listboxfield svg{left:8px}.tox .tox-selectfield{cursor:pointer;position:relative}.tox .tox-selectfield select{-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:#fff;border-color:#eee;border-radius:6px;border-style:solid;border-width:1px;box-shadow:none;box-sizing:border-box;color:#222f3e;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;font-size:16px;line-height:24px;margin:0;min-height:34px;outline:0;padding:5px 5.5px;resize:none;width:100%}.tox .tox-selectfield select[disabled]{background-color:#f2f2f2;color:rgba(34,47,62,.85);cursor:not-allowed}.tox .tox-selectfield select::-ms-expand{display:none}.tox .tox-selectfield select:focus{background-color:#fff;border-color:#006ce7;box-shadow:0 0 0 1px #006ce7;outline:0}.tox .tox-selectfield svg{pointer-events:none;position:absolute;top:50%;transform:translateY(-50%)}.tox:not([dir=rtl]) .tox-selectfield select[size="0"],.tox:not([dir=rtl]) .tox-selectfield select[size="1"]{padding-right:24px}.tox:not([dir=rtl]) .tox-selectfield svg{right:8px}.tox[dir=rtl] .tox-selectfield select[size="0"],.tox[dir=rtl] .tox-selectfield select[size="1"]{padding-left:24px}.tox[dir=rtl] .tox-selectfield svg{left:8px}.tox .tox-textarea-wrap{border-color:#eee;border-radius:6px;border-style:solid;border-width:1px;display:flex;flex:1;overflow:hidden}.tox .tox-textarea{-webkit-appearance:textarea;-moz-appearance:textarea;appearance:textarea;white-space:pre-wrap}.tox .tox-textarea-wrap .tox-textarea{border:none}.tox .tox-textarea-wrap .tox-textarea:focus{border:none}.tox-fullscreen{border:0;height:100%;margin:0;overflow:hidden;overscroll-behavior:none;padding:0;touch-action:pinch-zoom;width:100%}.tox.tox-tinymce.tox-fullscreen .tox-statusbar__resize-handle{display:none}.tox-shadowhost.tox-fullscreen,.tox.tox-tinymce.tox-fullscreen{left:0;position:fixed;top:0;z-index:1200}.tox.tox-tinymce.tox-fullscreen{background-color:transparent}.tox-fullscreen .tox.tox-tinymce-aux,.tox-fullscreen~.tox.tox-tinymce-aux{z-index:1201}.tox .tox-help__more-link{list-style:none;margin-top:1em}.tox .tox-imagepreview{background-color:#666;height:380px;overflow:hidden;position:relative;width:100%}.tox .tox-imagepreview.tox-imagepreview__loaded{overflow:auto}.tox .tox-imagepreview__container{display:flex;left:100vw;position:absolute;top:100vw}.tox .tox-imagepreview__image{background:url(data:image/gif;base64,R0lGODdhDAAMAIABAMzMzP///ywAAAAADAAMAAACFoQfqYeabNyDMkBQb81Uat85nxguUAEAOw==)}.tox .tox-image-tools .tox-spacer{flex:1}.tox .tox-image-tools .tox-bar{align-items:center;display:flex;height:60px;justify-content:center}.tox .tox-image-tools .tox-imagepreview,.tox .tox-image-tools .tox-imagepreview+.tox-bar{margin-top:8px}.tox .tox-image-tools .tox-croprect-block{background:#000;opacity:.5;position:absolute;zoom:1}.tox .tox-image-tools .tox-croprect-handle{border:2px solid #fff;height:20px;left:0;position:absolute;top:0;width:20px}.tox .tox-image-tools .tox-croprect-handle-move{border:0;cursor:move;position:absolute}.tox .tox-image-tools .tox-croprect-handle-nw{border-width:2px 0 0 2px;cursor:nw-resize;left:100px;margin:-2px 0 0 -2px;top:100px}.tox .tox-image-tools .tox-croprect-handle-ne{border-width:2px 2px 0 0;cursor:ne-resize;left:200px;margin:-2px 0 0 -20px;top:100px}.tox .tox-image-tools .tox-croprect-handle-sw{border-width:0 0 2px 2px;cursor:sw-resize;left:100px;margin:-20px 2px 0 -2px;top:200px}.tox .tox-image-tools .tox-croprect-handle-se{border-width:0 2px 2px 0;cursor:se-resize;left:200px;margin:-20px 0 0 -20px;top:200px}.tox .tox-insert-table-picker{background-color:#fff;display:flex;flex-wrap:wrap;width:170px}.tox .tox-insert-table-picker>div{border-color:#eee;border-style:solid;border-width:0 1px 1px 0;box-sizing:border-box;height:17px;width:17px}.tox .tox-collection--list .tox-collection__group .tox-insert-table-picker{margin:-4px -4px}.tox .tox-insert-table-picker .tox-insert-table-picker__selected{background-color:#006ce7;border-color:#eee}@media (forced-colors:active){.tox .tox-insert-table-picker .tox-insert-table-picker__selected{border-color:Highlight;filter:contrast(50%)}}.tox .tox-insert-table-picker__label{color:rgba(34,47,62,.7);display:block;font-size:14px;padding:4px;text-align:center;width:100%}.tox:not([dir=rtl]) .tox-insert-table-picker>div:nth-child(10n){border-right:0}.tox[dir=rtl] .tox-insert-table-picker>div:nth-child(10n+1){border-right:0}.tox .tox-menu{background-color:#fff;border:1px solid transparent;border-radius:6px;box-shadow:0 0 2px 0 rgba(34,47,62,.2),0 4px 8px 0 rgba(34,47,62,.15);display:inline-block;overflow:hidden;vertical-align:top;z-index:1150}.tox .tox-menu.tox-collection.tox-collection--list{padding:0 4px}.tox .tox-menu.tox-collection.tox-collection--toolbar{padding:8px}.tox .tox-menu.tox-collection.tox-collection--grid{padding:8px}@media only screen and (min-width:768px){.tox .tox-menu .tox-collection__item-label{overflow-wrap:break-word;word-break:normal}.tox .tox-dialog__popups .tox-menu .tox-collection__item-label{word-break:break-all}}.tox .tox-menu__label blockquote,.tox .tox-menu__label code,.tox .tox-menu__label h1,.tox .tox-menu__label h2,.tox .tox-menu__label h3,.tox .tox-menu__label h4,.tox .tox-menu__label h5,.tox .tox-menu__label h6,.tox .tox-menu__label p{margin:0}.tox .tox-menubar{background:repeating-linear-gradient(transparent 0 1px,transparent 1px 39px) center top 39px/100% calc(100% - 39px) no-repeat;background-color:#fff;display:flex;flex:0 0 auto;flex-shrink:0;flex-wrap:wrap;grid-column:1/-1;grid-row:1;padding:0 11px 0 12px}.tox .tox-promotion+.tox-menubar{grid-column:1}.tox .tox-promotion{background:repeating-linear-gradient(transparent 0 1px,transparent 1px 39px) center top 39px/100% calc(100% - 39px) no-repeat;background-color:#fff;grid-column:2;grid-row:1;padding-inline-end:8px;padding-inline-start:4px;padding-top:5px}.tox .tox-promotion-link{align-items:unsafe center;background-color:#e8f1f8;border-radius:5px;color:#086be6;cursor:pointer;display:flex;font-size:14px;height:26.6px;padding:4px 8px;white-space:nowrap}.tox .tox-promotion-link:hover{background-color:#b4d7ff}.tox .tox-promotion-link:focus{background-color:#d9edf7}.tox .tox-mbtn{align-items:center;background:#fff;border:0;border-radius:3px;box-shadow:none;color:#222f3e;display:flex;flex:0 0 auto;font-size:14px;font-style:normal;font-weight:400;height:28px;justify-content:center;margin:5px 1px 6px 0;outline:0;padding:0 4px;text-transform:none;width:auto}.tox .tox-mbtn[disabled]{background-color:#fff;border:0;box-shadow:none;color:rgba(34,47,62,.5);cursor:not-allowed}.tox .tox-mbtn:focus:not(:disabled){background:#fff;border:0;box-shadow:none;color:#222f3e;position:relative;z-index:1}.tox .tox-mbtn:focus:not(:disabled)::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-mbtn:focus:not(:disabled)::after{border:2px solid highlight}}.tox .tox-mbtn--active,.tox .tox-mbtn:not(:disabled).tox-mbtn--active:focus{background:#a6ccf7;border:0;box-shadow:none;color:#222f3e}.tox .tox-mbtn:hover:not(:disabled):not(.tox-mbtn--active){background:#f0f0f0;border:0;box-shadow:none;color:#222f3e}.tox .tox-mbtn__select-label{cursor:default;font-weight:400;margin:0 4px}.tox .tox-mbtn[disabled] .tox-mbtn__select-label{cursor:not-allowed}.tox .tox-mbtn__select-chevron{align-items:center;display:flex;justify-content:center;width:16px;display:none}.tox .tox-notification{border-radius:6px;border-style:solid;border-width:1px;box-shadow:none;box-sizing:border-box;display:grid;font-size:14px;font-weight:400;grid-template-columns:minmax(40px,1fr) auto minmax(40px,1fr);margin-left:auto;margin-right:auto;margin-top:4px;opacity:0;padding:4px;transition:transform .1s ease-in,opacity 150ms ease-in;width:-moz-max-content;width:max-content}.tox .tox-notification a{cursor:pointer;text-decoration:underline}.tox .tox-notification p{font-size:14px;font-weight:400}.tox .tox-notification:focus{border-color:#006ce7;box-shadow:0 0 0 1px #006ce7}.tox .tox-notification--in{opacity:1}.tox .tox-notification--success{background-color:#e4eeda;border-color:#d7e6c8;color:#222f3e}.tox .tox-notification--success p{color:#222f3e}.tox .tox-notification--success a{color:#517342}.tox .tox-notification--success a:focus,.tox .tox-notification--success a:hover{color:#24321d;text-decoration:underline}.tox .tox-notification--success a:focus-visible{border-radius:1px;outline:2px solid #517342;outline-offset:2px}.tox .tox-notification--success a:active{color:#0d120a;text-decoration:underline}.tox .tox-notification--success svg{fill:#222f3e}.tox .tox-notification--error{background-color:#f5cccc;border-color:#f0b3b3;color:#222f3e}.tox .tox-notification--error p{color:#222f3e}.tox .tox-notification--error a{color:#77181f}.tox .tox-notification--error a:focus,.tox .tox-notification--error a:hover{color:#220709;text-decoration:underline}.tox .tox-notification--error a:focus-visible{border-radius:1px;outline:2px solid #77181f;outline-offset:2px}.tox .tox-notification--error a:active{color:#000;text-decoration:underline}.tox .tox-notification--error svg{fill:#222f3e}.tox .tox-notification--warn,.tox .tox-notification--warning{background-color:#fff5cc;border-color:#fff0b3;color:#222f3e}.tox .tox-notification--warn p,.tox .tox-notification--warning p{color:#222f3e}.tox .tox-notification--warn a,.tox .tox-notification--warning a{color:#7a6e25}.tox .tox-notification--warn a:focus,.tox .tox-notification--warn a:hover,.tox .tox-notification--warning a:focus,.tox .tox-notification--warning a:hover{color:#2c280d;text-decoration:underline}.tox .tox-notification--warn a:focus-visible,.tox .tox-notification--warning a:focus-visible{border-radius:1px;outline:2px solid #7a6e25;outline-offset:2px}.tox .tox-notification--warn a:active,.tox .tox-notification--warning a:active{color:#050502;text-decoration:underline}.tox .tox-notification--warn svg,.tox .tox-notification--warning svg{fill:#222f3e}.tox .tox-notification--info{background-color:#d6e7fb;border-color:#c1dbf9;color:#222f3e}.tox .tox-notification--info p{color:#222f3e}.tox .tox-notification--info a{color:#2a64a6}.tox .tox-notification--info a:focus,.tox .tox-notification--info a:hover{color:#163355;text-decoration:underline}.tox .tox-notification--info a:focus-visible{border-radius:1px;outline:2px solid #2a64a6;outline-offset:2px}.tox .tox-notification--info a:active{color:#0b1a2c;text-decoration:underline}.tox .tox-notification--info svg{fill:#222f3e}.tox .tox-notification__body{align-self:center;color:#222f3e;font-size:14px;grid-column-end:3;grid-column-start:2;grid-row-end:2;grid-row-start:1;text-align:center;white-space:normal;word-break:break-all;word-break:break-word}.tox .tox-notification__body>*{margin:0}.tox .tox-notification__body>*+*{margin-top:1rem}.tox .tox-notification__icon{align-self:center;grid-column-end:2;grid-column-start:1;grid-row-end:2;grid-row-start:1;justify-self:end}.tox .tox-notification__icon svg{display:block}.tox .tox-notification__dismiss{align-self:start;grid-column-end:4;grid-column-start:3;grid-row-end:2;grid-row-start:1;justify-self:end}.tox .tox-notification .tox-progress-bar{grid-column-end:4;grid-column-start:1;grid-row-end:3;grid-row-start:2;justify-self:center}.tox .tox-notification-container-dock-fadeout{opacity:0;visibility:hidden}.tox .tox-notification-container-dock-fadein{opacity:1;visibility:visible}.tox .tox-notification-container-dock-transition{transition:visibility 0s linear .3s,opacity .3s ease}.tox .tox-notification-container-dock-transition.tox-notification-container-dock-fadein{transition-delay:0s}.tox .tox-pop{display:inline-block;position:relative}.tox .tox-pop--resizing{transition:width .1s ease}.tox .tox-pop--resizing .tox-toolbar,.tox .tox-pop--resizing .tox-toolbar__group{flex-wrap:nowrap}.tox .tox-pop--transition{transition:.15s ease;transition-property:left,right,top,bottom}.tox .tox-pop--transition::after,.tox .tox-pop--transition::before{transition:all .15s,visibility 0s,opacity 75ms ease 75ms}.tox .tox-pop__dialog{background-color:#fff;border:1px solid #eee;border-radius:6px;box-shadow:0 0 2px 0 rgba(34,47,62,.2),0 4px 8px 0 rgba(34,47,62,.15);min-width:0;overflow:hidden}.tox .tox-pop__dialog>:not(.tox-toolbar){margin:4px 4px 4px 8px}.tox .tox-pop__dialog .tox-toolbar{background-color:transparent;margin-bottom:-1px}.tox .tox-pop::after,.tox .tox-pop::before{border-style:solid;content:'';display:block;height:0;opacity:1;position:absolute;width:0}@media (forced-colors:active){.tox .tox-pop::after,.tox .tox-pop::before{content:none}}.tox .tox-pop.tox-pop--inset::after,.tox .tox-pop.tox-pop--inset::before{opacity:0;transition:all 0s .15s,visibility 0s,opacity 75ms ease}.tox .tox-pop.tox-pop--bottom::after,.tox .tox-pop.tox-pop--bottom::before{left:50%;top:100%}.tox .tox-pop.tox-pop--bottom::after{border-color:#fff transparent transparent transparent;border-width:8px;margin-left:-8px;margin-top:-1px}.tox .tox-pop.tox-pop--bottom::before{border-color:#eee transparent transparent transparent;border-width:9px;margin-left:-9px}.tox .tox-pop.tox-pop--top::after,.tox .tox-pop.tox-pop--top::before{left:50%;top:0;transform:translateY(-100%)}.tox .tox-pop.tox-pop--top::after{border-color:transparent transparent #fff transparent;border-width:8px;margin-left:-8px;margin-top:1px}.tox .tox-pop.tox-pop--top::before{border-color:transparent transparent #eee transparent;border-width:9px;margin-left:-9px}.tox .tox-pop.tox-pop--left::after,.tox .tox-pop.tox-pop--left::before{left:0;top:calc(50% - 1px);transform:translateY(-50%)}.tox .tox-pop.tox-pop--left::after{border-color:transparent #fff transparent transparent;border-width:8px;margin-left:-15px}.tox .tox-pop.tox-pop--left::before{border-color:transparent #eee transparent transparent;border-width:10px;margin-left:-19px}.tox .tox-pop.tox-pop--right::after,.tox .tox-pop.tox-pop--right::before{left:100%;top:calc(50% + 1px);transform:translateY(-50%)}.tox .tox-pop.tox-pop--right::after{border-color:transparent transparent transparent #fff;border-width:8px;margin-left:-1px}.tox .tox-pop.tox-pop--right::before{border-color:transparent transparent transparent #eee;border-width:10px;margin-left:-1px}.tox .tox-pop.tox-pop--align-left::after,.tox .tox-pop.tox-pop--align-left::before{left:20px}.tox .tox-pop.tox-pop--align-right::after,.tox .tox-pop.tox-pop--align-right::before{left:calc(100% - 20px)}.tox .tox-sidebar-wrap{display:flex;flex-direction:row;flex-grow:1;min-height:0}.tox .tox-sidebar{background-color:#fff;display:flex;flex-direction:row;justify-content:flex-end}.tox .tox-sidebar__slider{display:flex;overflow:hidden}.tox .tox-sidebar__pane-container{display:flex}.tox .tox-sidebar__pane{display:flex}.tox .tox-sidebar--sliding-closed{opacity:0}.tox .tox-sidebar--sliding-open{opacity:1}.tox .tox-sidebar--sliding-growing,.tox .tox-sidebar--sliding-shrinking{transition:width .5s ease,opacity .5s ease}.tox .tox-selector{background-color:#4099ff;border-color:#4099ff;border-style:solid;border-width:1px;box-sizing:border-box;display:inline-block;height:10px;position:absolute;width:10px}.tox.tox-platform-touch .tox-selector{height:12px;width:12px}.tox .tox-slider{align-items:center;display:flex;flex:1;height:24px;justify-content:center;position:relative}.tox .tox-slider__rail{background-color:transparent;border:1px solid #eee;border-radius:6px;height:10px;min-width:120px;width:100%}.tox .tox-slider__handle{background-color:#006ce7;border:2px solid #0054b4;border-radius:6px;box-shadow:none;height:24px;left:50%;position:absolute;top:50%;transform:translateX(-50%) translateY(-50%);width:14px}.tox .tox-form__controls-h-stack>.tox-slider:not(:first-of-type){margin-inline-start:8px}.tox .tox-form__controls-h-stack>.tox-form__group+.tox-slider{margin-inline-start:32px}.tox .tox-form__controls-h-stack>.tox-slider+.tox-form__group{margin-inline-start:32px}.tox .tox-source-code{overflow:auto}.tox .tox-spinner{display:flex}.tox .tox-spinner>div{animation:tam-bouncing-dots 1.5s ease-in-out 0s infinite both;background-color:rgba(34,47,62,.7);border-radius:100%;height:8px;width:8px}.tox .tox-spinner>div:nth-child(1){animation-delay:-.32s}.tox .tox-spinner>div:nth-child(2){animation-delay:-.16s}@keyframes tam-bouncing-dots{0%,100%,80%{transform:scale(0)}40%{transform:scale(1)}}.tox:not([dir=rtl]) .tox-spinner>div:not(:first-child){margin-left:4px}.tox[dir=rtl] .tox-spinner>div:not(:first-child){margin-right:4px}.tox .tox-statusbar{align-items:center;background-color:#fff;border-top:1px solid #e3e3e3;color:rgba(34,47,62,.7);display:flex;flex:0 0 auto;font-size:14px;font-weight:400;height:25px;overflow:hidden;padding:0 8px;position:relative;text-transform:none}.tox .tox-statusbar__path{display:flex;flex:1 1 auto;text-overflow:ellipsis;white-space:nowrap}.tox .tox-statusbar__right-container{display:flex;justify-content:flex-end;white-space:nowrap}.tox .tox-statusbar__help-text{text-align:center}.tox .tox-statusbar__text-container{display:flex;flex:1 1 auto;justify-content:space-between}@media only screen and (min-width:768px){.tox .tox-statusbar__text-container.tox-statusbar__text-container-3-cols>.tox-statusbar__help-text,.tox .tox-statusbar__text-container.tox-statusbar__text-container-3-cols>.tox-statusbar__path,.tox .tox-statusbar__text-container.tox-statusbar__text-container-3-cols>.tox-statusbar__right-container{flex:0 0 calc(100% / 3)}}.tox .tox-statusbar__text-container.tox-statusbar__text-container--flex-end{justify-content:flex-end}.tox .tox-statusbar__text-container.tox-statusbar__text-container--flex-start{justify-content:flex-start}.tox .tox-statusbar__text-container.tox-statusbar__text-container--space-around{justify-content:space-around}.tox .tox-statusbar__path>*{display:inline;white-space:nowrap}.tox .tox-statusbar__wordcount{flex:0 0 auto;margin-left:1ch}@media only screen and (max-width:767px){.tox .tox-statusbar__text-container .tox-statusbar__help-text{display:none}.tox .tox-statusbar__text-container .tox-statusbar__help-text:only-child{display:block}}.tox .tox-statusbar a,.tox .tox-statusbar__path-item,.tox .tox-statusbar__wordcount{color:rgba(34,47,62,.7);position:relative;text-decoration:none}.tox .tox-statusbar a:focus:not(:disabled):not([aria-disabled=true]),.tox .tox-statusbar a:hover:not(:disabled):not([aria-disabled=true]),.tox .tox-statusbar__path-item:focus:not(:disabled):not([aria-disabled=true]),.tox .tox-statusbar__path-item:hover:not(:disabled):not([aria-disabled=true]),.tox .tox-statusbar__wordcount:focus:not(:disabled):not([aria-disabled=true]),.tox .tox-statusbar__wordcount:hover:not(:disabled):not([aria-disabled=true]){color:#222f3e;cursor:pointer}.tox .tox-statusbar a:focus-visible::after,.tox .tox-statusbar__path-item:focus-visible::after,.tox .tox-statusbar__wordcount:focus-visible::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-statusbar a:focus-visible::after,.tox .tox-statusbar__path-item:focus-visible::after,.tox .tox-statusbar__wordcount:focus-visible::after{border:2px solid highlight}}.tox .tox-statusbar__branding svg{fill:rgba(34,47,62,.8);height:1.14em;vertical-align:-.28em;width:3.6em}@media (forced-colors:active){.tox .tox-statusbar__branding svg{fill:currentColor}}.tox .tox-statusbar__branding a:focus:not(:disabled):not([aria-disabled=true]) svg,.tox .tox-statusbar__branding a:hover:not(:disabled):not([aria-disabled=true]) svg{fill:#222f3e}.tox .tox-statusbar__resize-handle{align-items:flex-end;align-self:stretch;cursor:nwse-resize;display:flex;flex:0 0 auto;justify-content:flex-end;margin-bottom:3px;margin-left:4px;margin-right:calc(3px - 8px);margin-top:3px;padding-bottom:0;padding-left:0;padding-right:0;position:relative}.tox .tox-statusbar__resize-handle svg{display:block;fill:rgba(34,47,62,.5)}.tox .tox-statusbar__resize-handle:focus svg,.tox .tox-statusbar__resize-handle:hover svg{fill:#222f3e}.tox .tox-statusbar__resize-handle:focus-visible{background-color:transparent;border-radius:1px 1px 5px 1px;box-shadow:0 0 0 2px transparent}.tox .tox-statusbar__resize-handle:focus-visible::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-statusbar__resize-handle:focus-visible::after{border:2px solid highlight}}.tox:not([dir=rtl]) .tox-statusbar__path>*{margin-right:4px}.tox:not([dir=rtl]) .tox-statusbar__branding{margin-left:2ch}.tox[dir=rtl] .tox-statusbar{flex-direction:row-reverse}.tox[dir=rtl] .tox-statusbar__path>*{margin-left:4px}.tox .tox-throbber{z-index:1299}.tox .tox-throbber__busy-spinner{align-items:center;background-color:rgba(255,255,255,.6);bottom:0;display:flex;justify-content:center;left:0;position:absolute;right:0;top:0}.tox .tox-tbtn{align-items:center;background:#fff;border:0;border-radius:3px;box-shadow:none;color:#222f3e;display:flex;flex:0 0 auto;font-size:14px;font-style:normal;font-weight:400;height:28px;justify-content:center;margin:6px 1px 5px 0;outline:0;padding:0;text-transform:none;width:34px}@media (forced-colors:active){.tox .tox-tbtn.tox-tbtn:hover,.tox .tox-tbtn:hover{outline:1px dashed currentColor}.tox .tox-tbtn.tox-tbtn--active,.tox .tox-tbtn.tox-tbtn--enabled,.tox .tox-tbtn.tox-tbtn--enabled:focus,.tox .tox-tbtn.tox-tbtn--enabled:hover,.tox .tox-tbtn:focus:not(.tox-tbtn--disabled){outline:1px solid currentColor;position:relative}}.tox .tox-tbtn svg{display:block;fill:#222f3e}@media (forced-colors:active){.tox .tox-tbtn svg{fill:currentColor!important}.tox .tox-tbtn svg.tox-tbtn--enabled,.tox .tox-tbtn svg:focus:not(.tox-tbtn--disabled){fill:currentColor!important}.tox .tox-tbtn svg .tox-tbtn:disabled,.tox .tox-tbtn svg .tox-tbtn:disabled:hover,.tox .tox-tbtn svg.tox-tbtn--disabled,.tox .tox-tbtn svg.tox-tbtn--disabled:hover{filter:contrast(0)}}.tox .tox-tbtn.tox-tbtn-more{padding-left:5px;padding-right:5px;width:inherit}.tox .tox-tbtn:focus{background:#fff;border:0;box-shadow:none;position:relative;z-index:1}.tox .tox-tbtn:focus::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-tbtn:focus::after{border:2px solid highlight}}.tox .tox-tbtn:hover{background:#f0f0f0;border:0;box-shadow:none;color:#222f3e}.tox .tox-tbtn:hover svg{fill:#222f3e}.tox .tox-tbtn:active{background:#a6ccf7;border:0;box-shadow:none;color:#222f3e}.tox .tox-tbtn:active svg{fill:#222f3e}.tox .tox-tbtn--disabled .tox-tbtn--enabled svg{fill:rgba(34,47,62,.5)}.tox .tox-tbtn--disabled,.tox .tox-tbtn--disabled:hover,.tox .tox-tbtn:disabled,.tox .tox-tbtn:disabled:hover{background:#fff;border:0;box-shadow:none;color:rgba(34,47,62,.5);cursor:not-allowed}.tox .tox-tbtn--disabled svg,.tox .tox-tbtn--disabled:hover svg,.tox .tox-tbtn:disabled svg,.tox .tox-tbtn:disabled:hover svg{fill:rgba(34,47,62,.5)}.tox .tox-tbtn--active,.tox .tox-tbtn--enabled,.tox .tox-tbtn--enabled:focus,.tox .tox-tbtn--enabled:hover{background:#a6ccf7;border:0;box-shadow:none;color:#222f3e;position:relative}.tox .tox-tbtn--active>*,.tox .tox-tbtn--enabled:focus>*,.tox .tox-tbtn--enabled:hover>*,.tox .tox-tbtn--enabled>*{transform:none}.tox .tox-tbtn--active svg,.tox .tox-tbtn--enabled svg,.tox .tox-tbtn--enabled:focus svg,.tox .tox-tbtn--enabled:hover svg{fill:#222f3e}.tox .tox-tbtn--active.tox-tbtn--disabled svg,.tox .tox-tbtn--enabled.tox-tbtn--disabled svg,.tox .tox-tbtn--enabled:focus.tox-tbtn--disabled svg,.tox .tox-tbtn--enabled:hover.tox-tbtn--disabled svg{fill:rgba(34,47,62,.5)}.tox .tox-tbtn--enabled:focus::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-tbtn--enabled:focus::after{border:2px solid highlight}}.tox .tox-tbtn:focus:not(.tox-tbtn--disabled){color:#222f3e}.tox .tox-tbtn:focus:not(.tox-tbtn--disabled) svg{fill:#222f3e}.tox .tox-tbtn:active>*{transform:none}.tox .tox-tbtn--md{height:42px;width:51px}.tox .tox-tbtn--lg{flex-direction:column;height:56px;width:68px}.tox .tox-tbtn--return{align-self:stretch;height:unset;width:16px}.tox .tox-tbtn--labeled{padding:0 4px;width:unset}.tox .tox-tbtn__vlabel{display:block;font-size:10px;font-weight:400;letter-spacing:-.025em;margin-bottom:4px;white-space:nowrap}.tox .tox-number-input{background:#f7f7f7;border-radius:3px;display:flex;margin:6px 1px 5px 0;position:relative;width:auto}.tox .tox-number-input:focus{background:#f7f7f7}.tox .tox-number-input:focus::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-number-input:focus::after{border:2px solid highlight}}.tox .tox-number-input .tox-input-wrapper{display:flex;pointer-events:none;position:relative;text-align:center}.tox .tox-number-input .tox-input-wrapper:focus{background-color:#f7f7f7;z-index:1}.tox .tox-number-input .tox-input-wrapper:focus::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-number-input .tox-input-wrapper:focus::after{border:2px solid highlight}}.tox .tox-number-input .tox-input-wrapper:has(input:focus)::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-number-input .tox-input-wrapper:has(input:focus)::after{border:2px solid highlight}}.tox .tox-number-input input{border-radius:3px;color:#222f3e;font-size:14px;margin:2px 0;pointer-events:all;position:relative;width:60px}.tox .tox-number-input input:hover{background:#f0f0f0;color:#222f3e}.tox .tox-number-input input:focus{background-color:#f7f7f7}.tox .tox-number-input input:disabled{background:#fff;border:0;box-shadow:none;color:rgba(34,47,62,.5);cursor:not-allowed}.tox .tox-number-input button{color:#222f3e;height:28px;position:relative;text-align:center;width:24px}@media (forced-colors:active){.tox .tox-number-input button:active,.tox .tox-number-input button:focus,.tox .tox-number-input button:hover{outline:1px solid currentColor!important}}.tox .tox-number-input button svg{display:block;fill:#222f3e;margin:0 auto;transform:scale(.67)}@media (forced-colors:active){.tox .tox-number-input button svg,.tox .tox-number-input button svg:active,.tox .tox-number-input button svg:hover{fill:currentColor!important}.tox .tox-number-input button svg:disabled{filter:contrast(0)}}.tox .tox-number-input button:focus{background:#f7f7f7;z-index:1}.tox .tox-number-input button:focus::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-number-input button:focus::after{border:2px solid highlight}}.tox .tox-number-input button:hover{background:#f0f0f0;border:0;box-shadow:none;color:#222f3e}.tox .tox-number-input button:hover svg{fill:#222f3e}.tox .tox-number-input button:active{background:#a6ccf7;border:0;box-shadow:none;color:#222f3e}.tox .tox-number-input button:active svg{fill:#222f3e}.tox .tox-number-input button:disabled{background:#fff;border:0;box-shadow:none;color:rgba(34,47,62,.5);cursor:not-allowed}.tox .tox-number-input button:disabled svg{fill:rgba(34,47,62,.5)}.tox .tox-number-input button.minus{border-radius:3px 0 0 3px}.tox .tox-number-input button.plus{border-radius:0 3px 3px 0}.tox .tox-number-input:focus:not(:active)>.tox-input-wrapper,.tox .tox-number-input:focus:not(:active)>button{background:#f7f7f7}.tox .tox-tbtn--select{margin:6px 1px 5px 0;padding:0 4px;width:auto}.tox .tox-tbtn__select-label{cursor:default;font-weight:400;height:initial;margin:0 4px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.tox .tox-tbtn__select-chevron{align-items:center;display:flex;justify-content:center;width:16px}.tox .tox-tbtn__select-chevron svg{fill:rgba(34,47,62,.5)}@media (forced-colors:active){.tox .tox-tbtn__select-chevron svg{fill:currentColor}}.tox .tox-tbtn--bespoke{background:#f7f7f7}.tox .tox-tbtn--bespoke:focus{background:#f7f7f7}.tox .tox-tbtn--bespoke+.tox-tbtn--bespoke{margin-inline-start:4px}.tox .tox-tbtn--bespoke .tox-tbtn__select-label{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;width:7em}.tox .tox-tbtn--disabled .tox-tbtn__select-label,.tox .tox-tbtn--select:disabled .tox-tbtn__select-label{cursor:not-allowed}.tox .tox-split-button{border:0;border-radius:3px;box-sizing:border-box;display:flex;margin:6px 1px 5px 0}.tox .tox-split-button:hover{box-shadow:0 0 0 1px #f0f0f0 inset}.tox .tox-split-button:focus{background:#fff;box-shadow:none;color:#222f3e;position:relative;z-index:1}.tox .tox-split-button:focus::after{pointer-events:none;border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-split-button:focus::after{border:2px solid highlight}}.tox .tox-split-button>*{border-radius:0}.tox .tox-split-button>:nth-child(1){border-bottom-left-radius:3px;border-top-left-radius:3px}.tox .tox-split-button>:nth-child(2){border-bottom-right-radius:3px;border-top-right-radius:3px}.tox .tox-split-button__chevron{width:16px}.tox .tox-split-button__chevron svg{fill:rgba(34,47,62,.5)}@media (forced-colors:active){.tox .tox-split-button__chevron svg{fill:currentColor}}.tox .tox-split-button .tox-tbtn{margin:0}.tox .tox-split-button:focus .tox-tbtn{background-color:transparent}.tox .tox-split-button.tox-tbtn--disabled .tox-tbtn:focus,.tox .tox-split-button.tox-tbtn--disabled .tox-tbtn:hover,.tox .tox-split-button.tox-tbtn--disabled:focus,.tox .tox-split-button.tox-tbtn--disabled:hover{background:#fff;box-shadow:none;color:rgba(34,47,62,.5)}.tox.tox-platform-touch .tox-split-button .tox-tbtn--select{padding:0 0}.tox.tox-platform-touch .tox-split-button .tox-tbtn:not(.tox-tbtn--select):first-child{width:30px}.tox.tox-platform-touch .tox-split-button__chevron{width:20px}.tox .tox-split-button.tox-tbtn--disabled svg #tox-icon-highlight-bg-color__color,.tox .tox-split-button.tox-tbtn--disabled svg #tox-icon-text-color__color{opacity:.6}.tox .tox-toolbar-overlord{background-color:#fff}.tox .tox-toolbar,.tox .tox-toolbar__overflow,.tox .tox-toolbar__primary{background-attachment:local;background-color:#fff;background-image:repeating-linear-gradient(#e3e3e3 0 1px,transparent 1px 39px);background-position:center top 40px;background-repeat:no-repeat;background-size:calc(100% - 11px * 2) calc(100% - 41px);display:flex;flex:0 0 auto;flex-shrink:0;flex-wrap:wrap;padding:0 0;transform:perspective(1px)}.tox .tox-toolbar-overlord>.tox-toolbar,.tox .tox-toolbar-overlord>.tox-toolbar__overflow,.tox .tox-toolbar-overlord>.tox-toolbar__primary{background-position:center top 0;background-size:calc(100% - 11px * 2) calc(100% - 0px)}.tox .tox-toolbar__overflow.tox-toolbar__overflow--closed{height:0;opacity:0;padding-bottom:0;padding-top:0;visibility:hidden}.tox .tox-toolbar__overflow--growing{transition:height .3s ease,opacity .2s linear .1s}.tox .tox-toolbar__overflow--shrinking{transition:opacity .3s ease,height .2s linear .1s,visibility 0s linear .3s}.tox .tox-anchorbar,.tox .tox-toolbar-overlord{grid-column:1/-1}.tox .tox-menubar+.tox-toolbar,.tox .tox-menubar+.tox-toolbar-overlord{border-top:1px solid transparent;margin-top:-1px;padding-bottom:1px;padding-top:1px}@media (forced-colors:active){.tox .tox-menubar+.tox-toolbar,.tox .tox-menubar+.tox-toolbar-overlord{outline:1px solid currentColor}}.tox .tox-toolbar--scrolling{flex-wrap:nowrap;overflow-x:auto}.tox .tox-pop .tox-toolbar{border-width:0}.tox .tox-toolbar--no-divider{background-image:none}.tox .tox-toolbar-overlord .tox-toolbar:not(.tox-toolbar--scrolling):first-child,.tox .tox-toolbar-overlord .tox-toolbar__primary{background-position:center top 39px}.tox .tox-editor-header>.tox-toolbar--scrolling,.tox .tox-toolbar-overlord .tox-toolbar--scrolling:first-child{background-image:none}.tox.tox-tinymce-aux .tox-toolbar__overflow{background-color:#fff;background-position:center top 43px;background-size:calc(100% - 8px * 2) calc(100% - 51px);border:none;border-radius:6px;box-shadow:0 0 2px 0 rgba(34,47,62,.2),0 4px 8px 0 rgba(34,47,62,.15);overscroll-behavior:none;padding:4px 0}@media (forced-colors:active){.tox.tox-tinymce-aux .tox-toolbar__overflow{border:solid}}.tox-pop .tox-pop__dialog .tox-toolbar{background-position:center top 43px;background-size:calc(100% - 11px * 2) calc(100% - 51px);padding:4px 0}.tox .tox-toolbar__group{align-items:center;display:flex;flex-wrap:wrap;margin:0 0;padding:0 11px 0 12px}.tox .tox-toolbar__group--pull-right{margin-left:auto}.tox .tox-toolbar--scrolling .tox-toolbar__group{flex-shrink:0;flex-wrap:nowrap}.tox:not([dir=rtl]) .tox-toolbar__group:not(:last-of-type){border-right:1px solid transparent}.tox[dir=rtl] .tox-toolbar__group:not(:last-of-type){border-left:1px solid transparent}.tox .tox-tooltip{display:inline-block;max-width:15em;padding:8px;pointer-events:none;position:relative;width:-moz-max-content;width:max-content;z-index:1150}.tox .tox-tooltip__body{background-color:#222f3e;border-radius:6px;box-shadow:none;color:#fff;font-size:12px;font-style:normal;font-weight:600;overflow-wrap:break-word;padding:4px 6px;text-transform:none}@media (forced-colors:active){.tox .tox-tooltip__body{outline:outset 1px}}.tox .tox-tooltip__arrow{position:absolute}.tox .tox-tooltip--down .tox-tooltip__arrow{border-left:8px solid transparent;border-right:8px solid transparent;border-top:8px solid #222f3e;bottom:0;left:50%;position:absolute;transform:translateX(-50%)}.tox .tox-tooltip--up .tox-tooltip__arrow{border-bottom:8px solid #222f3e;border-left:8px solid transparent;border-right:8px solid transparent;left:50%;position:absolute;top:0;transform:translateX(-50%)}.tox .tox-tooltip--right .tox-tooltip__arrow{border-bottom:8px solid transparent;border-left:8px solid #222f3e;border-top:8px solid transparent;position:absolute;right:0;top:50%;transform:translateY(-50%)}.tox .tox-tooltip--left .tox-tooltip__arrow{border-bottom:8px solid transparent;border-right:8px solid #222f3e;border-top:8px solid transparent;left:0;position:absolute;top:50%;transform:translateY(-50%)}.tox .tox-tree{display:flex;flex-direction:column}.tox .tox-tree .tox-trbtn{align-items:center;background:0 0;border:0;border-radius:4px;box-shadow:none;color:#222f3e;display:flex;flex:0 0 auto;font-size:14px;font-style:normal;font-weight:400;height:28px;margin-bottom:4px;margin-top:4px;outline:0;overflow:hidden;padding:0;padding-left:8px;text-transform:none}.tox .tox-tree .tox-trbtn .tox-tree__label{cursor:default;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.tox .tox-tree .tox-trbtn svg{display:block;fill:#222f3e}.tox .tox-tree .tox-trbtn:focus{background:#f0f0f0;border:0;box-shadow:none}.tox .tox-tree .tox-trbtn:hover{background:#f0f0f0;border:0;box-shadow:none;color:#222f3e}.tox .tox-tree .tox-trbtn:hover svg{fill:#222f3e}.tox .tox-tree .tox-trbtn:active{background:#a6ccf7;border:0;box-shadow:none;color:#222f3e}.tox .tox-tree .tox-trbtn:active svg{fill:#222f3e}.tox .tox-tree .tox-trbtn--disabled,.tox .tox-tree .tox-trbtn--disabled:hover,.tox .tox-tree .tox-trbtn:disabled,.tox .tox-tree .tox-trbtn:disabled:hover{background:0 0;border:0;box-shadow:none;color:rgba(34,47,62,.5);cursor:not-allowed}.tox .tox-tree .tox-trbtn--disabled svg,.tox .tox-tree .tox-trbtn--disabled:hover svg,.tox .tox-tree .tox-trbtn:disabled svg,.tox .tox-tree .tox-trbtn:disabled:hover svg{fill:rgba(34,47,62,.5)}.tox .tox-tree .tox-trbtn--enabled,.tox .tox-tree .tox-trbtn--enabled:hover{background:#a6ccf7;border:0;box-shadow:none;color:#222f3e}.tox .tox-tree .tox-trbtn--enabled:hover>*,.tox .tox-tree .tox-trbtn--enabled>*{transform:none}.tox .tox-tree .tox-trbtn--enabled svg,.tox .tox-tree .tox-trbtn--enabled:hover svg{fill:#222f3e}.tox .tox-tree .tox-trbtn:focus:not(.tox-trbtn--disabled){color:#222f3e}.tox .tox-tree .tox-trbtn:focus:not(.tox-trbtn--disabled) svg{fill:#222f3e}.tox .tox-tree .tox-trbtn:active>*{transform:none}.tox .tox-tree .tox-trbtn--return{align-self:stretch;height:unset;width:16px}.tox .tox-tree .tox-trbtn--labeled{padding:0 4px;width:unset}.tox .tox-tree .tox-trbtn__vlabel{display:block;font-size:10px;font-weight:400;letter-spacing:-.025em;margin-bottom:4px;white-space:nowrap}.tox .tox-tree .tox-tree--directory{display:flex;flex-direction:column}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label{font-weight:700}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label .tox-mbtn{margin-left:auto}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label .tox-mbtn svg{fill:transparent}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label .tox-mbtn.tox-mbtn--active svg,.tox .tox-tree .tox-tree--directory .tox-tree--directory__label .tox-mbtn:focus svg{fill:#222f3e}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label:focus .tox-mbtn svg,.tox .tox-tree .tox-tree--directory .tox-tree--directory__label:hover .tox-mbtn svg{fill:#222f3e}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label:hover:has(.tox-mbtn:hover){background-color:transparent;color:#222f3e}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label:hover:has(.tox-mbtn:hover) .tox-chevron svg{fill:#222f3e}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label .tox-chevron{margin-right:6px}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label:has(+.tox-tree--directory__children--growing) .tox-chevron,.tox .tox-tree .tox-tree--directory .tox-tree--directory__label:has(+.tox-tree--directory__children--shrinking) .tox-chevron{transition:transform .5s ease-in-out}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label:has(+.tox-tree--directory__children--growing) .tox-chevron,.tox .tox-tree .tox-tree--directory .tox-tree--directory__label:has(+.tox-tree--directory__children--open) .tox-chevron{transform:rotate(90deg)}.tox .tox-tree .tox-tree--leaf__label{font-weight:400}.tox .tox-tree .tox-tree--leaf__label .tox-mbtn{margin-left:auto}.tox .tox-tree .tox-tree--leaf__label .tox-mbtn svg{fill:transparent}.tox .tox-tree .tox-tree--leaf__label .tox-mbtn.tox-mbtn--active svg,.tox .tox-tree .tox-tree--leaf__label .tox-mbtn:focus svg{fill:#222f3e}.tox .tox-tree .tox-tree--leaf__label:hover .tox-mbtn svg{fill:#222f3e}.tox .tox-tree .tox-tree--leaf__label:hover:has(.tox-mbtn:hover){background-color:transparent;color:#222f3e}.tox .tox-tree .tox-tree--leaf__label:hover:has(.tox-mbtn:hover) .tox-chevron svg{fill:#222f3e}.tox .tox-tree .tox-tree--directory__children{overflow:hidden;padding-left:16px}.tox .tox-tree .tox-tree--directory__children.tox-tree--directory__children--growing,.tox .tox-tree .tox-tree--directory__children.tox-tree--directory__children--shrinking{transition:height .5s ease-in-out}.tox .tox-tree .tox-trbtn.tox-tree--leaf__label{display:flex;justify-content:space-between}.tox .tox-revisionhistory__pane{padding:0!important}.tox .tox-revisionhistory__container{display:flex;flex-direction:column;height:100%}.tox .tox-revisionhistory{background-color:#fff;border-radius:4px;border-top:1px solid #eee;display:flex;flex:1;height:100%;margin-top:8px;overflow-x:auto;overflow-y:hidden;position:relative;width:100%}.tox .tox-revisionhistory--align-right{margin-left:auto}.tox .tox-revisionhistory__iframe{flex:1}.tox .tox-revisionhistory__sidebar{border-left:1px solid #eee;height:100%;max-width:360px}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__sidebar-title{border-bottom:1px solid #eee;color:#222f3e;font-size:20px;font-weight:400;height:60px;min-width:192px;padding:16px}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions{flex-direction:column;max-height:calc(100% - 60px);min-width:192px;overflow-y:auto;padding:8px}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions:focus{height:100%;position:relative;z-index:1}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions:focus::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0;border-radius:6px;bottom:1px;left:1px;right:1px;top:1px}@media (forced-colors:active){.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions:focus::after{border:2px solid highlight}}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card{border:1px solid #eee;border-radius:6px;color:#222f3e;cursor:pointer;font-size:14px;margin-bottom:8px;padding:8px;text-overflow:ellipsis;text-wrap:nowrap;width:100%}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card:hover{background-color:#f0f0f0;box-shadow:none;color:#222f3e}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card:focus{position:relative;z-index:1}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card:focus::after{border-radius:6px!important;border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card:focus::after{border:2px solid highlight}}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card.tox-revisionhistory__card--selected{background-color:#a6ccf7;box-shadow:none;color:#222f3e}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__norevision{color:rgba(34,47,62,.7);font-size:16px;line-height:24px;padding:5px 5.5px}.tox .tox-view-wrap,.tox .tox-view-wrap__slot-container{background-color:#fff;display:flex;flex:1;flex-direction:column;height:100%}.tox .tox-view{display:flex;flex:1 1 auto;flex-direction:column;overflow:hidden}.tox .tox-view__header{align-items:center;display:flex;font-size:16px;justify-content:space-between;padding:10px 10px 2px 10px;position:relative}.tox .tox-view__label{color:#222f3e;font-weight:700;line-height:24px;padding:4px 16px;text-align:center;white-space:nowrap}.tox .tox-view__label--normal{font-size:16px}.tox .tox-view__label--large{font-size:20px}.tox .tox-view--mobile.tox-view__header,.tox .tox-view--mobile.tox-view__toolbar{padding:8px}.tox .tox-view--scrolling{flex-wrap:nowrap;overflow-x:auto}.tox .tox-view__toolbar{display:flex;flex-direction:row;gap:8px;justify-content:space-between;overflow-x:auto;padding:10px 10px 2px 10px}.tox .tox-view__toolbar__group{display:flex;flex-direction:row;gap:12px}.tox .tox-view__header-end,.tox .tox-view__header-start{display:flex}.tox .tox-view__pane{height:100%;padding:8px;position:relative;width:100%}.tox .tox-view__pane_panel{border:1px solid #eee;border-radius:6px}.tox:not([dir=rtl]) .tox-view__header .tox-view__header-end>*,.tox:not([dir=rtl]) .tox-view__header .tox-view__header-start>*{margin-left:8px}.tox[dir=rtl] .tox-view__header .tox-view__header-end>*,.tox[dir=rtl] .tox-view__header .tox-view__header-start>*{margin-right:8px}.tox .tox-well{border:1px solid #eee;border-radius:6px;padding:8px;width:100%}.tox .tox-well>:first-child{margin-top:0}.tox .tox-well>:last-child{margin-bottom:0}.tox .tox-well>:only-child{margin:0}.tox .tox-custom-editor{border:1px solid #eee;border-radius:6px;display:flex;flex:1;overflow:hidden;position:relative}.tox .tox-dialog-loading::before{background-color:rgba(0,0,0,.5);content:"";height:100%;position:absolute;width:100%;z-index:1000}.tox .tox-tab{cursor:pointer}.tox .tox-dialog__content-js{display:flex;flex:1}.tox .tox-dialog__body-content .tox-collection{display:flex;flex:1}`);tinymce.Resource.add("ui/default/content.css",`.mce-content-body .mce-item-anchor{background:transparent url("data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D'8'%20height%3D'12'%20xmlns%3D'http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg'%3E%3Cpath%20d%3D'M0%200L8%200%208%2012%204.09117821%209%200%2012z'%2F%3E%3C%2Fsvg%3E%0A") no-repeat center}.mce-content-body .mce-item-anchor:empty{cursor:default;display:inline-block;height:12px!important;padding:0 2px;-webkit-user-modify:read-only;-moz-user-modify:read-only;-webkit-user-select:all;-moz-user-select:all;user-select:all;width:8px!important}.mce-content-body .mce-item-anchor:not(:empty){background-position-x:2px;display:inline-block;padding-left:12px}.mce-content-body .mce-item-anchor[data-mce-selected]{outline-offset:1px}.tox-comments-visible .tox-comment[contenteditable=false]:not([data-mce-selected]),.tox-comments-visible span.tox-comment img:not([data-mce-selected]),.tox-comments-visible span.tox-comment span.mce-preview-object:not([data-mce-selected]),.tox-comments-visible span.tox-comment>audio:not([data-mce-selected]),.tox-comments-visible span.tox-comment>video:not([data-mce-selected]){outline:3px solid #ffe89d}.tox-comments-visible .tox-comment[contenteditable=false][data-mce-annotation-active=true]:not([data-mce-selected]){outline:3px solid #fed635}.tox-comments-visible span.tox-comment[data-mce-annotation-active=true] img:not([data-mce-selected]),.tox-comments-visible span.tox-comment[data-mce-annotation-active=true] span.mce-preview-object:not([data-mce-selected]),.tox-comments-visible span.tox-comment[data-mce-annotation-active=true]>audio:not([data-mce-selected]),.tox-comments-visible span.tox-comment[data-mce-annotation-active=true]>video:not([data-mce-selected]){outline:3px solid #fed635}.tox-comments-visible span.tox-comment:not([data-mce-selected]){background-color:#ffe89d;outline:0}.tox-comments-visible span.tox-comment[data-mce-annotation-active=true]:not([data-mce-selected=inline-boundary]){background-color:#fed635}.tox-checklist>li:not(.tox-checklist--hidden){list-style:none;margin:.25em 0}.tox-checklist>li:not(.tox-checklist--hidden)::before{content:url("data:image/svg+xml;charset=UTF-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2216%22%20height%3D%2216%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cg%20id%3D%22checklist-unchecked%22%20fill%3D%22none%22%20fill-rule%3D%22evenodd%22%3E%3Crect%20id%3D%22Rectangle%22%20width%3D%2215%22%20height%3D%2215%22%20x%3D%22.5%22%20y%3D%22.5%22%20fill-rule%3D%22nonzero%22%20stroke%3D%22%234C4C4C%22%20rx%3D%222%22%2F%3E%3C%2Fg%3E%3C%2Fsvg%3E%0A");cursor:pointer;height:1em;margin-left:-1.5em;margin-top:.125em;position:absolute;width:1em}.tox-checklist li:not(.tox-checklist--hidden).tox-checklist--checked::before{content:url("data:image/svg+xml;charset=UTF-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2216%22%20height%3D%2216%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cg%20id%3D%22checklist-checked%22%20fill%3D%22none%22%20fill-rule%3D%22evenodd%22%3E%3Crect%20id%3D%22Rectangle%22%20width%3D%2216%22%20height%3D%2216%22%20fill%3D%22%234099FF%22%20fill-rule%3D%22nonzero%22%20rx%3D%222%22%2F%3E%3Cpath%20id%3D%22Path%22%20fill%3D%22%23FFF%22%20fill-rule%3D%22nonzero%22%20d%3D%22M11.5703186%2C3.14417309%20C11.8516238%2C2.73724603%2012.4164781%2C2.62829933%2012.83558%2C2.89774797%20C13.260121%2C3.17069355%2013.3759736%2C3.72932262%2013.0909105%2C4.14168582%20L7.7580587%2C11.8560195%20C7.43776896%2C12.3193404%206.76483983%2C12.3852142%206.35607322%2C11.9948725%20L3.02491697%2C8.8138662%20C2.66090143%2C8.46625845%202.65798871%2C7.89594698%203.01850234%2C7.54483354%20C3.373942%2C7.19866177%203.94940006%2C7.19592841%204.30829608%2C7.5386474%20L6.85276923%2C9.9684299%20L11.5703186%2C3.14417309%20Z%22%2F%3E%3C%2Fg%3E%3C%2Fsvg%3E%0A")}[dir=rtl] .tox-checklist>li:not(.tox-checklist--hidden)::before{margin-left:0;margin-right:-1.5em}code[class*=language-],pre[class*=language-]{color:#000;background:0 0;text-shadow:0 1px #fff;font-family:Consolas,Monaco,'Andale Mono','Ubuntu Mono',monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;tab-size:4;-webkit-hyphens:none;hyphens:none}code[class*=language-] ::-moz-selection,code[class*=language-]::-moz-selection,pre[class*=language-] ::-moz-selection,pre[class*=language-]::-moz-selection{text-shadow:none;background:#b3d4fc}code[class*=language-] ::selection,code[class*=language-]::selection,pre[class*=language-] ::selection,pre[class*=language-]::selection{text-shadow:none;background:#b3d4fc}@media print{code[class*=language-],pre[class*=language-]{text-shadow:none}}pre[class*=language-]{padding:1em;margin:.5em 0;overflow:auto}:not(pre)>code[class*=language-],pre[class*=language-]{background:#f5f2f0}:not(pre)>code[class*=language-]{padding:.1em;border-radius:.3em;white-space:normal}.token.cdata,.token.comment,.token.doctype,.token.prolog{color:#708090}.token.punctuation{color:#999}.token.namespace{opacity:.7}.token.boolean,.token.constant,.token.deleted,.token.number,.token.property,.token.symbol,.token.tag{color:#905}.token.attr-name,.token.builtin,.token.char,.token.inserted,.token.selector,.token.string{color:#690}.language-css .token.string,.style .token.string,.token.entity,.token.operator,.token.url{color:#9a6e3a;background:hsla(0,0%,100%,.5)}.token.atrule,.token.attr-value,.token.keyword{color:#07a}.token.class-name,.token.function{color:#dd4a68}.token.important,.token.regex,.token.variable{color:#e90}.token.bold,.token.important{font-weight:700}.token.italic{font-style:italic}.token.entity{cursor:help}.mce-content-body{overflow-wrap:break-word;word-wrap:break-word}.mce-content-body .mce-visual-caret{background-color:#000;background-color:currentColor;position:absolute}.mce-content-body .mce-visual-caret-hidden{display:none}.mce-content-body [data-mce-caret]{left:-1000px;margin:0;padding:0;position:absolute;right:auto;top:0}.mce-content-body .mce-offscreen-selection{left:-2000000px;max-width:1000000px;position:absolute}.mce-content-body [contentEditable=false]{cursor:default}.mce-content-body [contentEditable=true]{cursor:text}.tox-cursor-format-painter{cursor:url("data:image/svg+xml;charset=UTF-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2224%22%20height%3D%2224%22%20viewBox%3D%220%200%2024%2024%22%3E%0A%20%20%3Cg%20fill%3D%22none%22%20fill-rule%3D%22evenodd%22%3E%0A%20%20%20%20%3Cpath%20fill%3D%22%23000%22%20fill-rule%3D%22nonzero%22%20d%3D%22M15%2C6%20C15%2C5.45%2014.55%2C5%2014%2C5%20L6%2C5%20C5.45%2C5%205%2C5.45%205%2C6%20L5%2C10%20C5%2C10.55%205.45%2C11%206%2C11%20L14%2C11%20C14.55%2C11%2015%2C10.55%2015%2C10%20L15%2C9%20L16%2C9%20L16%2C12%20L9%2C12%20L9%2C19%20C9%2C19.55%209.45%2C20%2010%2C20%20L11%2C20%20C11.55%2C20%2012%2C19.55%2012%2C19%20L12%2C14%20L18%2C14%20L18%2C7%20L15%2C7%20L15%2C6%20Z%22%2F%3E%0A%20%20%20%20%3Cpath%20fill%3D%22%23000%22%20fill-rule%3D%22nonzero%22%20d%3D%22M1%2C1%20L8.25%2C1%20C8.66421356%2C1%209%2C1.33578644%209%2C1.75%20L9%2C1.75%20C9%2C2.16421356%208.66421356%2C2.5%208.25%2C2.5%20L2.5%2C2.5%20L2.5%2C8.25%20C2.5%2C8.66421356%202.16421356%2C9%201.75%2C9%20L1.75%2C9%20C1.33578644%2C9%201%2C8.66421356%201%2C8.25%20L1%2C1%20Z%22%2F%3E%0A%20%20%3C%2Fg%3E%0A%3C%2Fsvg%3E%0A"),default}div.mce-footnotes hr{margin-inline-end:auto;margin-inline-start:0;width:25%}div.mce-footnotes li>a.mce-footnotes-backlink{text-decoration:none}@media print{sup.mce-footnote a{color:#000;text-decoration:none}div.mce-footnotes{break-inside:avoid;width:100%}div.mce-footnotes li>a.mce-footnotes-backlink{display:none}}tiny-math-block{display:flex;justify-content:center;margin:16px 0 16px 0}tiny-math-inline{display:inline-block}.mce-content-body figure.align-left{float:left}.mce-content-body figure.align-right{float:right}.mce-content-body figure.image.align-center{display:table;margin-left:auto;margin-right:auto}.mce-preview-object{border:1px solid gray;display:inline-block;line-height:0;margin:0 2px 0 2px;position:relative}.mce-preview-object .mce-shim{background:url(data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7);height:100%;left:0;position:absolute;top:0;width:100%}.mce-preview-object[data-mce-selected="2"] .mce-shim{display:none}.mce-content-body .mce-mergetag{cursor:default!important;-webkit-user-select:none;-moz-user-select:none;user-select:none}.mce-content-body .mce-mergetag:hover{background-color:rgba(0,108,231,.1)}.mce-content-body .mce-mergetag-affix{background-color:rgba(0,108,231,.1);color:#006ce7}.mce-object{background:transparent url("data:image/svg+xml;charset=UTF-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2224%22%20height%3D%2224%22%3E%3Cpath%20d%3D%22M4%203h16a1%201%200%200%201%201%201v16a1%201%200%200%201-1%201H4a1%201%200%200%201-1-1V4a1%201%200%200%201%201-1zm1%202v14h14V5H5zm4.79%202.565l5.64%204.028a.5.5%200%200%201%200%20.814l-5.64%204.028a.5.5%200%200%201-.79-.407V7.972a.5.5%200%200%201%20.79-.407z%22%2F%3E%3C%2Fsvg%3E%0A") no-repeat center;border:1px dashed #aaa}.mce-pagebreak{border:1px dashed #aaa;cursor:default;display:block;height:5px;margin-top:15px;page-break-before:always;width:100%}@media print{.mce-pagebreak{border:0}}.tiny-pageembed .mce-shim{background:url(data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7);height:100%;left:0;position:absolute;top:0;width:100%}.tiny-pageembed[data-mce-selected="2"] .mce-shim{display:none}.tiny-pageembed{display:inline-block;position:relative}.tiny-pageembed--16by9,.tiny-pageembed--1by1,.tiny-pageembed--21by9,.tiny-pageembed--4by3{display:block;overflow:hidden;padding:0;position:relative;width:100%}.tiny-pageembed--21by9{padding-top:42.857143%}.tiny-pageembed--16by9{padding-top:56.25%}.tiny-pageembed--4by3{padding-top:75%}.tiny-pageembed--1by1{padding-top:100%}.tiny-pageembed--16by9 iframe,.tiny-pageembed--1by1 iframe,.tiny-pageembed--21by9 iframe,.tiny-pageembed--4by3 iframe{border:0;height:100%;left:0;position:absolute;top:0;width:100%}.mce-content-body[data-mce-placeholder]{position:relative}.mce-content-body[data-mce-placeholder]:not(.mce-visualblocks)::before{color:rgba(34,47,62,.7);content:attr(data-mce-placeholder);position:absolute}@media (forced-colors:active){.mce-content-body[data-mce-placeholder]:not(.mce-visualblocks)::before{color:highlight;filter:brightness(30%);z-index:-1}}.mce-content-body:not([dir=rtl])[data-mce-placeholder]:not(.mce-visualblocks)::before{left:1px}.mce-content-body[dir=rtl][data-mce-placeholder]:not(.mce-visualblocks)::before{right:1px}.mce-content-body div.mce-resizehandle{background-color:#4099ff;border-color:#4099ff;border-style:solid;border-width:1px;box-sizing:border-box;height:10px;position:absolute;width:10px;z-index:1298}.mce-content-body div.mce-resizehandle:hover{background-color:#4099ff}.mce-content-body div.mce-resizehandle:nth-of-type(1){cursor:nwse-resize}.mce-content-body div.mce-resizehandle:nth-of-type(2){cursor:nesw-resize}.mce-content-body div.mce-resizehandle:nth-of-type(3){cursor:nwse-resize}.mce-content-body div.mce-resizehandle:nth-of-type(4){cursor:nesw-resize}.mce-content-body .mce-resize-backdrop{z-index:10000}.mce-content-body .mce-clonedresizable{cursor:default;opacity:.5;outline:1px dashed #000;position:absolute;z-index:10001}.mce-content-body .mce-clonedresizable.mce-resizetable-columns td,.mce-content-body .mce-clonedresizable.mce-resizetable-columns th{border:0}.mce-content-body .mce-resize-helper{background:#555;background:rgba(0,0,0,.75);border:1px;border-radius:3px;color:#fff;display:none;font-family:sans-serif;font-size:12px;line-height:14px;margin:5px 10px;padding:5px;position:absolute;white-space:nowrap;z-index:10002}.tox-rtc-user-selection{position:relative}.tox-rtc-user-cursor{bottom:0;cursor:default;position:absolute;top:0;width:2px}.tox-rtc-user-cursor::before{background-color:inherit;border-radius:50%;content:'';display:block;height:8px;position:absolute;right:-3px;top:-3px;width:8px}.tox-rtc-user-cursor:hover::after{background-color:inherit;border-radius:100px;box-sizing:border-box;color:#fff;content:attr(data-user);display:block;font-size:12px;font-weight:700;left:-5px;min-height:8px;min-width:8px;padding:0 12px;position:absolute;top:-11px;white-space:nowrap;z-index:1000}.tox-rtc-user-selection--1 .tox-rtc-user-cursor{background-color:#2dc26b}.tox-rtc-user-selection--2 .tox-rtc-user-cursor{background-color:#e03e2d}.tox-rtc-user-selection--3 .tox-rtc-user-cursor{background-color:#f1c40f}.tox-rtc-user-selection--4 .tox-rtc-user-cursor{background-color:#3598db}.tox-rtc-user-selection--5 .tox-rtc-user-cursor{background-color:#b96ad9}.tox-rtc-user-selection--6 .tox-rtc-user-cursor{background-color:#e67e23}.tox-rtc-user-selection--7 .tox-rtc-user-cursor{background-color:#aaa69d}.tox-rtc-user-selection--8 .tox-rtc-user-cursor{background-color:#f368e0}.tox-rtc-remote-image{background:#eaeaea url("data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D%2236%22%20height%3D%2212%22%20viewBox%3D%220%200%2036%2012%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%0A%20%20%3Ccircle%20cx%3D%226%22%20cy%3D%226%22%20r%3D%223%22%20fill%3D%22rgba(0%2C%200%2C%200%2C%20.2)%22%3E%0A%20%20%20%20%3Canimate%20attributeName%3D%22r%22%20values%3D%223%3B5%3B3%22%20calcMode%3D%22linear%22%20dur%3D%221s%22%20repeatCount%3D%22indefinite%22%20%2F%3E%0A%20%20%3C%2Fcircle%3E%0A%20%20%3Ccircle%20cx%3D%2218%22%20cy%3D%226%22%20r%3D%223%22%20fill%3D%22rgba(0%2C%200%2C%200%2C%20.2)%22%3E%0A%20%20%20%20%3Canimate%20attributeName%3D%22r%22%20values%3D%223%3B5%3B3%22%20calcMode%3D%22linear%22%20begin%3D%22.33s%22%20dur%3D%221s%22%20repeatCount%3D%22indefinite%22%20%2F%3E%0A%20%20%3C%2Fcircle%3E%0A%20%20%3Ccircle%20cx%3D%2230%22%20cy%3D%226%22%20r%3D%223%22%20fill%3D%22rgba(0%2C%200%2C%200%2C%20.2)%22%3E%0A%20%20%20%20%3Canimate%20attributeName%3D%22r%22%20values%3D%223%3B5%3B3%22%20calcMode%3D%22linear%22%20begin%3D%22.66s%22%20dur%3D%221s%22%20repeatCount%3D%22indefinite%22%20%2F%3E%0A%20%20%3C%2Fcircle%3E%0A%3C%2Fsvg%3E%0A") no-repeat center center;border:1px solid #ccc;min-height:240px;min-width:320px}.mce-match-marker{background:#aaa;color:#fff}.mce-match-marker-selected{background:#39f;color:#fff}.mce-match-marker-selected::-moz-selection{background:#39f;color:#fff}.mce-match-marker-selected::selection{background:#39f;color:#fff}.mce-content-body audio[data-mce-selected],.mce-content-body details[data-mce-selected],.mce-content-body embed[data-mce-selected],.mce-content-body img[data-mce-selected],.mce-content-body object[data-mce-selected],.mce-content-body table[data-mce-selected],.mce-content-body video[data-mce-selected]{outline:3px solid #b4d7ff}.mce-content-body hr[data-mce-selected]{outline:3px solid #b4d7ff;outline-offset:1px}.mce-content-body [contentEditable=false] [contentEditable=true]:focus{outline:3px solid #b4d7ff}.mce-content-body [contentEditable=false] [contentEditable=true]:hover{outline:3px solid #b4d7ff}.mce-content-body [contentEditable=false][data-mce-selected]{cursor:not-allowed;outline:3px solid #b4d7ff}.mce-content-body.mce-content-readonly [contentEditable=true]:focus,.mce-content-body.mce-content-readonly [contentEditable=true]:hover{outline:0}.mce-content-body [data-mce-selected=inline-boundary]{background-color:#b4d7ff}.mce-content-body .mce-edit-focus{outline:3px solid #b4d7ff}.mce-content-body td[data-mce-selected],.mce-content-body th[data-mce-selected]{position:relative}.mce-content-body td[data-mce-selected]::-moz-selection,.mce-content-body th[data-mce-selected]::-moz-selection{background:0 0}.mce-content-body td[data-mce-selected]::selection,.mce-content-body th[data-mce-selected]::selection{background:0 0}.mce-content-body td[data-mce-selected] *,.mce-content-body th[data-mce-selected] *{outline:0;-webkit-touch-callout:none;-webkit-user-select:none;-moz-user-select:none;user-select:none}.mce-content-body td[data-mce-selected]::after,.mce-content-body th[data-mce-selected]::after{background-color:rgba(180,215,255,.7);border:1px solid rgba(180,215,255,.7);bottom:-1px;content:'';left:-1px;mix-blend-mode:multiply;position:absolute;right:-1px;top:-1px}@media screen and (-ms-high-contrast:active),(-ms-high-contrast:none){.mce-content-body td[data-mce-selected]::after,.mce-content-body th[data-mce-selected]::after{border-color:rgba(0,84,180,.7)}}.mce-content-body img[data-mce-selected]::-moz-selection{background:0 0}.mce-content-body img[data-mce-selected]::selection{background:0 0}.ephox-snooker-resizer-bar{background-color:#b4d7ff;opacity:0;-webkit-user-select:none;-moz-user-select:none;user-select:none}.ephox-snooker-resizer-cols{cursor:col-resize}.ephox-snooker-resizer-rows{cursor:row-resize}.ephox-snooker-resizer-bar.ephox-snooker-resizer-bar-dragging{opacity:1}.mce-spellchecker-word{background-image:url("data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D'4'%20height%3D'4'%20xmlns%3D'http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg'%3E%3Cpath%20stroke%3D'%23ff0000'%20fill%3D'none'%20stroke-linecap%3D'round'%20stroke-opacity%3D'.75'%20d%3D'M0%203L2%201%204%203'%2F%3E%3C%2Fsvg%3E%0A");background-position:0 calc(100% + 1px);background-repeat:repeat-x;background-size:auto 6px;cursor:default;height:2rem}.mce-spellchecker-grammar{background-image:url("data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D'4'%20height%3D'4'%20xmlns%3D'http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg'%3E%3Cpath%20stroke%3D'%2300A835'%20fill%3D'none'%20stroke-linecap%3D'round'%20d%3D'M0%203L2%201%204%203'%2F%3E%3C%2Fsvg%3E%0A");background-position:0 calc(100% + 1px);background-repeat:repeat-x;background-size:auto 6px;cursor:default}.mce-toc{border:1px solid gray}.mce-toc h2{margin:4px}.mce-toc ul>li{list-style-type:none}[data-mce-block]{display:block}.mce-item-table:not([border]),.mce-item-table:not([border]) caption,.mce-item-table:not([border]) td,.mce-item-table:not([border]) th,.mce-item-table[border="0"],.mce-item-table[border="0"] caption,.mce-item-table[border="0"] td,.mce-item-table[border="0"] th,table[style*="border-width: 0px"],table[style*="border-width: 0px"] caption,table[style*="border-width: 0px"] td,table[style*="border-width: 0px"] th{border:1px dashed #bbb}.mce-visualblocks address,.mce-visualblocks article,.mce-visualblocks aside,.mce-visualblocks blockquote,.mce-visualblocks div:not([data-mce-bogus]),.mce-visualblocks dl,.mce-visualblocks figcaption,.mce-visualblocks figure,.mce-visualblocks h1,.mce-visualblocks h2,.mce-visualblocks h3,.mce-visualblocks h4,.mce-visualblocks h5,.mce-visualblocks h6,.mce-visualblocks hgroup,.mce-visualblocks ol,.mce-visualblocks p,.mce-visualblocks pre,.mce-visualblocks section,.mce-visualblocks ul{background-repeat:no-repeat;border:1px dashed #bbb;margin-left:3px;padding-top:10px}.mce-visualblocks p{background-image:url(data:image/gif;base64,R0lGODlhCQAJAJEAAAAAAP///7u7u////yH5BAEAAAMALAAAAAAJAAkAAAIQnG+CqCN/mlyvsRUpThG6AgA7)}.mce-visualblocks h1{background-image:url(data:image/gif;base64,R0lGODlhDQAKAIABALu7u////yH5BAEAAAEALAAAAAANAAoAAAIXjI8GybGu1JuxHoAfRNRW3TWXyF2YiRUAOw==)}.mce-visualblocks h2{background-image:url(data:image/gif;base64,R0lGODlhDgAKAIABALu7u////yH5BAEAAAEALAAAAAAOAAoAAAIajI8Hybbx4oOuqgTynJd6bGlWg3DkJzoaUAAAOw==)}.mce-visualblocks h3{background-image:url(data:image/gif;base64,R0lGODlhDgAKAIABALu7u////yH5BAEAAAEALAAAAAAOAAoAAAIZjI8Hybbx4oOuqgTynJf2Ln2NOHpQpmhAAQA7)}.mce-visualblocks h4{background-image:url(data:image/gif;base64,R0lGODlhDgAKAIABALu7u////yH5BAEAAAEALAAAAAAOAAoAAAIajI8HybbxInR0zqeAdhtJlXwV1oCll2HaWgAAOw==)}.mce-visualblocks h5{background-image:url(data:image/gif;base64,R0lGODlhDgAKAIABALu7u////yH5BAEAAAEALAAAAAAOAAoAAAIajI8HybbxIoiuwjane4iq5GlW05GgIkIZUAAAOw==)}.mce-visualblocks h6{background-image:url(data:image/gif;base64,R0lGODlhDgAKAIABALu7u////yH5BAEAAAEALAAAAAAOAAoAAAIajI8HybbxIoiuwjan04jep1iZ1XRlAo5bVgAAOw==)}.mce-visualblocks div:not([data-mce-bogus]){background-image:url(data:image/gif;base64,R0lGODlhEgAKAIABALu7u////yH5BAEAAAEALAAAAAASAAoAAAIfjI9poI0cgDywrhuxfbrzDEbQM2Ei5aRjmoySW4pAAQA7)}.mce-visualblocks section{background-image:url(data:image/gif;base64,R0lGODlhKAAKAIABALu7u////yH5BAEAAAEALAAAAAAoAAoAAAI5jI+pywcNY3sBWHdNrplytD2ellDeSVbp+GmWqaDqDMepc8t17Y4vBsK5hDyJMcI6KkuYU+jpjLoKADs=)}.mce-visualblocks article{background-image:url(data:image/gif;base64,R0lGODlhKgAKAIABALu7u////yH5BAEAAAEALAAAAAAqAAoAAAI6jI+pywkNY3wG0GBvrsd2tXGYSGnfiF7ikpXemTpOiJScasYoDJJrjsG9gkCJ0ag6KhmaIe3pjDYBBQA7)}.mce-visualblocks blockquote{background-image:url(data:image/gif;base64,R0lGODlhPgAKAIABALu7u////yH5BAEAAAEALAAAAAA+AAoAAAJPjI+py+0Knpz0xQDyuUhvfoGgIX5iSKZYgq5uNL5q69asZ8s5rrf0yZmpNkJZzFesBTu8TOlDVAabUyatguVhWduud3EyiUk45xhTTgMBBQA7)}.mce-visualblocks address{background-image:url(data:image/gif;base64,R0lGODlhLQAKAIABALu7u////yH5BAEAAAEALAAAAAAtAAoAAAI/jI+pywwNozSP1gDyyZcjb3UaRpXkWaXmZW4OqKLhBmLs+K263DkJK7OJeifh7FicKD9A1/IpGdKkyFpNmCkAADs=)}.mce-visualblocks pre{background-image:url(data:image/gif;base64,R0lGODlhFQAKAIABALu7uwAAACH5BAEAAAEALAAAAAAVAAoAAAIjjI+ZoN0cgDwSmnpz1NCueYERhnibZVKLNnbOq8IvKpJtVQAAOw==)}.mce-visualblocks figure{background-image:url(data:image/gif;base64,R0lGODlhJAAKAIAAALu7u////yH5BAEAAAEALAAAAAAkAAoAAAI0jI+py+2fwAHUSFvD3RlvG4HIp4nX5JFSpnZUJ6LlrM52OE7uSWosBHScgkSZj7dDKnWAAgA7)}.mce-visualblocks figcaption{border:1px dashed #bbb}.mce-visualblocks hgroup{background-image:url(data:image/gif;base64,R0lGODlhJwAKAIABALu7uwAAACH5BAEAAAEALAAAAAAnAAoAAAI3jI+pywYNI3uB0gpsRtt5fFnfNZaVSYJil4Wo03Hv6Z62uOCgiXH1kZIIJ8NiIxRrAZNMZAtQAAA7)}.mce-visualblocks aside{background-image:url(data:image/gif;base64,R0lGODlhHgAKAIABAKqqqv///yH5BAEAAAEALAAAAAAeAAoAAAItjI+pG8APjZOTzgtqy7I3f1yehmQcFY4WKZbqByutmW4aHUd6vfcVbgudgpYCADs=)}.mce-visualblocks ul{background-image:url(data:image/gif;base64,R0lGODlhDQAKAIAAALu7u////yH5BAEAAAEALAAAAAANAAoAAAIXjI8GybGuYnqUVSjvw26DzzXiqIDlVwAAOw==)}.mce-visualblocks ol{background-image:url(data:image/gif;base64,R0lGODlhDQAKAIABALu7u////yH5BAEAAAEALAAAAAANAAoAAAIXjI8GybH6HHt0qourxC6CvzXieHyeWQAAOw==)}.mce-visualblocks dl{background-image:url(data:image/gif;base64,R0lGODlhDQAKAIABALu7u////yH5BAEAAAEALAAAAAANAAoAAAIXjI8GybEOnmOvUoWznTqeuEjNSCqeGRUAOw==)}.mce-visualblocks:not([dir=rtl]) address,.mce-visualblocks:not([dir=rtl]) article,.mce-visualblocks:not([dir=rtl]) aside,.mce-visualblocks:not([dir=rtl]) blockquote,.mce-visualblocks:not([dir=rtl]) div:not([data-mce-bogus]),.mce-visualblocks:not([dir=rtl]) dl,.mce-visualblocks:not([dir=rtl]) figcaption,.mce-visualblocks:not([dir=rtl]) figure,.mce-visualblocks:not([dir=rtl]) h1,.mce-visualblocks:not([dir=rtl]) h2,.mce-visualblocks:not([dir=rtl]) h3,.mce-visualblocks:not([dir=rtl]) h4,.mce-visualblocks:not([dir=rtl]) h5,.mce-visualblocks:not([dir=rtl]) h6,.mce-visualblocks:not([dir=rtl]) hgroup,.mce-visualblocks:not([dir=rtl]) ol,.mce-visualblocks:not([dir=rtl]) p,.mce-visualblocks:not([dir=rtl]) pre,.mce-visualblocks:not([dir=rtl]) section,.mce-visualblocks:not([dir=rtl]) ul{margin-left:3px}.mce-visualblocks[dir=rtl] address,.mce-visualblocks[dir=rtl] article,.mce-visualblocks[dir=rtl] aside,.mce-visualblocks[dir=rtl] blockquote,.mce-visualblocks[dir=rtl] div:not([data-mce-bogus]),.mce-visualblocks[dir=rtl] dl,.mce-visualblocks[dir=rtl] figcaption,.mce-visualblocks[dir=rtl] figure,.mce-visualblocks[dir=rtl] h1,.mce-visualblocks[dir=rtl] h2,.mce-visualblocks[dir=rtl] h3,.mce-visualblocks[dir=rtl] h4,.mce-visualblocks[dir=rtl] h5,.mce-visualblocks[dir=rtl] h6,.mce-visualblocks[dir=rtl] hgroup,.mce-visualblocks[dir=rtl] ol,.mce-visualblocks[dir=rtl] p,.mce-visualblocks[dir=rtl] pre,.mce-visualblocks[dir=rtl] section,.mce-visualblocks[dir=rtl] ul{background-position-x:right;margin-right:3px}.mce-nbsp,.mce-shy{background:#aaa}.mce-shy::after{content:'-'}body{font-family:sans-serif}table{border-collapse:collapse}`);tinymce.addI18n("nl",{"#":"#",Accessibility:"Toegankelijkheid",Accordion:"","Accordion body...":"","Accordion summary...":"",Action:"Actie",Activity:"Activiteit",Address:"Adres",Advanced:"Geavanceerd",Align:"Uitlijnen","Align center":"Centreren","Align left":"Links uitlijnen","Align right":"Rechts uitlijnen",Alignment:"Uitlijning","Alignment {0}":"",All:"Alle","Alternative description":"Alternatieve beschrijving","Alternative source":"Alternatieve bron","Alternative source URL":"Alternatief bron-URL",Anchor:"Anker","Anchor...":"Anker...",Anchors:"Ankers","Animals and Nature":"Dieren en natuur",Arrows:"Pijlen",B:"B","Background color":"Achtergrondkleur","Background color {0}":"",Black:"Zwart",Block:"Blok","Block {0}":"",Blockquote:"Quote",Blocks:"Blokken",Blue:"Blauw","Blue component":"Blauw component",Body:"Body",Bold:"Vet",Border:"Rand","Border color":"Randkleur","Border style":"Randstijl","Border width":"Randbreedte",Bottom:"Onder","Browse files":"","Browse for an image":"Afbeelding zoeken","Browse links":"","Bullet list":"Lijst met opsommingstekens",Cancel:"Annuleren",Caption:"Onderschrift",Cell:"Cel","Cell padding":"Celopvulling","Cell properties":"Celeigenschappen","Cell spacing":"Celafstand","Cell styles":"Cel stijlen","Cell type":"Celtype",Center:"Centreren",Characters:"Tekens","Characters (no spaces)":"Tekens (geen spaties)",Circle:"Cirkel",Class:"Klasse","Clear formatting":"Opmaak wissen",Close:"Sluiten",Code:"Broncode","Code sample...":"Codevoorbeeld...","Code view":"Code bekijken","Color Picker":"Kleurenkiezer","Color swatch":"Kleurenwaaier",Cols:"Kolommen",Column:"Kolom","Column clipboard actions":"Kolom klembord acties","Column group":"Kolomgroep","Column header":"Kolom kop","Constrain proportions":"Verhoudingen behouden",Copy:"Kopiëren","Copy column":"Kopieer kolom","Copy row":"Rij kopiëren","Could not find the specified string.":"Kan opgegeven reeks niet vinden","Could not load emojis":"Kan de emoji's niet laden",Count:"Telling",Currency:"Valuta","Current window":"Huidige venster","Custom color":"Aangepaste kleur","Custom...":"Aangepast...",Cut:"Knippen","Cut column":"Knip kolom","Cut row":"Rij knippen","Dark Blue":"Donkerblauw","Dark Gray":"Donkergrijs","Dark Green":"Donkergroen","Dark Orange":"Donkeroranje","Dark Purple":"Donkerpaars","Dark Red":"Donkerrood","Dark Turquoise":"Donkerturquoise","Dark Yellow":"Donkergeel",Dashed:"Onderbroken","Date/time":"Datum/tijd","Decrease indent":"Inspringing verkleinen",Default:"Standaard","Delete accordion":"","Delete column":"Kolom verwijderen","Delete row":"Rij verwijderen ","Delete table":"Tabel verwijderen",Dimensions:"Afmetingen",Disc:"Schijf",Div:"Div",Document:"Dokument",Dotted:"Gestippeld",Double:"Dubbel","Drop an image here":"Hier een afbeelding neerzetten","Dropped file type is not supported":"Gesleepte bestandstype wordt niet ondersteund",Edit:"Bewerken",Embed:"Insluiten",Emojis:"Emoji's","Emojis...":"Emoji's...",Error:"Fout","Error: Form submit field collision.":"Fout: Veldconflict bij versturen formulier.","Error: No form element found.":"Fout: Geen formulierelement gevonden.","Extended Latin":"Latijn uitgebreid ","Failed to initialize plugin: {0}":"Niet gelukt om plug-in te initialiseren: {0}","Failed to load plugin url: {0}":"Niet gelukt om URL plug-in te laden: {0}","Failed to load plugin: {0} from url {1}":"Niet gelukt om plug-in te laden: {0} vanaf URL {1}","Failed to upload image: {0}":"Niet gelukt om afbeelding te uploaden: {0}",File:"Bestand",Find:"Zoeken","Find (if searchreplace plugin activated)":"Zoeken (als plug-in voor zoeken/vervangen geactiveerd is)","Find and Replace":"Zoek en vervang","Find and replace...":"Zoeken en vervangen...","Find in selection":"Zoek in selectie","Find whole words only":"Alleen hele woorden zoeken",Flags:"Vlaggen","Focus to contextual toolbar":"Focus op contextuele werkbalk instellen ","Focus to element path":"Focus op elementenpad instellen ","Focus to menubar":"Focus op menubalk instellen ","Focus to toolbar":"Focus op werkbalk instellen ",Font:"Lettertype","Font size {0}":"","Font sizes":"Tekengroottes","Font {0}":"",Fonts:"Lettertypes","Food and Drink":"Eten en drinken",Footer:"Voettekst",Format:"Opmaak","Format {0}":"",Formats:"Opmaken",Fullscreen:"Volledig scherm",G:"G",General:"Algemeen",Gray:"Grijs",Green:"Groen","Green component":"Groen component",Groove:"Groef","Handy Shortcuts":"Handige snelkoppelingen",Header:"Koptekst ","Header cell":"Koptekstcel","Heading 1":"Kop 1","Heading 2":"Kop 2","Heading 3":"Kop 3","Heading 4":"Kop 4","Heading 5":"Kop 5","Heading 6":"Kop 6",Headings:"Koppen",Height:"Hoogte",Help:"Help","Hex color code":"Hex kleurcode",Hidden:"Verborgen","Horizontal align":"Horizontaal uitlijnen","Horizontal line":"Horizontale lijn","Horizontal space":"Horizontale ruimte",ID:"ID","ID should start with a letter, followed only by letters, numbers, dashes, dots, colons or underscores.":"ID moet beginnen met een letter en daarna enkel gevolgd door letters, getallen, streepjes, punten, komma's of underscores.","Image is decorative":"Afbeelding is decoratief","Image list":"Afbeeldingslijst","Image title":"Afbeeldingstitel","Image...":"Afbeelding...","ImageProxy HTTP error: Could not find Image Proxy":"ImageProxy HTTP fout: Kan geen Image Proxy vinden","ImageProxy HTTP error: Incorrect Image Proxy URL":"ImageProxy HTTP fout: Incorrecte Image proxy URL","ImageProxy HTTP error: Rejected request":"ImageProxy HTTP fout: Aanvraag afgewezen","ImageProxy HTTP error: Unknown ImageProxy error":"ImageProxy HTTP fout: Onbekende ImageProxy fout","Increase indent":"Inspringing vergroten",Inline:"Inline",Insert:"Invoegen","Insert Template":"Sjabloon invoegen","Insert accordion":"","Insert column after":"Kolom invoegen na","Insert column before":"Kolom invoegen voor ","Insert date/time":"Datum/tijd invoegen","Insert image":"Afbeelding invoegen","Insert link (if link plugin activated)":"Link invoegen (als plug-in voor link geactiveerd is)","Insert row after":"Rij onder invoegen ","Insert row before":"Rij boven invoegen","Insert table":"Tabel invoegen","Insert template...":"Sjabloon invoegen...","Insert video":"Video invoegen","Insert/Edit code sample":"Codevoorbeeld invoegen/bewerken","Insert/edit image":"Afbeelding invoegen/bewerken","Insert/edit link":"Link invoegen/bewerken","Insert/edit media":"Media invoegen/bewerken","Insert/edit video":"Video invoegen/bewerken",Inset:"Inzet","Invalid hex color code: {0}":"Onjuiste hex kleurcode: {0}","Invalid input":"Ongeldige invoer",Italic:"Cursief",Justify:"Uitvullen","Keyboard Navigation":"Toetsenbord navigatie",Language:"Taal","Learn more...":"Leer meer...",Left:"Links","Left to right":"Van links naar rechts","Light Blue":"Lichtblauw","Light Gray":"Lichtgrijs","Light Green":"Lichtgroen","Light Purple":"Lichtpaars","Light Red":"Lichtrood","Light Yellow":"Lichtgeel","Line height":"Lijnhoogte","Link list":"Lijst met links","Link...":"Link...","List Properties":"Lijsteigenschappen","List properties...":"Lijsteigenschappen...","Loading emojis...":"Emoji's laden...","Loading...":"Laden...","Lower Alpha":"Kleine letters","Lower Greek":"Kleine Griekse letters","Lower Roman":"Kleine Romeinse cijfers","Match case":"Identieke hoofdletters/kleine letters",Mathematical:"Wiskundig","Media poster (Image URL)":"Mediaposter (afbeeldings-url)","Media...":"Media...","Medium Blue":"Middelblauw","Medium Gray":"Middelgrijs","Medium Purple":"Middelpaars","Merge cells":"Cellen samenvoegen",Middle:"Centreren","Midnight Blue":"Middernachtblauw","More...":"Meer...",Name:"Naam","Navy Blue":"Marineblauw","New document":"Nieuw document","New window":"Nieuw venster",Next:"Volgende",No:"Nee","No alignment":"Geen uitlijning","No color":"Geen kleur","Nonbreaking space":"Vaste spatie",None:"Geen","Numbered list":"Genummerde lijst",OR:"OF",Objects:"Objecten",Ok:"OK","Open help dialog":"Help-scherm openen","Open link":"Open koppeling","Open link in...":"Link openen in...","Open popup menu for split buttons":"Open het pop-up menu voor gesplitste  knoppen",Orange:"Oranje",Outset:"Begin","Page break":"Pagina-einde",Paragraph:"Alinea",Paste:"Plakken","Paste as text":"Plakken als tekst","Paste column after":"Plak kolom na","Paste column before":"Plak kolom voor","Paste is now in plain text mode. Contents will now be pasted as plain text until you toggle this option off.":"Plakken gebeurt nu zonder opmaak. De tekst zal dus zonder opmaak worden geplakt tenzij je deze optie uit zet.","Paste or type a link":"Een link plakken of typen","Paste row after":"Rij plakken onder","Paste row before":"Rij plakken boven","Paste your embed code below:":"Plak de invoegcode hieronder:",People:"Personen",Plugins:"Plug-ins","Plugins installed ({0}):":"Plug-ins geïnstalleerd ({0}):","Powered by {0}":"Mogelijk gemaakt met {0}",Pre:"Pre",Preferences:"Voorkeuren",Preformatted:"Vooraf opgemaakt","Premium plugins:":"Premium plug-ins:","Press the Up and Down arrow keys to resize the editor.":"","Press the arrow keys to resize the editor.":"","Press {0} for help":"",Preview:"Voorbeeld",Previous:"Vorige",Print:"Afdrukken","Print...":"Afdrukken... ",Purple:"Paars",Quotations:"Citaten",R:"R","Range 0 to 255":"Bereik 0 tot 255",Red:"Rood","Red component":"Rood component",Redo:"Opnieuw uitvoeren",Remove:"Verwijderen","Remove color":"Kleur verwijderen","Remove link":"Link verwijderen",Replace:"Vervangen","Replace all":"Alle vervangen","Replace with":"Vervangen door",Resize:"Formaat wijzigen","Restore last draft":"Laatste concept herstellen","Reveal or hide additional toolbar items":"","Rich Text Area":"Rijk Tekst Gebied","Rich Text Area. Press ALT-0 for help.":" Gebied met opgemaakte tekst. Druk op ALT-0 voor hulp.","Rich Text Area. Press ALT-F9 for menu. Press ALT-F10 for toolbar. Press ALT-0 for help":"Gebied met opgemaakte tekst. Druk op ALT-F9 voor menu. Druk op ALT-F10 voor werkbalk. Druk op ALT-0 voor help.",Ridge:"Ribbel",Right:"Rechts","Right to left":"Van rechts naar links",Row:"Rij","Row clipboard actions":"Rij klembord acties","Row group":"Rijgroep","Row header":"Rij kop","Row properties":"Rijeigenschappen","Row type":"Rijtype",Rows:"Rijen",Save:"Opslaan","Save (if save plugin activated)":"Opslaan (als plug-in voor opslaan geactiveerd is)",Scope:"Bereik",Search:"Zoeken","Select all":"Alles selecteren","Select...":"Selecteer...",Selection:"Selectie",Shortcut:"Snelkoppeling","Show blocks":"Blokken weergeven","Show caption":"Bijschrift weergeven","Show invisible characters":"Onzichtbare tekens weergeven",Size:"Formaat",Solid:"Massief",Source:"Bron","Source code":"Broncode","Special Character":"Speciale tekens","Special character...":"Speciaal teken...","Split cell":"Cel splitsen",Square:"Vierkant","Start list at number":"Begin lijst met nummer",Strikethrough:"Doorhalen",Style:"Stijl",Subscript:"Subscript",Superscript:"Superscript","Switch to or from fullscreen mode":"Overschakelen naar of vanuit de volledig scherm-modus",Symbols:"Symbolen","System Font":"Systeemlettertype",Table:"Tabel","Table caption":"Tabel bijschrift","Table properties":"Tabeleigenschappen","Table styles":"Tabel stijlen",Template:"Sjabloon",Templates:"Sjablonen",Text:"Tekst","Text color":"Tekstkleur","Text color {0}":"","Text to display":"Weer te geven tekst","The URL you entered seems to be an email address. Do you want to add the required mailto: prefix?":"De ingevoerde URL lijkt op een e-mailadres. Wil je er het vereiste voorvoegsel mailto: aan toevoegen?","The URL you entered seems to be an external link. Do you want to add the required http:// prefix?":"De ingevoerde URL verwijst naar een extern adres. Wil je er het vereiste voorvoegsel http:// aan toevoegen?","The URL you entered seems to be an external link. Do you want to add the required https:// prefix?":"De ingevoerde URL verwijst naar een extern adres. Wilt u er het vereiste voorvoegsel https:// aan toevoegen?",Title:"Titel","To open the popup, press Shift+Enter":"Druk op Shift+Enter om de pop-up te openen","Toggle accordion":"",Tools:"Extra",Top:"Boven","Travel and Places":"Reizen en plaatsen",Turquoise:"Turkoois",Underline:"Onderstrepen",Undo:"Ongedaan maken",Upload:"Uploaden","Uploading image":"Afbeelding uploaden","Upper Alpha":"Hoofdletters","Upper Roman":"Grote Romeinse cijfers",Url:"Url","User Defined":"Door gebruiker gedefinieerd ",Valid:"Geldig",Version:"Versie","Vertical align":"Verticaal uitlijnen","Vertical space":"Verticale ruimte",View:"Weergeven","Visual aids":" Visuele hulpmiddelen",Warn:"Waarschuwen",White:"Wit",Width:"Breedte","Word count":"Aantal woorden",Words:"Woorden","Words: {0}":"Woorden: {0}",Yellow:"Geel",Yes:"Ja","You are using {0}":"Je gebruikt {0}","You have unsaved changes are you sure you want to navigate away?":"Je hebt niet alles opgeslagen, weet je zeker dat je de pagina wilt verlaten?","Your browser doesn't support direct access to the clipboard. Please use the Ctrl+X/C/V keyboard shortcuts instead.":"Jouw browser ondersteunt geen rechtstreekse toegang tot het klembord. Gebruik in plaats daarvan de sneltoetsen Ctrl+X/C/V.",alignment:"uitlijning","austral sign":"austral-teken","cedi sign":"cedi-teken","colon sign":"colon-teken","cruzeiro sign":"cruzeiro-teken","currency sign":"valutateken","dollar sign":"dollarteken","dong sign":"dong-teken","drachma sign":"drachme-teken","euro-currency sign":"euroteken",example:"voorbeeld",formatting:"opmaak","french franc sign":"franse franc-teken","german penny symbol":"duitse pfennig-teken","guarani sign":"guarani-teken",history:"geschiedenis","hryvnia sign":"hryvnia-teken",indentation:"inspringing","indian rupee sign":"indiaase roepie-teken","kip sign":"kip-teken","lira sign":"lire-teken","livre tournois sign":"livre tournois-teken","manat sign":"manat-teken","mill sign":"mill-teken","naira sign":"naira-teken","new sheqel sign":"nieuwe sheqel-teken","nordic mark sign":"noorse mark-teken","peseta sign":"peseta-teken","peso sign":"peso-teken","ruble sign":"roebel-teken","rupee sign":"roepie-teken","spesmilo sign":"spesmilo-teken",styles:"stijlen","tenge sign":"tenge-teken","tugrik sign":"tugrik-teken","turkish lira sign":"turkse lire-teken","won sign":"won-teken","yen character":"yen-teken","yen/yuan character variant one":"yen/yuan variant 1-teken","yuan character":"yuan-teken","yuan character, in hong kong and taiwan":"yuan-teken (Hong Kong en Taiwan)","{0} characters":"{0} karakters","{0} columns, {1} rows":"","{0} words":"{0} woorden"});(function(){const na=He=>{let ne=He;return{get:()=>ne,set:dt=>{ne=dt}}};var Sa=tinymce.util.Tools.resolve("tinymce.PluginManager");const pa=He=>()=>He;var Qr=tinymce.util.Tools.resolve("tinymce.Env");const ar=He=>He.dispatch("ResizeEditor"),So=He=>ne=>ne.options.get(He),ir=He=>{const ne=He.options.register;ne("autoresize_overflow_padding",{processor:"number",default:1}),ne("autoresize_bottom_margin",{processor:"number",default:50})},lr=So("min_height"),Xo=So("max_height"),Rn=So("autoresize_overflow_padding"),Qn=So("autoresize_bottom_margin"),cr=He=>He.plugins.fullscreen&&He.plugins.fullscreen.isFullscreen(),Ur=(He,ne)=>{const Et=He.getBody();Et&&(Et.style.overflowY=ne?"":"hidden",ne||(Et.scrollTop=0))},It=(He,ne,Et,ve)=>{var dt;const Gn=parseInt((dt=He.getStyle(ne,Et,ve))!==null&&dt!==void 0?dt:"",10);return isNaN(Gn)?0:Gn},Jt=He=>{if((He==null?void 0:He.type.toLowerCase())==="setcontent"){const ne=He;return ne.selection===!0||ne.paste===!0}else return!1},Ho=(He,ne,Et,ve)=>{var dt;const Gn=He.dom,gn=He.getDoc();if(!gn)return;if(cr(He)){Ur(He,!0);return}const vo=gn.documentElement,Le=ve?ve():Rn(He),Lt=(dt=lr(He))!==null&&dt!==void 0?dt:He.getElement().offsetHeight;let T=Lt;const Eo=It(Gn,vo,"margin-top",!0),lo=It(Gn,vo,"margin-bottom",!0);let Ro=vo.offsetHeight+Eo+lo+Le;Ro<0&&(Ro=0);const Cr=He.getContainer().offsetHeight,_e=He.getContentAreaContainer().offsetHeight,Tt=Cr-_e;Ro+Tt>Lt&&(T=Ro+Tt);const un=Xo(He);if(un&&T>un?(T=un,Ur(He,!0)):Ur(He,!1),T!==ne.get()){const yt=T-ne.get();if(Gn.setStyle(He.getContainer(),"height",T+"px"),ne.set(T),ar(He),Qr.browser.isSafari()&&(Qr.os.isMacOS()||Qr.os.isiOS())){const nt=He.getWin();nt.scrollTo(nt.pageXOffset,nt.pageYOffset)}He.hasFocus()&&Jt(Et)&&He.selection.scrollIntoView(),(Qr.browser.isSafari()||Qr.browser.isChromium())&&yt<0&&Ho(He,ne,Et,ve)}},er=(He,ne)=>{let Et=()=>Qn(He),ve,dt;He.on("init",Gn=>{ve=0;const gn=Rn(He),vo=He.dom;vo.setStyles(He.getDoc().documentElement,{height:"auto"}),Qr.browser.isEdge()||Qr.browser.isIE()?vo.setStyles(He.getBody(),{paddingLeft:gn,paddingRight:gn,"min-height":0}):vo.setStyles(He.getBody(),{paddingLeft:gn,paddingRight:gn}),Ho(He,ne,Gn,Et),ve+=1}),He.on("NodeChange SetContent keyup FullscreenStateChanged ResizeContent",Gn=>{if(ve===1)dt=He.getContainer().offsetHeight,Ho(He,ne,Gn,Et),ve+=1;else if(ve===2){const gn=dt<He.getContainer().offsetHeight;if(gn){const vo=He.dom,Le=He.getDoc();vo.setStyles(Le.documentElement,{"min-height":0}),vo.setStyles(He.getBody(),{"min-height":"inherit"})}Et=gn?pa(0):Et,ve+=1}else Ho(He,ne,Gn,Et)})},ut=(He,ne)=>{He.addCommand("mceAutoResize",()=>{Ho(He,ne)})};var yo=()=>{Sa.add("autoresize",He=>{if(ir(He),He.options.isSet("resize")||He.options.set("resize",!1),!He.inline){const ne=na(0);ut(He,ne),er(He,ne)}})};yo()})();(function(){var na=tinymce.util.Tools.resolve("tinymce.PluginManager");const Sa=(_e,Tt,un)=>{var yt;return un(_e,Tt.prototype)?!0:((yt=_e.constructor)===null||yt===void 0?void 0:yt.name)===Tt.name},pa=_e=>{const Tt=typeof _e;return _e===null?"null":Tt==="object"&&Array.isArray(_e)?"array":Tt==="object"&&Sa(_e,String,(un,yt)=>yt.isPrototypeOf(un))?"string":Tt},Qr=_e=>Tt=>pa(Tt)===_e,ar=_e=>Tt=>_e===Tt,So=Qr("string"),ir=ar(void 0);var lr=tinymce.util.Tools.resolve("tinymce.util.Delay"),Xo=tinymce.util.Tools.resolve("tinymce.util.LocalStorage"),Rn=tinymce.util.Tools.resolve("tinymce.util.Tools");const Qn=_e=>_e.dispatch("RestoreDraft"),cr=_e=>_e.dispatch("StoreDraft"),Ur=_e=>_e.dispatch("RemoveDraft"),It=_e=>{const Tt={s:1e3,m:6e4},un=/^(\d+)([ms]?)$/.exec(_e);return(un&&un[2]?Tt[un[2]]:1)*parseInt(_e,10)},Jt=_e=>Tt=>Tt.options.get(_e),Ho=_e=>{const Tt=_e.options.register,un=yt=>{const nt=So(yt);return nt?{value:It(yt),valid:nt}:{valid:!1,message:"Must be a string."}};Tt("autosave_ask_before_unload",{processor:"boolean",default:!0}),Tt("autosave_prefix",{processor:"string",default:"tinymce-autosave-{path}{query}{hash}-{id}-"}),Tt("autosave_restore_when_empty",{processor:"boolean",default:!1}),Tt("autosave_interval",{processor:un,default:"30s"}),Tt("autosave_retention",{processor:un,default:"20m"})},er=Jt("autosave_ask_before_unload"),ut=Jt("autosave_restore_when_empty"),yo=Jt("autosave_interval"),He=Jt("autosave_retention"),ne=_e=>{const Tt=document.location;return _e.options.get("autosave_prefix").replace(/{path}/g,Tt.pathname).replace(/{query}/g,Tt.search).replace(/{hash}/g,Tt.hash).replace(/{id}/g,_e.id)},Et=(_e,Tt)=>{if(ir(Tt))return _e.dom.isEmpty(_e.getBody());{const un=Rn.trim(Tt);if(un==="")return!0;{const yt=new DOMParser().parseFromString(un,"text/html");return _e.dom.isEmpty(yt)}}},ve=_e=>{var Tt;const un=parseInt((Tt=Xo.getItem(ne(_e)+"time"))!==null&&Tt!==void 0?Tt:"0",10)||0;return new Date().getTime()-un>He(_e)?(dt(_e,!1),!1):!0},dt=(_e,Tt)=>{const un=ne(_e);Xo.removeItem(un+"draft"),Xo.removeItem(un+"time"),Tt!==!1&&Ur(_e)},Gn=_e=>{const Tt=ne(_e);!Et(_e)&&_e.isDirty()&&(Xo.setItem(Tt+"draft",_e.getContent({format:"raw",no_events:!0})),Xo.setItem(Tt+"time",new Date().getTime().toString()),cr(_e))},gn=_e=>{var Tt;const un=ne(_e);ve(_e)&&(_e.setContent((Tt=Xo.getItem(un+"draft"))!==null&&Tt!==void 0?Tt:"",{format:"raw"}),Qn(_e))},vo=_e=>{const Tt=yo(_e);lr.setEditorInterval(_e,()=>{Gn(_e)},Tt)},Le=_e=>{_e.undoManager.transact(()=>{gn(_e),dt(_e)}),_e.focus()},Lt=_e=>({hasDraft:()=>ve(_e),storeDraft:()=>Gn(_e),restoreDraft:()=>gn(_e),removeDraft:Tt=>dt(_e,Tt),isEmpty:Tt=>Et(_e,Tt)});var T=tinymce.util.Tools.resolve("tinymce.EditorManager");const Eo=_e=>{_e.editorManager.on("BeforeUnload",Tt=>{let un;Rn.each(T.get(),yt=>{yt.plugins.autosave&&yt.plugins.autosave.storeDraft(),!un&&yt.isDirty()&&er(yt)&&(un=yt.translate("You have unsaved changes are you sure you want to navigate away?"))}),un&&(Tt.preventDefault(),Tt.returnValue=un)})},lo=_e=>Tt=>{Tt.setEnabled(ve(_e));const un=()=>Tt.setEnabled(ve(_e));return _e.on("StoreDraft RestoreDraft RemoveDraft",un),()=>_e.off("StoreDraft RestoreDraft RemoveDraft",un)},Ro=_e=>{vo(_e);const Tt=()=>{Le(_e)};_e.ui.registry.addButton("restoredraft",{tooltip:"Restore last draft",icon:"restore-draft",onAction:Tt,onSetup:lo(_e)}),_e.ui.registry.addMenuItem("restoredraft",{text:"Restore last draft",icon:"restore-draft",onAction:Tt,onSetup:lo(_e)})};var Cr=()=>{na.add("autosave",_e=>(Ho(_e),Eo(_e),Ro(_e),_e.on("init",()=>{ut(_e)&&_e.dom.isEmpty(_e.getBody())&&gn(_e)}),Lt(_e)))};Cr()})();(function(){var na=tinymce.util.Tools.resolve("tinymce.PluginManager");const Sa=(lr,Xo)=>{lr.focus(),lr.undoManager.transact(()=>{lr.setContent(Xo)}),lr.selection.setCursorLocation(),lr.nodeChanged()},pa=lr=>lr.getContent({source_view:!0}),Qr=lr=>{const Xo=pa(lr);lr.windowManager.open({title:"Source Code",size:"large",body:{type:"panel",items:[{type:"textarea",name:"code"}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:{code:Xo},onSubmit:Rn=>{Sa(lr,Rn.getData().code),Rn.close()}})},ar=lr=>{lr.addCommand("mceCodeEditor",()=>{Qr(lr)})},So=lr=>{const Xo=()=>lr.execCommand("mceCodeEditor");lr.ui.registry.addButton("code",{icon:"sourcecode",tooltip:"Source code",onAction:Xo}),lr.ui.registry.addMenuItem("code",{icon:"sourcecode",text:"Source code",onAction:Xo})};var ir=()=>{na.add("code",lr=>(ar(lr),So(lr),{}))};ir()})();(function(){var na=tinymce.util.Tools.resolve("tinymce.PluginManager");const Sa=et=>it=>et===it,pa=Sa(null),Qr=Sa(void 0),ar=et=>et==null,So=et=>!ar(et),ir=()=>{},Xo=(et=>()=>et)(!1);class Rn{constructor(it,Ye){this.tag=it,this.value=Ye}static some(it){return new Rn(!0,it)}static none(){return Rn.singletonNone}fold(it,Ye){return this.tag?Ye(this.value):it()}isSome(){return this.tag}isNone(){return!this.tag}map(it){return this.tag?Rn.some(it(this.value)):Rn.none()}bind(it){return this.tag?it(this.value):Rn.none()}exists(it){return this.tag&&it(this.value)}forall(it){return!this.tag||it(this.value)}filter(it){return!this.tag||it(this.value)?this:Rn.none()}getOr(it){return this.tag?this.value:it}or(it){return this.tag?this:it}getOrThunk(it){return this.tag?this.value:it()}orThunk(it){return this.tag?this:it()}getOrDie(it){if(this.tag)return this.value;throw new Error(it??"Called getOrDie on None")}static from(it){return So(it)?Rn.some(it):Rn.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(it){this.tag&&it(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}Rn.singletonNone=new Rn(!1);const Qn=(et,it)=>{for(let Ye=0,Qt=et.length;Ye<Qt;Ye++){const fo=et[Ye];if(it(fo,Ye))return!0}return!1},cr=(et,it)=>{const Ye=et.length,Qt=new Array(Ye);for(let fo=0;fo<Ye;fo++){const $o=et[fo];Qt[fo]=it($o,fo)}return Qt},Ur=(et,it)=>{for(let Ye=0,Qt=et.length;Ye<Qt;Ye++){const fo=et[Ye];it(fo,Ye)}},It=et=>{let it=et;return{get:()=>it,set:fo=>{it=fo}}},Jt=(et,it)=>{let Ye=null;const Qt=()=>{pa(Ye)||(clearTimeout(Ye),Ye=null)};return{cancel:Qt,throttle:(...$o)=>{Qt(),Ye=setTimeout(()=>{Ye=null,et.apply(null,$o)},it)}}},Ho=(et,it)=>{et.insertContent(it)},er=Object.keys,ut=Object.hasOwnProperty,yo=(et,it)=>{const Ye=er(et);for(let Qt=0,fo=Ye.length;Qt<fo;Qt++){const $o=Ye[Qt],Nn=et[$o];it(Nn,$o)}},He=(et,it)=>ne(et,(Ye,Qt)=>({k:Qt,v:it(Ye,Qt)})),ne=(et,it)=>{const Ye={};return yo(et,(Qt,fo)=>{const $o=it(Qt,fo);Ye[$o.k]=$o.v}),Ye},Et=(et,it)=>ut.call(et,it),Gn=(et=>(...it)=>{if(it.length===0)throw new Error("Can't merge zero objects");const Ye={};for(let Qt=0;Qt<it.length;Qt++){const fo=it[Qt];for(const $o in fo)Et(fo,$o)&&(Ye[$o]=et(Ye[$o],fo[$o]))}return Ye})((et,it)=>it),gn=et=>{const it=It(Rn.none()),Ye=()=>it.get().each(et);return{clear:()=>{Ye(),it.set(Rn.none())},isSet:()=>it.get().isSome(),get:()=>it.get(),set:Kn=>{Ye(),it.set(Rn.some(Kn))}}},vo=()=>{const et=gn(ir);return{...et,on:Ye=>et.get().each(Ye)}},Le=(et,it,Ye)=>it===""||et.length>=it.length&&et.substr(Ye,Ye+it.length)===it,Lt=(et,it,Ye=0,Qt)=>{const fo=et.indexOf(it,Ye);return fo!==-1?Qr(Qt)?!0:fo+it.length<=Qt:!1},T=(et,it)=>Le(et,it,0);var Eo=tinymce.util.Tools.resolve("tinymce.Resource");const lo="tinymce.plugins.emoticons",Ro=et=>it=>it.options.get(et),Cr=(et,it)=>{const Ye=et.options.register;Ye("emoticons_database",{processor:"string",default:"emojis"}),Ye("emoticons_database_url",{processor:"string",default:`${it}/js/${_e(et)}${et.suffix}.js`}),Ye("emoticons_database_id",{processor:"string",default:lo}),Ye("emoticons_append",{processor:"object",default:{}}),Ye("emoticons_images_url",{processor:"string",default:"https://cdnjs.cloudflare.com/ajax/libs/twemoji/15.1.0/72x72/"})},_e=Ro("emoticons_database"),Tt=Ro("emoticons_database_url"),un=Ro("emoticons_database_id"),yt=Ro("emoticons_append"),nt=Ro("emoticons_images_url"),Ot="All",Zr={symbols:"Symbols",people:"People",animals_and_nature:"Animals and Nature",food_and_drink:"Food and Drink",activity:"Activity",travel_and_places:"Travel and Places",objects:"Objects",flags:"Flags",user:"User Defined"},kn=(et,it)=>Et(et,it)?et[it]:it,fn=et=>{const it=yt(et);return He(it,Ye=>({keywords:[],category:"user",...Ye}))},Ao=(et,it,Ye)=>{const Qt=vo(),fo=vo(),$o=nt(et),Nn=tr=>T(tr.char,"<img")?tr.char.replace(/src="([^"]+)"/,(Ko,ps)=>`src="${$o}${ps}"`):tr.char,Kn=tr=>{const Ko={},ps=[];yo(tr,(lt,ro)=>{const Po={title:ro,keywords:lt.keywords,char:Nn(lt),category:kn(Zr,lt.category)},gs=Ko[Po.category]!==void 0?Ko[Po.category]:[];Ko[Po.category]=gs.concat([Po]),ps.push(Po)}),Qt.set(Ko),fo.set(ps)};et.on("init",()=>{Eo.load(Ye,it).then(tr=>{const Ko=fn(et);Kn(Gn(tr,Ko))},tr=>{console.log(`Failed to load emojis: ${tr}`),Qt.set({}),fo.set([])})});const Mn=tr=>tr===Ot?zn():Qt.get().bind(Ko=>Rn.from(Ko[tr])).getOr([]),zn=()=>fo.get().getOr([]),Wr=()=>[Ot].concat(er(Qt.get().getOr({}))),qs=()=>hr()?Promise.resolve(!0):new Promise((tr,Ko)=>{let ps=15;const lt=setInterval(()=>{hr()?(clearInterval(lt),tr(!0)):(ps--,ps<0&&(console.log("Could not load emojis from url: "+it),clearInterval(lt),Ko(!1)))},100)}),hr=()=>Qt.isSet()&&fo.isSet();return{listCategories:Wr,hasLoaded:hr,waitForLoad:qs,listAll:zn,listCategory:Mn}},$=(et,it)=>Lt(et.title.toLowerCase(),it)||Qn(et.keywords,Ye=>Lt(Ye.toLowerCase(),it)),zs=(et,it,Ye)=>{const Qt=[],fo=it.toLowerCase(),$o=Ye.fold(()=>Xo,Nn=>Kn=>Kn>=Nn);for(let Nn=0;Nn<et.length&&!((it.length===0||$(et[Nn],fo))&&(Qt.push({value:et[Nn].char,text:et[Nn].title,icon:et[Nn].char}),$o(Qt.length)));Nn++);return Qt},An="pattern",mn=(et,it)=>{const Ye={pattern:"",results:zs(it.listAll(),"",Rn.some(300))},Qt=It(Ot),fo=Wr=>{const qs=Wr.getData(),hr=Qt.get(),tr=it.listCategory(hr),Ko=zs(tr,qs[An],hr===Ot?Rn.some(300):Rn.none());Wr.setData({results:Ko})},$o=Jt(Wr=>{fo(Wr)},200),Nn={label:"Search",type:"input",name:An},Kn={type:"collection",name:"results"},Mn=()=>({title:"Emojis",size:"normal",body:{type:"tabpanel",tabs:cr(it.listCategories(),qs=>({title:qs,name:qs,items:[Nn,Kn]}))},initialData:Ye,onTabChange:(qs,hr)=>{Qt.set(hr.newTabName),$o.throttle(qs)},onChange:$o.throttle,onAction:(qs,hr)=>{hr.name==="results"&&(Ho(et,hr.value),qs.close())},buttons:[{type:"cancel",text:"Close",primary:!0}]}),zn=et.windowManager.open(Mn());zn.focus(An),it.hasLoaded()||(zn.block("Loading emojis..."),it.waitForLoad().then(()=>{zn.redial(Mn()),$o.throttle(zn),zn.focus(An),zn.unblock()}).catch(Wr=>{zn.redial({title:"Emojis",body:{type:"panel",items:[{type:"alertbanner",level:"error",icon:"warning",text:"Could not load emojis"}]},buttons:[{type:"cancel",text:"Close",primary:!0}],initialData:{pattern:"",results:[]}}),zn.focus(An),zn.unblock()}))},Ga=(et,it)=>{et.addCommand("mceEmoticons",()=>mn(et,it))},sl=et=>{et.on("PreInit",()=>{et.parser.addAttributeFilter("data-emoticon",it=>{Ur(it,Ye=>{Ye.attr("data-mce-resize","false"),Ye.attr("data-mce-placeholder","1")})})})},nn=(et,it)=>{et.ui.registry.addAutocompleter("emoticons",{trigger:":",columns:"auto",minChars:2,fetch:(Ye,Qt)=>it.waitForLoad().then(()=>{const fo=it.listAll();return zs(fo,Ye,Rn.some(Qt))}),onAction:(Ye,Qt,fo)=>{et.selection.setRng(Qt),et.insertContent(fo),Ye.hide()}})},dr=et=>it=>{const Ye=()=>{it.setEnabled(et.selection.isEditable())};return et.on("NodeChange",Ye),Ye(),()=>{et.off("NodeChange",Ye)}},To=et=>{const it=()=>et.execCommand("mceEmoticons");et.ui.registry.addButton("emoticons",{tooltip:"Emojis",icon:"emoji",onAction:it,onSetup:dr(et)}),et.ui.registry.addMenuItem("emoticons",{text:"Emojis...",icon:"emoji",onAction:it,onSetup:dr(et)})};var We=()=>{na.add("emoticons",(et,it)=>{Cr(et,it);const Ye=Tt(et),Qt=un(et),fo=Ao(et,Ye,Qt);return Ga(et,fo),To(et),nn(et,fo),sl(et),{getAllEmojis:()=>fo.waitForLoad().then(()=>fo.listAll())}})};We()})();window.tinymce.Resource.add("tinymce.plugins.emoticons",{grinning:{keywords:["face","smile","happy","joy",":D","grin"],char:"😀",fitzpatrick_scale:!1,category:"people"},grimacing:{keywords:["face","grimace","teeth"],char:"😬",fitzpatrick_scale:!1,category:"people"},grin:{keywords:["face","happy","smile","joy","kawaii"],char:"😁",fitzpatrick_scale:!1,category:"people"},joy:{keywords:["face","cry","tears","weep","happy","happytears","haha"],char:"😂",fitzpatrick_scale:!1,category:"people"},rofl:{keywords:["face","rolling","floor","laughing","lol","haha"],char:"🤣",fitzpatrick_scale:!1,category:"people"},partying:{keywords:["face","celebration","woohoo"],char:"🥳",fitzpatrick_scale:!1,category:"people"},smiley:{keywords:["face","happy","joy","haha",":D",":)","smile","funny"],char:"😃",fitzpatrick_scale:!1,category:"people"},smile:{keywords:["face","happy","joy","funny","haha","laugh","like",":D",":)"],char:"😄",fitzpatrick_scale:!1,category:"people"},sweat_smile:{keywords:["face","hot","happy","laugh","sweat","smile","relief"],char:"😅",fitzpatrick_scale:!1,category:"people"},laughing:{keywords:["happy","joy","lol","satisfied","haha","face","glad","XD","laugh"],char:"😆",fitzpatrick_scale:!1,category:"people"},innocent:{keywords:["face","angel","heaven","halo"],char:"😇",fitzpatrick_scale:!1,category:"people"},wink:{keywords:["face","happy","mischievous","secret",";)","smile","eye"],char:"😉",fitzpatrick_scale:!1,category:"people"},blush:{keywords:["face","smile","happy","flushed","crush","embarrassed","shy","joy"],char:"😊",fitzpatrick_scale:!1,category:"people"},slightly_smiling_face:{keywords:["face","smile"],char:"🙂",fitzpatrick_scale:!1,category:"people"},upside_down_face:{keywords:["face","flipped","silly","smile"],char:"🙃",fitzpatrick_scale:!1,category:"people"},relaxed:{keywords:["face","blush","massage","happiness"],char:"☺️",fitzpatrick_scale:!1,category:"people"},yum:{keywords:["happy","joy","tongue","smile","face","silly","yummy","nom","delicious","savouring"],char:"😋",fitzpatrick_scale:!1,category:"people"},relieved:{keywords:["face","relaxed","phew","massage","happiness"],char:"😌",fitzpatrick_scale:!1,category:"people"},heart_eyes:{keywords:["face","love","like","affection","valentines","infatuation","crush","heart"],char:"😍",fitzpatrick_scale:!1,category:"people"},smiling_face_with_three_hearts:{keywords:["face","love","like","affection","valentines","infatuation","crush","hearts","adore"],char:"🥰",fitzpatrick_scale:!1,category:"people"},kissing_heart:{keywords:["face","love","like","affection","valentines","infatuation","kiss"],char:"😘",fitzpatrick_scale:!1,category:"people"},kissing:{keywords:["love","like","face","3","valentines","infatuation","kiss"],char:"😗",fitzpatrick_scale:!1,category:"people"},kissing_smiling_eyes:{keywords:["face","affection","valentines","infatuation","kiss"],char:"😙",fitzpatrick_scale:!1,category:"people"},kissing_closed_eyes:{keywords:["face","love","like","affection","valentines","infatuation","kiss"],char:"😚",fitzpatrick_scale:!1,category:"people"},stuck_out_tongue_winking_eye:{keywords:["face","prank","childish","playful","mischievous","smile","wink","tongue"],char:"😜",fitzpatrick_scale:!1,category:"people"},zany:{keywords:["face","goofy","crazy"],char:"🤪",fitzpatrick_scale:!1,category:"people"},raised_eyebrow:{keywords:["face","distrust","scepticism","disapproval","disbelief","surprise"],char:"🤨",fitzpatrick_scale:!1,category:"people"},monocle:{keywords:["face","stuffy","wealthy"],char:"🧐",fitzpatrick_scale:!1,category:"people"},stuck_out_tongue_closed_eyes:{keywords:["face","prank","playful","mischievous","smile","tongue"],char:"😝",fitzpatrick_scale:!1,category:"people"},stuck_out_tongue:{keywords:["face","prank","childish","playful","mischievous","smile","tongue"],char:"😛",fitzpatrick_scale:!1,category:"people"},money_mouth_face:{keywords:["face","rich","dollar","money"],char:"🤑",fitzpatrick_scale:!1,category:"people"},nerd_face:{keywords:["face","nerdy","geek","dork"],char:"🤓",fitzpatrick_scale:!1,category:"people"},sunglasses:{keywords:["face","cool","smile","summer","beach","sunglass"],char:"😎",fitzpatrick_scale:!1,category:"people"},star_struck:{keywords:["face","smile","starry","eyes","grinning"],char:"🤩",fitzpatrick_scale:!1,category:"people"},clown_face:{keywords:["face"],char:"🤡",fitzpatrick_scale:!1,category:"people"},cowboy_hat_face:{keywords:["face","cowgirl","hat"],char:"🤠",fitzpatrick_scale:!1,category:"people"},hugs:{keywords:["face","smile","hug"],char:"🤗",fitzpatrick_scale:!1,category:"people"},smirk:{keywords:["face","smile","mean","prank","smug","sarcasm"],char:"😏",fitzpatrick_scale:!1,category:"people"},no_mouth:{keywords:["face","hellokitty"],char:"😶",fitzpatrick_scale:!1,category:"people"},neutral_face:{keywords:["indifference","meh",":|","neutral"],char:"😐",fitzpatrick_scale:!1,category:"people"},expressionless:{keywords:["face","indifferent","-_-","meh","deadpan"],char:"😑",fitzpatrick_scale:!1,category:"people"},unamused:{keywords:["indifference","bored","straight face","serious","sarcasm","unimpressed","skeptical","dubious","side_eye"],char:"😒",fitzpatrick_scale:!1,category:"people"},roll_eyes:{keywords:["face","eyeroll","frustrated"],char:"🙄",fitzpatrick_scale:!1,category:"people"},thinking:{keywords:["face","hmmm","think","consider"],char:"🤔",fitzpatrick_scale:!1,category:"people"},lying_face:{keywords:["face","lie","pinocchio"],char:"🤥",fitzpatrick_scale:!1,category:"people"},hand_over_mouth:{keywords:["face","whoops","shock","surprise"],char:"🤭",fitzpatrick_scale:!1,category:"people"},shushing:{keywords:["face","quiet","shhh"],char:"🤫",fitzpatrick_scale:!1,category:"people"},symbols_over_mouth:{keywords:["face","swearing","cursing","cussing","profanity","expletive"],char:"🤬",fitzpatrick_scale:!1,category:"people"},exploding_head:{keywords:["face","shocked","mind","blown"],char:"🤯",fitzpatrick_scale:!1,category:"people"},flushed:{keywords:["face","blush","shy","flattered"],char:"😳",fitzpatrick_scale:!1,category:"people"},disappointed:{keywords:["face","sad","upset","depressed",":("],char:"😞",fitzpatrick_scale:!1,category:"people"},worried:{keywords:["face","concern","nervous",":("],char:"😟",fitzpatrick_scale:!1,category:"people"},angry:{keywords:["mad","face","annoyed","frustrated"],char:"😠",fitzpatrick_scale:!1,category:"people"},rage:{keywords:["angry","mad","hate","despise"],char:"😡",fitzpatrick_scale:!1,category:"people"},pensive:{keywords:["face","sad","depressed","upset"],char:"😔",fitzpatrick_scale:!1,category:"people"},confused:{keywords:["face","indifference","huh","weird","hmmm",":/"],char:"😕",fitzpatrick_scale:!1,category:"people"},slightly_frowning_face:{keywords:["face","frowning","disappointed","sad","upset"],char:"🙁",fitzpatrick_scale:!1,category:"people"},frowning_face:{keywords:["face","sad","upset","frown"],char:"☹",fitzpatrick_scale:!1,category:"people"},persevere:{keywords:["face","sick","no","upset","oops"],char:"😣",fitzpatrick_scale:!1,category:"people"},confounded:{keywords:["face","confused","sick","unwell","oops",":S"],char:"😖",fitzpatrick_scale:!1,category:"people"},tired_face:{keywords:["sick","whine","upset","frustrated"],char:"😫",fitzpatrick_scale:!1,category:"people"},weary:{keywords:["face","tired","sleepy","sad","frustrated","upset"],char:"😩",fitzpatrick_scale:!1,category:"people"},pleading:{keywords:["face","begging","mercy"],char:"🥺",fitzpatrick_scale:!1,category:"people"},triumph:{keywords:["face","gas","phew","proud","pride"],char:"😤",fitzpatrick_scale:!1,category:"people"},open_mouth:{keywords:["face","surprise","impressed","wow","whoa",":O"],char:"😮",fitzpatrick_scale:!1,category:"people"},scream:{keywords:["face","munch","scared","omg"],char:"😱",fitzpatrick_scale:!1,category:"people"},fearful:{keywords:["face","scared","terrified","nervous","oops","huh"],char:"😨",fitzpatrick_scale:!1,category:"people"},cold_sweat:{keywords:["face","nervous","sweat"],char:"😰",fitzpatrick_scale:!1,category:"people"},hushed:{keywords:["face","woo","shh"],char:"😯",fitzpatrick_scale:!1,category:"people"},frowning:{keywords:["face","aw","what"],char:"😦",fitzpatrick_scale:!1,category:"people"},anguished:{keywords:["face","stunned","nervous"],char:"😧",fitzpatrick_scale:!1,category:"people"},cry:{keywords:["face","tears","sad","depressed","upset",":'("],char:"😢",fitzpatrick_scale:!1,category:"people"},disappointed_relieved:{keywords:["face","phew","sweat","nervous"],char:"😥",fitzpatrick_scale:!1,category:"people"},drooling_face:{keywords:["face"],char:"🤤",fitzpatrick_scale:!1,category:"people"},sleepy:{keywords:["face","tired","rest","nap"],char:"😪",fitzpatrick_scale:!1,category:"people"},sweat:{keywords:["face","hot","sad","tired","exercise"],char:"😓",fitzpatrick_scale:!1,category:"people"},hot:{keywords:["face","feverish","heat","red","sweating"],char:"🥵",fitzpatrick_scale:!1,category:"people"},cold:{keywords:["face","blue","freezing","frozen","frostbite","icicles"],char:"🥶",fitzpatrick_scale:!1,category:"people"},sob:{keywords:["face","cry","tears","sad","upset","depressed"],char:"😭",fitzpatrick_scale:!1,category:"people"},dizzy_face:{keywords:["spent","unconscious","xox","dizzy"],char:"😵",fitzpatrick_scale:!1,category:"people"},astonished:{keywords:["face","xox","surprised","poisoned"],char:"😲",fitzpatrick_scale:!1,category:"people"},zipper_mouth_face:{keywords:["face","sealed","zipper","secret"],char:"🤐",fitzpatrick_scale:!1,category:"people"},nauseated_face:{keywords:["face","vomit","gross","green","sick","throw up","ill"],char:"🤢",fitzpatrick_scale:!1,category:"people"},sneezing_face:{keywords:["face","gesundheit","sneeze","sick","allergy"],char:"🤧",fitzpatrick_scale:!1,category:"people"},vomiting:{keywords:["face","sick"],char:"🤮",fitzpatrick_scale:!1,category:"people"},mask:{keywords:["face","sick","ill","disease"],char:"😷",fitzpatrick_scale:!1,category:"people"},face_with_thermometer:{keywords:["sick","temperature","thermometer","cold","fever"],char:"🤒",fitzpatrick_scale:!1,category:"people"},face_with_head_bandage:{keywords:["injured","clumsy","bandage","hurt"],char:"🤕",fitzpatrick_scale:!1,category:"people"},woozy:{keywords:["face","dizzy","intoxicated","tipsy","wavy"],char:"🥴",fitzpatrick_scale:!1,category:"people"},sleeping:{keywords:["face","tired","sleepy","night","zzz"],char:"😴",fitzpatrick_scale:!1,category:"people"},zzz:{keywords:["sleepy","tired","dream"],char:"💤",fitzpatrick_scale:!1,category:"people"},poop:{keywords:["hankey","shitface","fail","turd","shit"],char:"💩",fitzpatrick_scale:!1,category:"people"},smiling_imp:{keywords:["devil","horns"],char:"😈",fitzpatrick_scale:!1,category:"people"},imp:{keywords:["devil","angry","horns"],char:"👿",fitzpatrick_scale:!1,category:"people"},japanese_ogre:{keywords:["monster","red","mask","halloween","scary","creepy","devil","demon","japanese","ogre"],char:"👹",fitzpatrick_scale:!1,category:"people"},japanese_goblin:{keywords:["red","evil","mask","monster","scary","creepy","japanese","goblin"],char:"👺",fitzpatrick_scale:!1,category:"people"},skull:{keywords:["dead","skeleton","creepy","death"],char:"💀",fitzpatrick_scale:!1,category:"people"},ghost:{keywords:["halloween","spooky","scary"],char:"👻",fitzpatrick_scale:!1,category:"people"},alien:{keywords:["UFO","paul","weird","outer_space"],char:"👽",fitzpatrick_scale:!1,category:"people"},robot:{keywords:["computer","machine","bot"],char:"🤖",fitzpatrick_scale:!1,category:"people"},smiley_cat:{keywords:["animal","cats","happy","smile"],char:"😺",fitzpatrick_scale:!1,category:"people"},smile_cat:{keywords:["animal","cats","smile"],char:"😸",fitzpatrick_scale:!1,category:"people"},joy_cat:{keywords:["animal","cats","haha","happy","tears"],char:"😹",fitzpatrick_scale:!1,category:"people"},heart_eyes_cat:{keywords:["animal","love","like","affection","cats","valentines","heart"],char:"😻",fitzpatrick_scale:!1,category:"people"},smirk_cat:{keywords:["animal","cats","smirk"],char:"😼",fitzpatrick_scale:!1,category:"people"},kissing_cat:{keywords:["animal","cats","kiss"],char:"😽",fitzpatrick_scale:!1,category:"people"},scream_cat:{keywords:["animal","cats","munch","scared","scream"],char:"🙀",fitzpatrick_scale:!1,category:"people"},crying_cat_face:{keywords:["animal","tears","weep","sad","cats","upset","cry"],char:"😿",fitzpatrick_scale:!1,category:"people"},pouting_cat:{keywords:["animal","cats"],char:"😾",fitzpatrick_scale:!1,category:"people"},palms_up:{keywords:["hands","gesture","cupped","prayer"],char:"🤲",fitzpatrick_scale:!0,category:"people"},raised_hands:{keywords:["gesture","hooray","yea","celebration","hands"],char:"🙌",fitzpatrick_scale:!0,category:"people"},clap:{keywords:["hands","praise","applause","congrats","yay"],char:"👏",fitzpatrick_scale:!0,category:"people"},wave:{keywords:["hands","gesture","goodbye","solong","farewell","hello","hi","palm"],char:"👋",fitzpatrick_scale:!0,category:"people"},call_me_hand:{keywords:["hands","gesture"],char:"🤙",fitzpatrick_scale:!0,category:"people"},"+1":{keywords:["thumbsup","yes","awesome","good","agree","accept","cool","hand","like"],char:"👍",fitzpatrick_scale:!0,category:"people"},"-1":{keywords:["thumbsdown","no","dislike","hand"],char:"👎",fitzpatrick_scale:!0,category:"people"},facepunch:{keywords:["angry","violence","fist","hit","attack","hand"],char:"👊",fitzpatrick_scale:!0,category:"people"},fist:{keywords:["fingers","hand","grasp"],char:"✊",fitzpatrick_scale:!0,category:"people"},fist_left:{keywords:["hand","fistbump"],char:"🤛",fitzpatrick_scale:!0,category:"people"},fist_right:{keywords:["hand","fistbump"],char:"🤜",fitzpatrick_scale:!0,category:"people"},v:{keywords:["fingers","ohyeah","hand","peace","victory","two"],char:"✌",fitzpatrick_scale:!0,category:"people"},ok_hand:{keywords:["fingers","limbs","perfect","ok","okay"],char:"👌",fitzpatrick_scale:!0,category:"people"},raised_hand:{keywords:["fingers","stop","highfive","palm","ban"],char:"✋",fitzpatrick_scale:!0,category:"people"},raised_back_of_hand:{keywords:["fingers","raised","backhand"],char:"🤚",fitzpatrick_scale:!0,category:"people"},open_hands:{keywords:["fingers","butterfly","hands","open"],char:"👐",fitzpatrick_scale:!0,category:"people"},muscle:{keywords:["arm","flex","hand","summer","strong","biceps"],char:"💪",fitzpatrick_scale:!0,category:"people"},pray:{keywords:["please","hope","wish","namaste","highfive"],char:"🙏",fitzpatrick_scale:!0,category:"people"},foot:{keywords:["kick","stomp"],char:"🦶",fitzpatrick_scale:!0,category:"people"},leg:{keywords:["kick","limb"],char:"🦵",fitzpatrick_scale:!0,category:"people"},handshake:{keywords:["agreement","shake"],char:"🤝",fitzpatrick_scale:!1,category:"people"},point_up:{keywords:["hand","fingers","direction","up"],char:"☝",fitzpatrick_scale:!0,category:"people"},point_up_2:{keywords:["fingers","hand","direction","up"],char:"👆",fitzpatrick_scale:!0,category:"people"},point_down:{keywords:["fingers","hand","direction","down"],char:"👇",fitzpatrick_scale:!0,category:"people"},point_left:{keywords:["direction","fingers","hand","left"],char:"👈",fitzpatrick_scale:!0,category:"people"},point_right:{keywords:["fingers","hand","direction","right"],char:"👉",fitzpatrick_scale:!0,category:"people"},fu:{keywords:["hand","fingers","rude","middle","flipping"],char:"🖕",fitzpatrick_scale:!0,category:"people"},raised_hand_with_fingers_splayed:{keywords:["hand","fingers","palm"],char:"🖐",fitzpatrick_scale:!0,category:"people"},love_you:{keywords:["hand","fingers","gesture"],char:"🤟",fitzpatrick_scale:!0,category:"people"},metal:{keywords:["hand","fingers","evil_eye","sign_of_horns","rock_on"],char:"🤘",fitzpatrick_scale:!0,category:"people"},crossed_fingers:{keywords:["good","lucky"],char:"🤞",fitzpatrick_scale:!0,category:"people"},vulcan_salute:{keywords:["hand","fingers","spock","star trek"],char:"🖖",fitzpatrick_scale:!0,category:"people"},writing_hand:{keywords:["lower_left_ballpoint_pen","stationery","write","compose"],char:"✍",fitzpatrick_scale:!0,category:"people"},selfie:{keywords:["camera","phone"],char:"🤳",fitzpatrick_scale:!0,category:"people"},nail_care:{keywords:["beauty","manicure","finger","fashion","nail"],char:"💅",fitzpatrick_scale:!0,category:"people"},lips:{keywords:["mouth","kiss"],char:"👄",fitzpatrick_scale:!1,category:"people"},tooth:{keywords:["teeth","dentist"],char:"🦷",fitzpatrick_scale:!1,category:"people"},tongue:{keywords:["mouth","playful"],char:"👅",fitzpatrick_scale:!1,category:"people"},ear:{keywords:["face","hear","sound","listen"],char:"👂",fitzpatrick_scale:!0,category:"people"},nose:{keywords:["smell","sniff"],char:"👃",fitzpatrick_scale:!0,category:"people"},eye:{keywords:["face","look","see","watch","stare"],char:"👁",fitzpatrick_scale:!1,category:"people"},eyes:{keywords:["look","watch","stalk","peek","see"],char:"👀",fitzpatrick_scale:!1,category:"people"},brain:{keywords:["smart","intelligent"],char:"🧠",fitzpatrick_scale:!1,category:"people"},bust_in_silhouette:{keywords:["user","person","human"],char:"👤",fitzpatrick_scale:!1,category:"people"},busts_in_silhouette:{keywords:["user","person","human","group","team"],char:"👥",fitzpatrick_scale:!1,category:"people"},speaking_head:{keywords:["user","person","human","sing","say","talk"],char:"🗣",fitzpatrick_scale:!1,category:"people"},baby:{keywords:["child","boy","girl","toddler"],char:"👶",fitzpatrick_scale:!0,category:"people"},child:{keywords:["gender-neutral","young"],char:"🧒",fitzpatrick_scale:!0,category:"people"},boy:{keywords:["man","male","guy","teenager"],char:"👦",fitzpatrick_scale:!0,category:"people"},girl:{keywords:["female","woman","teenager"],char:"👧",fitzpatrick_scale:!0,category:"people"},adult:{keywords:["gender-neutral","person"],char:"🧑",fitzpatrick_scale:!0,category:"people"},man:{keywords:["mustache","father","dad","guy","classy","sir","moustache"],char:"👨",fitzpatrick_scale:!0,category:"people"},woman:{keywords:["female","girls","lady"],char:"👩",fitzpatrick_scale:!0,category:"people"},blonde_woman:{keywords:["woman","female","girl","blonde","person"],char:"👱‍♀️",fitzpatrick_scale:!0,category:"people"},blonde_man:{keywords:["man","male","boy","blonde","guy","person"],char:"👱",fitzpatrick_scale:!0,category:"people"},bearded_person:{keywords:["person","bewhiskered"],char:"🧔",fitzpatrick_scale:!0,category:"people"},older_adult:{keywords:["human","elder","senior","gender-neutral"],char:"🧓",fitzpatrick_scale:!0,category:"people"},older_man:{keywords:["human","male","men","old","elder","senior"],char:"👴",fitzpatrick_scale:!0,category:"people"},older_woman:{keywords:["human","female","women","lady","old","elder","senior"],char:"👵",fitzpatrick_scale:!0,category:"people"},man_with_gua_pi_mao:{keywords:["male","boy","chinese"],char:"👲",fitzpatrick_scale:!0,category:"people"},woman_with_headscarf:{keywords:["female","hijab","mantilla","tichel"],char:"🧕",fitzpatrick_scale:!0,category:"people"},woman_with_turban:{keywords:["female","indian","hinduism","arabs","woman"],char:"👳‍♀️",fitzpatrick_scale:!0,category:"people"},man_with_turban:{keywords:["male","indian","hinduism","arabs"],char:"👳",fitzpatrick_scale:!0,category:"people"},policewoman:{keywords:["woman","police","law","legal","enforcement","arrest","911","female"],char:"👮‍♀️",fitzpatrick_scale:!0,category:"people"},policeman:{keywords:["man","police","law","legal","enforcement","arrest","911"],char:"👮",fitzpatrick_scale:!0,category:"people"},construction_worker_woman:{keywords:["female","human","wip","build","construction","worker","labor","woman"],char:"👷‍♀️",fitzpatrick_scale:!0,category:"people"},construction_worker_man:{keywords:["male","human","wip","guy","build","construction","worker","labor"],char:"👷",fitzpatrick_scale:!0,category:"people"},guardswoman:{keywords:["uk","gb","british","female","royal","woman"],char:"💂‍♀️",fitzpatrick_scale:!0,category:"people"},guardsman:{keywords:["uk","gb","british","male","guy","royal"],char:"💂",fitzpatrick_scale:!0,category:"people"},female_detective:{keywords:["human","spy","detective","female","woman"],char:"🕵️‍♀️",fitzpatrick_scale:!0,category:"people"},male_detective:{keywords:["human","spy","detective"],char:"🕵",fitzpatrick_scale:!0,category:"people"},woman_health_worker:{keywords:["doctor","nurse","therapist","healthcare","woman","human"],char:"👩‍⚕️",fitzpatrick_scale:!0,category:"people"},man_health_worker:{keywords:["doctor","nurse","therapist","healthcare","man","human"],char:"👨‍⚕️",fitzpatrick_scale:!0,category:"people"},woman_farmer:{keywords:["rancher","gardener","woman","human"],char:"👩‍🌾",fitzpatrick_scale:!0,category:"people"},man_farmer:{keywords:["rancher","gardener","man","human"],char:"👨‍🌾",fitzpatrick_scale:!0,category:"people"},woman_cook:{keywords:["chef","woman","human"],char:"👩‍🍳",fitzpatrick_scale:!0,category:"people"},man_cook:{keywords:["chef","man","human"],char:"👨‍🍳",fitzpatrick_scale:!0,category:"people"},woman_student:{keywords:["graduate","woman","human"],char:"👩‍🎓",fitzpatrick_scale:!0,category:"people"},man_student:{keywords:["graduate","man","human"],char:"👨‍🎓",fitzpatrick_scale:!0,category:"people"},woman_singer:{keywords:["rockstar","entertainer","woman","human"],char:"👩‍🎤",fitzpatrick_scale:!0,category:"people"},man_singer:{keywords:["rockstar","entertainer","man","human"],char:"👨‍🎤",fitzpatrick_scale:!0,category:"people"},woman_teacher:{keywords:["instructor","professor","woman","human"],char:"👩‍🏫",fitzpatrick_scale:!0,category:"people"},man_teacher:{keywords:["instructor","professor","man","human"],char:"👨‍🏫",fitzpatrick_scale:!0,category:"people"},woman_factory_worker:{keywords:["assembly","industrial","woman","human"],char:"👩‍🏭",fitzpatrick_scale:!0,category:"people"},man_factory_worker:{keywords:["assembly","industrial","man","human"],char:"👨‍🏭",fitzpatrick_scale:!0,category:"people"},woman_technologist:{keywords:["coder","developer","engineer","programmer","software","woman","human","laptop","computer"],char:"👩‍💻",fitzpatrick_scale:!0,category:"people"},man_technologist:{keywords:["coder","developer","engineer","programmer","software","man","human","laptop","computer"],char:"👨‍💻",fitzpatrick_scale:!0,category:"people"},woman_office_worker:{keywords:["business","manager","woman","human"],char:"👩‍💼",fitzpatrick_scale:!0,category:"people"},man_office_worker:{keywords:["business","manager","man","human"],char:"👨‍💼",fitzpatrick_scale:!0,category:"people"},woman_mechanic:{keywords:["plumber","woman","human","wrench"],char:"👩‍🔧",fitzpatrick_scale:!0,category:"people"},man_mechanic:{keywords:["plumber","man","human","wrench"],char:"👨‍🔧",fitzpatrick_scale:!0,category:"people"},woman_scientist:{keywords:["biologist","chemist","engineer","physicist","woman","human"],char:"👩‍🔬",fitzpatrick_scale:!0,category:"people"},man_scientist:{keywords:["biologist","chemist","engineer","physicist","man","human"],char:"👨‍🔬",fitzpatrick_scale:!0,category:"people"},woman_artist:{keywords:["painter","woman","human"],char:"👩‍🎨",fitzpatrick_scale:!0,category:"people"},man_artist:{keywords:["painter","man","human"],char:"👨‍🎨",fitzpatrick_scale:!0,category:"people"},woman_firefighter:{keywords:["fireman","woman","human"],char:"👩‍🚒",fitzpatrick_scale:!0,category:"people"},man_firefighter:{keywords:["fireman","man","human"],char:"👨‍🚒",fitzpatrick_scale:!0,category:"people"},woman_pilot:{keywords:["aviator","plane","woman","human"],char:"👩‍✈️",fitzpatrick_scale:!0,category:"people"},man_pilot:{keywords:["aviator","plane","man","human"],char:"👨‍✈️",fitzpatrick_scale:!0,category:"people"},woman_astronaut:{keywords:["space","rocket","woman","human"],char:"👩‍🚀",fitzpatrick_scale:!0,category:"people"},man_astronaut:{keywords:["space","rocket","man","human"],char:"👨‍🚀",fitzpatrick_scale:!0,category:"people"},woman_judge:{keywords:["justice","court","woman","human"],char:"👩‍⚖️",fitzpatrick_scale:!0,category:"people"},man_judge:{keywords:["justice","court","man","human"],char:"👨‍⚖️",fitzpatrick_scale:!0,category:"people"},woman_superhero:{keywords:["woman","female","good","heroine","superpowers"],char:"🦸‍♀️",fitzpatrick_scale:!0,category:"people"},man_superhero:{keywords:["man","male","good","hero","superpowers"],char:"🦸‍♂️",fitzpatrick_scale:!0,category:"people"},woman_supervillain:{keywords:["woman","female","evil","bad","criminal","heroine","superpowers"],char:"🦹‍♀️",fitzpatrick_scale:!0,category:"people"},man_supervillain:{keywords:["man","male","evil","bad","criminal","hero","superpowers"],char:"🦹‍♂️",fitzpatrick_scale:!0,category:"people"},mrs_claus:{keywords:["woman","female","xmas","mother christmas"],char:"🤶",fitzpatrick_scale:!0,category:"people"},santa:{keywords:["festival","man","male","xmas","father christmas"],char:"🎅",fitzpatrick_scale:!0,category:"people"},sorceress:{keywords:["woman","female","mage","witch"],char:"🧙‍♀️",fitzpatrick_scale:!0,category:"people"},wizard:{keywords:["man","male","mage","sorcerer"],char:"🧙‍♂️",fitzpatrick_scale:!0,category:"people"},woman_elf:{keywords:["woman","female"],char:"🧝‍♀️",fitzpatrick_scale:!0,category:"people"},man_elf:{keywords:["man","male"],char:"🧝‍♂️",fitzpatrick_scale:!0,category:"people"},woman_vampire:{keywords:["woman","female"],char:"🧛‍♀️",fitzpatrick_scale:!0,category:"people"},man_vampire:{keywords:["man","male","dracula"],char:"🧛‍♂️",fitzpatrick_scale:!0,category:"people"},woman_zombie:{keywords:["woman","female","undead","walking dead"],char:"🧟‍♀️",fitzpatrick_scale:!1,category:"people"},man_zombie:{keywords:["man","male","dracula","undead","walking dead"],char:"🧟‍♂️",fitzpatrick_scale:!1,category:"people"},woman_genie:{keywords:["woman","female"],char:"🧞‍♀️",fitzpatrick_scale:!1,category:"people"},man_genie:{keywords:["man","male"],char:"🧞‍♂️",fitzpatrick_scale:!1,category:"people"},mermaid:{keywords:["woman","female","merwoman","ariel"],char:"🧜‍♀️",fitzpatrick_scale:!0,category:"people"},merman:{keywords:["man","male","triton"],char:"🧜‍♂️",fitzpatrick_scale:!0,category:"people"},woman_fairy:{keywords:["woman","female"],char:"🧚‍♀️",fitzpatrick_scale:!0,category:"people"},man_fairy:{keywords:["man","male"],char:"🧚‍♂️",fitzpatrick_scale:!0,category:"people"},angel:{keywords:["heaven","wings","halo"],char:"👼",fitzpatrick_scale:!0,category:"people"},pregnant_woman:{keywords:["baby"],char:"🤰",fitzpatrick_scale:!0,category:"people"},breastfeeding:{keywords:["nursing","baby"],char:"🤱",fitzpatrick_scale:!0,category:"people"},princess:{keywords:["girl","woman","female","blond","crown","royal","queen"],char:"👸",fitzpatrick_scale:!0,category:"people"},prince:{keywords:["boy","man","male","crown","royal","king"],char:"🤴",fitzpatrick_scale:!0,category:"people"},bride_with_veil:{keywords:["couple","marriage","wedding","woman","bride"],char:"👰",fitzpatrick_scale:!0,category:"people"},man_in_tuxedo:{keywords:["couple","marriage","wedding","groom"],char:"🤵",fitzpatrick_scale:!0,category:"people"},running_woman:{keywords:["woman","walking","exercise","race","running","female"],char:"🏃‍♀️",fitzpatrick_scale:!0,category:"people"},running_man:{keywords:["man","walking","exercise","race","running"],char:"🏃",fitzpatrick_scale:!0,category:"people"},walking_woman:{keywords:["human","feet","steps","woman","female"],char:"🚶‍♀️",fitzpatrick_scale:!0,category:"people"},walking_man:{keywords:["human","feet","steps"],char:"🚶",fitzpatrick_scale:!0,category:"people"},dancer:{keywords:["female","girl","woman","fun"],char:"💃",fitzpatrick_scale:!0,category:"people"},man_dancing:{keywords:["male","boy","fun","dancer"],char:"🕺",fitzpatrick_scale:!0,category:"people"},dancing_women:{keywords:["female","bunny","women","girls"],char:"👯",fitzpatrick_scale:!1,category:"people"},dancing_men:{keywords:["male","bunny","men","boys"],char:"👯‍♂️",fitzpatrick_scale:!1,category:"people"},couple:{keywords:["pair","people","human","love","date","dating","like","affection","valentines","marriage"],char:"👫",fitzpatrick_scale:!1,category:"people"},two_men_holding_hands:{keywords:["pair","couple","love","like","bromance","friendship","people","human"],char:"👬",fitzpatrick_scale:!1,category:"people"},two_women_holding_hands:{keywords:["pair","friendship","couple","love","like","female","people","human"],char:"👭",fitzpatrick_scale:!1,category:"people"},bowing_woman:{keywords:["woman","female","girl"],char:"🙇‍♀️",fitzpatrick_scale:!0,category:"people"},bowing_man:{keywords:["man","male","boy"],char:"🙇",fitzpatrick_scale:!0,category:"people"},man_facepalming:{keywords:["man","male","boy","disbelief"],char:"🤦‍♂️",fitzpatrick_scale:!0,category:"people"},woman_facepalming:{keywords:["woman","female","girl","disbelief"],char:"🤦‍♀️",fitzpatrick_scale:!0,category:"people"},woman_shrugging:{keywords:["woman","female","girl","confused","indifferent","doubt"],char:"🤷",fitzpatrick_scale:!0,category:"people"},man_shrugging:{keywords:["man","male","boy","confused","indifferent","doubt"],char:"🤷‍♂️",fitzpatrick_scale:!0,category:"people"},tipping_hand_woman:{keywords:["female","girl","woman","human","information"],char:"💁",fitzpatrick_scale:!0,category:"people"},tipping_hand_man:{keywords:["male","boy","man","human","information"],char:"💁‍♂️",fitzpatrick_scale:!0,category:"people"},no_good_woman:{keywords:["female","girl","woman","nope"],char:"🙅",fitzpatrick_scale:!0,category:"people"},no_good_man:{keywords:["male","boy","man","nope"],char:"🙅‍♂️",fitzpatrick_scale:!0,category:"people"},ok_woman:{keywords:["women","girl","female","pink","human","woman"],char:"🙆",fitzpatrick_scale:!0,category:"people"},ok_man:{keywords:["men","boy","male","blue","human","man"],char:"🙆‍♂️",fitzpatrick_scale:!0,category:"people"},raising_hand_woman:{keywords:["female","girl","woman"],char:"🙋",fitzpatrick_scale:!0,category:"people"},raising_hand_man:{keywords:["male","boy","man"],char:"🙋‍♂️",fitzpatrick_scale:!0,category:"people"},pouting_woman:{keywords:["female","girl","woman"],char:"🙎",fitzpatrick_scale:!0,category:"people"},pouting_man:{keywords:["male","boy","man"],char:"🙎‍♂️",fitzpatrick_scale:!0,category:"people"},frowning_woman:{keywords:["female","girl","woman","sad","depressed","discouraged","unhappy"],char:"🙍",fitzpatrick_scale:!0,category:"people"},frowning_man:{keywords:["male","boy","man","sad","depressed","discouraged","unhappy"],char:"🙍‍♂️",fitzpatrick_scale:!0,category:"people"},haircut_woman:{keywords:["female","girl","woman"],char:"💇",fitzpatrick_scale:!0,category:"people"},haircut_man:{keywords:["male","boy","man"],char:"💇‍♂️",fitzpatrick_scale:!0,category:"people"},massage_woman:{keywords:["female","girl","woman","head"],char:"💆",fitzpatrick_scale:!0,category:"people"},massage_man:{keywords:["male","boy","man","head"],char:"💆‍♂️",fitzpatrick_scale:!0,category:"people"},woman_in_steamy_room:{keywords:["female","woman","spa","steamroom","sauna"],char:"🧖‍♀️",fitzpatrick_scale:!0,category:"people"},man_in_steamy_room:{keywords:["male","man","spa","steamroom","sauna"],char:"🧖‍♂️",fitzpatrick_scale:!0,category:"people"},couple_with_heart_woman_man:{keywords:["pair","love","like","affection","human","dating","valentines","marriage"],char:"💑",fitzpatrick_scale:!1,category:"people"},couple_with_heart_woman_woman:{keywords:["pair","love","like","affection","human","dating","valentines","marriage"],char:"👩‍❤️‍👩",fitzpatrick_scale:!1,category:"people"},couple_with_heart_man_man:{keywords:["pair","love","like","affection","human","dating","valentines","marriage"],char:"👨‍❤️‍👨",fitzpatrick_scale:!1,category:"people"},couplekiss_man_woman:{keywords:["pair","valentines","love","like","dating","marriage"],char:"💏",fitzpatrick_scale:!1,category:"people"},couplekiss_woman_woman:{keywords:["pair","valentines","love","like","dating","marriage"],char:"👩‍❤️‍💋‍👩",fitzpatrick_scale:!1,category:"people"},couplekiss_man_man:{keywords:["pair","valentines","love","like","dating","marriage"],char:"👨‍❤️‍💋‍👨",fitzpatrick_scale:!1,category:"people"},family_man_woman_boy:{keywords:["home","parents","child","mom","dad","father","mother","people","human"],char:"👪",fitzpatrick_scale:!1,category:"people"},family_man_woman_girl:{keywords:["home","parents","people","human","child"],char:"👨‍👩‍👧",fitzpatrick_scale:!1,category:"people"},family_man_woman_girl_boy:{keywords:["home","parents","people","human","children"],char:"👨‍👩‍👧‍👦",fitzpatrick_scale:!1,category:"people"},family_man_woman_boy_boy:{keywords:["home","parents","people","human","children"],char:"👨‍👩‍👦‍👦",fitzpatrick_scale:!1,category:"people"},family_man_woman_girl_girl:{keywords:["home","parents","people","human","children"],char:"👨‍👩‍👧‍👧",fitzpatrick_scale:!1,category:"people"},family_woman_woman_boy:{keywords:["home","parents","people","human","children"],char:"👩‍👩‍👦",fitzpatrick_scale:!1,category:"people"},family_woman_woman_girl:{keywords:["home","parents","people","human","children"],char:"👩‍👩‍👧",fitzpatrick_scale:!1,category:"people"},family_woman_woman_girl_boy:{keywords:["home","parents","people","human","children"],char:"👩‍👩‍👧‍👦",fitzpatrick_scale:!1,category:"people"},family_woman_woman_boy_boy:{keywords:["home","parents","people","human","children"],char:"👩‍👩‍👦‍👦",fitzpatrick_scale:!1,category:"people"},family_woman_woman_girl_girl:{keywords:["home","parents","people","human","children"],char:"👩‍👩‍👧‍👧",fitzpatrick_scale:!1,category:"people"},family_man_man_boy:{keywords:["home","parents","people","human","children"],char:"👨‍👨‍👦",fitzpatrick_scale:!1,category:"people"},family_man_man_girl:{keywords:["home","parents","people","human","children"],char:"👨‍👨‍👧",fitzpatrick_scale:!1,category:"people"},family_man_man_girl_boy:{keywords:["home","parents","people","human","children"],char:"👨‍👨‍👧‍👦",fitzpatrick_scale:!1,category:"people"},family_man_man_boy_boy:{keywords:["home","parents","people","human","children"],char:"👨‍👨‍👦‍👦",fitzpatrick_scale:!1,category:"people"},family_man_man_girl_girl:{keywords:["home","parents","people","human","children"],char:"👨‍👨‍👧‍👧",fitzpatrick_scale:!1,category:"people"},family_woman_boy:{keywords:["home","parent","people","human","child"],char:"👩‍👦",fitzpatrick_scale:!1,category:"people"},family_woman_girl:{keywords:["home","parent","people","human","child"],char:"👩‍👧",fitzpatrick_scale:!1,category:"people"},family_woman_girl_boy:{keywords:["home","parent","people","human","children"],char:"👩‍👧‍👦",fitzpatrick_scale:!1,category:"people"},family_woman_boy_boy:{keywords:["home","parent","people","human","children"],char:"👩‍👦‍👦",fitzpatrick_scale:!1,category:"people"},family_woman_girl_girl:{keywords:["home","parent","people","human","children"],char:"👩‍👧‍👧",fitzpatrick_scale:!1,category:"people"},family_man_boy:{keywords:["home","parent","people","human","child"],char:"👨‍👦",fitzpatrick_scale:!1,category:"people"},family_man_girl:{keywords:["home","parent","people","human","child"],char:"👨‍👧",fitzpatrick_scale:!1,category:"people"},family_man_girl_boy:{keywords:["home","parent","people","human","children"],char:"👨‍👧‍👦",fitzpatrick_scale:!1,category:"people"},family_man_boy_boy:{keywords:["home","parent","people","human","children"],char:"👨‍👦‍👦",fitzpatrick_scale:!1,category:"people"},family_man_girl_girl:{keywords:["home","parent","people","human","children"],char:"👨‍👧‍👧",fitzpatrick_scale:!1,category:"people"},yarn:{keywords:["ball","crochet","knit"],char:"🧶",fitzpatrick_scale:!1,category:"people"},thread:{keywords:["needle","sewing","spool","string"],char:"🧵",fitzpatrick_scale:!1,category:"people"},coat:{keywords:["jacket"],char:"🧥",fitzpatrick_scale:!1,category:"people"},labcoat:{keywords:["doctor","experiment","scientist","chemist"],char:"🥼",fitzpatrick_scale:!1,category:"people"},womans_clothes:{keywords:["fashion","shopping_bags","female"],char:"👚",fitzpatrick_scale:!1,category:"people"},tshirt:{keywords:["fashion","cloth","casual","shirt","tee"],char:"👕",fitzpatrick_scale:!1,category:"people"},jeans:{keywords:["fashion","shopping"],char:"👖",fitzpatrick_scale:!1,category:"people"},necktie:{keywords:["shirt","suitup","formal","fashion","cloth","business"],char:"👔",fitzpatrick_scale:!1,category:"people"},dress:{keywords:["clothes","fashion","shopping"],char:"👗",fitzpatrick_scale:!1,category:"people"},bikini:{keywords:["swimming","female","woman","girl","fashion","beach","summer"],char:"👙",fitzpatrick_scale:!1,category:"people"},kimono:{keywords:["dress","fashion","women","female","japanese"],char:"👘",fitzpatrick_scale:!1,category:"people"},lipstick:{keywords:["female","girl","fashion","woman"],char:"💄",fitzpatrick_scale:!1,category:"people"},kiss:{keywords:["face","lips","love","like","affection","valentines"],char:"💋",fitzpatrick_scale:!1,category:"people"},footprints:{keywords:["feet","tracking","walking","beach"],char:"👣",fitzpatrick_scale:!1,category:"people"},flat_shoe:{keywords:["ballet","slip-on","slipper"],char:"🥿",fitzpatrick_scale:!1,category:"people"},high_heel:{keywords:["fashion","shoes","female","pumps","stiletto"],char:"👠",fitzpatrick_scale:!1,category:"people"},sandal:{keywords:["shoes","fashion","flip flops"],char:"👡",fitzpatrick_scale:!1,category:"people"},boot:{keywords:["shoes","fashion"],char:"👢",fitzpatrick_scale:!1,category:"people"},mans_shoe:{keywords:["fashion","male"],char:"👞",fitzpatrick_scale:!1,category:"people"},athletic_shoe:{keywords:["shoes","sports","sneakers"],char:"👟",fitzpatrick_scale:!1,category:"people"},hiking_boot:{keywords:["backpacking","camping","hiking"],char:"🥾",fitzpatrick_scale:!1,category:"people"},socks:{keywords:["stockings","clothes"],char:"🧦",fitzpatrick_scale:!1,category:"people"},gloves:{keywords:["hands","winter","clothes"],char:"🧤",fitzpatrick_scale:!1,category:"people"},scarf:{keywords:["neck","winter","clothes"],char:"🧣",fitzpatrick_scale:!1,category:"people"},womans_hat:{keywords:["fashion","accessories","female","lady","spring"],char:"👒",fitzpatrick_scale:!1,category:"people"},tophat:{keywords:["magic","gentleman","classy","circus"],char:"🎩",fitzpatrick_scale:!1,category:"people"},billed_hat:{keywords:["cap","baseball"],char:"🧢",fitzpatrick_scale:!1,category:"people"},rescue_worker_helmet:{keywords:["construction","build"],char:"⛑",fitzpatrick_scale:!1,category:"people"},mortar_board:{keywords:["school","college","degree","university","graduation","cap","hat","legal","learn","education"],char:"🎓",fitzpatrick_scale:!1,category:"people"},crown:{keywords:["king","kod","leader","royalty","lord"],char:"👑",fitzpatrick_scale:!1,category:"people"},school_satchel:{keywords:["student","education","bag","backpack"],char:"🎒",fitzpatrick_scale:!1,category:"people"},luggage:{keywords:["packing","travel"],char:"🧳",fitzpatrick_scale:!1,category:"people"},pouch:{keywords:["bag","accessories","shopping"],char:"👝",fitzpatrick_scale:!1,category:"people"},purse:{keywords:["fashion","accessories","money","sales","shopping"],char:"👛",fitzpatrick_scale:!1,category:"people"},handbag:{keywords:["fashion","accessory","accessories","shopping"],char:"👜",fitzpatrick_scale:!1,category:"people"},briefcase:{keywords:["business","documents","work","law","legal","job","career"],char:"💼",fitzpatrick_scale:!1,category:"people"},eyeglasses:{keywords:["fashion","accessories","eyesight","nerdy","dork","geek"],char:"👓",fitzpatrick_scale:!1,category:"people"},dark_sunglasses:{keywords:["face","cool","accessories"],char:"🕶",fitzpatrick_scale:!1,category:"people"},goggles:{keywords:["eyes","protection","safety"],char:"🥽",fitzpatrick_scale:!1,category:"people"},ring:{keywords:["wedding","propose","marriage","valentines","diamond","fashion","jewelry","gem","engagement"],char:"💍",fitzpatrick_scale:!1,category:"people"},closed_umbrella:{keywords:["weather","rain","drizzle"],char:"🌂",fitzpatrick_scale:!1,category:"people"},dog:{keywords:["animal","friend","nature","woof","puppy","pet","faithful"],char:"🐶",fitzpatrick_scale:!1,category:"animals_and_nature"},cat:{keywords:["animal","meow","nature","pet","kitten"],char:"🐱",fitzpatrick_scale:!1,category:"animals_and_nature"},mouse:{keywords:["animal","nature","cheese_wedge","rodent"],char:"🐭",fitzpatrick_scale:!1,category:"animals_and_nature"},hamster:{keywords:["animal","nature"],char:"🐹",fitzpatrick_scale:!1,category:"animals_and_nature"},rabbit:{keywords:["animal","nature","pet","spring","magic","bunny"],char:"🐰",fitzpatrick_scale:!1,category:"animals_and_nature"},fox_face:{keywords:["animal","nature","face"],char:"🦊",fitzpatrick_scale:!1,category:"animals_and_nature"},bear:{keywords:["animal","nature","wild"],char:"🐻",fitzpatrick_scale:!1,category:"animals_and_nature"},panda_face:{keywords:["animal","nature","panda"],char:"🐼",fitzpatrick_scale:!1,category:"animals_and_nature"},koala:{keywords:["animal","nature"],char:"🐨",fitzpatrick_scale:!1,category:"animals_and_nature"},tiger:{keywords:["animal","cat","danger","wild","nature","roar"],char:"🐯",fitzpatrick_scale:!1,category:"animals_and_nature"},lion:{keywords:["animal","nature"],char:"🦁",fitzpatrick_scale:!1,category:"animals_and_nature"},cow:{keywords:["beef","ox","animal","nature","moo","milk"],char:"🐮",fitzpatrick_scale:!1,category:"animals_and_nature"},pig:{keywords:["animal","oink","nature"],char:"🐷",fitzpatrick_scale:!1,category:"animals_and_nature"},pig_nose:{keywords:["animal","oink"],char:"🐽",fitzpatrick_scale:!1,category:"animals_and_nature"},frog:{keywords:["animal","nature","croak","toad"],char:"🐸",fitzpatrick_scale:!1,category:"animals_and_nature"},squid:{keywords:["animal","nature","ocean","sea"],char:"🦑",fitzpatrick_scale:!1,category:"animals_and_nature"},octopus:{keywords:["animal","creature","ocean","sea","nature","beach"],char:"🐙",fitzpatrick_scale:!1,category:"animals_and_nature"},shrimp:{keywords:["animal","ocean","nature","seafood"],char:"🦐",fitzpatrick_scale:!1,category:"animals_and_nature"},monkey_face:{keywords:["animal","nature","circus"],char:"🐵",fitzpatrick_scale:!1,category:"animals_and_nature"},gorilla:{keywords:["animal","nature","circus"],char:"🦍",fitzpatrick_scale:!1,category:"animals_and_nature"},see_no_evil:{keywords:["monkey","animal","nature","haha"],char:"🙈",fitzpatrick_scale:!1,category:"animals_and_nature"},hear_no_evil:{keywords:["animal","monkey","nature"],char:"🙉",fitzpatrick_scale:!1,category:"animals_and_nature"},speak_no_evil:{keywords:["monkey","animal","nature","omg"],char:"🙊",fitzpatrick_scale:!1,category:"animals_and_nature"},monkey:{keywords:["animal","nature","banana","circus"],char:"🐒",fitzpatrick_scale:!1,category:"animals_and_nature"},chicken:{keywords:["animal","cluck","nature","bird"],char:"🐔",fitzpatrick_scale:!1,category:"animals_and_nature"},penguin:{keywords:["animal","nature"],char:"🐧",fitzpatrick_scale:!1,category:"animals_and_nature"},bird:{keywords:["animal","nature","fly","tweet","spring"],char:"🐦",fitzpatrick_scale:!1,category:"animals_and_nature"},baby_chick:{keywords:["animal","chicken","bird"],char:"🐤",fitzpatrick_scale:!1,category:"animals_and_nature"},hatching_chick:{keywords:["animal","chicken","egg","born","baby","bird"],char:"🐣",fitzpatrick_scale:!1,category:"animals_and_nature"},hatched_chick:{keywords:["animal","chicken","baby","bird"],char:"🐥",fitzpatrick_scale:!1,category:"animals_and_nature"},duck:{keywords:["animal","nature","bird","mallard"],char:"🦆",fitzpatrick_scale:!1,category:"animals_and_nature"},eagle:{keywords:["animal","nature","bird"],char:"🦅",fitzpatrick_scale:!1,category:"animals_and_nature"},owl:{keywords:["animal","nature","bird","hoot"],char:"🦉",fitzpatrick_scale:!1,category:"animals_and_nature"},bat:{keywords:["animal","nature","blind","vampire"],char:"🦇",fitzpatrick_scale:!1,category:"animals_and_nature"},wolf:{keywords:["animal","nature","wild"],char:"🐺",fitzpatrick_scale:!1,category:"animals_and_nature"},boar:{keywords:["animal","nature"],char:"🐗",fitzpatrick_scale:!1,category:"animals_and_nature"},horse:{keywords:["animal","brown","nature"],char:"🐴",fitzpatrick_scale:!1,category:"animals_and_nature"},unicorn:{keywords:["animal","nature","mystical"],char:"🦄",fitzpatrick_scale:!1,category:"animals_and_nature"},honeybee:{keywords:["animal","insect","nature","bug","spring","honey"],char:"🐝",fitzpatrick_scale:!1,category:"animals_and_nature"},bug:{keywords:["animal","insect","nature","worm"],char:"🐛",fitzpatrick_scale:!1,category:"animals_and_nature"},butterfly:{keywords:["animal","insect","nature","caterpillar"],char:"🦋",fitzpatrick_scale:!1,category:"animals_and_nature"},snail:{keywords:["slow","animal","shell"],char:"🐌",fitzpatrick_scale:!1,category:"animals_and_nature"},beetle:{keywords:["animal","insect","nature","ladybug"],char:"🐞",fitzpatrick_scale:!1,category:"animals_and_nature"},ant:{keywords:["animal","insect","nature","bug"],char:"🐜",fitzpatrick_scale:!1,category:"animals_and_nature"},grasshopper:{keywords:["animal","cricket","chirp"],char:"🦗",fitzpatrick_scale:!1,category:"animals_and_nature"},spider:{keywords:["animal","arachnid"],char:"🕷",fitzpatrick_scale:!1,category:"animals_and_nature"},scorpion:{keywords:["animal","arachnid"],char:"🦂",fitzpatrick_scale:!1,category:"animals_and_nature"},crab:{keywords:["animal","crustacean"],char:"🦀",fitzpatrick_scale:!1,category:"animals_and_nature"},snake:{keywords:["animal","evil","nature","hiss","python"],char:"🐍",fitzpatrick_scale:!1,category:"animals_and_nature"},lizard:{keywords:["animal","nature","reptile"],char:"🦎",fitzpatrick_scale:!1,category:"animals_and_nature"},"t-rex":{keywords:["animal","nature","dinosaur","tyrannosaurus","extinct"],char:"🦖",fitzpatrick_scale:!1,category:"animals_and_nature"},sauropod:{keywords:["animal","nature","dinosaur","brachiosaurus","brontosaurus","diplodocus","extinct"],char:"🦕",fitzpatrick_scale:!1,category:"animals_and_nature"},turtle:{keywords:["animal","slow","nature","tortoise"],char:"🐢",fitzpatrick_scale:!1,category:"animals_and_nature"},tropical_fish:{keywords:["animal","swim","ocean","beach","nemo"],char:"🐠",fitzpatrick_scale:!1,category:"animals_and_nature"},fish:{keywords:["animal","food","nature"],char:"🐟",fitzpatrick_scale:!1,category:"animals_and_nature"},blowfish:{keywords:["animal","nature","food","sea","ocean"],char:"🐡",fitzpatrick_scale:!1,category:"animals_and_nature"},dolphin:{keywords:["animal","nature","fish","sea","ocean","flipper","fins","beach"],char:"🐬",fitzpatrick_scale:!1,category:"animals_and_nature"},shark:{keywords:["animal","nature","fish","sea","ocean","jaws","fins","beach"],char:"🦈",fitzpatrick_scale:!1,category:"animals_and_nature"},whale:{keywords:["animal","nature","sea","ocean"],char:"🐳",fitzpatrick_scale:!1,category:"animals_and_nature"},whale2:{keywords:["animal","nature","sea","ocean"],char:"🐋",fitzpatrick_scale:!1,category:"animals_and_nature"},crocodile:{keywords:["animal","nature","reptile","lizard","alligator"],char:"🐊",fitzpatrick_scale:!1,category:"animals_and_nature"},leopard:{keywords:["animal","nature"],char:"🐆",fitzpatrick_scale:!1,category:"animals_and_nature"},zebra:{keywords:["animal","nature","stripes","safari"],char:"🦓",fitzpatrick_scale:!1,category:"animals_and_nature"},tiger2:{keywords:["animal","nature","roar"],char:"🐅",fitzpatrick_scale:!1,category:"animals_and_nature"},water_buffalo:{keywords:["animal","nature","ox","cow"],char:"🐃",fitzpatrick_scale:!1,category:"animals_and_nature"},ox:{keywords:["animal","cow","beef"],char:"🐂",fitzpatrick_scale:!1,category:"animals_and_nature"},cow2:{keywords:["beef","ox","animal","nature","moo","milk"],char:"🐄",fitzpatrick_scale:!1,category:"animals_and_nature"},deer:{keywords:["animal","nature","horns","venison"],char:"🦌",fitzpatrick_scale:!1,category:"animals_and_nature"},dromedary_camel:{keywords:["animal","hot","desert","hump"],char:"🐪",fitzpatrick_scale:!1,category:"animals_and_nature"},camel:{keywords:["animal","nature","hot","desert","hump"],char:"🐫",fitzpatrick_scale:!1,category:"animals_and_nature"},giraffe:{keywords:["animal","nature","spots","safari"],char:"🦒",fitzpatrick_scale:!1,category:"animals_and_nature"},elephant:{keywords:["animal","nature","nose","th","circus"],char:"🐘",fitzpatrick_scale:!1,category:"animals_and_nature"},rhinoceros:{keywords:["animal","nature","horn"],char:"🦏",fitzpatrick_scale:!1,category:"animals_and_nature"},goat:{keywords:["animal","nature"],char:"🐐",fitzpatrick_scale:!1,category:"animals_and_nature"},ram:{keywords:["animal","sheep","nature"],char:"🐏",fitzpatrick_scale:!1,category:"animals_and_nature"},sheep:{keywords:["animal","nature","wool","shipit"],char:"🐑",fitzpatrick_scale:!1,category:"animals_and_nature"},racehorse:{keywords:["animal","gamble","luck"],char:"🐎",fitzpatrick_scale:!1,category:"animals_and_nature"},pig2:{keywords:["animal","nature"],char:"🐖",fitzpatrick_scale:!1,category:"animals_and_nature"},rat:{keywords:["animal","mouse","rodent"],char:"🐀",fitzpatrick_scale:!1,category:"animals_and_nature"},mouse2:{keywords:["animal","nature","rodent"],char:"🐁",fitzpatrick_scale:!1,category:"animals_and_nature"},rooster:{keywords:["animal","nature","chicken"],char:"🐓",fitzpatrick_scale:!1,category:"animals_and_nature"},turkey:{keywords:["animal","bird"],char:"🦃",fitzpatrick_scale:!1,category:"animals_and_nature"},dove:{keywords:["animal","bird"],char:"🕊",fitzpatrick_scale:!1,category:"animals_and_nature"},dog2:{keywords:["animal","nature","friend","doge","pet","faithful"],char:"🐕",fitzpatrick_scale:!1,category:"animals_and_nature"},poodle:{keywords:["dog","animal","101","nature","pet"],char:"🐩",fitzpatrick_scale:!1,category:"animals_and_nature"},cat2:{keywords:["animal","meow","pet","cats"],char:"🐈",fitzpatrick_scale:!1,category:"animals_and_nature"},rabbit2:{keywords:["animal","nature","pet","magic","spring"],char:"🐇",fitzpatrick_scale:!1,category:"animals_and_nature"},chipmunk:{keywords:["animal","nature","rodent","squirrel"],char:"🐿",fitzpatrick_scale:!1,category:"animals_and_nature"},hedgehog:{keywords:["animal","nature","spiny"],char:"🦔",fitzpatrick_scale:!1,category:"animals_and_nature"},raccoon:{keywords:["animal","nature"],char:"🦝",fitzpatrick_scale:!1,category:"animals_and_nature"},llama:{keywords:["animal","nature","alpaca"],char:"🦙",fitzpatrick_scale:!1,category:"animals_and_nature"},hippopotamus:{keywords:["animal","nature"],char:"🦛",fitzpatrick_scale:!1,category:"animals_and_nature"},kangaroo:{keywords:["animal","nature","australia","joey","hop","marsupial"],char:"🦘",fitzpatrick_scale:!1,category:"animals_and_nature"},badger:{keywords:["animal","nature","honey"],char:"🦡",fitzpatrick_scale:!1,category:"animals_and_nature"},swan:{keywords:["animal","nature","bird"],char:"🦢",fitzpatrick_scale:!1,category:"animals_and_nature"},peacock:{keywords:["animal","nature","peahen","bird"],char:"🦚",fitzpatrick_scale:!1,category:"animals_and_nature"},parrot:{keywords:["animal","nature","bird","pirate","talk"],char:"🦜",fitzpatrick_scale:!1,category:"animals_and_nature"},lobster:{keywords:["animal","nature","bisque","claws","seafood"],char:"🦞",fitzpatrick_scale:!1,category:"animals_and_nature"},mosquito:{keywords:["animal","nature","insect","malaria"],char:"🦟",fitzpatrick_scale:!1,category:"animals_and_nature"},paw_prints:{keywords:["animal","tracking","footprints","dog","cat","pet","feet"],char:"🐾",fitzpatrick_scale:!1,category:"animals_and_nature"},dragon:{keywords:["animal","myth","nature","chinese","green"],char:"🐉",fitzpatrick_scale:!1,category:"animals_and_nature"},dragon_face:{keywords:["animal","myth","nature","chinese","green"],char:"🐲",fitzpatrick_scale:!1,category:"animals_and_nature"},cactus:{keywords:["vegetable","plant","nature"],char:"🌵",fitzpatrick_scale:!1,category:"animals_and_nature"},christmas_tree:{keywords:["festival","vacation","december","xmas","celebration"],char:"🎄",fitzpatrick_scale:!1,category:"animals_and_nature"},evergreen_tree:{keywords:["plant","nature"],char:"🌲",fitzpatrick_scale:!1,category:"animals_and_nature"},deciduous_tree:{keywords:["plant","nature"],char:"🌳",fitzpatrick_scale:!1,category:"animals_and_nature"},palm_tree:{keywords:["plant","vegetable","nature","summer","beach","mojito","tropical"],char:"🌴",fitzpatrick_scale:!1,category:"animals_and_nature"},seedling:{keywords:["plant","nature","grass","lawn","spring"],char:"🌱",fitzpatrick_scale:!1,category:"animals_and_nature"},herb:{keywords:["vegetable","plant","medicine","weed","grass","lawn"],char:"🌿",fitzpatrick_scale:!1,category:"animals_and_nature"},shamrock:{keywords:["vegetable","plant","nature","irish","clover"],char:"☘",fitzpatrick_scale:!1,category:"animals_and_nature"},four_leaf_clover:{keywords:["vegetable","plant","nature","lucky","irish"],char:"🍀",fitzpatrick_scale:!1,category:"animals_and_nature"},bamboo:{keywords:["plant","nature","vegetable","panda","pine_decoration"],char:"🎍",fitzpatrick_scale:!1,category:"animals_and_nature"},tanabata_tree:{keywords:["plant","nature","branch","summer"],char:"🎋",fitzpatrick_scale:!1,category:"animals_and_nature"},leaves:{keywords:["nature","plant","tree","vegetable","grass","lawn","spring"],char:"🍃",fitzpatrick_scale:!1,category:"animals_and_nature"},fallen_leaf:{keywords:["nature","plant","vegetable","leaves"],char:"🍂",fitzpatrick_scale:!1,category:"animals_and_nature"},maple_leaf:{keywords:["nature","plant","vegetable","ca","fall"],char:"🍁",fitzpatrick_scale:!1,category:"animals_and_nature"},ear_of_rice:{keywords:["nature","plant"],char:"🌾",fitzpatrick_scale:!1,category:"animals_and_nature"},hibiscus:{keywords:["plant","vegetable","flowers","beach"],char:"🌺",fitzpatrick_scale:!1,category:"animals_and_nature"},sunflower:{keywords:["nature","plant","fall"],char:"🌻",fitzpatrick_scale:!1,category:"animals_and_nature"},rose:{keywords:["flowers","valentines","love","spring"],char:"🌹",fitzpatrick_scale:!1,category:"animals_and_nature"},wilted_flower:{keywords:["plant","nature","flower"],char:"🥀",fitzpatrick_scale:!1,category:"animals_and_nature"},tulip:{keywords:["flowers","plant","nature","summer","spring"],char:"🌷",fitzpatrick_scale:!1,category:"animals_and_nature"},blossom:{keywords:["nature","flowers","yellow"],char:"🌼",fitzpatrick_scale:!1,category:"animals_and_nature"},cherry_blossom:{keywords:["nature","plant","spring","flower"],char:"🌸",fitzpatrick_scale:!1,category:"animals_and_nature"},bouquet:{keywords:["flowers","nature","spring"],char:"💐",fitzpatrick_scale:!1,category:"animals_and_nature"},mushroom:{keywords:["plant","vegetable"],char:"🍄",fitzpatrick_scale:!1,category:"animals_and_nature"},chestnut:{keywords:["food","squirrel"],char:"🌰",fitzpatrick_scale:!1,category:"animals_and_nature"},jack_o_lantern:{keywords:["halloween","light","pumpkin","creepy","fall"],char:"🎃",fitzpatrick_scale:!1,category:"animals_and_nature"},shell:{keywords:["nature","sea","beach"],char:"🐚",fitzpatrick_scale:!1,category:"animals_and_nature"},spider_web:{keywords:["animal","insect","arachnid","silk"],char:"🕸",fitzpatrick_scale:!1,category:"animals_and_nature"},earth_americas:{keywords:["globe","world","USA","international"],char:"🌎",fitzpatrick_scale:!1,category:"animals_and_nature"},earth_africa:{keywords:["globe","world","international"],char:"🌍",fitzpatrick_scale:!1,category:"animals_and_nature"},earth_asia:{keywords:["globe","world","east","international"],char:"🌏",fitzpatrick_scale:!1,category:"animals_and_nature"},full_moon:{keywords:["nature","yellow","twilight","planet","space","night","evening","sleep"],char:"🌕",fitzpatrick_scale:!1,category:"animals_and_nature"},waning_gibbous_moon:{keywords:["nature","twilight","planet","space","night","evening","sleep","waxing_gibbous_moon"],char:"🌖",fitzpatrick_scale:!1,category:"animals_and_nature"},last_quarter_moon:{keywords:["nature","twilight","planet","space","night","evening","sleep"],char:"🌗",fitzpatrick_scale:!1,category:"animals_and_nature"},waning_crescent_moon:{keywords:["nature","twilight","planet","space","night","evening","sleep"],char:"🌘",fitzpatrick_scale:!1,category:"animals_and_nature"},new_moon:{keywords:["nature","twilight","planet","space","night","evening","sleep"],char:"🌑",fitzpatrick_scale:!1,category:"animals_and_nature"},waxing_crescent_moon:{keywords:["nature","twilight","planet","space","night","evening","sleep"],char:"🌒",fitzpatrick_scale:!1,category:"animals_and_nature"},first_quarter_moon:{keywords:["nature","twilight","planet","space","night","evening","sleep"],char:"🌓",fitzpatrick_scale:!1,category:"animals_and_nature"},waxing_gibbous_moon:{keywords:["nature","night","sky","gray","twilight","planet","space","evening","sleep"],char:"🌔",fitzpatrick_scale:!1,category:"animals_and_nature"},new_moon_with_face:{keywords:["nature","twilight","planet","space","night","evening","sleep"],char:"🌚",fitzpatrick_scale:!1,category:"animals_and_nature"},full_moon_with_face:{keywords:["nature","twilight","planet","space","night","evening","sleep"],char:"🌝",fitzpatrick_scale:!1,category:"animals_and_nature"},first_quarter_moon_with_face:{keywords:["nature","twilight","planet","space","night","evening","sleep"],char:"🌛",fitzpatrick_scale:!1,category:"animals_and_nature"},last_quarter_moon_with_face:{keywords:["nature","twilight","planet","space","night","evening","sleep"],char:"🌜",fitzpatrick_scale:!1,category:"animals_and_nature"},sun_with_face:{keywords:["nature","morning","sky"],char:"🌞",fitzpatrick_scale:!1,category:"animals_and_nature"},crescent_moon:{keywords:["night","sleep","sky","evening","magic"],char:"🌙",fitzpatrick_scale:!1,category:"animals_and_nature"},star:{keywords:["night","yellow"],char:"⭐",fitzpatrick_scale:!1,category:"animals_and_nature"},star2:{keywords:["night","sparkle","awesome","good","magic"],char:"🌟",fitzpatrick_scale:!1,category:"animals_and_nature"},dizzy:{keywords:["star","sparkle","shoot","magic"],char:"💫",fitzpatrick_scale:!1,category:"animals_and_nature"},sparkles:{keywords:["stars","shine","shiny","cool","awesome","good","magic"],char:"✨",fitzpatrick_scale:!1,category:"animals_and_nature"},comet:{keywords:["space"],char:"☄",fitzpatrick_scale:!1,category:"animals_and_nature"},sunny:{keywords:["weather","nature","brightness","summer","beach","spring"],char:"☀️",fitzpatrick_scale:!1,category:"animals_and_nature"},sun_behind_small_cloud:{keywords:["weather"],char:"🌤",fitzpatrick_scale:!1,category:"animals_and_nature"},partly_sunny:{keywords:["weather","nature","cloudy","morning","fall","spring"],char:"⛅",fitzpatrick_scale:!1,category:"animals_and_nature"},sun_behind_large_cloud:{keywords:["weather"],char:"🌥",fitzpatrick_scale:!1,category:"animals_and_nature"},sun_behind_rain_cloud:{keywords:["weather"],char:"🌦",fitzpatrick_scale:!1,category:"animals_and_nature"},cloud:{keywords:["weather","sky"],char:"☁️",fitzpatrick_scale:!1,category:"animals_and_nature"},cloud_with_rain:{keywords:["weather"],char:"🌧",fitzpatrick_scale:!1,category:"animals_and_nature"},cloud_with_lightning_and_rain:{keywords:["weather","lightning"],char:"⛈",fitzpatrick_scale:!1,category:"animals_and_nature"},cloud_with_lightning:{keywords:["weather","thunder"],char:"🌩",fitzpatrick_scale:!1,category:"animals_and_nature"},zap:{keywords:["thunder","weather","lightning bolt","fast"],char:"⚡",fitzpatrick_scale:!1,category:"animals_and_nature"},fire:{keywords:["hot","cook","flame"],char:"🔥",fitzpatrick_scale:!1,category:"animals_and_nature"},boom:{keywords:["bomb","explode","explosion","collision","blown"],char:"💥",fitzpatrick_scale:!1,category:"animals_and_nature"},snowflake:{keywords:["winter","season","cold","weather","christmas","xmas"],char:"❄️",fitzpatrick_scale:!1,category:"animals_and_nature"},cloud_with_snow:{keywords:["weather"],char:"🌨",fitzpatrick_scale:!1,category:"animals_and_nature"},snowman:{keywords:["winter","season","cold","weather","christmas","xmas","frozen","without_snow"],char:"⛄",fitzpatrick_scale:!1,category:"animals_and_nature"},snowman_with_snow:{keywords:["winter","season","cold","weather","christmas","xmas","frozen"],char:"☃",fitzpatrick_scale:!1,category:"animals_and_nature"},wind_face:{keywords:["gust","air"],char:"🌬",fitzpatrick_scale:!1,category:"animals_and_nature"},dash:{keywords:["wind","air","fast","shoo","fart","smoke","puff"],char:"💨",fitzpatrick_scale:!1,category:"animals_and_nature"},tornado:{keywords:["weather","cyclone","twister"],char:"🌪",fitzpatrick_scale:!1,category:"animals_and_nature"},fog:{keywords:["weather"],char:"🌫",fitzpatrick_scale:!1,category:"animals_and_nature"},open_umbrella:{keywords:["weather","spring"],char:"☂",fitzpatrick_scale:!1,category:"animals_and_nature"},umbrella:{keywords:["rainy","weather","spring"],char:"☔",fitzpatrick_scale:!1,category:"animals_and_nature"},droplet:{keywords:["water","drip","faucet","spring"],char:"💧",fitzpatrick_scale:!1,category:"animals_and_nature"},sweat_drops:{keywords:["water","drip","oops"],char:"💦",fitzpatrick_scale:!1,category:"animals_and_nature"},ocean:{keywords:["sea","water","wave","nature","tsunami","disaster"],char:"🌊",fitzpatrick_scale:!1,category:"animals_and_nature"},green_apple:{keywords:["fruit","nature"],char:"🍏",fitzpatrick_scale:!1,category:"food_and_drink"},apple:{keywords:["fruit","mac","school"],char:"🍎",fitzpatrick_scale:!1,category:"food_and_drink"},pear:{keywords:["fruit","nature","food"],char:"🍐",fitzpatrick_scale:!1,category:"food_and_drink"},tangerine:{keywords:["food","fruit","nature","orange"],char:"🍊",fitzpatrick_scale:!1,category:"food_and_drink"},lemon:{keywords:["fruit","nature"],char:"🍋",fitzpatrick_scale:!1,category:"food_and_drink"},banana:{keywords:["fruit","food","monkey"],char:"🍌",fitzpatrick_scale:!1,category:"food_and_drink"},watermelon:{keywords:["fruit","food","picnic","summer"],char:"🍉",fitzpatrick_scale:!1,category:"food_and_drink"},grapes:{keywords:["fruit","food","wine"],char:"🍇",fitzpatrick_scale:!1,category:"food_and_drink"},strawberry:{keywords:["fruit","food","nature"],char:"🍓",fitzpatrick_scale:!1,category:"food_and_drink"},melon:{keywords:["fruit","nature","food"],char:"🍈",fitzpatrick_scale:!1,category:"food_and_drink"},cherries:{keywords:["food","fruit"],char:"🍒",fitzpatrick_scale:!1,category:"food_and_drink"},peach:{keywords:["fruit","nature","food"],char:"🍑",fitzpatrick_scale:!1,category:"food_and_drink"},pineapple:{keywords:["fruit","nature","food"],char:"🍍",fitzpatrick_scale:!1,category:"food_and_drink"},coconut:{keywords:["fruit","nature","food","palm"],char:"🥥",fitzpatrick_scale:!1,category:"food_and_drink"},kiwi_fruit:{keywords:["fruit","food"],char:"🥝",fitzpatrick_scale:!1,category:"food_and_drink"},mango:{keywords:["fruit","food","tropical"],char:"🥭",fitzpatrick_scale:!1,category:"food_and_drink"},avocado:{keywords:["fruit","food"],char:"🥑",fitzpatrick_scale:!1,category:"food_and_drink"},broccoli:{keywords:["fruit","food","vegetable"],char:"🥦",fitzpatrick_scale:!1,category:"food_and_drink"},tomato:{keywords:["fruit","vegetable","nature","food"],char:"🍅",fitzpatrick_scale:!1,category:"food_and_drink"},eggplant:{keywords:["vegetable","nature","food","aubergine"],char:"🍆",fitzpatrick_scale:!1,category:"food_and_drink"},cucumber:{keywords:["fruit","food","pickle"],char:"🥒",fitzpatrick_scale:!1,category:"food_and_drink"},carrot:{keywords:["vegetable","food","orange"],char:"🥕",fitzpatrick_scale:!1,category:"food_and_drink"},hot_pepper:{keywords:["food","spicy","chilli","chili"],char:"🌶",fitzpatrick_scale:!1,category:"food_and_drink"},potato:{keywords:["food","tuber","vegatable","starch"],char:"🥔",fitzpatrick_scale:!1,category:"food_and_drink"},corn:{keywords:["food","vegetable","plant"],char:"🌽",fitzpatrick_scale:!1,category:"food_and_drink"},leafy_greens:{keywords:["food","vegetable","plant","bok choy","cabbage","kale","lettuce"],char:"🥬",fitzpatrick_scale:!1,category:"food_and_drink"},sweet_potato:{keywords:["food","nature"],char:"🍠",fitzpatrick_scale:!1,category:"food_and_drink"},peanuts:{keywords:["food","nut"],char:"🥜",fitzpatrick_scale:!1,category:"food_and_drink"},honey_pot:{keywords:["bees","sweet","kitchen"],char:"🍯",fitzpatrick_scale:!1,category:"food_and_drink"},croissant:{keywords:["food","bread","french"],char:"🥐",fitzpatrick_scale:!1,category:"food_and_drink"},bread:{keywords:["food","wheat","breakfast","toast"],char:"🍞",fitzpatrick_scale:!1,category:"food_and_drink"},baguette_bread:{keywords:["food","bread","french"],char:"🥖",fitzpatrick_scale:!1,category:"food_and_drink"},bagel:{keywords:["food","bread","bakery","schmear"],char:"🥯",fitzpatrick_scale:!1,category:"food_and_drink"},pretzel:{keywords:["food","bread","twisted"],char:"🥨",fitzpatrick_scale:!1,category:"food_and_drink"},cheese:{keywords:["food","chadder"],char:"🧀",fitzpatrick_scale:!1,category:"food_and_drink"},egg:{keywords:["food","chicken","breakfast"],char:"🥚",fitzpatrick_scale:!1,category:"food_and_drink"},bacon:{keywords:["food","breakfast","pork","pig","meat"],char:"🥓",fitzpatrick_scale:!1,category:"food_and_drink"},steak:{keywords:["food","cow","meat","cut","chop","lambchop","porkchop"],char:"🥩",fitzpatrick_scale:!1,category:"food_and_drink"},pancakes:{keywords:["food","breakfast","flapjacks","hotcakes"],char:"🥞",fitzpatrick_scale:!1,category:"food_and_drink"},poultry_leg:{keywords:["food","meat","drumstick","bird","chicken","turkey"],char:"🍗",fitzpatrick_scale:!1,category:"food_and_drink"},meat_on_bone:{keywords:["good","food","drumstick"],char:"🍖",fitzpatrick_scale:!1,category:"food_and_drink"},bone:{keywords:["skeleton"],char:"🦴",fitzpatrick_scale:!1,category:"food_and_drink"},fried_shrimp:{keywords:["food","animal","appetizer","summer"],char:"🍤",fitzpatrick_scale:!1,category:"food_and_drink"},fried_egg:{keywords:["food","breakfast","kitchen","egg"],char:"🍳",fitzpatrick_scale:!1,category:"food_and_drink"},hamburger:{keywords:["meat","fast food","beef","cheeseburger","mcdonalds","burger king"],char:"🍔",fitzpatrick_scale:!1,category:"food_and_drink"},fries:{keywords:["chips","snack","fast food"],char:"🍟",fitzpatrick_scale:!1,category:"food_and_drink"},stuffed_flatbread:{keywords:["food","flatbread","stuffed","gyro"],char:"🥙",fitzpatrick_scale:!1,category:"food_and_drink"},hotdog:{keywords:["food","frankfurter"],char:"🌭",fitzpatrick_scale:!1,category:"food_and_drink"},pizza:{keywords:["food","party"],char:"🍕",fitzpatrick_scale:!1,category:"food_and_drink"},sandwich:{keywords:["food","lunch","bread"],char:"🥪",fitzpatrick_scale:!1,category:"food_and_drink"},canned_food:{keywords:["food","soup"],char:"🥫",fitzpatrick_scale:!1,category:"food_and_drink"},spaghetti:{keywords:["food","italian","noodle"],char:"🍝",fitzpatrick_scale:!1,category:"food_and_drink"},taco:{keywords:["food","mexican"],char:"🌮",fitzpatrick_scale:!1,category:"food_and_drink"},burrito:{keywords:["food","mexican"],char:"🌯",fitzpatrick_scale:!1,category:"food_and_drink"},green_salad:{keywords:["food","healthy","lettuce"],char:"🥗",fitzpatrick_scale:!1,category:"food_and_drink"},shallow_pan_of_food:{keywords:["food","cooking","casserole","paella"],char:"🥘",fitzpatrick_scale:!1,category:"food_and_drink"},ramen:{keywords:["food","japanese","noodle","chopsticks"],char:"🍜",fitzpatrick_scale:!1,category:"food_and_drink"},stew:{keywords:["food","meat","soup"],char:"🍲",fitzpatrick_scale:!1,category:"food_and_drink"},fish_cake:{keywords:["food","japan","sea","beach","narutomaki","pink","swirl","kamaboko","surimi","ramen"],char:"🍥",fitzpatrick_scale:!1,category:"food_and_drink"},fortune_cookie:{keywords:["food","prophecy"],char:"🥠",fitzpatrick_scale:!1,category:"food_and_drink"},sushi:{keywords:["food","fish","japanese","rice"],char:"🍣",fitzpatrick_scale:!1,category:"food_and_drink"},bento:{keywords:["food","japanese","box"],char:"🍱",fitzpatrick_scale:!1,category:"food_and_drink"},curry:{keywords:["food","spicy","hot","indian"],char:"🍛",fitzpatrick_scale:!1,category:"food_and_drink"},rice_ball:{keywords:["food","japanese"],char:"🍙",fitzpatrick_scale:!1,category:"food_and_drink"},rice:{keywords:["food","china","asian"],char:"🍚",fitzpatrick_scale:!1,category:"food_and_drink"},rice_cracker:{keywords:["food","japanese"],char:"🍘",fitzpatrick_scale:!1,category:"food_and_drink"},oden:{keywords:["food","japanese"],char:"🍢",fitzpatrick_scale:!1,category:"food_and_drink"},dango:{keywords:["food","dessert","sweet","japanese","barbecue","meat"],char:"🍡",fitzpatrick_scale:!1,category:"food_and_drink"},shaved_ice:{keywords:["hot","dessert","summer"],char:"🍧",fitzpatrick_scale:!1,category:"food_and_drink"},ice_cream:{keywords:["food","hot","dessert"],char:"🍨",fitzpatrick_scale:!1,category:"food_and_drink"},icecream:{keywords:["food","hot","dessert","summer"],char:"🍦",fitzpatrick_scale:!1,category:"food_and_drink"},pie:{keywords:["food","dessert","pastry"],char:"🥧",fitzpatrick_scale:!1,category:"food_and_drink"},cake:{keywords:["food","dessert"],char:"🍰",fitzpatrick_scale:!1,category:"food_and_drink"},cupcake:{keywords:["food","dessert","bakery","sweet"],char:"🧁",fitzpatrick_scale:!1,category:"food_and_drink"},moon_cake:{keywords:["food","autumn"],char:"🥮",fitzpatrick_scale:!1,category:"food_and_drink"},birthday:{keywords:["food","dessert","cake"],char:"🎂",fitzpatrick_scale:!1,category:"food_and_drink"},custard:{keywords:["dessert","food"],char:"🍮",fitzpatrick_scale:!1,category:"food_and_drink"},candy:{keywords:["snack","dessert","sweet","lolly"],char:"🍬",fitzpatrick_scale:!1,category:"food_and_drink"},lollipop:{keywords:["food","snack","candy","sweet"],char:"🍭",fitzpatrick_scale:!1,category:"food_and_drink"},chocolate_bar:{keywords:["food","snack","dessert","sweet"],char:"🍫",fitzpatrick_scale:!1,category:"food_and_drink"},popcorn:{keywords:["food","movie theater","films","snack"],char:"🍿",fitzpatrick_scale:!1,category:"food_and_drink"},dumpling:{keywords:["food","empanada","pierogi","potsticker"],char:"🥟",fitzpatrick_scale:!1,category:"food_and_drink"},doughnut:{keywords:["food","dessert","snack","sweet","donut"],char:"🍩",fitzpatrick_scale:!1,category:"food_and_drink"},cookie:{keywords:["food","snack","oreo","chocolate","sweet","dessert"],char:"🍪",fitzpatrick_scale:!1,category:"food_and_drink"},milk_glass:{keywords:["beverage","drink","cow"],char:"🥛",fitzpatrick_scale:!1,category:"food_and_drink"},beer:{keywords:["relax","beverage","drink","drunk","party","pub","summer","alcohol","booze"],char:"🍺",fitzpatrick_scale:!1,category:"food_and_drink"},beers:{keywords:["relax","beverage","drink","drunk","party","pub","summer","alcohol","booze"],char:"🍻",fitzpatrick_scale:!1,category:"food_and_drink"},clinking_glasses:{keywords:["beverage","drink","party","alcohol","celebrate","cheers","wine","champagne","toast"],char:"🥂",fitzpatrick_scale:!1,category:"food_and_drink"},wine_glass:{keywords:["drink","beverage","drunk","alcohol","booze"],char:"🍷",fitzpatrick_scale:!1,category:"food_and_drink"},tumbler_glass:{keywords:["drink","beverage","drunk","alcohol","liquor","booze","bourbon","scotch","whisky","glass","shot"],char:"🥃",fitzpatrick_scale:!1,category:"food_and_drink"},cocktail:{keywords:["drink","drunk","alcohol","beverage","booze","mojito"],char:"🍸",fitzpatrick_scale:!1,category:"food_and_drink"},tropical_drink:{keywords:["beverage","cocktail","summer","beach","alcohol","booze","mojito"],char:"🍹",fitzpatrick_scale:!1,category:"food_and_drink"},champagne:{keywords:["drink","wine","bottle","celebration"],char:"🍾",fitzpatrick_scale:!1,category:"food_and_drink"},sake:{keywords:["wine","drink","drunk","beverage","japanese","alcohol","booze"],char:"🍶",fitzpatrick_scale:!1,category:"food_and_drink"},tea:{keywords:["drink","bowl","breakfast","green","british"],char:"🍵",fitzpatrick_scale:!1,category:"food_and_drink"},cup_with_straw:{keywords:["drink","soda"],char:"🥤",fitzpatrick_scale:!1,category:"food_and_drink"},coffee:{keywords:["beverage","caffeine","latte","espresso"],char:"☕",fitzpatrick_scale:!1,category:"food_and_drink"},baby_bottle:{keywords:["food","container","milk"],char:"🍼",fitzpatrick_scale:!1,category:"food_and_drink"},salt:{keywords:["condiment","shaker"],char:"🧂",fitzpatrick_scale:!1,category:"food_and_drink"},spoon:{keywords:["cutlery","kitchen","tableware"],char:"🥄",fitzpatrick_scale:!1,category:"food_and_drink"},fork_and_knife:{keywords:["cutlery","kitchen"],char:"🍴",fitzpatrick_scale:!1,category:"food_and_drink"},plate_with_cutlery:{keywords:["food","eat","meal","lunch","dinner","restaurant"],char:"🍽",fitzpatrick_scale:!1,category:"food_and_drink"},bowl_with_spoon:{keywords:["food","breakfast","cereal","oatmeal","porridge"],char:"🥣",fitzpatrick_scale:!1,category:"food_and_drink"},takeout_box:{keywords:["food","leftovers"],char:"🥡",fitzpatrick_scale:!1,category:"food_and_drink"},chopsticks:{keywords:["food"],char:"🥢",fitzpatrick_scale:!1,category:"food_and_drink"},soccer:{keywords:["sports","football"],char:"⚽",fitzpatrick_scale:!1,category:"activity"},basketball:{keywords:["sports","balls","NBA"],char:"🏀",fitzpatrick_scale:!1,category:"activity"},football:{keywords:["sports","balls","NFL"],char:"🏈",fitzpatrick_scale:!1,category:"activity"},baseball:{keywords:["sports","balls"],char:"⚾",fitzpatrick_scale:!1,category:"activity"},softball:{keywords:["sports","balls"],char:"🥎",fitzpatrick_scale:!1,category:"activity"},tennis:{keywords:["sports","balls","green"],char:"🎾",fitzpatrick_scale:!1,category:"activity"},volleyball:{keywords:["sports","balls"],char:"🏐",fitzpatrick_scale:!1,category:"activity"},rugby_football:{keywords:["sports","team"],char:"🏉",fitzpatrick_scale:!1,category:"activity"},flying_disc:{keywords:["sports","frisbee","ultimate"],char:"🥏",fitzpatrick_scale:!1,category:"activity"},"8ball":{keywords:["pool","hobby","game","luck","magic"],char:"🎱",fitzpatrick_scale:!1,category:"activity"},golf:{keywords:["sports","business","flag","hole","summer"],char:"⛳",fitzpatrick_scale:!1,category:"activity"},golfing_woman:{keywords:["sports","business","woman","female"],char:"🏌️‍♀️",fitzpatrick_scale:!1,category:"activity"},golfing_man:{keywords:["sports","business"],char:"🏌",fitzpatrick_scale:!0,category:"activity"},ping_pong:{keywords:["sports","pingpong"],char:"🏓",fitzpatrick_scale:!1,category:"activity"},badminton:{keywords:["sports"],char:"🏸",fitzpatrick_scale:!1,category:"activity"},goal_net:{keywords:["sports"],char:"🥅",fitzpatrick_scale:!1,category:"activity"},ice_hockey:{keywords:["sports"],char:"🏒",fitzpatrick_scale:!1,category:"activity"},field_hockey:{keywords:["sports"],char:"🏑",fitzpatrick_scale:!1,category:"activity"},lacrosse:{keywords:["sports","ball","stick"],char:"🥍",fitzpatrick_scale:!1,category:"activity"},cricket:{keywords:["sports"],char:"🏏",fitzpatrick_scale:!1,category:"activity"},ski:{keywords:["sports","winter","cold","snow"],char:"🎿",fitzpatrick_scale:!1,category:"activity"},skier:{keywords:["sports","winter","snow"],char:"⛷",fitzpatrick_scale:!1,category:"activity"},snowboarder:{keywords:["sports","winter"],char:"🏂",fitzpatrick_scale:!0,category:"activity"},person_fencing:{keywords:["sports","fencing","sword"],char:"🤺",fitzpatrick_scale:!1,category:"activity"},women_wrestling:{keywords:["sports","wrestlers"],char:"🤼‍♀️",fitzpatrick_scale:!1,category:"activity"},men_wrestling:{keywords:["sports","wrestlers"],char:"🤼‍♂️",fitzpatrick_scale:!1,category:"activity"},woman_cartwheeling:{keywords:["gymnastics"],char:"🤸‍♀️",fitzpatrick_scale:!0,category:"activity"},man_cartwheeling:{keywords:["gymnastics"],char:"🤸‍♂️",fitzpatrick_scale:!0,category:"activity"},woman_playing_handball:{keywords:["sports"],char:"🤾‍♀️",fitzpatrick_scale:!0,category:"activity"},man_playing_handball:{keywords:["sports"],char:"🤾‍♂️",fitzpatrick_scale:!0,category:"activity"},ice_skate:{keywords:["sports"],char:"⛸",fitzpatrick_scale:!1,category:"activity"},curling_stone:{keywords:["sports"],char:"🥌",fitzpatrick_scale:!1,category:"activity"},skateboard:{keywords:["board"],char:"🛹",fitzpatrick_scale:!1,category:"activity"},sled:{keywords:["sleigh","luge","toboggan"],char:"🛷",fitzpatrick_scale:!1,category:"activity"},bow_and_arrow:{keywords:["sports"],char:"🏹",fitzpatrick_scale:!1,category:"activity"},fishing_pole_and_fish:{keywords:["food","hobby","summer"],char:"🎣",fitzpatrick_scale:!1,category:"activity"},boxing_glove:{keywords:["sports","fighting"],char:"🥊",fitzpatrick_scale:!1,category:"activity"},martial_arts_uniform:{keywords:["judo","karate","taekwondo"],char:"🥋",fitzpatrick_scale:!1,category:"activity"},rowing_woman:{keywords:["sports","hobby","water","ship","woman","female"],char:"🚣‍♀️",fitzpatrick_scale:!0,category:"activity"},rowing_man:{keywords:["sports","hobby","water","ship"],char:"🚣",fitzpatrick_scale:!0,category:"activity"},climbing_woman:{keywords:["sports","hobby","woman","female","rock"],char:"🧗‍♀️",fitzpatrick_scale:!0,category:"activity"},climbing_man:{keywords:["sports","hobby","man","male","rock"],char:"🧗‍♂️",fitzpatrick_scale:!0,category:"activity"},swimming_woman:{keywords:["sports","exercise","human","athlete","water","summer","woman","female"],char:"🏊‍♀️",fitzpatrick_scale:!0,category:"activity"},swimming_man:{keywords:["sports","exercise","human","athlete","water","summer"],char:"🏊",fitzpatrick_scale:!0,category:"activity"},woman_playing_water_polo:{keywords:["sports","pool"],char:"🤽‍♀️",fitzpatrick_scale:!0,category:"activity"},man_playing_water_polo:{keywords:["sports","pool"],char:"🤽‍♂️",fitzpatrick_scale:!0,category:"activity"},woman_in_lotus_position:{keywords:["woman","female","meditation","yoga","serenity","zen","mindfulness"],char:"🧘‍♀️",fitzpatrick_scale:!0,category:"activity"},man_in_lotus_position:{keywords:["man","male","meditation","yoga","serenity","zen","mindfulness"],char:"🧘‍♂️",fitzpatrick_scale:!0,category:"activity"},surfing_woman:{keywords:["sports","ocean","sea","summer","beach","woman","female"],char:"🏄‍♀️",fitzpatrick_scale:!0,category:"activity"},surfing_man:{keywords:["sports","ocean","sea","summer","beach"],char:"🏄",fitzpatrick_scale:!0,category:"activity"},bath:{keywords:["clean","shower","bathroom"],char:"🛀",fitzpatrick_scale:!0,category:"activity"},basketball_woman:{keywords:["sports","human","woman","female"],char:"⛹️‍♀️",fitzpatrick_scale:!0,category:"activity"},basketball_man:{keywords:["sports","human"],char:"⛹",fitzpatrick_scale:!0,category:"activity"},weight_lifting_woman:{keywords:["sports","training","exercise","woman","female"],char:"🏋️‍♀️",fitzpatrick_scale:!0,category:"activity"},weight_lifting_man:{keywords:["sports","training","exercise"],char:"🏋",fitzpatrick_scale:!0,category:"activity"},biking_woman:{keywords:["sports","bike","exercise","hipster","woman","female"],char:"🚴‍♀️",fitzpatrick_scale:!0,category:"activity"},biking_man:{keywords:["sports","bike","exercise","hipster"],char:"🚴",fitzpatrick_scale:!0,category:"activity"},mountain_biking_woman:{keywords:["transportation","sports","human","race","bike","woman","female"],char:"🚵‍♀️",fitzpatrick_scale:!0,category:"activity"},mountain_biking_man:{keywords:["transportation","sports","human","race","bike"],char:"🚵",fitzpatrick_scale:!0,category:"activity"},horse_racing:{keywords:["animal","betting","competition","gambling","luck"],char:"🏇",fitzpatrick_scale:!0,category:"activity"},business_suit_levitating:{keywords:["suit","business","levitate","hover","jump"],char:"🕴",fitzpatrick_scale:!0,category:"activity"},trophy:{keywords:["win","award","contest","place","ftw","ceremony"],char:"🏆",fitzpatrick_scale:!1,category:"activity"},running_shirt_with_sash:{keywords:["play","pageant"],char:"🎽",fitzpatrick_scale:!1,category:"activity"},medal_sports:{keywords:["award","winning"],char:"🏅",fitzpatrick_scale:!1,category:"activity"},medal_military:{keywords:["award","winning","army"],char:"🎖",fitzpatrick_scale:!1,category:"activity"},"1st_place_medal":{keywords:["award","winning","first"],char:"🥇",fitzpatrick_scale:!1,category:"activity"},"2nd_place_medal":{keywords:["award","second"],char:"🥈",fitzpatrick_scale:!1,category:"activity"},"3rd_place_medal":{keywords:["award","third"],char:"🥉",fitzpatrick_scale:!1,category:"activity"},reminder_ribbon:{keywords:["sports","cause","support","awareness"],char:"🎗",fitzpatrick_scale:!1,category:"activity"},rosette:{keywords:["flower","decoration","military"],char:"🏵",fitzpatrick_scale:!1,category:"activity"},ticket:{keywords:["event","concert","pass"],char:"🎫",fitzpatrick_scale:!1,category:"activity"},tickets:{keywords:["sports","concert","entrance"],char:"🎟",fitzpatrick_scale:!1,category:"activity"},performing_arts:{keywords:["acting","theater","drama"],char:"🎭",fitzpatrick_scale:!1,category:"activity"},art:{keywords:["design","paint","draw","colors"],char:"🎨",fitzpatrick_scale:!1,category:"activity"},circus_tent:{keywords:["festival","carnival","party"],char:"🎪",fitzpatrick_scale:!1,category:"activity"},woman_juggling:{keywords:["juggle","balance","skill","multitask"],char:"🤹‍♀️",fitzpatrick_scale:!0,category:"activity"},man_juggling:{keywords:["juggle","balance","skill","multitask"],char:"🤹‍♂️",fitzpatrick_scale:!0,category:"activity"},microphone:{keywords:["sound","music","PA","sing","talkshow"],char:"🎤",fitzpatrick_scale:!1,category:"activity"},headphones:{keywords:["music","score","gadgets"],char:"🎧",fitzpatrick_scale:!1,category:"activity"},musical_score:{keywords:["treble","clef","compose"],char:"🎼",fitzpatrick_scale:!1,category:"activity"},musical_keyboard:{keywords:["piano","instrument","compose"],char:"🎹",fitzpatrick_scale:!1,category:"activity"},drum:{keywords:["music","instrument","drumsticks","snare"],char:"🥁",fitzpatrick_scale:!1,category:"activity"},saxophone:{keywords:["music","instrument","jazz","blues"],char:"🎷",fitzpatrick_scale:!1,category:"activity"},trumpet:{keywords:["music","brass"],char:"🎺",fitzpatrick_scale:!1,category:"activity"},guitar:{keywords:["music","instrument"],char:"🎸",fitzpatrick_scale:!1,category:"activity"},violin:{keywords:["music","instrument","orchestra","symphony"],char:"🎻",fitzpatrick_scale:!1,category:"activity"},clapper:{keywords:["movie","film","record"],char:"🎬",fitzpatrick_scale:!1,category:"activity"},video_game:{keywords:["play","console","PS4","controller"],char:"🎮",fitzpatrick_scale:!1,category:"activity"},space_invader:{keywords:["game","arcade","play"],char:"👾",fitzpatrick_scale:!1,category:"activity"},dart:{keywords:["game","play","bar","target","bullseye"],char:"🎯",fitzpatrick_scale:!1,category:"activity"},game_die:{keywords:["dice","random","tabletop","play","luck"],char:"🎲",fitzpatrick_scale:!1,category:"activity"},chess_pawn:{keywords:["expendable"],char:"♟",fitzpatrick_scale:!1,category:"activity"},slot_machine:{keywords:["bet","gamble","vegas","fruit machine","luck","casino"],char:"🎰",fitzpatrick_scale:!1,category:"activity"},jigsaw:{keywords:["interlocking","puzzle","piece"],char:"🧩",fitzpatrick_scale:!1,category:"activity"},bowling:{keywords:["sports","fun","play"],char:"🎳",fitzpatrick_scale:!1,category:"activity"},red_car:{keywords:["red","transportation","vehicle"],char:"🚗",fitzpatrick_scale:!1,category:"travel_and_places"},taxi:{keywords:["uber","vehicle","cars","transportation"],char:"🚕",fitzpatrick_scale:!1,category:"travel_and_places"},blue_car:{keywords:["transportation","vehicle"],char:"🚙",fitzpatrick_scale:!1,category:"travel_and_places"},bus:{keywords:["car","vehicle","transportation"],char:"🚌",fitzpatrick_scale:!1,category:"travel_and_places"},trolleybus:{keywords:["bart","transportation","vehicle"],char:"🚎",fitzpatrick_scale:!1,category:"travel_and_places"},racing_car:{keywords:["sports","race","fast","formula","f1"],char:"🏎",fitzpatrick_scale:!1,category:"travel_and_places"},police_car:{keywords:["vehicle","cars","transportation","law","legal","enforcement"],char:"🚓",fitzpatrick_scale:!1,category:"travel_and_places"},ambulance:{keywords:["health","911","hospital"],char:"🚑",fitzpatrick_scale:!1,category:"travel_and_places"},fire_engine:{keywords:["transportation","cars","vehicle"],char:"🚒",fitzpatrick_scale:!1,category:"travel_and_places"},minibus:{keywords:["vehicle","car","transportation"],char:"🚐",fitzpatrick_scale:!1,category:"travel_and_places"},truck:{keywords:["cars","transportation"],char:"🚚",fitzpatrick_scale:!1,category:"travel_and_places"},articulated_lorry:{keywords:["vehicle","cars","transportation","express"],char:"🚛",fitzpatrick_scale:!1,category:"travel_and_places"},tractor:{keywords:["vehicle","car","farming","agriculture"],char:"🚜",fitzpatrick_scale:!1,category:"travel_and_places"},kick_scooter:{keywords:["vehicle","kick","razor"],char:"🛴",fitzpatrick_scale:!1,category:"travel_and_places"},motorcycle:{keywords:["race","sports","fast"],char:"🏍",fitzpatrick_scale:!1,category:"travel_and_places"},bike:{keywords:["sports","bicycle","exercise","hipster"],char:"🚲",fitzpatrick_scale:!1,category:"travel_and_places"},motor_scooter:{keywords:["vehicle","vespa","sasha"],char:"🛵",fitzpatrick_scale:!1,category:"travel_and_places"},rotating_light:{keywords:["police","ambulance","911","emergency","alert","error","pinged","law","legal"],char:"🚨",fitzpatrick_scale:!1,category:"travel_and_places"},oncoming_police_car:{keywords:["vehicle","law","legal","enforcement","911"],char:"🚔",fitzpatrick_scale:!1,category:"travel_and_places"},oncoming_bus:{keywords:["vehicle","transportation"],char:"🚍",fitzpatrick_scale:!1,category:"travel_and_places"},oncoming_automobile:{keywords:["car","vehicle","transportation"],char:"🚘",fitzpatrick_scale:!1,category:"travel_and_places"},oncoming_taxi:{keywords:["vehicle","cars","uber"],char:"🚖",fitzpatrick_scale:!1,category:"travel_and_places"},aerial_tramway:{keywords:["transportation","vehicle","ski"],char:"🚡",fitzpatrick_scale:!1,category:"travel_and_places"},mountain_cableway:{keywords:["transportation","vehicle","ski"],char:"🚠",fitzpatrick_scale:!1,category:"travel_and_places"},suspension_railway:{keywords:["vehicle","transportation"],char:"🚟",fitzpatrick_scale:!1,category:"travel_and_places"},railway_car:{keywords:["transportation","vehicle"],char:"🚃",fitzpatrick_scale:!1,category:"travel_and_places"},train:{keywords:["transportation","vehicle","carriage","public","travel"],char:"🚋",fitzpatrick_scale:!1,category:"travel_and_places"},monorail:{keywords:["transportation","vehicle"],char:"🚝",fitzpatrick_scale:!1,category:"travel_and_places"},bullettrain_side:{keywords:["transportation","vehicle"],char:"🚄",fitzpatrick_scale:!1,category:"travel_and_places"},bullettrain_front:{keywords:["transportation","vehicle","speed","fast","public","travel"],char:"🚅",fitzpatrick_scale:!1,category:"travel_and_places"},light_rail:{keywords:["transportation","vehicle"],char:"🚈",fitzpatrick_scale:!1,category:"travel_and_places"},mountain_railway:{keywords:["transportation","vehicle"],char:"🚞",fitzpatrick_scale:!1,category:"travel_and_places"},steam_locomotive:{keywords:["transportation","vehicle","train"],char:"🚂",fitzpatrick_scale:!1,category:"travel_and_places"},train2:{keywords:["transportation","vehicle"],char:"🚆",fitzpatrick_scale:!1,category:"travel_and_places"},metro:{keywords:["transportation","blue-square","mrt","underground","tube"],char:"🚇",fitzpatrick_scale:!1,category:"travel_and_places"},tram:{keywords:["transportation","vehicle"],char:"🚊",fitzpatrick_scale:!1,category:"travel_and_places"},station:{keywords:["transportation","vehicle","public"],char:"🚉",fitzpatrick_scale:!1,category:"travel_and_places"},flying_saucer:{keywords:["transportation","vehicle","ufo"],char:"🛸",fitzpatrick_scale:!1,category:"travel_and_places"},helicopter:{keywords:["transportation","vehicle","fly"],char:"🚁",fitzpatrick_scale:!1,category:"travel_and_places"},small_airplane:{keywords:["flight","transportation","fly","vehicle"],char:"🛩",fitzpatrick_scale:!1,category:"travel_and_places"},airplane:{keywords:["vehicle","transportation","flight","fly"],char:"✈️",fitzpatrick_scale:!1,category:"travel_and_places"},flight_departure:{keywords:["airport","flight","landing"],char:"🛫",fitzpatrick_scale:!1,category:"travel_and_places"},flight_arrival:{keywords:["airport","flight","boarding"],char:"🛬",fitzpatrick_scale:!1,category:"travel_and_places"},sailboat:{keywords:["ship","summer","transportation","water","sailing"],char:"⛵",fitzpatrick_scale:!1,category:"travel_and_places"},motor_boat:{keywords:["ship"],char:"🛥",fitzpatrick_scale:!1,category:"travel_and_places"},speedboat:{keywords:["ship","transportation","vehicle","summer"],char:"🚤",fitzpatrick_scale:!1,category:"travel_and_places"},ferry:{keywords:["boat","ship","yacht"],char:"⛴",fitzpatrick_scale:!1,category:"travel_and_places"},passenger_ship:{keywords:["yacht","cruise","ferry"],char:"🛳",fitzpatrick_scale:!1,category:"travel_and_places"},rocket:{keywords:["launch","ship","staffmode","NASA","outer space","outer_space","fly"],char:"🚀",fitzpatrick_scale:!1,category:"travel_and_places"},artificial_satellite:{keywords:["communication","gps","orbit","spaceflight","NASA","ISS"],char:"🛰",fitzpatrick_scale:!1,category:"travel_and_places"},seat:{keywords:["sit","airplane","transport","bus","flight","fly"],char:"💺",fitzpatrick_scale:!1,category:"travel_and_places"},canoe:{keywords:["boat","paddle","water","ship"],char:"🛶",fitzpatrick_scale:!1,category:"travel_and_places"},anchor:{keywords:["ship","ferry","sea","boat"],char:"⚓",fitzpatrick_scale:!1,category:"travel_and_places"},construction:{keywords:["wip","progress","caution","warning"],char:"🚧",fitzpatrick_scale:!1,category:"travel_and_places"},fuelpump:{keywords:["gas station","petroleum"],char:"⛽",fitzpatrick_scale:!1,category:"travel_and_places"},busstop:{keywords:["transportation","wait"],char:"🚏",fitzpatrick_scale:!1,category:"travel_and_places"},vertical_traffic_light:{keywords:["transportation","driving"],char:"🚦",fitzpatrick_scale:!1,category:"travel_and_places"},traffic_light:{keywords:["transportation","signal"],char:"🚥",fitzpatrick_scale:!1,category:"travel_and_places"},checkered_flag:{keywords:["contest","finishline","race","gokart"],char:"🏁",fitzpatrick_scale:!1,category:"travel_and_places"},ship:{keywords:["transportation","titanic","deploy"],char:"🚢",fitzpatrick_scale:!1,category:"travel_and_places"},ferris_wheel:{keywords:["photo","carnival","londoneye"],char:"🎡",fitzpatrick_scale:!1,category:"travel_and_places"},roller_coaster:{keywords:["carnival","playground","photo","fun"],char:"🎢",fitzpatrick_scale:!1,category:"travel_and_places"},carousel_horse:{keywords:["photo","carnival"],char:"🎠",fitzpatrick_scale:!1,category:"travel_and_places"},building_construction:{keywords:["wip","working","progress"],char:"🏗",fitzpatrick_scale:!1,category:"travel_and_places"},foggy:{keywords:["photo","mountain"],char:"🌁",fitzpatrick_scale:!1,category:"travel_and_places"},tokyo_tower:{keywords:["photo","japanese"],char:"🗼",fitzpatrick_scale:!1,category:"travel_and_places"},factory:{keywords:["building","industry","pollution","smoke"],char:"🏭",fitzpatrick_scale:!1,category:"travel_and_places"},fountain:{keywords:["photo","summer","water","fresh"],char:"⛲",fitzpatrick_scale:!1,category:"travel_and_places"},rice_scene:{keywords:["photo","japan","asia","tsukimi"],char:"🎑",fitzpatrick_scale:!1,category:"travel_and_places"},mountain:{keywords:["photo","nature","environment"],char:"⛰",fitzpatrick_scale:!1,category:"travel_and_places"},mountain_snow:{keywords:["photo","nature","environment","winter","cold"],char:"🏔",fitzpatrick_scale:!1,category:"travel_and_places"},mount_fuji:{keywords:["photo","mountain","nature","japanese"],char:"🗻",fitzpatrick_scale:!1,category:"travel_and_places"},volcano:{keywords:["photo","nature","disaster"],char:"🌋",fitzpatrick_scale:!1,category:"travel_and_places"},japan:{keywords:["nation","country","japanese","asia"],char:"🗾",fitzpatrick_scale:!1,category:"travel_and_places"},camping:{keywords:["photo","outdoors","tent"],char:"🏕",fitzpatrick_scale:!1,category:"travel_and_places"},tent:{keywords:["photo","camping","outdoors"],char:"⛺",fitzpatrick_scale:!1,category:"travel_and_places"},national_park:{keywords:["photo","environment","nature"],char:"🏞",fitzpatrick_scale:!1,category:"travel_and_places"},motorway:{keywords:["road","cupertino","interstate","highway"],char:"🛣",fitzpatrick_scale:!1,category:"travel_and_places"},railway_track:{keywords:["train","transportation"],char:"🛤",fitzpatrick_scale:!1,category:"travel_and_places"},sunrise:{keywords:["morning","view","vacation","photo"],char:"🌅",fitzpatrick_scale:!1,category:"travel_and_places"},sunrise_over_mountains:{keywords:["view","vacation","photo"],char:"🌄",fitzpatrick_scale:!1,category:"travel_and_places"},desert:{keywords:["photo","warm","saharah"],char:"🏜",fitzpatrick_scale:!1,category:"travel_and_places"},beach_umbrella:{keywords:["weather","summer","sunny","sand","mojito"],char:"🏖",fitzpatrick_scale:!1,category:"travel_and_places"},desert_island:{keywords:["photo","tropical","mojito"],char:"🏝",fitzpatrick_scale:!1,category:"travel_and_places"},city_sunrise:{keywords:["photo","good morning","dawn"],char:"🌇",fitzpatrick_scale:!1,category:"travel_and_places"},city_sunset:{keywords:["photo","evening","sky","buildings"],char:"🌆",fitzpatrick_scale:!1,category:"travel_and_places"},cityscape:{keywords:["photo","night life","urban"],char:"🏙",fitzpatrick_scale:!1,category:"travel_and_places"},night_with_stars:{keywords:["evening","city","downtown"],char:"🌃",fitzpatrick_scale:!1,category:"travel_and_places"},bridge_at_night:{keywords:["photo","sanfrancisco"],char:"🌉",fitzpatrick_scale:!1,category:"travel_and_places"},milky_way:{keywords:["photo","space","stars"],char:"🌌",fitzpatrick_scale:!1,category:"travel_and_places"},stars:{keywords:["night","photo"],char:"🌠",fitzpatrick_scale:!1,category:"travel_and_places"},sparkler:{keywords:["stars","night","shine"],char:"🎇",fitzpatrick_scale:!1,category:"travel_and_places"},fireworks:{keywords:["photo","festival","carnival","congratulations"],char:"🎆",fitzpatrick_scale:!1,category:"travel_and_places"},rainbow:{keywords:["nature","happy","unicorn_face","photo","sky","spring"],char:"🌈",fitzpatrick_scale:!1,category:"travel_and_places"},houses:{keywords:["buildings","photo"],char:"🏘",fitzpatrick_scale:!1,category:"travel_and_places"},european_castle:{keywords:["building","royalty","history"],char:"🏰",fitzpatrick_scale:!1,category:"travel_and_places"},japanese_castle:{keywords:["photo","building"],char:"🏯",fitzpatrick_scale:!1,category:"travel_and_places"},stadium:{keywords:["photo","place","sports","concert","venue"],char:"🏟",fitzpatrick_scale:!1,category:"travel_and_places"},statue_of_liberty:{keywords:["american","newyork"],char:"🗽",fitzpatrick_scale:!1,category:"travel_and_places"},house:{keywords:["building","home"],char:"🏠",fitzpatrick_scale:!1,category:"travel_and_places"},house_with_garden:{keywords:["home","plant","nature"],char:"🏡",fitzpatrick_scale:!1,category:"travel_and_places"},derelict_house:{keywords:["abandon","evict","broken","building"],char:"🏚",fitzpatrick_scale:!1,category:"travel_and_places"},office:{keywords:["building","bureau","work"],char:"🏢",fitzpatrick_scale:!1,category:"travel_and_places"},department_store:{keywords:["building","shopping","mall"],char:"🏬",fitzpatrick_scale:!1,category:"travel_and_places"},post_office:{keywords:["building","envelope","communication"],char:"🏣",fitzpatrick_scale:!1,category:"travel_and_places"},european_post_office:{keywords:["building","email"],char:"🏤",fitzpatrick_scale:!1,category:"travel_and_places"},hospital:{keywords:["building","health","surgery","doctor"],char:"🏥",fitzpatrick_scale:!1,category:"travel_and_places"},bank:{keywords:["building","money","sales","cash","business","enterprise"],char:"🏦",fitzpatrick_scale:!1,category:"travel_and_places"},hotel:{keywords:["building","accomodation","checkin"],char:"🏨",fitzpatrick_scale:!1,category:"travel_and_places"},convenience_store:{keywords:["building","shopping","groceries"],char:"🏪",fitzpatrick_scale:!1,category:"travel_and_places"},school:{keywords:["building","student","education","learn","teach"],char:"🏫",fitzpatrick_scale:!1,category:"travel_and_places"},love_hotel:{keywords:["like","affection","dating"],char:"🏩",fitzpatrick_scale:!1,category:"travel_and_places"},wedding:{keywords:["love","like","affection","couple","marriage","bride","groom"],char:"💒",fitzpatrick_scale:!1,category:"travel_and_places"},classical_building:{keywords:["art","culture","history"],char:"🏛",fitzpatrick_scale:!1,category:"travel_and_places"},church:{keywords:["building","religion","christ"],char:"⛪",fitzpatrick_scale:!1,category:"travel_and_places"},mosque:{keywords:["islam","worship","minaret"],char:"🕌",fitzpatrick_scale:!1,category:"travel_and_places"},synagogue:{keywords:["judaism","worship","temple","jewish"],char:"🕍",fitzpatrick_scale:!1,category:"travel_and_places"},kaaba:{keywords:["mecca","mosque","islam"],char:"🕋",fitzpatrick_scale:!1,category:"travel_and_places"},shinto_shrine:{keywords:["temple","japan","kyoto"],char:"⛩",fitzpatrick_scale:!1,category:"travel_and_places"},watch:{keywords:["time","accessories"],char:"⌚",fitzpatrick_scale:!1,category:"objects"},iphone:{keywords:["technology","apple","gadgets","dial"],char:"📱",fitzpatrick_scale:!1,category:"objects"},calling:{keywords:["iphone","incoming"],char:"📲",fitzpatrick_scale:!1,category:"objects"},computer:{keywords:["technology","laptop","screen","display","monitor"],char:"💻",fitzpatrick_scale:!1,category:"objects"},keyboard:{keywords:["technology","computer","type","input","text"],char:"⌨",fitzpatrick_scale:!1,category:"objects"},desktop_computer:{keywords:["technology","computing","screen"],char:"🖥",fitzpatrick_scale:!1,category:"objects"},printer:{keywords:["paper","ink"],char:"🖨",fitzpatrick_scale:!1,category:"objects"},computer_mouse:{keywords:["click"],char:"🖱",fitzpatrick_scale:!1,category:"objects"},trackball:{keywords:["technology","trackpad"],char:"🖲",fitzpatrick_scale:!1,category:"objects"},joystick:{keywords:["game","play"],char:"🕹",fitzpatrick_scale:!1,category:"objects"},clamp:{keywords:["tool"],char:"🗜",fitzpatrick_scale:!1,category:"objects"},minidisc:{keywords:["technology","record","data","disk","90s"],char:"💽",fitzpatrick_scale:!1,category:"objects"},floppy_disk:{keywords:["oldschool","technology","save","90s","80s"],char:"💾",fitzpatrick_scale:!1,category:"objects"},cd:{keywords:["technology","dvd","disk","disc","90s"],char:"💿",fitzpatrick_scale:!1,category:"objects"},dvd:{keywords:["cd","disk","disc"],char:"📀",fitzpatrick_scale:!1,category:"objects"},vhs:{keywords:["record","video","oldschool","90s","80s"],char:"📼",fitzpatrick_scale:!1,category:"objects"},camera:{keywords:["gadgets","photography"],char:"📷",fitzpatrick_scale:!1,category:"objects"},camera_flash:{keywords:["photography","gadgets"],char:"📸",fitzpatrick_scale:!1,category:"objects"},video_camera:{keywords:["film","record"],char:"📹",fitzpatrick_scale:!1,category:"objects"},movie_camera:{keywords:["film","record"],char:"🎥",fitzpatrick_scale:!1,category:"objects"},film_projector:{keywords:["video","tape","record","movie"],char:"📽",fitzpatrick_scale:!1,category:"objects"},film_strip:{keywords:["movie"],char:"🎞",fitzpatrick_scale:!1,category:"objects"},telephone_receiver:{keywords:["technology","communication","dial"],char:"📞",fitzpatrick_scale:!1,category:"objects"},phone:{keywords:["technology","communication","dial","telephone"],char:"☎️",fitzpatrick_scale:!1,category:"objects"},pager:{keywords:["bbcall","oldschool","90s"],char:"📟",fitzpatrick_scale:!1,category:"objects"},fax:{keywords:["communication","technology"],char:"📠",fitzpatrick_scale:!1,category:"objects"},tv:{keywords:["technology","program","oldschool","show","television"],char:"📺",fitzpatrick_scale:!1,category:"objects"},radio:{keywords:["communication","music","podcast","program"],char:"📻",fitzpatrick_scale:!1,category:"objects"},studio_microphone:{keywords:["sing","recording","artist","talkshow"],char:"🎙",fitzpatrick_scale:!1,category:"objects"},level_slider:{keywords:["scale"],char:"🎚",fitzpatrick_scale:!1,category:"objects"},control_knobs:{keywords:["dial"],char:"🎛",fitzpatrick_scale:!1,category:"objects"},compass:{keywords:["magnetic","navigation","orienteering"],char:"🧭",fitzpatrick_scale:!1,category:"objects"},stopwatch:{keywords:["time","deadline"],char:"⏱",fitzpatrick_scale:!1,category:"objects"},timer_clock:{keywords:["alarm"],char:"⏲",fitzpatrick_scale:!1,category:"objects"},alarm_clock:{keywords:["time","wake"],char:"⏰",fitzpatrick_scale:!1,category:"objects"},mantelpiece_clock:{keywords:["time"],char:"🕰",fitzpatrick_scale:!1,category:"objects"},hourglass_flowing_sand:{keywords:["oldschool","time","countdown"],char:"⏳",fitzpatrick_scale:!1,category:"objects"},hourglass:{keywords:["time","clock","oldschool","limit","exam","quiz","test"],char:"⌛",fitzpatrick_scale:!1,category:"objects"},satellite:{keywords:["communication","future","radio","space"],char:"📡",fitzpatrick_scale:!1,category:"objects"},battery:{keywords:["power","energy","sustain"],char:"🔋",fitzpatrick_scale:!1,category:"objects"},electric_plug:{keywords:["charger","power"],char:"🔌",fitzpatrick_scale:!1,category:"objects"},bulb:{keywords:["light","electricity","idea"],char:"💡",fitzpatrick_scale:!1,category:"objects"},flashlight:{keywords:["dark","camping","sight","night"],char:"🔦",fitzpatrick_scale:!1,category:"objects"},candle:{keywords:["fire","wax"],char:"🕯",fitzpatrick_scale:!1,category:"objects"},fire_extinguisher:{keywords:["quench"],char:"🧯",fitzpatrick_scale:!1,category:"objects"},wastebasket:{keywords:["bin","trash","rubbish","garbage","toss"],char:"🗑",fitzpatrick_scale:!1,category:"objects"},oil_drum:{keywords:["barrell"],char:"🛢",fitzpatrick_scale:!1,category:"objects"},money_with_wings:{keywords:["dollar","bills","payment","sale"],char:"💸",fitzpatrick_scale:!1,category:"objects"},dollar:{keywords:["money","sales","bill","currency"],char:"💵",fitzpatrick_scale:!1,category:"objects"},yen:{keywords:["money","sales","japanese","dollar","currency"],char:"💴",fitzpatrick_scale:!1,category:"objects"},euro:{keywords:["money","sales","dollar","currency"],char:"💶",fitzpatrick_scale:!1,category:"objects"},pound:{keywords:["british","sterling","money","sales","bills","uk","england","currency"],char:"💷",fitzpatrick_scale:!1,category:"objects"},moneybag:{keywords:["dollar","payment","coins","sale"],char:"💰",fitzpatrick_scale:!1,category:"objects"},credit_card:{keywords:["money","sales","dollar","bill","payment","shopping"],char:"💳",fitzpatrick_scale:!1,category:"objects"},gem:{keywords:["blue","ruby","diamond","jewelry"],char:"💎",fitzpatrick_scale:!1,category:"objects"},balance_scale:{keywords:["law","fairness","weight"],char:"⚖",fitzpatrick_scale:!1,category:"objects"},toolbox:{keywords:["tools","diy","fix","maintainer","mechanic"],char:"🧰",fitzpatrick_scale:!1,category:"objects"},wrench:{keywords:["tools","diy","ikea","fix","maintainer"],char:"🔧",fitzpatrick_scale:!1,category:"objects"},hammer:{keywords:["tools","build","create"],char:"🔨",fitzpatrick_scale:!1,category:"objects"},hammer_and_pick:{keywords:["tools","build","create"],char:"⚒",fitzpatrick_scale:!1,category:"objects"},hammer_and_wrench:{keywords:["tools","build","create"],char:"🛠",fitzpatrick_scale:!1,category:"objects"},pick:{keywords:["tools","dig"],char:"⛏",fitzpatrick_scale:!1,category:"objects"},nut_and_bolt:{keywords:["handy","tools","fix"],char:"🔩",fitzpatrick_scale:!1,category:"objects"},gear:{keywords:["cog"],char:"⚙",fitzpatrick_scale:!1,category:"objects"},brick:{keywords:["bricks"],char:"🧱",fitzpatrick_scale:!1,category:"objects"},chains:{keywords:["lock","arrest"],char:"⛓",fitzpatrick_scale:!1,category:"objects"},magnet:{keywords:["attraction","magnetic"],char:"🧲",fitzpatrick_scale:!1,category:"objects"},gun:{keywords:["violence","weapon","pistol","revolver"],char:"🔫",fitzpatrick_scale:!1,category:"objects"},bomb:{keywords:["boom","explode","explosion","terrorism"],char:"💣",fitzpatrick_scale:!1,category:"objects"},firecracker:{keywords:["dynamite","boom","explode","explosion","explosive"],char:"🧨",fitzpatrick_scale:!1,category:"objects"},hocho:{keywords:["knife","blade","cutlery","kitchen","weapon"],char:"🔪",fitzpatrick_scale:!1,category:"objects"},dagger:{keywords:["weapon"],char:"🗡",fitzpatrick_scale:!1,category:"objects"},crossed_swords:{keywords:["weapon"],char:"⚔",fitzpatrick_scale:!1,category:"objects"},shield:{keywords:["protection","security"],char:"🛡",fitzpatrick_scale:!1,category:"objects"},smoking:{keywords:["kills","tobacco","cigarette","joint","smoke"],char:"🚬",fitzpatrick_scale:!1,category:"objects"},skull_and_crossbones:{keywords:["poison","danger","deadly","scary","death","pirate","evil"],char:"☠",fitzpatrick_scale:!1,category:"objects"},coffin:{keywords:["vampire","dead","die","death","rip","graveyard","cemetery","casket","funeral","box"],char:"⚰",fitzpatrick_scale:!1,category:"objects"},funeral_urn:{keywords:["dead","die","death","rip","ashes"],char:"⚱",fitzpatrick_scale:!1,category:"objects"},amphora:{keywords:["vase","jar"],char:"🏺",fitzpatrick_scale:!1,category:"objects"},crystal_ball:{keywords:["disco","party","magic","circus","fortune_teller"],char:"🔮",fitzpatrick_scale:!1,category:"objects"},prayer_beads:{keywords:["dhikr","religious"],char:"📿",fitzpatrick_scale:!1,category:"objects"},nazar_amulet:{keywords:["bead","charm"],char:"🧿",fitzpatrick_scale:!1,category:"objects"},barber:{keywords:["hair","salon","style"],char:"💈",fitzpatrick_scale:!1,category:"objects"},alembic:{keywords:["distilling","science","experiment","chemistry"],char:"⚗",fitzpatrick_scale:!1,category:"objects"},telescope:{keywords:["stars","space","zoom","science","astronomy"],char:"🔭",fitzpatrick_scale:!1,category:"objects"},microscope:{keywords:["laboratory","experiment","zoomin","science","study"],char:"🔬",fitzpatrick_scale:!1,category:"objects"},hole:{keywords:["embarrassing"],char:"🕳",fitzpatrick_scale:!1,category:"objects"},pill:{keywords:["health","medicine","doctor","pharmacy","drug"],char:"💊",fitzpatrick_scale:!1,category:"objects"},syringe:{keywords:["health","hospital","drugs","blood","medicine","needle","doctor","nurse"],char:"💉",fitzpatrick_scale:!1,category:"objects"},dna:{keywords:["biologist","genetics","life"],char:"🧬",fitzpatrick_scale:!1,category:"objects"},microbe:{keywords:["amoeba","bacteria","germs"],char:"🦠",fitzpatrick_scale:!1,category:"objects"},petri_dish:{keywords:["bacteria","biology","culture","lab"],char:"🧫",fitzpatrick_scale:!1,category:"objects"},test_tube:{keywords:["chemistry","experiment","lab","science"],char:"🧪",fitzpatrick_scale:!1,category:"objects"},thermometer:{keywords:["weather","temperature","hot","cold"],char:"🌡",fitzpatrick_scale:!1,category:"objects"},broom:{keywords:["cleaning","sweeping","witch"],char:"🧹",fitzpatrick_scale:!1,category:"objects"},basket:{keywords:["laundry"],char:"🧺",fitzpatrick_scale:!1,category:"objects"},toilet_paper:{keywords:["roll"],char:"🧻",fitzpatrick_scale:!1,category:"objects"},label:{keywords:["sale","tag"],char:"🏷",fitzpatrick_scale:!1,category:"objects"},bookmark:{keywords:["favorite","label","save"],char:"🔖",fitzpatrick_scale:!1,category:"objects"},toilet:{keywords:["restroom","wc","washroom","bathroom","potty"],char:"🚽",fitzpatrick_scale:!1,category:"objects"},shower:{keywords:["clean","water","bathroom"],char:"🚿",fitzpatrick_scale:!1,category:"objects"},bathtub:{keywords:["clean","shower","bathroom"],char:"🛁",fitzpatrick_scale:!1,category:"objects"},soap:{keywords:["bar","bathing","cleaning","lather"],char:"🧼",fitzpatrick_scale:!1,category:"objects"},sponge:{keywords:["absorbing","cleaning","porous"],char:"🧽",fitzpatrick_scale:!1,category:"objects"},lotion_bottle:{keywords:["moisturizer","sunscreen"],char:"🧴",fitzpatrick_scale:!1,category:"objects"},key:{keywords:["lock","door","password"],char:"🔑",fitzpatrick_scale:!1,category:"objects"},old_key:{keywords:["lock","door","password"],char:"🗝",fitzpatrick_scale:!1,category:"objects"},couch_and_lamp:{keywords:["read","chill"],char:"🛋",fitzpatrick_scale:!1,category:"objects"},sleeping_bed:{keywords:["bed","rest"],char:"🛌",fitzpatrick_scale:!0,category:"objects"},bed:{keywords:["sleep","rest"],char:"🛏",fitzpatrick_scale:!1,category:"objects"},door:{keywords:["house","entry","exit"],char:"🚪",fitzpatrick_scale:!1,category:"objects"},bellhop_bell:{keywords:["service"],char:"🛎",fitzpatrick_scale:!1,category:"objects"},teddy_bear:{keywords:["plush","stuffed"],char:"🧸",fitzpatrick_scale:!1,category:"objects"},framed_picture:{keywords:["photography"],char:"🖼",fitzpatrick_scale:!1,category:"objects"},world_map:{keywords:["location","direction"],char:"🗺",fitzpatrick_scale:!1,category:"objects"},parasol_on_ground:{keywords:["weather","summer"],char:"⛱",fitzpatrick_scale:!1,category:"objects"},moyai:{keywords:["rock","easter island","moai"],char:"🗿",fitzpatrick_scale:!1,category:"objects"},shopping:{keywords:["mall","buy","purchase"],char:"🛍",fitzpatrick_scale:!1,category:"objects"},shopping_cart:{keywords:["trolley"],char:"🛒",fitzpatrick_scale:!1,category:"objects"},balloon:{keywords:["party","celebration","birthday","circus"],char:"🎈",fitzpatrick_scale:!1,category:"objects"},flags:{keywords:["fish","japanese","koinobori","carp","banner"],char:"🎏",fitzpatrick_scale:!1,category:"objects"},ribbon:{keywords:["decoration","pink","girl","bowtie"],char:"🎀",fitzpatrick_scale:!1,category:"objects"},gift:{keywords:["present","birthday","christmas","xmas"],char:"🎁",fitzpatrick_scale:!1,category:"objects"},confetti_ball:{keywords:["festival","party","birthday","circus"],char:"🎊",fitzpatrick_scale:!1,category:"objects"},tada:{keywords:["party","congratulations","birthday","magic","circus","celebration"],char:"🎉",fitzpatrick_scale:!1,category:"objects"},dolls:{keywords:["japanese","toy","kimono"],char:"🎎",fitzpatrick_scale:!1,category:"objects"},wind_chime:{keywords:["nature","ding","spring","bell"],char:"🎐",fitzpatrick_scale:!1,category:"objects"},crossed_flags:{keywords:["japanese","nation","country","border"],char:"🎌",fitzpatrick_scale:!1,category:"objects"},izakaya_lantern:{keywords:["light","paper","halloween","spooky"],char:"🏮",fitzpatrick_scale:!1,category:"objects"},red_envelope:{keywords:["gift"],char:"🧧",fitzpatrick_scale:!1,category:"objects"},email:{keywords:["letter","postal","inbox","communication"],char:"✉️",fitzpatrick_scale:!1,category:"objects"},envelope_with_arrow:{keywords:["email","communication"],char:"📩",fitzpatrick_scale:!1,category:"objects"},incoming_envelope:{keywords:["email","inbox"],char:"📨",fitzpatrick_scale:!1,category:"objects"},"e-mail":{keywords:["communication","inbox"],char:"📧",fitzpatrick_scale:!1,category:"objects"},love_letter:{keywords:["email","like","affection","envelope","valentines"],char:"💌",fitzpatrick_scale:!1,category:"objects"},postbox:{keywords:["email","letter","envelope"],char:"📮",fitzpatrick_scale:!1,category:"objects"},mailbox_closed:{keywords:["email","communication","inbox"],char:"📪",fitzpatrick_scale:!1,category:"objects"},mailbox:{keywords:["email","inbox","communication"],char:"📫",fitzpatrick_scale:!1,category:"objects"},mailbox_with_mail:{keywords:["email","inbox","communication"],char:"📬",fitzpatrick_scale:!1,category:"objects"},mailbox_with_no_mail:{keywords:["email","inbox"],char:"📭",fitzpatrick_scale:!1,category:"objects"},package:{keywords:["mail","gift","cardboard","box","moving"],char:"📦",fitzpatrick_scale:!1,category:"objects"},postal_horn:{keywords:["instrument","music"],char:"📯",fitzpatrick_scale:!1,category:"objects"},inbox_tray:{keywords:["email","documents"],char:"📥",fitzpatrick_scale:!1,category:"objects"},outbox_tray:{keywords:["inbox","email"],char:"📤",fitzpatrick_scale:!1,category:"objects"},scroll:{keywords:["documents","ancient","history","paper"],char:"📜",fitzpatrick_scale:!1,category:"objects"},page_with_curl:{keywords:["documents","office","paper"],char:"📃",fitzpatrick_scale:!1,category:"objects"},bookmark_tabs:{keywords:["favorite","save","order","tidy"],char:"📑",fitzpatrick_scale:!1,category:"objects"},receipt:{keywords:["accounting","expenses"],char:"🧾",fitzpatrick_scale:!1,category:"objects"},bar_chart:{keywords:["graph","presentation","stats"],char:"📊",fitzpatrick_scale:!1,category:"objects"},chart_with_upwards_trend:{keywords:["graph","presentation","stats","recovery","business","economics","money","sales","good","success"],char:"📈",fitzpatrick_scale:!1,category:"objects"},chart_with_downwards_trend:{keywords:["graph","presentation","stats","recession","business","economics","money","sales","bad","failure"],char:"📉",fitzpatrick_scale:!1,category:"objects"},page_facing_up:{keywords:["documents","office","paper","information"],char:"📄",fitzpatrick_scale:!1,category:"objects"},date:{keywords:["calendar","schedule"],char:"📅",fitzpatrick_scale:!1,category:"objects"},calendar:{keywords:["schedule","date","planning"],char:"📆",fitzpatrick_scale:!1,category:"objects"},spiral_calendar:{keywords:["date","schedule","planning"],char:"🗓",fitzpatrick_scale:!1,category:"objects"},card_index:{keywords:["business","stationery"],char:"📇",fitzpatrick_scale:!1,category:"objects"},card_file_box:{keywords:["business","stationery"],char:"🗃",fitzpatrick_scale:!1,category:"objects"},ballot_box:{keywords:["election","vote"],char:"🗳",fitzpatrick_scale:!1,category:"objects"},file_cabinet:{keywords:["filing","organizing"],char:"🗄",fitzpatrick_scale:!1,category:"objects"},clipboard:{keywords:["stationery","documents"],char:"📋",fitzpatrick_scale:!1,category:"objects"},spiral_notepad:{keywords:["memo","stationery"],char:"🗒",fitzpatrick_scale:!1,category:"objects"},file_folder:{keywords:["documents","business","office"],char:"📁",fitzpatrick_scale:!1,category:"objects"},open_file_folder:{keywords:["documents","load"],char:"📂",fitzpatrick_scale:!1,category:"objects"},card_index_dividers:{keywords:["organizing","business","stationery"],char:"🗂",fitzpatrick_scale:!1,category:"objects"},newspaper_roll:{keywords:["press","headline"],char:"🗞",fitzpatrick_scale:!1,category:"objects"},newspaper:{keywords:["press","headline"],char:"📰",fitzpatrick_scale:!1,category:"objects"},notebook:{keywords:["stationery","record","notes","paper","study"],char:"📓",fitzpatrick_scale:!1,category:"objects"},closed_book:{keywords:["read","library","knowledge","textbook","learn"],char:"📕",fitzpatrick_scale:!1,category:"objects"},green_book:{keywords:["read","library","knowledge","study"],char:"📗",fitzpatrick_scale:!1,category:"objects"},blue_book:{keywords:["read","library","knowledge","learn","study"],char:"📘",fitzpatrick_scale:!1,category:"objects"},orange_book:{keywords:["read","library","knowledge","textbook","study"],char:"📙",fitzpatrick_scale:!1,category:"objects"},notebook_with_decorative_cover:{keywords:["classroom","notes","record","paper","study"],char:"📔",fitzpatrick_scale:!1,category:"objects"},ledger:{keywords:["notes","paper"],char:"📒",fitzpatrick_scale:!1,category:"objects"},books:{keywords:["literature","library","study"],char:"📚",fitzpatrick_scale:!1,category:"objects"},open_book:{keywords:["book","read","library","knowledge","literature","learn","study"],char:"📖",fitzpatrick_scale:!1,category:"objects"},safety_pin:{keywords:["diaper"],char:"🧷",fitzpatrick_scale:!1,category:"objects"},link:{keywords:["rings","url"],char:"🔗",fitzpatrick_scale:!1,category:"objects"},paperclip:{keywords:["documents","stationery"],char:"📎",fitzpatrick_scale:!1,category:"objects"},paperclips:{keywords:["documents","stationery"],char:"🖇",fitzpatrick_scale:!1,category:"objects"},scissors:{keywords:["stationery","cut"],char:"✂️",fitzpatrick_scale:!1,category:"objects"},triangular_ruler:{keywords:["stationery","math","architect","sketch"],char:"📐",fitzpatrick_scale:!1,category:"objects"},straight_ruler:{keywords:["stationery","calculate","length","math","school","drawing","architect","sketch"],char:"📏",fitzpatrick_scale:!1,category:"objects"},abacus:{keywords:["calculation"],char:"🧮",fitzpatrick_scale:!1,category:"objects"},pushpin:{keywords:["stationery","mark","here"],char:"📌",fitzpatrick_scale:!1,category:"objects"},round_pushpin:{keywords:["stationery","location","map","here"],char:"📍",fitzpatrick_scale:!1,category:"objects"},triangular_flag_on_post:{keywords:["mark","milestone","place"],char:"🚩",fitzpatrick_scale:!1,category:"objects"},white_flag:{keywords:["losing","loser","lost","surrender","give up","fail"],char:"🏳",fitzpatrick_scale:!1,category:"objects"},black_flag:{keywords:["pirate"],char:"🏴",fitzpatrick_scale:!1,category:"objects"},rainbow_flag:{keywords:["flag","rainbow","pride","gay","lgbt","glbt","queer","homosexual","lesbian","bisexual","transgender"],char:"🏳️‍🌈",fitzpatrick_scale:!1,category:"objects"},closed_lock_with_key:{keywords:["security","privacy"],char:"🔐",fitzpatrick_scale:!1,category:"objects"},lock:{keywords:["security","password","padlock"],char:"🔒",fitzpatrick_scale:!1,category:"objects"},unlock:{keywords:["privacy","security"],char:"🔓",fitzpatrick_scale:!1,category:"objects"},lock_with_ink_pen:{keywords:["security","secret"],char:"🔏",fitzpatrick_scale:!1,category:"objects"},pen:{keywords:["stationery","writing","write"],char:"🖊",fitzpatrick_scale:!1,category:"objects"},fountain_pen:{keywords:["stationery","writing","write"],char:"🖋",fitzpatrick_scale:!1,category:"objects"},black_nib:{keywords:["pen","stationery","writing","write"],char:"✒️",fitzpatrick_scale:!1,category:"objects"},memo:{keywords:["write","documents","stationery","pencil","paper","writing","legal","exam","quiz","test","study","compose"],char:"📝",fitzpatrick_scale:!1,category:"objects"},pencil2:{keywords:["stationery","write","paper","writing","school","study"],char:"✏️",fitzpatrick_scale:!1,category:"objects"},crayon:{keywords:["drawing","creativity"],char:"🖍",fitzpatrick_scale:!1,category:"objects"},paintbrush:{keywords:["drawing","creativity","art"],char:"🖌",fitzpatrick_scale:!1,category:"objects"},mag:{keywords:["search","zoom","find","detective"],char:"🔍",fitzpatrick_scale:!1,category:"objects"},mag_right:{keywords:["search","zoom","find","detective"],char:"🔎",fitzpatrick_scale:!1,category:"objects"},heart:{keywords:["love","like","valentines"],char:"❤️",fitzpatrick_scale:!1,category:"symbols"},orange_heart:{keywords:["love","like","affection","valentines"],char:"🧡",fitzpatrick_scale:!1,category:"symbols"},yellow_heart:{keywords:["love","like","affection","valentines"],char:"💛",fitzpatrick_scale:!1,category:"symbols"},green_heart:{keywords:["love","like","affection","valentines"],char:"💚",fitzpatrick_scale:!1,category:"symbols"},blue_heart:{keywords:["love","like","affection","valentines"],char:"💙",fitzpatrick_scale:!1,category:"symbols"},purple_heart:{keywords:["love","like","affection","valentines"],char:"💜",fitzpatrick_scale:!1,category:"symbols"},black_heart:{keywords:["evil"],char:"🖤",fitzpatrick_scale:!1,category:"symbols"},broken_heart:{keywords:["sad","sorry","break","heart","heartbreak"],char:"💔",fitzpatrick_scale:!1,category:"symbols"},heavy_heart_exclamation:{keywords:["decoration","love"],char:"❣",fitzpatrick_scale:!1,category:"symbols"},two_hearts:{keywords:["love","like","affection","valentines","heart"],char:"💕",fitzpatrick_scale:!1,category:"symbols"},revolving_hearts:{keywords:["love","like","affection","valentines"],char:"💞",fitzpatrick_scale:!1,category:"symbols"},heartbeat:{keywords:["love","like","affection","valentines","pink","heart"],char:"💓",fitzpatrick_scale:!1,category:"symbols"},heartpulse:{keywords:["like","love","affection","valentines","pink"],char:"💗",fitzpatrick_scale:!1,category:"symbols"},sparkling_heart:{keywords:["love","like","affection","valentines"],char:"💖",fitzpatrick_scale:!1,category:"symbols"},cupid:{keywords:["love","like","heart","affection","valentines"],char:"💘",fitzpatrick_scale:!1,category:"symbols"},gift_heart:{keywords:["love","valentines"],char:"💝",fitzpatrick_scale:!1,category:"symbols"},heart_decoration:{keywords:["purple-square","love","like"],char:"💟",fitzpatrick_scale:!1,category:"symbols"},peace_symbol:{keywords:["hippie"],char:"☮",fitzpatrick_scale:!1,category:"symbols"},latin_cross:{keywords:["christianity"],char:"✝",fitzpatrick_scale:!1,category:"symbols"},star_and_crescent:{keywords:["islam"],char:"☪",fitzpatrick_scale:!1,category:"symbols"},om:{keywords:["hinduism","buddhism","sikhism","jainism"],char:"🕉",fitzpatrick_scale:!1,category:"symbols"},wheel_of_dharma:{keywords:["hinduism","buddhism","sikhism","jainism"],char:"☸",fitzpatrick_scale:!1,category:"symbols"},star_of_david:{keywords:["judaism"],char:"✡",fitzpatrick_scale:!1,category:"symbols"},six_pointed_star:{keywords:["purple-square","religion","jewish","hexagram"],char:"🔯",fitzpatrick_scale:!1,category:"symbols"},menorah:{keywords:["hanukkah","candles","jewish"],char:"🕎",fitzpatrick_scale:!1,category:"symbols"},yin_yang:{keywords:["balance"],char:"☯",fitzpatrick_scale:!1,category:"symbols"},orthodox_cross:{keywords:["suppedaneum","religion"],char:"☦",fitzpatrick_scale:!1,category:"symbols"},place_of_worship:{keywords:["religion","church","temple","prayer"],char:"🛐",fitzpatrick_scale:!1,category:"symbols"},ophiuchus:{keywords:["sign","purple-square","constellation","astrology"],char:"⛎",fitzpatrick_scale:!1,category:"symbols"},aries:{keywords:["sign","purple-square","zodiac","astrology"],char:"♈",fitzpatrick_scale:!1,category:"symbols"},taurus:{keywords:["purple-square","sign","zodiac","astrology"],char:"♉",fitzpatrick_scale:!1,category:"symbols"},gemini:{keywords:["sign","zodiac","purple-square","astrology"],char:"♊",fitzpatrick_scale:!1,category:"symbols"},cancer:{keywords:["sign","zodiac","purple-square","astrology"],char:"♋",fitzpatrick_scale:!1,category:"symbols"},leo:{keywords:["sign","purple-square","zodiac","astrology"],char:"♌",fitzpatrick_scale:!1,category:"symbols"},virgo:{keywords:["sign","zodiac","purple-square","astrology"],char:"♍",fitzpatrick_scale:!1,category:"symbols"},libra:{keywords:["sign","purple-square","zodiac","astrology"],char:"♎",fitzpatrick_scale:!1,category:"symbols"},scorpius:{keywords:["sign","zodiac","purple-square","astrology","scorpio"],char:"♏",fitzpatrick_scale:!1,category:"symbols"},sagittarius:{keywords:["sign","zodiac","purple-square","astrology"],char:"♐",fitzpatrick_scale:!1,category:"symbols"},capricorn:{keywords:["sign","zodiac","purple-square","astrology"],char:"♑",fitzpatrick_scale:!1,category:"symbols"},aquarius:{keywords:["sign","purple-square","zodiac","astrology"],char:"♒",fitzpatrick_scale:!1,category:"symbols"},pisces:{keywords:["purple-square","sign","zodiac","astrology"],char:"♓",fitzpatrick_scale:!1,category:"symbols"},id:{keywords:["purple-square","words"],char:"🆔",fitzpatrick_scale:!1,category:"symbols"},atom_symbol:{keywords:["science","physics","chemistry"],char:"⚛",fitzpatrick_scale:!1,category:"symbols"},u7a7a:{keywords:["kanji","japanese","chinese","empty","sky","blue-square"],char:"🈳",fitzpatrick_scale:!1,category:"symbols"},u5272:{keywords:["cut","divide","chinese","kanji","pink-square"],char:"🈹",fitzpatrick_scale:!1,category:"symbols"},radioactive:{keywords:["nuclear","danger"],char:"☢",fitzpatrick_scale:!1,category:"symbols"},biohazard:{keywords:["danger"],char:"☣",fitzpatrick_scale:!1,category:"symbols"},mobile_phone_off:{keywords:["mute","orange-square","silence","quiet"],char:"📴",fitzpatrick_scale:!1,category:"symbols"},vibration_mode:{keywords:["orange-square","phone"],char:"📳",fitzpatrick_scale:!1,category:"symbols"},u6709:{keywords:["orange-square","chinese","have","kanji"],char:"🈶",fitzpatrick_scale:!1,category:"symbols"},u7121:{keywords:["nothing","chinese","kanji","japanese","orange-square"],char:"🈚",fitzpatrick_scale:!1,category:"symbols"},u7533:{keywords:["chinese","japanese","kanji","orange-square"],char:"🈸",fitzpatrick_scale:!1,category:"symbols"},u55b6:{keywords:["japanese","opening hours","orange-square"],char:"🈺",fitzpatrick_scale:!1,category:"symbols"},u6708:{keywords:["chinese","month","moon","japanese","orange-square","kanji"],char:"🈷️",fitzpatrick_scale:!1,category:"symbols"},eight_pointed_black_star:{keywords:["orange-square","shape","polygon"],char:"✴️",fitzpatrick_scale:!1,category:"symbols"},vs:{keywords:["words","orange-square"],char:"🆚",fitzpatrick_scale:!1,category:"symbols"},accept:{keywords:["ok","good","chinese","kanji","agree","yes","orange-circle"],char:"🉑",fitzpatrick_scale:!1,category:"symbols"},white_flower:{keywords:["japanese","spring"],char:"💮",fitzpatrick_scale:!1,category:"symbols"},ideograph_advantage:{keywords:["chinese","kanji","obtain","get","circle"],char:"🉐",fitzpatrick_scale:!1,category:"symbols"},secret:{keywords:["privacy","chinese","sshh","kanji","red-circle"],char:"㊙️",fitzpatrick_scale:!1,category:"symbols"},congratulations:{keywords:["chinese","kanji","japanese","red-circle"],char:"㊗️",fitzpatrick_scale:!1,category:"symbols"},u5408:{keywords:["japanese","chinese","join","kanji","red-square"],char:"🈴",fitzpatrick_scale:!1,category:"symbols"},u6e80:{keywords:["full","chinese","japanese","red-square","kanji"],char:"🈵",fitzpatrick_scale:!1,category:"symbols"},u7981:{keywords:["kanji","japanese","chinese","forbidden","limit","restricted","red-square"],char:"🈲",fitzpatrick_scale:!1,category:"symbols"},a:{keywords:["red-square","alphabet","letter"],char:"🅰️",fitzpatrick_scale:!1,category:"symbols"},b:{keywords:["red-square","alphabet","letter"],char:"🅱️",fitzpatrick_scale:!1,category:"symbols"},ab:{keywords:["red-square","alphabet"],char:"🆎",fitzpatrick_scale:!1,category:"symbols"},cl:{keywords:["alphabet","words","red-square"],char:"🆑",fitzpatrick_scale:!1,category:"symbols"},o2:{keywords:["alphabet","red-square","letter"],char:"🅾️",fitzpatrick_scale:!1,category:"symbols"},sos:{keywords:["help","red-square","words","emergency","911"],char:"🆘",fitzpatrick_scale:!1,category:"symbols"},no_entry:{keywords:["limit","security","privacy","bad","denied","stop","circle"],char:"⛔",fitzpatrick_scale:!1,category:"symbols"},name_badge:{keywords:["fire","forbid"],char:"📛",fitzpatrick_scale:!1,category:"symbols"},no_entry_sign:{keywords:["forbid","stop","limit","denied","disallow","circle"],char:"🚫",fitzpatrick_scale:!1,category:"symbols"},x:{keywords:["no","delete","remove","cancel","red"],char:"❌",fitzpatrick_scale:!1,category:"symbols"},o:{keywords:["circle","round"],char:"⭕",fitzpatrick_scale:!1,category:"symbols"},stop_sign:{keywords:["stop"],char:"🛑",fitzpatrick_scale:!1,category:"symbols"},anger:{keywords:["angry","mad"],char:"💢",fitzpatrick_scale:!1,category:"symbols"},hotsprings:{keywords:["bath","warm","relax"],char:"♨️",fitzpatrick_scale:!1,category:"symbols"},no_pedestrians:{keywords:["rules","crossing","walking","circle"],char:"🚷",fitzpatrick_scale:!1,category:"symbols"},do_not_litter:{keywords:["trash","bin","garbage","circle"],char:"🚯",fitzpatrick_scale:!1,category:"symbols"},no_bicycles:{keywords:["cyclist","prohibited","circle"],char:"🚳",fitzpatrick_scale:!1,category:"symbols"},"non-potable_water":{keywords:["drink","faucet","tap","circle"],char:"🚱",fitzpatrick_scale:!1,category:"symbols"},underage:{keywords:["18","drink","pub","night","minor","circle"],char:"🔞",fitzpatrick_scale:!1,category:"symbols"},no_mobile_phones:{keywords:["iphone","mute","circle"],char:"📵",fitzpatrick_scale:!1,category:"symbols"},exclamation:{keywords:["heavy_exclamation_mark","danger","surprise","punctuation","wow","warning"],char:"❗",fitzpatrick_scale:!1,category:"symbols"},grey_exclamation:{keywords:["surprise","punctuation","gray","wow","warning"],char:"❕",fitzpatrick_scale:!1,category:"symbols"},question:{keywords:["doubt","confused"],char:"❓",fitzpatrick_scale:!1,category:"symbols"},grey_question:{keywords:["doubts","gray","huh","confused"],char:"❔",fitzpatrick_scale:!1,category:"symbols"},bangbang:{keywords:["exclamation","surprise"],char:"‼️",fitzpatrick_scale:!1,category:"symbols"},interrobang:{keywords:["wat","punctuation","surprise"],char:"⁉️",fitzpatrick_scale:!1,category:"symbols"},100:{keywords:["score","perfect","numbers","century","exam","quiz","test","pass","hundred"],char:"💯",fitzpatrick_scale:!1,category:"symbols"},low_brightness:{keywords:["sun","afternoon","warm","summer"],char:"🔅",fitzpatrick_scale:!1,category:"symbols"},high_brightness:{keywords:["sun","light"],char:"🔆",fitzpatrick_scale:!1,category:"symbols"},trident:{keywords:["weapon","spear"],char:"🔱",fitzpatrick_scale:!1,category:"symbols"},fleur_de_lis:{keywords:["decorative","scout"],char:"⚜",fitzpatrick_scale:!1,category:"symbols"},part_alternation_mark:{keywords:["graph","presentation","stats","business","economics","bad"],char:"〽️",fitzpatrick_scale:!1,category:"symbols"},warning:{keywords:["exclamation","wip","alert","error","problem","issue"],char:"⚠️",fitzpatrick_scale:!1,category:"symbols"},children_crossing:{keywords:["school","warning","danger","sign","driving","yellow-diamond"],char:"🚸",fitzpatrick_scale:!1,category:"symbols"},beginner:{keywords:["badge","shield"],char:"🔰",fitzpatrick_scale:!1,category:"symbols"},recycle:{keywords:["arrow","environment","garbage","trash"],char:"♻️",fitzpatrick_scale:!1,category:"symbols"},u6307:{keywords:["chinese","point","green-square","kanji"],char:"🈯",fitzpatrick_scale:!1,category:"symbols"},chart:{keywords:["green-square","graph","presentation","stats"],char:"💹",fitzpatrick_scale:!1,category:"symbols"},sparkle:{keywords:["stars","green-square","awesome","good","fireworks"],char:"❇️",fitzpatrick_scale:!1,category:"symbols"},eight_spoked_asterisk:{keywords:["star","sparkle","green-square"],char:"✳️",fitzpatrick_scale:!1,category:"symbols"},negative_squared_cross_mark:{keywords:["x","green-square","no","deny"],char:"❎",fitzpatrick_scale:!1,category:"symbols"},white_check_mark:{keywords:["green-square","ok","agree","vote","election","answer","tick"],char:"✅",fitzpatrick_scale:!1,category:"symbols"},diamond_shape_with_a_dot_inside:{keywords:["jewel","blue","gem","crystal","fancy"],char:"💠",fitzpatrick_scale:!1,category:"symbols"},cyclone:{keywords:["weather","swirl","blue","cloud","vortex","spiral","whirlpool","spin","tornado","hurricane","typhoon"],char:"🌀",fitzpatrick_scale:!1,category:"symbols"},loop:{keywords:["tape","cassette"],char:"➿",fitzpatrick_scale:!1,category:"symbols"},globe_with_meridians:{keywords:["earth","international","world","internet","interweb","i18n"],char:"🌐",fitzpatrick_scale:!1,category:"symbols"},m:{keywords:["alphabet","blue-circle","letter"],char:"Ⓜ️",fitzpatrick_scale:!1,category:"symbols"},atm:{keywords:["money","sales","cash","blue-square","payment","bank"],char:"🏧",fitzpatrick_scale:!1,category:"symbols"},sa:{keywords:["japanese","blue-square","katakana"],char:"🈂️",fitzpatrick_scale:!1,category:"symbols"},passport_control:{keywords:["custom","blue-square"],char:"🛂",fitzpatrick_scale:!1,category:"symbols"},customs:{keywords:["passport","border","blue-square"],char:"🛃",fitzpatrick_scale:!1,category:"symbols"},baggage_claim:{keywords:["blue-square","airport","transport"],char:"🛄",fitzpatrick_scale:!1,category:"symbols"},left_luggage:{keywords:["blue-square","travel"],char:"🛅",fitzpatrick_scale:!1,category:"symbols"},wheelchair:{keywords:["blue-square","disabled","a11y","accessibility"],char:"♿",fitzpatrick_scale:!1,category:"symbols"},no_smoking:{keywords:["cigarette","blue-square","smell","smoke"],char:"🚭",fitzpatrick_scale:!1,category:"symbols"},wc:{keywords:["toilet","restroom","blue-square"],char:"🚾",fitzpatrick_scale:!1,category:"symbols"},parking:{keywords:["cars","blue-square","alphabet","letter"],char:"🅿️",fitzpatrick_scale:!1,category:"symbols"},potable_water:{keywords:["blue-square","liquid","restroom","cleaning","faucet"],char:"🚰",fitzpatrick_scale:!1,category:"symbols"},mens:{keywords:["toilet","restroom","wc","blue-square","gender","male"],char:"🚹",fitzpatrick_scale:!1,category:"symbols"},womens:{keywords:["purple-square","woman","female","toilet","loo","restroom","gender"],char:"🚺",fitzpatrick_scale:!1,category:"symbols"},baby_symbol:{keywords:["orange-square","child"],char:"🚼",fitzpatrick_scale:!1,category:"symbols"},restroom:{keywords:["blue-square","toilet","refresh","wc","gender"],char:"🚻",fitzpatrick_scale:!1,category:"symbols"},put_litter_in_its_place:{keywords:["blue-square","sign","human","info"],char:"🚮",fitzpatrick_scale:!1,category:"symbols"},cinema:{keywords:["blue-square","record","film","movie","curtain","stage","theater"],char:"🎦",fitzpatrick_scale:!1,category:"symbols"},signal_strength:{keywords:["blue-square","reception","phone","internet","connection","wifi","bluetooth","bars"],char:"📶",fitzpatrick_scale:!1,category:"symbols"},koko:{keywords:["blue-square","here","katakana","japanese","destination"],char:"🈁",fitzpatrick_scale:!1,category:"symbols"},ng:{keywords:["blue-square","words","shape","icon"],char:"🆖",fitzpatrick_scale:!1,category:"symbols"},ok:{keywords:["good","agree","yes","blue-square"],char:"🆗",fitzpatrick_scale:!1,category:"symbols"},up:{keywords:["blue-square","above","high"],char:"🆙",fitzpatrick_scale:!1,category:"symbols"},cool:{keywords:["words","blue-square"],char:"🆒",fitzpatrick_scale:!1,category:"symbols"},new:{keywords:["blue-square","words","start"],char:"🆕",fitzpatrick_scale:!1,category:"symbols"},free:{keywords:["blue-square","words"],char:"🆓",fitzpatrick_scale:!1,category:"symbols"},zero:{keywords:["0","numbers","blue-square","null"],char:"0️⃣",fitzpatrick_scale:!1,category:"symbols"},one:{keywords:["blue-square","numbers","1"],char:"1️⃣",fitzpatrick_scale:!1,category:"symbols"},two:{keywords:["numbers","2","prime","blue-square"],char:"2️⃣",fitzpatrick_scale:!1,category:"symbols"},three:{keywords:["3","numbers","prime","blue-square"],char:"3️⃣",fitzpatrick_scale:!1,category:"symbols"},four:{keywords:["4","numbers","blue-square"],char:"4️⃣",fitzpatrick_scale:!1,category:"symbols"},five:{keywords:["5","numbers","blue-square","prime"],char:"5️⃣",fitzpatrick_scale:!1,category:"symbols"},six:{keywords:["6","numbers","blue-square"],char:"6️⃣",fitzpatrick_scale:!1,category:"symbols"},seven:{keywords:["7","numbers","blue-square","prime"],char:"7️⃣",fitzpatrick_scale:!1,category:"symbols"},eight:{keywords:["8","blue-square","numbers"],char:"8️⃣",fitzpatrick_scale:!1,category:"symbols"},nine:{keywords:["blue-square","numbers","9"],char:"9️⃣",fitzpatrick_scale:!1,category:"symbols"},keycap_ten:{keywords:["numbers","10","blue-square"],char:"🔟",fitzpatrick_scale:!1,category:"symbols"},asterisk:{keywords:["star","keycap"],char:"*⃣",fitzpatrick_scale:!1,category:"symbols"},1234:{keywords:["numbers","blue-square"],char:"🔢",fitzpatrick_scale:!1,category:"symbols"},eject_button:{keywords:["blue-square"],char:"⏏️",fitzpatrick_scale:!1,category:"symbols"},arrow_forward:{keywords:["blue-square","right","direction","play"],char:"▶️",fitzpatrick_scale:!1,category:"symbols"},pause_button:{keywords:["pause","blue-square"],char:"⏸",fitzpatrick_scale:!1,category:"symbols"},next_track_button:{keywords:["forward","next","blue-square"],char:"⏭",fitzpatrick_scale:!1,category:"symbols"},stop_button:{keywords:["blue-square"],char:"⏹",fitzpatrick_scale:!1,category:"symbols"},record_button:{keywords:["blue-square"],char:"⏺",fitzpatrick_scale:!1,category:"symbols"},play_or_pause_button:{keywords:["blue-square","play","pause"],char:"⏯",fitzpatrick_scale:!1,category:"symbols"},previous_track_button:{keywords:["backward"],char:"⏮",fitzpatrick_scale:!1,category:"symbols"},fast_forward:{keywords:["blue-square","play","speed","continue"],char:"⏩",fitzpatrick_scale:!1,category:"symbols"},rewind:{keywords:["play","blue-square"],char:"⏪",fitzpatrick_scale:!1,category:"symbols"},twisted_rightwards_arrows:{keywords:["blue-square","shuffle","music","random"],char:"🔀",fitzpatrick_scale:!1,category:"symbols"},repeat:{keywords:["loop","record"],char:"🔁",fitzpatrick_scale:!1,category:"symbols"},repeat_one:{keywords:["blue-square","loop"],char:"🔂",fitzpatrick_scale:!1,category:"symbols"},arrow_backward:{keywords:["blue-square","left","direction"],char:"◀️",fitzpatrick_scale:!1,category:"symbols"},arrow_up_small:{keywords:["blue-square","triangle","direction","point","forward","top"],char:"🔼",fitzpatrick_scale:!1,category:"symbols"},arrow_down_small:{keywords:["blue-square","direction","bottom"],char:"🔽",fitzpatrick_scale:!1,category:"symbols"},arrow_double_up:{keywords:["blue-square","direction","top"],char:"⏫",fitzpatrick_scale:!1,category:"symbols"},arrow_double_down:{keywords:["blue-square","direction","bottom"],char:"⏬",fitzpatrick_scale:!1,category:"symbols"},arrow_right:{keywords:["blue-square","next"],char:"➡️",fitzpatrick_scale:!1,category:"symbols"},arrow_left:{keywords:["blue-square","previous","back"],char:"⬅️",fitzpatrick_scale:!1,category:"symbols"},arrow_up:{keywords:["blue-square","continue","top","direction"],char:"⬆️",fitzpatrick_scale:!1,category:"symbols"},arrow_down:{keywords:["blue-square","direction","bottom"],char:"⬇️",fitzpatrick_scale:!1,category:"symbols"},arrow_upper_right:{keywords:["blue-square","point","direction","diagonal","northeast"],char:"↗️",fitzpatrick_scale:!1,category:"symbols"},arrow_lower_right:{keywords:["blue-square","direction","diagonal","southeast"],char:"↘️",fitzpatrick_scale:!1,category:"symbols"},arrow_lower_left:{keywords:["blue-square","direction","diagonal","southwest"],char:"↙️",fitzpatrick_scale:!1,category:"symbols"},arrow_upper_left:{keywords:["blue-square","point","direction","diagonal","northwest"],char:"↖️",fitzpatrick_scale:!1,category:"symbols"},arrow_up_down:{keywords:["blue-square","direction","way","vertical"],char:"↕️",fitzpatrick_scale:!1,category:"symbols"},left_right_arrow:{keywords:["shape","direction","horizontal","sideways"],char:"↔️",fitzpatrick_scale:!1,category:"symbols"},arrows_counterclockwise:{keywords:["blue-square","sync","cycle"],char:"🔄",fitzpatrick_scale:!1,category:"symbols"},arrow_right_hook:{keywords:["blue-square","return","rotate","direction"],char:"↪️",fitzpatrick_scale:!1,category:"symbols"},leftwards_arrow_with_hook:{keywords:["back","return","blue-square","undo","enter"],char:"↩️",fitzpatrick_scale:!1,category:"symbols"},arrow_heading_up:{keywords:["blue-square","direction","top"],char:"⤴️",fitzpatrick_scale:!1,category:"symbols"},arrow_heading_down:{keywords:["blue-square","direction","bottom"],char:"⤵️",fitzpatrick_scale:!1,category:"symbols"},hash:{keywords:["symbol","blue-square","twitter"],char:"#️⃣",fitzpatrick_scale:!1,category:"symbols"},information_source:{keywords:["blue-square","alphabet","letter"],char:"ℹ️",fitzpatrick_scale:!1,category:"symbols"},abc:{keywords:["blue-square","alphabet"],char:"🔤",fitzpatrick_scale:!1,category:"symbols"},abcd:{keywords:["blue-square","alphabet"],char:"🔡",fitzpatrick_scale:!1,category:"symbols"},capital_abcd:{keywords:["alphabet","words","blue-square"],char:"🔠",fitzpatrick_scale:!1,category:"symbols"},symbols:{keywords:["blue-square","music","note","ampersand","percent","glyphs","characters"],char:"🔣",fitzpatrick_scale:!1,category:"symbols"},musical_note:{keywords:["score","tone","sound"],char:"🎵",fitzpatrick_scale:!1,category:"symbols"},notes:{keywords:["music","score"],char:"🎶",fitzpatrick_scale:!1,category:"symbols"},wavy_dash:{keywords:["draw","line","moustache","mustache","squiggle","scribble"],char:"〰️",fitzpatrick_scale:!1,category:"symbols"},curly_loop:{keywords:["scribble","draw","shape","squiggle"],char:"➰",fitzpatrick_scale:!1,category:"symbols"},heavy_check_mark:{keywords:["ok","nike","answer","yes","tick"],char:"✔️",fitzpatrick_scale:!1,category:"symbols"},arrows_clockwise:{keywords:["sync","cycle","round","repeat"],char:"🔃",fitzpatrick_scale:!1,category:"symbols"},heavy_plus_sign:{keywords:["math","calculation","addition","more","increase"],char:"➕",fitzpatrick_scale:!1,category:"symbols"},heavy_minus_sign:{keywords:["math","calculation","subtract","less"],char:"➖",fitzpatrick_scale:!1,category:"symbols"},heavy_division_sign:{keywords:["divide","math","calculation"],char:"➗",fitzpatrick_scale:!1,category:"symbols"},heavy_multiplication_x:{keywords:["math","calculation"],char:"✖️",fitzpatrick_scale:!1,category:"symbols"},infinity:{keywords:["forever"],char:"♾",fitzpatrick_scale:!1,category:"symbols"},heavy_dollar_sign:{keywords:["money","sales","payment","currency","buck"],char:"💲",fitzpatrick_scale:!1,category:"symbols"},currency_exchange:{keywords:["money","sales","dollar","travel"],char:"💱",fitzpatrick_scale:!1,category:"symbols"},copyright:{keywords:["ip","license","circle","law","legal"],char:"©️",fitzpatrick_scale:!1,category:"symbols"},registered:{keywords:["alphabet","circle"],char:"®️",fitzpatrick_scale:!1,category:"symbols"},tm:{keywords:["trademark","brand","law","legal"],char:"™️",fitzpatrick_scale:!1,category:"symbols"},end:{keywords:["words","arrow"],char:"🔚",fitzpatrick_scale:!1,category:"symbols"},back:{keywords:["arrow","words","return"],char:"🔙",fitzpatrick_scale:!1,category:"symbols"},on:{keywords:["arrow","words"],char:"🔛",fitzpatrick_scale:!1,category:"symbols"},top:{keywords:["words","blue-square"],char:"🔝",fitzpatrick_scale:!1,category:"symbols"},soon:{keywords:["arrow","words"],char:"🔜",fitzpatrick_scale:!1,category:"symbols"},ballot_box_with_check:{keywords:["ok","agree","confirm","black-square","vote","election","yes","tick"],char:"☑️",fitzpatrick_scale:!1,category:"symbols"},radio_button:{keywords:["input","old","music","circle"],char:"🔘",fitzpatrick_scale:!1,category:"symbols"},white_circle:{keywords:["shape","round"],char:"⚪",fitzpatrick_scale:!1,category:"symbols"},black_circle:{keywords:["shape","button","round"],char:"⚫",fitzpatrick_scale:!1,category:"symbols"},red_circle:{keywords:["shape","error","danger"],char:"🔴",fitzpatrick_scale:!1,category:"symbols"},large_blue_circle:{keywords:["shape","icon","button"],char:"🔵",fitzpatrick_scale:!1,category:"symbols"},small_orange_diamond:{keywords:["shape","jewel","gem"],char:"🔸",fitzpatrick_scale:!1,category:"symbols"},small_blue_diamond:{keywords:["shape","jewel","gem"],char:"🔹",fitzpatrick_scale:!1,category:"symbols"},large_orange_diamond:{keywords:["shape","jewel","gem"],char:"🔶",fitzpatrick_scale:!1,category:"symbols"},large_blue_diamond:{keywords:["shape","jewel","gem"],char:"🔷",fitzpatrick_scale:!1,category:"symbols"},small_red_triangle:{keywords:["shape","direction","up","top"],char:"🔺",fitzpatrick_scale:!1,category:"symbols"},black_small_square:{keywords:["shape","icon"],char:"▪️",fitzpatrick_scale:!1,category:"symbols"},white_small_square:{keywords:["shape","icon"],char:"▫️",fitzpatrick_scale:!1,category:"symbols"},black_large_square:{keywords:["shape","icon","button"],char:"⬛",fitzpatrick_scale:!1,category:"symbols"},white_large_square:{keywords:["shape","icon","stone","button"],char:"⬜",fitzpatrick_scale:!1,category:"symbols"},small_red_triangle_down:{keywords:["shape","direction","bottom"],char:"🔻",fitzpatrick_scale:!1,category:"symbols"},black_medium_square:{keywords:["shape","button","icon"],char:"◼️",fitzpatrick_scale:!1,category:"symbols"},white_medium_square:{keywords:["shape","stone","icon"],char:"◻️",fitzpatrick_scale:!1,category:"symbols"},black_medium_small_square:{keywords:["icon","shape","button"],char:"◾",fitzpatrick_scale:!1,category:"symbols"},white_medium_small_square:{keywords:["shape","stone","icon","button"],char:"◽",fitzpatrick_scale:!1,category:"symbols"},black_square_button:{keywords:["shape","input","frame"],char:"🔲",fitzpatrick_scale:!1,category:"symbols"},white_square_button:{keywords:["shape","input"],char:"🔳",fitzpatrick_scale:!1,category:"symbols"},speaker:{keywords:["sound","volume","silence","broadcast"],char:"🔈",fitzpatrick_scale:!1,category:"symbols"},sound:{keywords:["volume","speaker","broadcast"],char:"🔉",fitzpatrick_scale:!1,category:"symbols"},loud_sound:{keywords:["volume","noise","noisy","speaker","broadcast"],char:"🔊",fitzpatrick_scale:!1,category:"symbols"},mute:{keywords:["sound","volume","silence","quiet"],char:"🔇",fitzpatrick_scale:!1,category:"symbols"},mega:{keywords:["sound","speaker","volume"],char:"📣",fitzpatrick_scale:!1,category:"symbols"},loudspeaker:{keywords:["volume","sound"],char:"📢",fitzpatrick_scale:!1,category:"symbols"},bell:{keywords:["sound","notification","christmas","xmas","chime"],char:"🔔",fitzpatrick_scale:!1,category:"symbols"},no_bell:{keywords:["sound","volume","mute","quiet","silent"],char:"🔕",fitzpatrick_scale:!1,category:"symbols"},black_joker:{keywords:["poker","cards","game","play","magic"],char:"🃏",fitzpatrick_scale:!1,category:"symbols"},mahjong:{keywords:["game","play","chinese","kanji"],char:"🀄",fitzpatrick_scale:!1,category:"symbols"},spades:{keywords:["poker","cards","suits","magic"],char:"♠️",fitzpatrick_scale:!1,category:"symbols"},clubs:{keywords:["poker","cards","magic","suits"],char:"♣️",fitzpatrick_scale:!1,category:"symbols"},hearts:{keywords:["poker","cards","magic","suits"],char:"♥️",fitzpatrick_scale:!1,category:"symbols"},diamonds:{keywords:["poker","cards","magic","suits"],char:"♦️",fitzpatrick_scale:!1,category:"symbols"},flower_playing_cards:{keywords:["game","sunset","red"],char:"🎴",fitzpatrick_scale:!1,category:"symbols"},thought_balloon:{keywords:["bubble","cloud","speech","thinking","dream"],char:"💭",fitzpatrick_scale:!1,category:"symbols"},right_anger_bubble:{keywords:["caption","speech","thinking","mad"],char:"🗯",fitzpatrick_scale:!1,category:"symbols"},speech_balloon:{keywords:["bubble","words","message","talk","chatting"],char:"💬",fitzpatrick_scale:!1,category:"symbols"},left_speech_bubble:{keywords:["words","message","talk","chatting"],char:"🗨",fitzpatrick_scale:!1,category:"symbols"},clock1:{keywords:["time","late","early","schedule"],char:"🕐",fitzpatrick_scale:!1,category:"symbols"},clock2:{keywords:["time","late","early","schedule"],char:"🕑",fitzpatrick_scale:!1,category:"symbols"},clock3:{keywords:["time","late","early","schedule"],char:"🕒",fitzpatrick_scale:!1,category:"symbols"},clock4:{keywords:["time","late","early","schedule"],char:"🕓",fitzpatrick_scale:!1,category:"symbols"},clock5:{keywords:["time","late","early","schedule"],char:"🕔",fitzpatrick_scale:!1,category:"symbols"},clock6:{keywords:["time","late","early","schedule","dawn","dusk"],char:"🕕",fitzpatrick_scale:!1,category:"symbols"},clock7:{keywords:["time","late","early","schedule"],char:"🕖",fitzpatrick_scale:!1,category:"symbols"},clock8:{keywords:["time","late","early","schedule"],char:"🕗",fitzpatrick_scale:!1,category:"symbols"},clock9:{keywords:["time","late","early","schedule"],char:"🕘",fitzpatrick_scale:!1,category:"symbols"},clock10:{keywords:["time","late","early","schedule"],char:"🕙",fitzpatrick_scale:!1,category:"symbols"},clock11:{keywords:["time","late","early","schedule"],char:"🕚",fitzpatrick_scale:!1,category:"symbols"},clock12:{keywords:["time","noon","midnight","midday","late","early","schedule"],char:"🕛",fitzpatrick_scale:!1,category:"symbols"},clock130:{keywords:["time","late","early","schedule"],char:"🕜",fitzpatrick_scale:!1,category:"symbols"},clock230:{keywords:["time","late","early","schedule"],char:"🕝",fitzpatrick_scale:!1,category:"symbols"},clock330:{keywords:["time","late","early","schedule"],char:"🕞",fitzpatrick_scale:!1,category:"symbols"},clock430:{keywords:["time","late","early","schedule"],char:"🕟",fitzpatrick_scale:!1,category:"symbols"},clock530:{keywords:["time","late","early","schedule"],char:"🕠",fitzpatrick_scale:!1,category:"symbols"},clock630:{keywords:["time","late","early","schedule"],char:"🕡",fitzpatrick_scale:!1,category:"symbols"},clock730:{keywords:["time","late","early","schedule"],char:"🕢",fitzpatrick_scale:!1,category:"symbols"},clock830:{keywords:["time","late","early","schedule"],char:"🕣",fitzpatrick_scale:!1,category:"symbols"},clock930:{keywords:["time","late","early","schedule"],char:"🕤",fitzpatrick_scale:!1,category:"symbols"},clock1030:{keywords:["time","late","early","schedule"],char:"🕥",fitzpatrick_scale:!1,category:"symbols"},clock1130:{keywords:["time","late","early","schedule"],char:"🕦",fitzpatrick_scale:!1,category:"symbols"},clock1230:{keywords:["time","late","early","schedule"],char:"🕧",fitzpatrick_scale:!1,category:"symbols"},afghanistan:{keywords:["af","flag","nation","country","banner"],char:"🇦🇫",fitzpatrick_scale:!1,category:"flags"},aland_islands:{keywords:["Åland","islands","flag","nation","country","banner"],char:"🇦🇽",fitzpatrick_scale:!1,category:"flags"},albania:{keywords:["al","flag","nation","country","banner"],char:"🇦🇱",fitzpatrick_scale:!1,category:"flags"},algeria:{keywords:["dz","flag","nation","country","banner"],char:"🇩🇿",fitzpatrick_scale:!1,category:"flags"},american_samoa:{keywords:["american","ws","flag","nation","country","banner"],char:"🇦🇸",fitzpatrick_scale:!1,category:"flags"},andorra:{keywords:["ad","flag","nation","country","banner"],char:"🇦🇩",fitzpatrick_scale:!1,category:"flags"},angola:{keywords:["ao","flag","nation","country","banner"],char:"🇦🇴",fitzpatrick_scale:!1,category:"flags"},anguilla:{keywords:["ai","flag","nation","country","banner"],char:"🇦🇮",fitzpatrick_scale:!1,category:"flags"},antarctica:{keywords:["aq","flag","nation","country","banner"],char:"🇦🇶",fitzpatrick_scale:!1,category:"flags"},antigua_barbuda:{keywords:["antigua","barbuda","flag","nation","country","banner"],char:"🇦🇬",fitzpatrick_scale:!1,category:"flags"},argentina:{keywords:["ar","flag","nation","country","banner"],char:"🇦🇷",fitzpatrick_scale:!1,category:"flags"},armenia:{keywords:["am","flag","nation","country","banner"],char:"🇦🇲",fitzpatrick_scale:!1,category:"flags"},aruba:{keywords:["aw","flag","nation","country","banner"],char:"🇦🇼",fitzpatrick_scale:!1,category:"flags"},australia:{keywords:["au","flag","nation","country","banner"],char:"🇦🇺",fitzpatrick_scale:!1,category:"flags"},austria:{keywords:["at","flag","nation","country","banner"],char:"🇦🇹",fitzpatrick_scale:!1,category:"flags"},azerbaijan:{keywords:["az","flag","nation","country","banner"],char:"🇦🇿",fitzpatrick_scale:!1,category:"flags"},bahamas:{keywords:["bs","flag","nation","country","banner"],char:"🇧🇸",fitzpatrick_scale:!1,category:"flags"},bahrain:{keywords:["bh","flag","nation","country","banner"],char:"🇧🇭",fitzpatrick_scale:!1,category:"flags"},bangladesh:{keywords:["bd","flag","nation","country","banner"],char:"🇧🇩",fitzpatrick_scale:!1,category:"flags"},barbados:{keywords:["bb","flag","nation","country","banner"],char:"🇧🇧",fitzpatrick_scale:!1,category:"flags"},belarus:{keywords:["by","flag","nation","country","banner"],char:"🇧🇾",fitzpatrick_scale:!1,category:"flags"},belgium:{keywords:["be","flag","nation","country","banner"],char:"🇧🇪",fitzpatrick_scale:!1,category:"flags"},belize:{keywords:["bz","flag","nation","country","banner"],char:"🇧🇿",fitzpatrick_scale:!1,category:"flags"},benin:{keywords:["bj","flag","nation","country","banner"],char:"🇧🇯",fitzpatrick_scale:!1,category:"flags"},bermuda:{keywords:["bm","flag","nation","country","banner"],char:"🇧🇲",fitzpatrick_scale:!1,category:"flags"},bhutan:{keywords:["bt","flag","nation","country","banner"],char:"🇧🇹",fitzpatrick_scale:!1,category:"flags"},bolivia:{keywords:["bo","flag","nation","country","banner"],char:"🇧🇴",fitzpatrick_scale:!1,category:"flags"},caribbean_netherlands:{keywords:["bonaire","flag","nation","country","banner"],char:"🇧🇶",fitzpatrick_scale:!1,category:"flags"},bosnia_herzegovina:{keywords:["bosnia","herzegovina","flag","nation","country","banner"],char:"🇧🇦",fitzpatrick_scale:!1,category:"flags"},botswana:{keywords:["bw","flag","nation","country","banner"],char:"🇧🇼",fitzpatrick_scale:!1,category:"flags"},brazil:{keywords:["br","flag","nation","country","banner"],char:"🇧🇷",fitzpatrick_scale:!1,category:"flags"},british_indian_ocean_territory:{keywords:["british","indian","ocean","territory","flag","nation","country","banner"],char:"🇮🇴",fitzpatrick_scale:!1,category:"flags"},british_virgin_islands:{keywords:["british","virgin","islands","bvi","flag","nation","country","banner"],char:"🇻🇬",fitzpatrick_scale:!1,category:"flags"},brunei:{keywords:["bn","darussalam","flag","nation","country","banner"],char:"🇧🇳",fitzpatrick_scale:!1,category:"flags"},bulgaria:{keywords:["bg","flag","nation","country","banner"],char:"🇧🇬",fitzpatrick_scale:!1,category:"flags"},burkina_faso:{keywords:["burkina","faso","flag","nation","country","banner"],char:"🇧🇫",fitzpatrick_scale:!1,category:"flags"},burundi:{keywords:["bi","flag","nation","country","banner"],char:"🇧🇮",fitzpatrick_scale:!1,category:"flags"},cape_verde:{keywords:["cabo","verde","flag","nation","country","banner"],char:"🇨🇻",fitzpatrick_scale:!1,category:"flags"},cambodia:{keywords:["kh","flag","nation","country","banner"],char:"🇰🇭",fitzpatrick_scale:!1,category:"flags"},cameroon:{keywords:["cm","flag","nation","country","banner"],char:"🇨🇲",fitzpatrick_scale:!1,category:"flags"},canada:{keywords:["ca","flag","nation","country","banner"],char:"🇨🇦",fitzpatrick_scale:!1,category:"flags"},canary_islands:{keywords:["canary","islands","flag","nation","country","banner"],char:"🇮🇨",fitzpatrick_scale:!1,category:"flags"},cayman_islands:{keywords:["cayman","islands","flag","nation","country","banner"],char:"🇰🇾",fitzpatrick_scale:!1,category:"flags"},central_african_republic:{keywords:["central","african","republic","flag","nation","country","banner"],char:"🇨🇫",fitzpatrick_scale:!1,category:"flags"},chad:{keywords:["td","flag","nation","country","banner"],char:"🇹🇩",fitzpatrick_scale:!1,category:"flags"},chile:{keywords:["flag","nation","country","banner"],char:"🇨🇱",fitzpatrick_scale:!1,category:"flags"},cn:{keywords:["china","chinese","prc","flag","country","nation","banner"],char:"🇨🇳",fitzpatrick_scale:!1,category:"flags"},christmas_island:{keywords:["christmas","island","flag","nation","country","banner"],char:"🇨🇽",fitzpatrick_scale:!1,category:"flags"},cocos_islands:{keywords:["cocos","keeling","islands","flag","nation","country","banner"],char:"🇨🇨",fitzpatrick_scale:!1,category:"flags"},colombia:{keywords:["co","flag","nation","country","banner"],char:"🇨🇴",fitzpatrick_scale:!1,category:"flags"},comoros:{keywords:["km","flag","nation","country","banner"],char:"🇰🇲",fitzpatrick_scale:!1,category:"flags"},congo_brazzaville:{keywords:["congo","flag","nation","country","banner"],char:"🇨🇬",fitzpatrick_scale:!1,category:"flags"},congo_kinshasa:{keywords:["congo","democratic","republic","flag","nation","country","banner"],char:"🇨🇩",fitzpatrick_scale:!1,category:"flags"},cook_islands:{keywords:["cook","islands","flag","nation","country","banner"],char:"🇨🇰",fitzpatrick_scale:!1,category:"flags"},costa_rica:{keywords:["costa","rica","flag","nation","country","banner"],char:"🇨🇷",fitzpatrick_scale:!1,category:"flags"},croatia:{keywords:["hr","flag","nation","country","banner"],char:"🇭🇷",fitzpatrick_scale:!1,category:"flags"},cuba:{keywords:["cu","flag","nation","country","banner"],char:"🇨🇺",fitzpatrick_scale:!1,category:"flags"},curacao:{keywords:["curaçao","flag","nation","country","banner"],char:"🇨🇼",fitzpatrick_scale:!1,category:"flags"},cyprus:{keywords:["cy","flag","nation","country","banner"],char:"🇨🇾",fitzpatrick_scale:!1,category:"flags"},czech_republic:{keywords:["cz","flag","nation","country","banner"],char:"🇨🇿",fitzpatrick_scale:!1,category:"flags"},denmark:{keywords:["dk","flag","nation","country","banner"],char:"🇩🇰",fitzpatrick_scale:!1,category:"flags"},djibouti:{keywords:["dj","flag","nation","country","banner"],char:"🇩🇯",fitzpatrick_scale:!1,category:"flags"},dominica:{keywords:["dm","flag","nation","country","banner"],char:"🇩🇲",fitzpatrick_scale:!1,category:"flags"},dominican_republic:{keywords:["dominican","republic","flag","nation","country","banner"],char:"🇩🇴",fitzpatrick_scale:!1,category:"flags"},ecuador:{keywords:["ec","flag","nation","country","banner"],char:"🇪🇨",fitzpatrick_scale:!1,category:"flags"},egypt:{keywords:["eg","flag","nation","country","banner"],char:"🇪🇬",fitzpatrick_scale:!1,category:"flags"},el_salvador:{keywords:["el","salvador","flag","nation","country","banner"],char:"🇸🇻",fitzpatrick_scale:!1,category:"flags"},equatorial_guinea:{keywords:["equatorial","gn","flag","nation","country","banner"],char:"🇬🇶",fitzpatrick_scale:!1,category:"flags"},eritrea:{keywords:["er","flag","nation","country","banner"],char:"🇪🇷",fitzpatrick_scale:!1,category:"flags"},estonia:{keywords:["ee","flag","nation","country","banner"],char:"🇪🇪",fitzpatrick_scale:!1,category:"flags"},ethiopia:{keywords:["et","flag","nation","country","banner"],char:"🇪🇹",fitzpatrick_scale:!1,category:"flags"},eu:{keywords:["european","union","flag","banner"],char:"🇪🇺",fitzpatrick_scale:!1,category:"flags"},falkland_islands:{keywords:["falkland","islands","malvinas","flag","nation","country","banner"],char:"🇫🇰",fitzpatrick_scale:!1,category:"flags"},faroe_islands:{keywords:["faroe","islands","flag","nation","country","banner"],char:"🇫🇴",fitzpatrick_scale:!1,category:"flags"},fiji:{keywords:["fj","flag","nation","country","banner"],char:"🇫🇯",fitzpatrick_scale:!1,category:"flags"},finland:{keywords:["fi","flag","nation","country","banner"],char:"🇫🇮",fitzpatrick_scale:!1,category:"flags"},fr:{keywords:["banner","flag","nation","france","french","country"],char:"🇫🇷",fitzpatrick_scale:!1,category:"flags"},french_guiana:{keywords:["french","guiana","flag","nation","country","banner"],char:"🇬🇫",fitzpatrick_scale:!1,category:"flags"},french_polynesia:{keywords:["french","polynesia","flag","nation","country","banner"],char:"🇵🇫",fitzpatrick_scale:!1,category:"flags"},french_southern_territories:{keywords:["french","southern","territories","flag","nation","country","banner"],char:"🇹🇫",fitzpatrick_scale:!1,category:"flags"},gabon:{keywords:["ga","flag","nation","country","banner"],char:"🇬🇦",fitzpatrick_scale:!1,category:"flags"},gambia:{keywords:["gm","flag","nation","country","banner"],char:"🇬🇲",fitzpatrick_scale:!1,category:"flags"},georgia:{keywords:["ge","flag","nation","country","banner"],char:"🇬🇪",fitzpatrick_scale:!1,category:"flags"},de:{keywords:["german","nation","flag","country","banner"],char:"🇩🇪",fitzpatrick_scale:!1,category:"flags"},ghana:{keywords:["gh","flag","nation","country","banner"],char:"🇬🇭",fitzpatrick_scale:!1,category:"flags"},gibraltar:{keywords:["gi","flag","nation","country","banner"],char:"🇬🇮",fitzpatrick_scale:!1,category:"flags"},greece:{keywords:["gr","flag","nation","country","banner"],char:"🇬🇷",fitzpatrick_scale:!1,category:"flags"},greenland:{keywords:["gl","flag","nation","country","banner"],char:"🇬🇱",fitzpatrick_scale:!1,category:"flags"},grenada:{keywords:["gd","flag","nation","country","banner"],char:"🇬🇩",fitzpatrick_scale:!1,category:"flags"},guadeloupe:{keywords:["gp","flag","nation","country","banner"],char:"🇬🇵",fitzpatrick_scale:!1,category:"flags"},guam:{keywords:["gu","flag","nation","country","banner"],char:"🇬🇺",fitzpatrick_scale:!1,category:"flags"},guatemala:{keywords:["gt","flag","nation","country","banner"],char:"🇬🇹",fitzpatrick_scale:!1,category:"flags"},guernsey:{keywords:["gg","flag","nation","country","banner"],char:"🇬🇬",fitzpatrick_scale:!1,category:"flags"},guinea:{keywords:["gn","flag","nation","country","banner"],char:"🇬🇳",fitzpatrick_scale:!1,category:"flags"},guinea_bissau:{keywords:["gw","bissau","flag","nation","country","banner"],char:"🇬🇼",fitzpatrick_scale:!1,category:"flags"},guyana:{keywords:["gy","flag","nation","country","banner"],char:"🇬🇾",fitzpatrick_scale:!1,category:"flags"},haiti:{keywords:["ht","flag","nation","country","banner"],char:"🇭🇹",fitzpatrick_scale:!1,category:"flags"},honduras:{keywords:["hn","flag","nation","country","banner"],char:"🇭🇳",fitzpatrick_scale:!1,category:"flags"},hong_kong:{keywords:["hong","kong","flag","nation","country","banner"],char:"🇭🇰",fitzpatrick_scale:!1,category:"flags"},hungary:{keywords:["hu","flag","nation","country","banner"],char:"🇭🇺",fitzpatrick_scale:!1,category:"flags"},iceland:{keywords:["is","flag","nation","country","banner"],char:"🇮🇸",fitzpatrick_scale:!1,category:"flags"},india:{keywords:["in","flag","nation","country","banner"],char:"🇮🇳",fitzpatrick_scale:!1,category:"flags"},indonesia:{keywords:["flag","nation","country","banner"],char:"🇮🇩",fitzpatrick_scale:!1,category:"flags"},iran:{keywords:["iran,","islamic","republic","flag","nation","country","banner"],char:"🇮🇷",fitzpatrick_scale:!1,category:"flags"},iraq:{keywords:["iq","flag","nation","country","banner"],char:"🇮🇶",fitzpatrick_scale:!1,category:"flags"},ireland:{keywords:["ie","flag","nation","country","banner"],char:"🇮🇪",fitzpatrick_scale:!1,category:"flags"},isle_of_man:{keywords:["isle","man","flag","nation","country","banner"],char:"🇮🇲",fitzpatrick_scale:!1,category:"flags"},israel:{keywords:["il","flag","nation","country","banner"],char:"🇮🇱",fitzpatrick_scale:!1,category:"flags"},it:{keywords:["italy","flag","nation","country","banner"],char:"🇮🇹",fitzpatrick_scale:!1,category:"flags"},cote_divoire:{keywords:["ivory","coast","flag","nation","country","banner"],char:"🇨🇮",fitzpatrick_scale:!1,category:"flags"},jamaica:{keywords:["jm","flag","nation","country","banner"],char:"🇯🇲",fitzpatrick_scale:!1,category:"flags"},jp:{keywords:["japanese","nation","flag","country","banner"],char:"🇯🇵",fitzpatrick_scale:!1,category:"flags"},jersey:{keywords:["je","flag","nation","country","banner"],char:"🇯🇪",fitzpatrick_scale:!1,category:"flags"},jordan:{keywords:["jo","flag","nation","country","banner"],char:"🇯🇴",fitzpatrick_scale:!1,category:"flags"},kazakhstan:{keywords:["kz","flag","nation","country","banner"],char:"🇰🇿",fitzpatrick_scale:!1,category:"flags"},kenya:{keywords:["ke","flag","nation","country","banner"],char:"🇰🇪",fitzpatrick_scale:!1,category:"flags"},kiribati:{keywords:["ki","flag","nation","country","banner"],char:"🇰🇮",fitzpatrick_scale:!1,category:"flags"},kosovo:{keywords:["xk","flag","nation","country","banner"],char:"🇽🇰",fitzpatrick_scale:!1,category:"flags"},kuwait:{keywords:["kw","flag","nation","country","banner"],char:"🇰🇼",fitzpatrick_scale:!1,category:"flags"},kyrgyzstan:{keywords:["kg","flag","nation","country","banner"],char:"🇰🇬",fitzpatrick_scale:!1,category:"flags"},laos:{keywords:["lao","democratic","republic","flag","nation","country","banner"],char:"🇱🇦",fitzpatrick_scale:!1,category:"flags"},latvia:{keywords:["lv","flag","nation","country","banner"],char:"🇱🇻",fitzpatrick_scale:!1,category:"flags"},lebanon:{keywords:["lb","flag","nation","country","banner"],char:"🇱🇧",fitzpatrick_scale:!1,category:"flags"},lesotho:{keywords:["ls","flag","nation","country","banner"],char:"🇱🇸",fitzpatrick_scale:!1,category:"flags"},liberia:{keywords:["lr","flag","nation","country","banner"],char:"🇱🇷",fitzpatrick_scale:!1,category:"flags"},libya:{keywords:["ly","flag","nation","country","banner"],char:"🇱🇾",fitzpatrick_scale:!1,category:"flags"},liechtenstein:{keywords:["li","flag","nation","country","banner"],char:"🇱🇮",fitzpatrick_scale:!1,category:"flags"},lithuania:{keywords:["lt","flag","nation","country","banner"],char:"🇱🇹",fitzpatrick_scale:!1,category:"flags"},luxembourg:{keywords:["lu","flag","nation","country","banner"],char:"🇱🇺",fitzpatrick_scale:!1,category:"flags"},macau:{keywords:["macao","flag","nation","country","banner"],char:"🇲🇴",fitzpatrick_scale:!1,category:"flags"},macedonia:{keywords:["macedonia,","flag","nation","country","banner"],char:"🇲🇰",fitzpatrick_scale:!1,category:"flags"},madagascar:{keywords:["mg","flag","nation","country","banner"],char:"🇲🇬",fitzpatrick_scale:!1,category:"flags"},malawi:{keywords:["mw","flag","nation","country","banner"],char:"🇲🇼",fitzpatrick_scale:!1,category:"flags"},malaysia:{keywords:["my","flag","nation","country","banner"],char:"🇲🇾",fitzpatrick_scale:!1,category:"flags"},maldives:{keywords:["mv","flag","nation","country","banner"],char:"🇲🇻",fitzpatrick_scale:!1,category:"flags"},mali:{keywords:["ml","flag","nation","country","banner"],char:"🇲🇱",fitzpatrick_scale:!1,category:"flags"},malta:{keywords:["mt","flag","nation","country","banner"],char:"🇲🇹",fitzpatrick_scale:!1,category:"flags"},marshall_islands:{keywords:["marshall","islands","flag","nation","country","banner"],char:"🇲🇭",fitzpatrick_scale:!1,category:"flags"},martinique:{keywords:["mq","flag","nation","country","banner"],char:"🇲🇶",fitzpatrick_scale:!1,category:"flags"},mauritania:{keywords:["mr","flag","nation","country","banner"],char:"🇲🇷",fitzpatrick_scale:!1,category:"flags"},mauritius:{keywords:["mu","flag","nation","country","banner"],char:"🇲🇺",fitzpatrick_scale:!1,category:"flags"},mayotte:{keywords:["yt","flag","nation","country","banner"],char:"🇾🇹",fitzpatrick_scale:!1,category:"flags"},mexico:{keywords:["mx","flag","nation","country","banner"],char:"🇲🇽",fitzpatrick_scale:!1,category:"flags"},micronesia:{keywords:["micronesia,","federated","states","flag","nation","country","banner"],char:"🇫🇲",fitzpatrick_scale:!1,category:"flags"},moldova:{keywords:["moldova,","republic","flag","nation","country","banner"],char:"🇲🇩",fitzpatrick_scale:!1,category:"flags"},monaco:{keywords:["mc","flag","nation","country","banner"],char:"🇲🇨",fitzpatrick_scale:!1,category:"flags"},mongolia:{keywords:["mn","flag","nation","country","banner"],char:"🇲🇳",fitzpatrick_scale:!1,category:"flags"},montenegro:{keywords:["me","flag","nation","country","banner"],char:"🇲🇪",fitzpatrick_scale:!1,category:"flags"},montserrat:{keywords:["ms","flag","nation","country","banner"],char:"🇲🇸",fitzpatrick_scale:!1,category:"flags"},morocco:{keywords:["ma","flag","nation","country","banner"],char:"🇲🇦",fitzpatrick_scale:!1,category:"flags"},mozambique:{keywords:["mz","flag","nation","country","banner"],char:"🇲🇿",fitzpatrick_scale:!1,category:"flags"},myanmar:{keywords:["mm","flag","nation","country","banner"],char:"🇲🇲",fitzpatrick_scale:!1,category:"flags"},namibia:{keywords:["na","flag","nation","country","banner"],char:"🇳🇦",fitzpatrick_scale:!1,category:"flags"},nauru:{keywords:["nr","flag","nation","country","banner"],char:"🇳🇷",fitzpatrick_scale:!1,category:"flags"},nepal:{keywords:["np","flag","nation","country","banner"],char:"🇳🇵",fitzpatrick_scale:!1,category:"flags"},netherlands:{keywords:["nl","flag","nation","country","banner"],char:"🇳🇱",fitzpatrick_scale:!1,category:"flags"},new_caledonia:{keywords:["new","caledonia","flag","nation","country","banner"],char:"🇳🇨",fitzpatrick_scale:!1,category:"flags"},new_zealand:{keywords:["new","zealand","flag","nation","country","banner"],char:"🇳🇿",fitzpatrick_scale:!1,category:"flags"},nicaragua:{keywords:["ni","flag","nation","country","banner"],char:"🇳🇮",fitzpatrick_scale:!1,category:"flags"},niger:{keywords:["ne","flag","nation","country","banner"],char:"🇳🇪",fitzpatrick_scale:!1,category:"flags"},nigeria:{keywords:["flag","nation","country","banner"],char:"🇳🇬",fitzpatrick_scale:!1,category:"flags"},niue:{keywords:["nu","flag","nation","country","banner"],char:"🇳🇺",fitzpatrick_scale:!1,category:"flags"},norfolk_island:{keywords:["norfolk","island","flag","nation","country","banner"],char:"🇳🇫",fitzpatrick_scale:!1,category:"flags"},northern_mariana_islands:{keywords:["northern","mariana","islands","flag","nation","country","banner"],char:"🇲🇵",fitzpatrick_scale:!1,category:"flags"},north_korea:{keywords:["north","korea","nation","flag","country","banner"],char:"🇰🇵",fitzpatrick_scale:!1,category:"flags"},norway:{keywords:["no","flag","nation","country","banner"],char:"🇳🇴",fitzpatrick_scale:!1,category:"flags"},oman:{keywords:["om_symbol","flag","nation","country","banner"],char:"🇴🇲",fitzpatrick_scale:!1,category:"flags"},pakistan:{keywords:["pk","flag","nation","country","banner"],char:"🇵🇰",fitzpatrick_scale:!1,category:"flags"},palau:{keywords:["pw","flag","nation","country","banner"],char:"🇵🇼",fitzpatrick_scale:!1,category:"flags"},palestinian_territories:{keywords:["palestine","palestinian","territories","flag","nation","country","banner"],char:"🇵🇸",fitzpatrick_scale:!1,category:"flags"},panama:{keywords:["pa","flag","nation","country","banner"],char:"🇵🇦",fitzpatrick_scale:!1,category:"flags"},papua_new_guinea:{keywords:["papua","new","guinea","flag","nation","country","banner"],char:"🇵🇬",fitzpatrick_scale:!1,category:"flags"},paraguay:{keywords:["py","flag","nation","country","banner"],char:"🇵🇾",fitzpatrick_scale:!1,category:"flags"},peru:{keywords:["pe","flag","nation","country","banner"],char:"🇵🇪",fitzpatrick_scale:!1,category:"flags"},philippines:{keywords:["ph","flag","nation","country","banner"],char:"🇵🇭",fitzpatrick_scale:!1,category:"flags"},pitcairn_islands:{keywords:["pitcairn","flag","nation","country","banner"],char:"🇵🇳",fitzpatrick_scale:!1,category:"flags"},poland:{keywords:["pl","flag","nation","country","banner"],char:"🇵🇱",fitzpatrick_scale:!1,category:"flags"},portugal:{keywords:["pt","flag","nation","country","banner"],char:"🇵🇹",fitzpatrick_scale:!1,category:"flags"},puerto_rico:{keywords:["puerto","rico","flag","nation","country","banner"],char:"🇵🇷",fitzpatrick_scale:!1,category:"flags"},qatar:{keywords:["qa","flag","nation","country","banner"],char:"🇶🇦",fitzpatrick_scale:!1,category:"flags"},reunion:{keywords:["réunion","flag","nation","country","banner"],char:"🇷🇪",fitzpatrick_scale:!1,category:"flags"},romania:{keywords:["ro","flag","nation","country","banner"],char:"🇷🇴",fitzpatrick_scale:!1,category:"flags"},ru:{keywords:["russian","federation","flag","nation","country","banner"],char:"🇷🇺",fitzpatrick_scale:!1,category:"flags"},rwanda:{keywords:["rw","flag","nation","country","banner"],char:"🇷🇼",fitzpatrick_scale:!1,category:"flags"},st_barthelemy:{keywords:["saint","barthélemy","flag","nation","country","banner"],char:"🇧🇱",fitzpatrick_scale:!1,category:"flags"},st_helena:{keywords:["saint","helena","ascension","tristan","cunha","flag","nation","country","banner"],char:"🇸🇭",fitzpatrick_scale:!1,category:"flags"},st_kitts_nevis:{keywords:["saint","kitts","nevis","flag","nation","country","banner"],char:"🇰🇳",fitzpatrick_scale:!1,category:"flags"},st_lucia:{keywords:["saint","lucia","flag","nation","country","banner"],char:"🇱🇨",fitzpatrick_scale:!1,category:"flags"},st_pierre_miquelon:{keywords:["saint","pierre","miquelon","flag","nation","country","banner"],char:"🇵🇲",fitzpatrick_scale:!1,category:"flags"},st_vincent_grenadines:{keywords:["saint","vincent","grenadines","flag","nation","country","banner"],char:"🇻🇨",fitzpatrick_scale:!1,category:"flags"},samoa:{keywords:["ws","flag","nation","country","banner"],char:"🇼🇸",fitzpatrick_scale:!1,category:"flags"},san_marino:{keywords:["san","marino","flag","nation","country","banner"],char:"🇸🇲",fitzpatrick_scale:!1,category:"flags"},sao_tome_principe:{keywords:["sao","tome","principe","flag","nation","country","banner"],char:"🇸🇹",fitzpatrick_scale:!1,category:"flags"},saudi_arabia:{keywords:["flag","nation","country","banner"],char:"🇸🇦",fitzpatrick_scale:!1,category:"flags"},senegal:{keywords:["sn","flag","nation","country","banner"],char:"🇸🇳",fitzpatrick_scale:!1,category:"flags"},serbia:{keywords:["rs","flag","nation","country","banner"],char:"🇷🇸",fitzpatrick_scale:!1,category:"flags"},seychelles:{keywords:["sc","flag","nation","country","banner"],char:"🇸🇨",fitzpatrick_scale:!1,category:"flags"},sierra_leone:{keywords:["sierra","leone","flag","nation","country","banner"],char:"🇸🇱",fitzpatrick_scale:!1,category:"flags"},singapore:{keywords:["sg","flag","nation","country","banner"],char:"🇸🇬",fitzpatrick_scale:!1,category:"flags"},sint_maarten:{keywords:["sint","maarten","dutch","flag","nation","country","banner"],char:"🇸🇽",fitzpatrick_scale:!1,category:"flags"},slovakia:{keywords:["sk","flag","nation","country","banner"],char:"🇸🇰",fitzpatrick_scale:!1,category:"flags"},slovenia:{keywords:["si","flag","nation","country","banner"],char:"🇸🇮",fitzpatrick_scale:!1,category:"flags"},solomon_islands:{keywords:["solomon","islands","flag","nation","country","banner"],char:"🇸🇧",fitzpatrick_scale:!1,category:"flags"},somalia:{keywords:["so","flag","nation","country","banner"],char:"🇸🇴",fitzpatrick_scale:!1,category:"flags"},south_africa:{keywords:["south","africa","flag","nation","country","banner"],char:"🇿🇦",fitzpatrick_scale:!1,category:"flags"},south_georgia_south_sandwich_islands:{keywords:["south","georgia","sandwich","islands","flag","nation","country","banner"],char:"🇬🇸",fitzpatrick_scale:!1,category:"flags"},kr:{keywords:["south","korea","nation","flag","country","banner"],char:"🇰🇷",fitzpatrick_scale:!1,category:"flags"},south_sudan:{keywords:["south","sd","flag","nation","country","banner"],char:"🇸🇸",fitzpatrick_scale:!1,category:"flags"},es:{keywords:["spain","flag","nation","country","banner"],char:"🇪🇸",fitzpatrick_scale:!1,category:"flags"},sri_lanka:{keywords:["sri","lanka","flag","nation","country","banner"],char:"🇱🇰",fitzpatrick_scale:!1,category:"flags"},sudan:{keywords:["sd","flag","nation","country","banner"],char:"🇸🇩",fitzpatrick_scale:!1,category:"flags"},suriname:{keywords:["sr","flag","nation","country","banner"],char:"🇸🇷",fitzpatrick_scale:!1,category:"flags"},swaziland:{keywords:["sz","flag","nation","country","banner"],char:"🇸🇿",fitzpatrick_scale:!1,category:"flags"},sweden:{keywords:["se","flag","nation","country","banner"],char:"🇸🇪",fitzpatrick_scale:!1,category:"flags"},switzerland:{keywords:["ch","flag","nation","country","banner"],char:"🇨🇭",fitzpatrick_scale:!1,category:"flags"},syria:{keywords:["syrian","arab","republic","flag","nation","country","banner"],char:"🇸🇾",fitzpatrick_scale:!1,category:"flags"},taiwan:{keywords:["tw","flag","nation","country","banner"],char:"🇹🇼",fitzpatrick_scale:!1,category:"flags"},tajikistan:{keywords:["tj","flag","nation","country","banner"],char:"🇹🇯",fitzpatrick_scale:!1,category:"flags"},tanzania:{keywords:["tanzania,","united","republic","flag","nation","country","banner"],char:"🇹🇿",fitzpatrick_scale:!1,category:"flags"},thailand:{keywords:["th","flag","nation","country","banner"],char:"🇹🇭",fitzpatrick_scale:!1,category:"flags"},timor_leste:{keywords:["timor","leste","flag","nation","country","banner"],char:"🇹🇱",fitzpatrick_scale:!1,category:"flags"},togo:{keywords:["tg","flag","nation","country","banner"],char:"🇹🇬",fitzpatrick_scale:!1,category:"flags"},tokelau:{keywords:["tk","flag","nation","country","banner"],char:"🇹🇰",fitzpatrick_scale:!1,category:"flags"},tonga:{keywords:["to","flag","nation","country","banner"],char:"🇹🇴",fitzpatrick_scale:!1,category:"flags"},trinidad_tobago:{keywords:["trinidad","tobago","flag","nation","country","banner"],char:"🇹🇹",fitzpatrick_scale:!1,category:"flags"},tunisia:{keywords:["tn","flag","nation","country","banner"],char:"🇹🇳",fitzpatrick_scale:!1,category:"flags"},tr:{keywords:["turkey","flag","nation","country","banner"],char:"🇹🇷",fitzpatrick_scale:!1,category:"flags"},turkmenistan:{keywords:["flag","nation","country","banner"],char:"🇹🇲",fitzpatrick_scale:!1,category:"flags"},turks_caicos_islands:{keywords:["turks","caicos","islands","flag","nation","country","banner"],char:"🇹🇨",fitzpatrick_scale:!1,category:"flags"},tuvalu:{keywords:["flag","nation","country","banner"],char:"🇹🇻",fitzpatrick_scale:!1,category:"flags"},uganda:{keywords:["ug","flag","nation","country","banner"],char:"🇺🇬",fitzpatrick_scale:!1,category:"flags"},ukraine:{keywords:["ua","flag","nation","country","banner"],char:"🇺🇦",fitzpatrick_scale:!1,category:"flags"},united_arab_emirates:{keywords:["united","arab","emirates","flag","nation","country","banner"],char:"🇦🇪",fitzpatrick_scale:!1,category:"flags"},uk:{keywords:["united","kingdom","great","britain","northern","ireland","flag","nation","country","banner","british","UK","english","england","union jack"],char:"🇬🇧",fitzpatrick_scale:!1,category:"flags"},england:{keywords:["flag","english"],char:"🏴󠁧󠁢󠁥󠁮󠁧󠁿",fitzpatrick_scale:!1,category:"flags"},scotland:{keywords:["flag","scottish"],char:"🏴󠁧󠁢󠁳󠁣󠁴󠁿",fitzpatrick_scale:!1,category:"flags"},wales:{keywords:["flag","welsh"],char:"🏴󠁧󠁢󠁷󠁬󠁳󠁿",fitzpatrick_scale:!1,category:"flags"},us:{keywords:["united","states","america","flag","nation","country","banner"],char:"🇺🇸",fitzpatrick_scale:!1,category:"flags"},us_virgin_islands:{keywords:["virgin","islands","us","flag","nation","country","banner"],char:"🇻🇮",fitzpatrick_scale:!1,category:"flags"},uruguay:{keywords:["uy","flag","nation","country","banner"],char:"🇺🇾",fitzpatrick_scale:!1,category:"flags"},uzbekistan:{keywords:["uz","flag","nation","country","banner"],char:"🇺🇿",fitzpatrick_scale:!1,category:"flags"},vanuatu:{keywords:["vu","flag","nation","country","banner"],char:"🇻🇺",fitzpatrick_scale:!1,category:"flags"},vatican_city:{keywords:["vatican","city","flag","nation","country","banner"],char:"🇻🇦",fitzpatrick_scale:!1,category:"flags"},venezuela:{keywords:["ve","bolivarian","republic","flag","nation","country","banner"],char:"🇻🇪",fitzpatrick_scale:!1,category:"flags"},vietnam:{keywords:["viet","nam","flag","nation","country","banner"],char:"🇻🇳",fitzpatrick_scale:!1,category:"flags"},wallis_futuna:{keywords:["wallis","futuna","flag","nation","country","banner"],char:"🇼🇫",fitzpatrick_scale:!1,category:"flags"},western_sahara:{keywords:["western","sahara","flag","nation","country","banner"],char:"🇪🇭",fitzpatrick_scale:!1,category:"flags"},yemen:{keywords:["ye","flag","nation","country","banner"],char:"🇾🇪",fitzpatrick_scale:!1,category:"flags"},zambia:{keywords:["zm","flag","nation","country","banner"],char:"🇿🇲",fitzpatrick_scale:!1,category:"flags"},zimbabwe:{keywords:["zw","flag","nation","country","banner"],char:"🇿🇼",fitzpatrick_scale:!1,category:"flags"},united_nations:{keywords:["un","flag","banner"],char:"🇺🇳",fitzpatrick_scale:!1,category:"flags"},pirate_flag:{keywords:["skull","crossbones","flag","banner"],char:"🏴‍☠️",fitzpatrick_scale:!1,category:"flags"}});(function(){var na=tinymce.util.Tools.resolve("tinymce.PluginManager");const Sa=(G,pe,ke)=>{var $e;return ke(G,pe.prototype)?!0:(($e=G.constructor)===null||$e===void 0?void 0:$e.name)===pe.name},pa=G=>{const pe=typeof G;return G===null?"null":pe==="object"&&Array.isArray(G)?"array":pe==="object"&&Sa(G,String,(ke,$e)=>$e.isPrototypeOf(ke))?"string":pe},Qr=G=>pe=>pa(pe)===G,ar=G=>pe=>typeof pe===G,So=G=>pe=>G===pe,ir=Qr("string"),lr=Qr("object"),Xo=Qr("array"),Rn=So(null),Qn=ar("boolean"),cr=G=>G==null,Ur=G=>!cr(G),It=ar("function"),Jt=(G,pe)=>{if(Xo(G)){for(let ke=0,$e=G.length;ke<$e;++ke)if(!pe(G[ke]))return!1;return!0}return!1},Ho=()=>{},er=G=>()=>G,ut=(G,pe)=>G===pe;class yo{constructor(pe,ke){this.tag=pe,this.value=ke}static some(pe){return new yo(!0,pe)}static none(){return yo.singletonNone}fold(pe,ke){return this.tag?ke(this.value):pe()}isSome(){return this.tag}isNone(){return!this.tag}map(pe){return this.tag?yo.some(pe(this.value)):yo.none()}bind(pe){return this.tag?pe(this.value):yo.none()}exists(pe){return this.tag&&pe(this.value)}forall(pe){return!this.tag||pe(this.value)}filter(pe){return!this.tag||pe(this.value)?this:yo.none()}getOr(pe){return this.tag?this.value:pe}or(pe){return this.tag?this:pe}getOrThunk(pe){return this.tag?this.value:pe()}orThunk(pe){return this.tag?this:pe()}getOrDie(pe){if(this.tag)return this.value;throw new Error(pe??"Called getOrDie on None")}static from(pe){return Ur(pe)?yo.some(pe):yo.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(pe){this.tag&&pe(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}yo.singletonNone=new yo(!1);const He=Array.prototype.indexOf,ne=Array.prototype.push,Et=(G,pe)=>He.call(G,pe),ve=(G,pe)=>Et(G,pe)>-1,dt=(G,pe)=>{const ke=G.length,$e=new Array(ke);for(let gt=0;gt<ke;gt++){const _t=G[gt];$e[gt]=pe(_t,gt)}return $e},Gn=(G,pe)=>{for(let ke=0,$e=G.length;ke<$e;ke++){const gt=G[ke];pe(gt,ke)}},gn=(G,pe,ke)=>(Gn(G,($e,gt)=>{ke=pe(ke,$e,gt)}),ke),vo=G=>{const pe=[];for(let ke=0,$e=G.length;ke<$e;++ke){if(!Xo(G[ke]))throw new Error("Arr.flatten item "+ke+" was not an array, input: "+G);ne.apply(pe,G[ke])}return pe},Le=(G,pe)=>vo(dt(G,pe)),Lt=(G,pe)=>{for(let ke=0;ke<G.length;ke++){const $e=pe(G[ke],ke);if($e.isSome())return $e}return yo.none()},T=(G,pe,ke=ut)=>G.exists($e=>ke($e,pe)),Eo=G=>{const pe=[],ke=$e=>{pe.push($e)};for(let $e=0;$e<G.length;$e++)G[$e].each(ke);return pe},lo=(G,pe)=>G?yo.some(pe):yo.none(),Ro=G=>pe=>pe.options.get(G),Cr=G=>{const pe=G.options.register;pe("link_assume_external_targets",{processor:ke=>{const $e=ir(ke)||Qn(ke);return $e?ke===!0?{value:1,valid:$e}:ke==="http"||ke==="https"?{value:ke,valid:$e}:{value:0,valid:$e}:{valid:!1,message:"Must be a string or a boolean."}},default:!1}),pe("link_context_toolbar",{processor:"boolean",default:!1}),pe("link_list",{processor:ke=>ir(ke)||It(ke)||Jt(ke,lr)}),pe("link_default_target",{processor:"string"}),pe("link_default_protocol",{processor:"string",default:"https"}),pe("link_target_list",{processor:ke=>Qn(ke)||Jt(ke,lr),default:!0}),pe("link_rel_list",{processor:"object[]",default:[]}),pe("link_class_list",{processor:"object[]",default:[]}),pe("link_title",{processor:"boolean",default:!0}),pe("allow_unsafe_link_target",{processor:"boolean",default:!1}),pe("link_quicklink",{processor:"boolean",default:!1})},_e=Ro("link_assume_external_targets"),Tt=Ro("link_context_toolbar"),un=Ro("link_list"),yt=Ro("link_default_target"),nt=Ro("link_default_protocol"),Ot=Ro("link_target_list"),Zr=Ro("link_rel_list"),kn=Ro("link_class_list"),fn=Ro("link_title"),Ao=Ro("allow_unsafe_link_target"),$=Ro("link_quicklink");var zs=tinymce.util.Tools.resolve("tinymce.util.Tools");const An=G=>ir(G.value)?G.value:"",mn=G=>ir(G.text)?G.text:ir(G.title)?G.title:"",Ga=(G,pe)=>{const ke=[];return zs.each(G,$e=>{const gt=mn($e);if($e.menu!==void 0){const _t=Ga($e.menu,pe);ke.push({text:gt,items:_t})}else{const _t=pe($e);ke.push({text:gt,value:_t})}}),ke},sl=(G=An)=>pe=>yo.from(pe).map(ke=>Ga(ke,G)),To={sanitize:G=>sl(An)(G),sanitizeWith:sl,createUi:(G,pe)=>ke=>({name:G,type:"listbox",label:pe,items:ke}),getValue:An},We=Object.keys,et=Object.hasOwnProperty,it=(G,pe)=>{const ke=We(G);for(let $e=0,gt=ke.length;$e<gt;$e++){const _t=ke[$e],Jo=G[_t];pe(Jo,_t)}},Ye=G=>(pe,ke)=>{G[ke]=pe},Qt=(G,pe,ke,$e)=>{it(G,(gt,_t)=>{(pe(gt,_t)?ke:$e)(gt,_t)})},fo=(G,pe)=>{const ke={};return Qt(G,pe,Ye(ke),Ho),ke},$o=(G,pe)=>et.call(G,pe),Nn=(G,pe)=>$o(G,pe)&&G[pe]!==void 0&&G[pe]!==null;var Kn=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker"),Mn=tinymce.util.Tools.resolve("tinymce.util.URI");const zn=G=>Ur(G)&&G.nodeName.toLowerCase()==="a",Wr=G=>zn(G)&&!!tr(G),qs=(G,pe)=>{if(G.collapsed)return[];{const ke=G.cloneContents(),$e=ke.firstChild,gt=new Kn($e,ke),_t=[];let Jo=$e;do pe(Jo)&&_t.push(Jo);while(Jo=gt.next());return _t}},hr=G=>/^\w+:/i.test(G),tr=G=>{var pe,ke;return(ke=(pe=G.getAttribute("data-mce-href"))!==null&&pe!==void 0?pe:G.getAttribute("href"))!==null&&ke!==void 0?ke:""},Ko=(G,pe)=>{const ke=["noopener"],$e=G?G.split(/\s+/):[],gt=rn=>zs.trim(rn.sort().join(" ")),_t=rn=>(rn=Jo(rn),rn.length>0?rn.concat(ke):ke),Jo=rn=>rn.filter(Xn=>zs.inArray(ke,Xn)===-1),or=pe?_t($e):Jo($e);return or.length>0?gt(or):""},ps=G=>G.replace(/\uFEFF/g,""),lt=(G,pe)=>(pe=pe||gs(G.selection.getRng())[0]||G.selection.getNode(),Wi(pe)?yo.from(G.dom.select("a[href]",pe)[0]):yo.from(G.dom.getParent(pe,"a[href]"))),ro=(G,pe)=>lt(G,pe).isSome(),Po=(G,pe)=>{const ke=pe.fold(()=>G.getContent({format:"text"}),$e=>$e.innerText||$e.textContent||"");return ps(ke)},gs=G=>qs(G,Wr),Ea=G=>zs.grep(G,Wr),st=G=>Ea(G).length>0,ga=G=>gs(G).length>0,Bo=G=>{const pe=G.schema.getTextInlineElements(),ke=_t=>_t.nodeType===1&&!zn(_t)&&!$o(pe,_t.nodeName.toLowerCase());if(lt(G).exists(_t=>_t.hasAttribute("data-mce-block")))return!1;const gt=G.selection.getRng();return gt.collapsed?!0:qs(gt,ke).length===0},Wi=G=>Ur(G)&&G.nodeName==="FIGURE"&&/\bimage\b/i.test(G.className),Bn=G=>gn(["title","rel","class","target"],(ke,$e)=>(G[$e].each(gt=>{ke[$e]=gt.length>0?gt:null}),ke),{href:G.href}),Ts=(G,pe)=>(pe==="http"||pe==="https")&&!hr(G)?pe+"://"+G:G,kl=(G,pe)=>{const ke={...pe};if(Zr(G).length===0&&!Ao(G)){const $e=Ko(ke.rel,ke.target==="_blank");ke.rel=$e||null}return yo.from(ke.target).isNone()&&Ot(G)===!1&&(ke.target=yt(G)),ke.href=Ts(ke.href,_e(G)),ke},Ba=(G,pe,ke,$e)=>{ke.each(gt=>{$o(pe,"innerText")?pe.innerText=gt:pe.textContent=gt}),G.dom.setAttribs(pe,$e),G.selection.select(pe)},di=(G,pe,ke,$e)=>{const gt=G.dom;Wi(pe)?fi(gt,pe,$e):ke.fold(()=>{G.execCommand("mceInsertLink",!1,$e)},_t=>{G.insertContent(gt.createHTML("a",$e,gt.encode(_t)))})},ra=(G,pe,ke)=>{const $e=G.selection.getNode(),gt=lt(G,$e),_t=kl(G,Bn(ke));G.undoManager.transact(()=>{ke.href===pe.href&&pe.attach(),gt.fold(()=>{di(G,$e,ke.text,_t)},Jo=>{G.focus(),Ba(G,Jo,ke.text,_t)})})},ui=G=>{const pe=G.dom,ke=G.selection,$e=ke.getBookmark(),gt=ke.getRng().cloneRange(),_t=pe.getParent(gt.startContainer,"a[href]",G.getBody()),Jo=pe.getParent(gt.endContainer,"a[href]",G.getBody());_t&&gt.setStartBefore(_t),Jo&&gt.setEndAfter(Jo),ke.setRng(gt),G.execCommand("unlink"),ke.moveToBookmark($e)},Hn=G=>{G.undoManager.transact(()=>{const pe=G.selection.getNode();Wi(pe)?wt(G,pe):ui(G),G.focus()})},xo=G=>{const{class:pe,href:ke,rel:$e,target:gt,text:_t,title:Jo}=G;return fo({class:pe.getOrNull(),href:ke,rel:$e.getOrNull(),target:gt.getOrNull(),text:_t.getOrNull(),title:Jo.getOrNull()},(or,rn)=>Rn(or)===!1)},Ka=(G,pe)=>{const ke=G.options.get,$e={allow_html_data_urls:ke("allow_html_data_urls"),allow_script_urls:ke("allow_script_urls"),allow_svg_data_urls:ke("allow_svg_data_urls")},gt=pe.href;return{...pe,href:Mn.isDomSafe(gt,"a",$e)?gt:""}},_s=(G,pe,ke)=>{const $e=Ka(G,ke);G.hasPlugin("rtc",!0)?G.execCommand("createlink",!1,xo($e)):ra(G,pe,$e)},al=G=>{G.hasPlugin("rtc",!0)?G.execCommand("unlink"):Hn(G)},wt=(G,pe)=>{var ke;const $e=G.dom.select("img",pe)[0];if($e){const gt=G.dom.getParents($e,"a[href]",pe)[0];gt&&((ke=gt.parentNode)===null||ke===void 0||ke.insertBefore($e,gt),G.dom.remove(gt))}},fi=(G,pe,ke)=>{var $e;const gt=G.select("img",pe)[0];if(gt){const _t=G.create("a",ke);($e=gt.parentNode)===null||$e===void 0||$e.insertBefore(_t,gt),_t.appendChild(gt)}},Ul=G=>Nn(G,"items"),wr=(G,pe)=>Lt(pe,ke=>Ul(ke)?wr(G,ke.items):lo(ke.value===G,ke)),od=(G,pe,ke,$e)=>{const gt=$e[pe],_t=G.length>0;return gt!==void 0?wr(gt,ke).map(Jo=>({url:{value:Jo.value,meta:{text:_t?G:Jo.text,attach:Ho}},text:_t?G:Jo.text})):yo.none()},Aa=(G,pe)=>pe==="link"?G.link:pe==="anchor"?G.anchor:yo.none(),wl={init:(G,pe)=>{const ke={text:G.text,title:G.title},$e=rn=>{var Xn;return lo(ke.title.length<=0,yo.from((Xn=rn.meta)===null||Xn===void 0?void 0:Xn.title).getOr(""))},gt=rn=>{var Xn;return lo(ke.text.length<=0,yo.from((Xn=rn.meta)===null||Xn===void 0?void 0:Xn.text).getOr(rn.value))},_t=rn=>{const Xn=gt(rn.url),Uo=$e(rn.url);return Xn.isSome()||Uo.isSome()?yo.some({...Xn.map(Or=>({text:Or})).getOr({}),...Uo.map(Or=>({title:Or})).getOr({})}):yo.none()},Jo=(rn,Xn)=>{const Uo=Aa(pe,Xn).getOr([]);return od(ke.text,Xn,Uo,rn)};return{onChange:(rn,Xn)=>{const Uo=Xn.name;return Uo==="url"?_t(rn()):ve(["anchor","link"],Uo)?Jo(rn(),Uo):((Uo==="text"||Uo==="title")&&(ke[Uo]=rn()[Uo]),yo.none())}}},getDelta:od};var Sr=tinymce.util.Tools.resolve("tinymce.util.Delay");const Os=(G,pe,ke)=>{const $e=G.selection.getRng();Sr.setEditorTimeout(G,()=>{G.windowManager.confirm(pe,gt=>{G.selection.setRng($e),ke(gt)})})},Ya=G=>{const pe=G.href;return pe.indexOf("@")>0&&pe.indexOf("/")===-1&&pe.indexOf("mailto:")===-1?yo.some({message:"The URL you entered seems to be an email address. Do you want to add the required mailto: prefix?",preprocess:$e=>({...$e,href:"mailto:"+pe})}):yo.none()},_l=(G,pe)=>ke=>{const $e=ke.href;return G===1&&!hr($e)||G===0&&/^\s*www(\.|\d\.)/i.test($e)?yo.some({message:`The URL you entered seems to be an external link. Do you want to add the required ${pe}:// prefix?`,preprocess:_t=>({..._t,href:pe+"://"+$e})}):yo.none()},Cl={preprocess:(G,pe)=>Lt([Ya,_l(_e(G),nt(G))],ke=>ke(pe)).fold(()=>Promise.resolve(pe),ke=>new Promise($e=>{Os(G,ke.message,gt=>{$e(gt?ke.preprocess(pe):pe)})}))},_c={getAnchors:G=>{const pe=G.dom.select("a:not([href])"),ke=Le(pe,$e=>{const gt=$e.name||$e.id;return gt?[{text:gt,value:"#"+gt}]:[]});return ke.length>0?yo.some([{text:"None",value:""}].concat(ke)):yo.none()}},Vr={getClasses:G=>{const pe=kn(G);return pe.length>0?To.sanitize(pe):yo.none()}},Gs=G=>{try{return yo.some(JSON.parse(G))}catch{return yo.none()}},nd={getLinks:G=>{const pe=$e=>G.convertURL($e.value||$e.url||"","href"),ke=un(G);return new Promise($e=>{ir(ke)?fetch(ke).then(gt=>gt.ok?gt.text().then(Gs):Promise.reject()).then($e,()=>$e(yo.none())):It(ke)?ke(gt=>$e(yo.some(gt))):$e(yo.from(ke))}).then($e=>$e.bind(To.sanitizeWith(pe)).map(gt=>gt.length>0?[{text:"None",value:""}].concat(gt):gt))}},mi={getRels:(G,pe)=>{const ke=Zr(G);if(ke.length>0){const $e=T(pe,"_blank"),gt=Ao(G)===!1,_t=or=>Ko(To.getValue(or),$e);return(gt?To.sanitizeWith(_t):To.sanitize)(ke)}return yo.none()}},qr=[{text:"Current window",value:""},{text:"New window",value:"_blank"}],In={getTargets:G=>{const pe=Ot(G);return Xo(pe)?To.sanitize(pe).orThunk(()=>yo.some(qr)):pe===!1?yo.none():yo.some(qr)}},Ln=(G,pe,ke)=>{const $e=G.getAttrib(pe,ke);return $e!==null&&$e.length>0?yo.some($e):yo.none()},pi=(G,pe)=>{const ke=G.dom,gt=Bo(G)?yo.some(Po(G.selection,pe)):yo.none(),_t=pe.bind(Uo=>yo.from(ke.getAttrib(Uo,"href"))),Jo=pe.bind(Uo=>yo.from(ke.getAttrib(Uo,"target"))),or=pe.bind(Uo=>Ln(ke,Uo,"rel")),rn=pe.bind(Uo=>Ln(ke,Uo,"class")),Xn=pe.bind(Uo=>Ln(ke,Uo,"title"));return{url:_t,text:gt,title:Xn,target:Jo,rel:or,linkClass:rn}},ll={collect:(G,pe)=>nd.getLinks(G).then(ke=>{const $e=pi(G,pe);return{anchor:$e,catalogs:{targets:In.getTargets(G),rels:mi.getRels(G,$e.target),classes:Vr.getClasses(G),anchor:_c.getAnchors(G),link:ke},optNode:pe,flags:{titleEnabled:fn(G)}}})},El=(G,pe)=>ke=>{const $e=ke.getData();if(!$e.url.value){al(G),ke.close();return}const gt=or=>yo.from($e[or]).filter(rn=>!T(pe.anchor[or],rn)),_t={href:$e.url.value,text:gt("text"),target:gt("target"),rel:gt("rel"),class:gt("linkClass"),title:gt("title")},Jo={href:$e.url.value,attach:$e.url.meta!==void 0&&$e.url.meta.attach?$e.url.meta.attach:Ho};Cl.preprocess(G,_t).then(or=>{_s(G,Jo,or)}),ke.close()},Al=G=>{const pe=lt(G);return ll.collect(G,pe)},Ds=(G,pe)=>{const ke=G.anchor,$e=ke.url.getOr("");return{url:{value:$e,meta:{original:{value:$e}}},text:ke.text.getOr(""),title:ke.title.getOr(""),anchor:$e,link:$e,rel:ke.rel.getOr(""),target:ke.target.or(pe).getOr(""),linkClass:ke.linkClass.getOr("")}},Gr=(G,pe,ke)=>{const $e=[{name:"url",type:"urlinput",filetype:"file",label:"URL",picker_text:"Browse links"}],gt=G.anchor.text.map(()=>({name:"text",type:"input",label:"Text to display"})).toArray(),_t=G.flags.titleEnabled?[{name:"title",type:"input",label:"Title"}]:[],Jo=yo.from(yt(ke)),or=Ds(G,Jo),rn=G.catalogs,Xn=wl.init(or,rn);return{title:"Insert/Edit Link",size:"normal",body:{type:"panel",items:vo([$e,gt,_t,Eo([rn.anchor.map(To.createUi("anchor","Anchors")),rn.rels.map(To.createUi("rel","Rel")),rn.targets.map(To.createUi("target","Open link in...")),rn.link.map(To.createUi("link","Link list")),rn.classes.map(To.createUi("linkClass","Class"))])])},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:or,onChange:(Or,{name:Ti})=>{Xn.onChange(Or.getData,{name:Ti}).each(Wo=>{Or.setData(Wo)})},onSubmit:pe}},es=G=>{Al(G).then(ke=>{const $e=El(G,ke);return Gr(ke,$e,G)}).then(ke=>{G.windowManager.open(ke)})},ts=G=>{G.addCommand("mceLink",(pe,ke)=>{(ke==null?void 0:ke.dialog)===!0||!$(G)?es(G):G.dispatch("contexttoolbar-show",{toolbarKey:"quicklink"})})};var Xa=tinymce.util.Tools.resolve("tinymce.util.VK");const Yn=(G,pe)=>{document.body.appendChild(G),G.dispatchEvent(pe),document.body.removeChild(G)},ha=G=>{const pe=document.createElement("a");pe.target="_blank",pe.href=G,pe.rel="noreferrer noopener";const ke=document.createEvent("MouseEvents");ke.initMouseEvent("click",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),Yn(pe,ke)},La=G=>{const pe=G.selection.getRng(),ke=pe.startContainer;return Wr(ke)&&pe.startContainer===pe.endContainer&&G.dom.select("img",ke).length===1},Is=G=>G.selection.isCollapsed()||La(G)?Ea(G.dom.getParents(G.selection.getStart())):gs(G.selection.getRng()),uo=G=>Is(G)[0],qi=G=>G.altKey===!0&&G.shiftKey===!1&&G.ctrlKey===!1&&G.metaKey===!1,hs=(G,pe)=>{if(pe){const ke=tr(pe);if(/^#/.test(ke)){const $e=G.dom.select(ke);$e.length&&G.selection.scrollIntoView($e[0],!0)}else ha(pe.href)}},ls=G=>()=>{G.execCommand("mceLink",!1,{dialog:!0})},sa=G=>()=>{hs(G,uo(G))},Er=G=>{G.on("click",pe=>{const ke=Ea(G.dom.getParents(pe.target));ke.length===1&&Xa.metaKeyPressed(pe)&&(pe.preventDefault(),hs(G,ke[0]))}),G.on("keydown",pe=>{if(!pe.isDefaultPrevented()&&pe.keyCode===13&&qi(pe)){const ke=uo(G);ke&&(pe.preventDefault(),hs(G,ke))}})},jr=(G,pe)=>(G.on("NodeChange",pe),()=>G.off("NodeChange",pe)),gi=G=>pe=>{const ke=()=>{pe.setActive(!G.mode.isReadOnly()&&ro(G,G.selection.getNode())),pe.setEnabled(G.selection.isEditable())};return ke(),jr(G,ke)},mo=G=>pe=>{const ke=()=>{pe.setEnabled(G.selection.isEditable())};return ke(),jr(G,ke)},cl=G=>Is(G).length===1,Ta=G=>pe=>{const ke=()=>pe.setEnabled(cl(G));return ke(),jr(G,ke)},ur=G=>pe=>{const ke=_t=>st(_t)||ga(G.selection.getRng()),$e=G.dom.getParents(G.selection.getStart()),gt=_t=>{pe.setEnabled(ke(_t)&&G.selection.isEditable())};return gt($e),jr(G,_t=>gt(_t.parents))},Pa=G=>{G.addShortcut("Meta+K","",()=>{G.execCommand("mceLink")})},cs=G=>{G.ui.registry.addToggleButton("link",{icon:"link",tooltip:"Insert/edit link",onAction:ls(G),onSetup:gi(G),shortcut:"Meta+K"}),G.ui.registry.addButton("openlink",{icon:"new-tab",tooltip:"Open link",onAction:sa(G),onSetup:Ta(G)}),G.ui.registry.addButton("unlink",{icon:"unlink",tooltip:"Remove link",onAction:()=>al(G),onSetup:ur(G)})},Zl=G=>{G.ui.registry.addMenuItem("openlink",{text:"Open link",icon:"new-tab",onAction:sa(G),onSetup:Ta(G)}),G.ui.registry.addMenuItem("link",{icon:"link",text:"Link...",shortcut:"Meta+K",onSetup:mo(G),onAction:ls(G)}),G.ui.registry.addMenuItem("unlink",{icon:"unlink",text:"Remove link",onAction:()=>al(G),onSetup:ur(G)})},Wl=G=>{const pe="link unlink openlink",ke="link";G.ui.registry.addContextMenu("link",{update:$e=>G.dom.isEditable($e)?st(G.dom.getParents($e,"a"))?pe:ke:""})},sn=G=>{const pe=gt=>{gt.selection.collapse(!1)},ke=gt=>{const _t=G.selection.getNode();return gt.setEnabled(ro(G,_t)),Ho},$e=gt=>{const _t=lt(G),Jo=Bo(G);if(_t.isNone()&&Jo){const or=Po(G.selection,_t);return lo(or.length===0,gt)}else return yo.none()};G.ui.registry.addContextForm("quicklink",{launch:{type:"contextformtogglebutton",icon:"link",tooltip:"Link",onSetup:gi(G)},label:"Link",predicate:gt=>Tt(G)&&ro(G,gt),initValue:()=>lt(G).fold(er(""),tr),commands:[{type:"contextformtogglebutton",icon:"link",tooltip:"Link",primary:!0,onSetup:gt=>{const _t=G.selection.getNode();return gt.setActive(ro(G,_t)),gi(G)(gt)},onAction:gt=>{const _t=gt.getValue(),Jo=$e(_t);_s(G,{href:_t,attach:Ho},{href:_t,text:Jo,title:yo.none(),rel:yo.none(),target:yo.from(yt(G)),class:yo.none()}),pe(G),gt.hide()}},{type:"contextformbutton",icon:"unlink",tooltip:"Remove link",onSetup:ke,onAction:gt=>{al(G),gt.hide()}},{type:"contextformbutton",icon:"new-tab",tooltip:"Open link",onSetup:ke,onAction:gt=>{sa(G)(),gt.hide()}}]})};var ql=()=>{na.add("link",G=>{Cr(G),cs(G),Zl(G),Wl(G),sn(G),Er(G),ts(G),Pa(G)})};ql()})();(function(){var na=tinymce.util.Tools.resolve("tinymce.PluginManager");const Sa=(C,N,j)=>{var ce;return j(C,N.prototype)?!0:((ce=C.constructor)===null||ce===void 0?void 0:ce.name)===N.name},pa=C=>{const N=typeof C;return C===null?"null":N==="object"&&Array.isArray(C)?"array":N==="object"&&Sa(C,String,(j,ce)=>ce.isPrototypeOf(j))?"string":N},Qr=C=>N=>pa(N)===C,ar=C=>N=>typeof N===C,So=Qr("string"),ir=Qr("object"),lr=Qr("array"),Xo=ar("boolean"),Rn=C=>C==null,Qn=C=>!Rn(C),cr=ar("function"),Ur=ar("number"),It=()=>{},Jt=(C,N)=>j=>C(N(j)),Ho=C=>()=>C,er=(C,N)=>C===N;function ut(C,...N){return(...j)=>{const ce=N.concat(j);return C.apply(null,ce)}}const yo=C=>N=>!C(N),He=Ho(!1);class ne{constructor(N,j){this.tag=N,this.value=j}static some(N){return new ne(!0,N)}static none(){return ne.singletonNone}fold(N,j){return this.tag?j(this.value):N()}isSome(){return this.tag}isNone(){return!this.tag}map(N){return this.tag?ne.some(N(this.value)):ne.none()}bind(N){return this.tag?N(this.value):ne.none()}exists(N){return this.tag&&N(this.value)}forall(N){return!this.tag||N(this.value)}filter(N){return!this.tag||N(this.value)?this:ne.none()}getOr(N){return this.tag?this.value:N}or(N){return this.tag?this:N}getOrThunk(N){return this.tag?this.value:N()}orThunk(N){return this.tag?this:N()}getOrDie(N){if(this.tag)return this.value;throw new Error(N??"Called getOrDie on None")}static from(N){return Qn(N)?ne.some(N):ne.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(N){this.tag&&N(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}ne.singletonNone=new ne(!1);const Et=Array.prototype.slice,ve=Array.prototype.indexOf,dt=Array.prototype.push,Gn=(C,N)=>ve.call(C,N),gn=(C,N)=>Gn(C,N)>-1,vo=(C,N)=>{for(let j=0,ce=C.length;j<ce;j++){const ye=C[j];if(N(ye,j))return!0}return!1},Le=(C,N)=>{const j=C.length,ce=new Array(j);for(let ye=0;ye<j;ye++){const rt=C[ye];ce[ye]=N(rt,ye)}return ce},Lt=(C,N)=>{for(let j=0,ce=C.length;j<ce;j++){const ye=C[j];N(ye,j)}},T=(C,N)=>{const j=[];for(let ce=0,ye=C.length;ce<ye;ce++){const rt=C[ce];N(rt,ce)&&j.push(rt)}return j},Eo=(C,N)=>{if(C.length===0)return[];{let j=N(C[0]);const ce=[];let ye=[];for(let rt=0,Vt=C.length;rt<Vt;rt++){const bo=C[rt],Oo=N(bo);Oo!==j&&(ce.push(ye),ye=[]),j=Oo,ye.push(bo)}return ye.length!==0&&ce.push(ye),ce}},lo=(C,N,j)=>(Lt(C,(ce,ye)=>{j=N(j,ce,ye)}),j),Ro=(C,N,j)=>{for(let ce=0,ye=C.length;ce<ye;ce++){const rt=C[ce];if(N(rt,ce))return ne.some(rt);if(j(rt,ce))break}return ne.none()},Cr=(C,N)=>Ro(C,N,He),_e=C=>{const N=[];for(let j=0,ce=C.length;j<ce;++j){if(!lr(C[j]))throw new Error("Arr.flatten item "+j+" was not an array, input: "+C);dt.apply(N,C[j])}return N},Tt=(C,N)=>_e(Le(C,N)),un=C=>{const N=Et.call(C,0);return N.reverse(),N},yt=(C,N)=>N>=0&&N<C.length?ne.some(C[N]):ne.none(),nt=C=>yt(C,0),Ot=C=>yt(C,C.length-1),Zr=(C,N)=>{const j=[],ce=cr(N)?ye=>vo(j,rt=>N(rt,ye)):ye=>gn(j,ye);for(let ye=0,rt=C.length;ye<rt;ye++){const Vt=C[ye];ce(Vt)||j.push(Vt)}return j},kn=(C,N,j=er)=>C.exists(ce=>j(ce,N)),fn=(C,N,j=er)=>Ao(C,N,j).getOr(C.isNone()&&N.isNone()),Ao=(C,N,j)=>C.isSome()&&N.isSome()?ne.some(j(C.getOrDie(),N.getOrDie())):ne.none(),$=8,zs=9,An=11,mn=1,Ga=3,sl=(C,N)=>{const ce=(N||document).createElement("div");if(ce.innerHTML=C,!ce.hasChildNodes()||ce.childNodes.length>1){const ye="HTML does not have a single root node";throw console.error(ye,C),new Error(ye)}return To(ce.childNodes[0])},nn=(C,N)=>{const ce=(N||document).createElement(C);return To(ce)},dr=(C,N)=>{const ce=(N||document).createTextNode(C);return To(ce)},To=C=>{if(C==null)throw new Error("Node cannot be null or undefined");return{dom:C}},et={fromHtml:sl,fromTag:nn,fromText:dr,fromDom:To,fromPoint:(C,N,j)=>ne.from(C.dom.elementFromPoint(N,j)).map(To)},it=(C,N)=>{const j=C.dom;if(j.nodeType!==mn)return!1;{const ce=j;if(ce.matches!==void 0)return ce.matches(N);if(ce.msMatchesSelector!==void 0)return ce.msMatchesSelector(N);if(ce.webkitMatchesSelector!==void 0)return ce.webkitMatchesSelector(N);if(ce.mozMatchesSelector!==void 0)return ce.mozMatchesSelector(N);throw new Error("Browser lacks native selectors")}},Ye=(C,N)=>C.dom===N.dom,Qt=(C,N)=>{const j=C.dom,ce=N.dom;return j===ce?!1:j.contains(ce)},fo=it,$o=typeof window<"u"?window:Function("return this;")(),Nn=(C,N)=>{let j=N??$o;for(let ce=0;ce<C.length&&j!==void 0&&j!==null;++ce)j=j[C[ce]];return j},Kn=(C,N)=>{const j=C.split(".");return Nn(j,N)},Mn=(C,N)=>Kn(C,N),zn=(C,N)=>{const j=Mn(C,N);if(j==null)throw new Error(C+" not available on this browser");return j},Wr=Object.getPrototypeOf,qs=C=>zn("HTMLElement",C),hr=C=>{const N=Kn("ownerDocument.defaultView",C);return ir(C)&&(qs(N).prototype.isPrototypeOf(C)||/^HTML\w*Element$/.test(Wr(C).constructor.name))},tr=C=>C.dom.nodeName.toLowerCase(),Ko=C=>C.dom.nodeType,ps=C=>N=>Ko(N)===C,lt=C=>Ko(C)===$||tr(C)==="#comment",ro=C=>Po(C)&&hr(C.dom),Po=ps(mn),gs=ps(Ga),Ea=ps(zs),st=ps(An),ga=C=>N=>Po(N)&&tr(N)===C,Bo=C=>et.fromDom(C.dom.ownerDocument),Wi=C=>Ea(C)?C:Bo(C),Bn=C=>ne.from(C.dom.parentNode).map(et.fromDom),Ts=C=>ne.from(C.dom.parentElement).map(et.fromDom),kl=C=>ne.from(C.dom.nextSibling).map(et.fromDom),Ba=C=>Le(C.dom.childNodes,et.fromDom),di=(C,N)=>{const j=C.dom.childNodes;return ne.from(j[N]).map(et.fromDom)},ra=C=>di(C,0),ui=C=>di(C,C.dom.childNodes.length-1),Hn=C=>st(C)&&Qn(C.dom.host),Ka=cr(Element.prototype.attachShadow)&&cr(Node.prototype.getRootNode)?C=>et.fromDom(C.dom.getRootNode()):Wi,_s=C=>{const N=Ka(C);return Hn(N)?ne.some(N):ne.none()},al=C=>et.fromDom(C.dom.host),wt=C=>{const N=gs(C)?C.dom.parentNode:C.dom;if(N==null||N.ownerDocument===null)return!1;const j=N.ownerDocument;return _s(et.fromDom(N)).fold(()=>j.body.contains(N),Jt(wt,al))};var fi=(C,N,j,ce,ye)=>C(j,ce)?ne.some(j):cr(ye)&&ye(j)?ne.none():N(j,ce,ye);const Ul=(C,N,j)=>{let ce=C.dom;const ye=cr(j)?j:He;for(;ce.parentNode;){ce=ce.parentNode;const rt=et.fromDom(ce);if(N(rt))return ne.some(rt);if(ye(rt))break}return ne.none()},wr=(C,N,j)=>fi((ye,rt)=>rt(ye),Ul,C,N,j),od=(C,N,j)=>Ul(C,ce=>it(ce,N),j),Aa=(C,N,j)=>fi((ye,rt)=>it(ye,rt),od,C,N,j),Cs=C=>Aa(C,"[contenteditable]"),wl=(C,N=!1)=>wt(C)?C.dom.isContentEditable:Cs(C).fold(Ho(N),j=>Sr(j)==="true"),Sr=C=>C.dom.contentEditable,Os=(C,N)=>{Bn(C).each(ce=>{ce.dom.insertBefore(N.dom,C.dom)})},Ya=(C,N)=>{kl(C).fold(()=>{Bn(C).each(ye=>{za(ye,N)})},ce=>{Os(ce,N)})},_l=(C,N)=>{ra(C).fold(()=>{za(C,N)},ce=>{C.dom.insertBefore(N.dom,ce.dom)})},za=(C,N)=>{C.dom.appendChild(N.dom)},Cl=(C,N)=>{Lt(N,j=>{Os(C,j)})},il=(C,N)=>{Lt(N,j=>{za(C,j)})},_c=C=>{C.dom.textContent="",Lt(Ba(C),N=>{hn(N)})},hn=C=>{const N=C.dom;N.parentNode!==null&&N.parentNode.removeChild(N)};var Vr=tinymce.util.Tools.resolve("tinymce.dom.RangeUtils"),Gs=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker"),Sl=tinymce.util.Tools.resolve("tinymce.util.VK");const nd=C=>Le(C,et.fromDom),Bd=Object.keys,mi=(C,N)=>{const j=Bd(C);for(let ce=0,ye=j.length;ce<ye;ce++){const rt=j[ce],Vt=C[rt];N(Vt,rt)}},qr=C=>(N,j)=>{C[j]=N},Id=(C,N,j,ce)=>{mi(C,(ye,rt)=>{(N(ye,rt)?j:ce)(ye,rt)})},In=(C,N)=>{const j={};return Id(C,N,qr(j),It),j},Ln=(C,N,j)=>{if(So(j)||Xo(j)||Ur(j))C.setAttribute(N,j+"");else throw console.error("Invalid call to Attribute.set. Key ",N,":: Value ",j,":: Element ",C),new Error("Attribute value was not simple")},pi=(C,N)=>{const j=C.dom;mi(N,(ce,ye)=>{Ln(j,ye,ce)})},Ia=C=>lo(C.dom.attributes,(N,j)=>(N[j.name]=j.value,N),{}),ll=(C,N)=>et.fromDom(C.dom.cloneNode(N)),El=C=>ll(C,!0),Al=(C,N)=>{const j=et.fromTag(N),ce=Ia(C);return pi(j,ce),j},Ds=(C,N)=>{const j=Al(C,N);Ya(C,j);const ce=Ba(C);return il(j,ce),hn(C),j};var Gr=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),es=tinymce.util.Tools.resolve("tinymce.util.Tools");const ts=C=>N=>Qn(N)&&N.nodeName.toLowerCase()===C,Xa=C=>N=>Qn(N)&&C.test(N.nodeName),Yn=C=>Qn(C)&&C.nodeType===3,ha=C=>Qn(C)&&C.nodeType===1,La=Xa(/^(OL|UL|DL)$/),Is=Xa(/^(OL|UL)$/),uo=ts("ol"),qi=Xa(/^(LI|DT|DD)$/),hs=Xa(/^(DT|DD)$/),ls=Xa(/^(TH|TD)$/),sa=ts("br"),Er=C=>{var N;return((N=C.parentNode)===null||N===void 0?void 0:N.firstChild)===C},jr=(C,N)=>Qn(N)&&N.nodeName in C.schema.getTextBlockElements(),gi=(C,N)=>Qn(C)&&C.nodeName in N,mo=(C,N)=>Qn(N)&&N.nodeName in C.schema.getVoidElements(),cl=(C,N)=>sa(N)?C.isBlock(N.nextSibling)&&!sa(N.previousSibling):!1,Ta=(C,N,j)=>{const ce=C.isEmpty(N);return j&&C.select("span[data-mce-type=bookmark]",N).length>0?!1:ce},ur=(C,N)=>C.isChildOf(N,C.getRoot()),Pa=C=>N=>N.options.get(C),cs=C=>{const N=C.options.register;N("lists_indent_on_tab",{processor:"boolean",default:!0})},Zl=Pa("lists_indent_on_tab"),Wl=Pa("forced_root_block"),sn=Pa("forced_root_block_attrs"),ql=(C,N,j={})=>{const ce=C.dom,ye=C.schema.getBlockElements(),rt=ce.createFragment(),Vt=Wl(C),bo=sn(C);let Oo,Ht,mr=!1;for(Ht=ce.create(Vt,{...bo,...j.style?{style:j.style}:{}}),gi(N.firstChild,ye)||rt.appendChild(Ht);Oo=N.firstChild;){const Fr=Oo.nodeName;!mr&&(Fr!=="SPAN"||Oo.getAttribute("data-mce-type")!=="bookmark")&&(mr=!0),gi(Oo,ye)?(rt.appendChild(Oo),Ht=null):(Ht||(Ht=ce.create(Vt,bo),rt.appendChild(Ht)),Ht.appendChild(Oo))}return!mr&&Ht&&Ht.appendChild(ce.create("br",{"data-mce-bogus":"1"})),rt},G=Gr.DOM,pe=(C,N,j)=>{const ce=Ht=>{const mr=Ht.parentNode;mr&&es.each(ye,Fr=>{mr.insertBefore(Fr,j.parentNode)}),G.remove(Ht)},ye=G.select('span[data-mce-type="bookmark"]',N),rt=ql(C,j),Vt=G.createRng();Vt.setStartAfter(j),Vt.setEndAfter(N);const bo=Vt.extractContents();for(let Ht=bo.firstChild;Ht;Ht=Ht.firstChild)if(Ht.nodeName==="LI"&&C.dom.isEmpty(Ht)){G.remove(Ht);break}C.dom.isEmpty(bo)||G.insertAfter(bo,N),G.insertAfter(rt,N);const Oo=j.parentElement;Oo&&Ta(C.dom,Oo)&&ce(Oo),G.remove(j),Ta(C.dom,N)&&G.remove(N)},ke=ga("dd"),$e=ga("dt"),gt=(C,N)=>{ke(N)?Ds(N,"dt"):$e(N)&&Ts(N).each(j=>pe(C,j.dom,N.dom))},_t=C=>{$e(C)&&Ds(C,"dd")},Jo=(C,N,j)=>{N==="Indent"?Lt(j,_t):Lt(j,ce=>gt(C,ce))},or=(C,N)=>{if(Yn(C))return{container:C,offset:N};const j=Vr.getNode(C,N);return Yn(j)?{container:j,offset:N>=C.childNodes.length?j.data.length:0}:j.previousSibling&&Yn(j.previousSibling)?{container:j.previousSibling,offset:j.previousSibling.data.length}:j.nextSibling&&Yn(j.nextSibling)?{container:j.nextSibling,offset:0}:{container:C,offset:N}},rn=C=>{const N=C.cloneRange(),j=or(C.startContainer,C.startOffset);N.setStart(j.container,j.offset);const ce=or(C.endContainer,C.endOffset);return N.setEnd(ce.container,ce.offset),N},Xn=["OL","UL","DL"],Uo=Xn.join(","),Or=(C,N)=>{const j=N||C.selection.getStart(!0);return C.dom.getParent(j,Uo,At(C,j))},Ti=(C,N)=>Qn(C)&&N.length===1&&N[0]===C,Wo=C=>T(C.querySelectorAll(Uo),La),Cc=C=>{const N=Or(C),j=C.selection.getSelectedBlocks();return Ti(N,j)?Wo(N):T(j,ce=>La(ce)&&N!==ce)},Sc=(C,N)=>{const j=es.map(N,ce=>{const ye=C.dom.getParent(ce,"li,dd,dt",At(C,ce));return ye||ce});return Zr(j)},F=C=>{const N=C.selection.getSelectedBlocks();return T(Sc(C,N),qi)},Q=C=>T(F(C),hs),ue=(C,N)=>{const j=C.dom.getParents(N,"TD,TH");return j.length>0?j[0]:C.getBody()},Ne=(C,N)=>!La(N)&&!qi(N)&&vo(Xn,j=>C.isValidChild(N.nodeName,j)),At=(C,N)=>{const j=C.dom.getParents(N,C.dom.isBlock),ce=rt=>rt.nodeName.toLowerCase()!==Wl(C);return Cr(j,rt=>ce(rt)&&Ne(C.schema,rt)).getOr(C.getBody())},Qo=C=>Bn(C).exists(N=>qi(N.dom)&&ra(N).exists(j=>!La(j.dom))&&ui(N).exists(j=>!La(j.dom))),os=(C,N)=>{const j=C.dom.getParents(N,"ol,ul",At(C,N));return Ot(j)},hi=C=>{const N=os(C,C.selection.getStart()),j=T(C.selection.getSelectedBlocks(),Is);return N.toArray().concat(j)},ft=C=>{const N=C.selection.getStart();return C.dom.getParents(N,"ol,ul",At(C,N))},Gi=C=>{const N=hi(C),j=ft(C);return Cr(j,ce=>Qo(et.fromDom(ce))).fold(()=>Oi(C,N),ce=>[ce])},Oi=(C,N)=>{const j=Le(N,ce=>os(C,ce).getOr(ce));return Zr(j)},zl=C=>/\btox\-/.test(C.className),Ls=(C,N)=>Ro(C,La,ls).exists(j=>j.nodeName===N&&!zl(j)),zf=(C,N)=>N!==null&&!C.dom.isEditable(N),rd=C=>{const N=Or(C);return zf(C,N)},Ec=(C,N)=>{const j=C.dom.getParent(N,"ol,ul,dl");return zf(C,j)},Tl=(C,N)=>{const j=C.selection.getNode();return N({parents:C.dom.getParents(j),element:j}),C.on("NodeChange",N),()=>C.off("NodeChange",N)},au=(C,N)=>{const ce=document.createDocumentFragment();return Lt(C,ye=>{ce.appendChild(ye.dom)}),et.fromDom(ce)},sd=(C,N,j)=>C.dispatch("ListMutation",{action:N,element:j}),Zg=(C=>N=>N.replace(C,""))(/^\s+|\s+$/g),Wg=C=>C.length>0,pb=C=>!Wg(C),sc=C=>C.style!==void 0&&cr(C.style.getPropertyValue),Om=(C,N,j)=>{if(!So(j))throw console.error("Invalid call to CSS.set. Property ",N,":: Value ",j,":: Element ",C),new Error("CSS value must be a string: "+j);sc(C)&&C.style.setProperty(N,j)},Ld=(C,N,j)=>{const ce=C.dom;Om(ce,N,j)},Ol=C=>fo(C,"OL,UL"),Ja=C=>fo(C,"LI"),en=C=>ra(C).exists(Ol),Gl=C=>ui(C).exists(Ol),Di=C=>"listAttributes"in C,ad=C=>"isComment"in C,iu=C=>"isFragment"in C,Ri=C=>C.depth>0,ns=C=>C.isSelected,Dm=C=>{const N=Ba(C),j=Gl(C)?N.slice(0,-1):N;return Le(j,El)},Ki=(C,N,j)=>Bn(C).filter(Po).map(ce=>({depth:N,dirty:!1,isSelected:j,content:Dm(C),itemAttributes:Ia(C),listAttributes:Ia(ce),listType:tr(ce),isInPreviousLi:!1})),bs=(C,N)=>{za(C.item,N.list)},ys=C=>{for(let N=1;N<C.length;N++)bs(C[N-1],C[N])},Pn=(C,N)=>{Ao(Ot(C),nt(N),bs)},Dl=(C,N)=>{const j={list:et.fromTag(N,C),item:et.fromTag("li",C)};return za(j.list,j.item),j},Oa=(C,N,j)=>{const ce=[];for(let ye=0;ye<j;ye++)ce.push(Dl(C,Di(N)?N.listType:N.parentListType));return ce},Kl=(C,N)=>{for(let j=0;j<C.length-1;j++)Ld(C[j].item,"list-style-type","none");Ot(C).each(j=>{Di(N)&&(pi(j.list,N.listAttributes),pi(j.item,N.itemAttributes)),il(j.item,N.content)})},vs=(C,N)=>{tr(C.list)!==N.listType&&(C.list=Ds(C.list,N.listType)),pi(C.list,N.listAttributes)},Ks=(C,N,j)=>{const ce=et.fromTag("li",C);return pi(ce,N),il(ce,j),ce},Fu=(C,N)=>{za(C.list,N),C.item=N},Ss=(C,N,j)=>{const ce=N.slice(0,j.depth);return Ot(ce).each(ye=>{if(Di(j)){const rt=Ks(C,j.itemAttributes,j.content);Fu(ye,rt),vs(ye,j)}else if(iu(j))il(ye.item,j.content);else{const rt=et.fromHtml(`<!--${j.content}-->`);za(ye.list,rt)}}),ce},$n=(C,N,j)=>{const ce=Oa(C,j,j.depth-N.length);return ys(ce),Kl(ce,j),Pn(N,ce),N.concat(ce)},Rl=(C,N)=>{let j=ne.none();const ce=lo(N,(ye,rt,Vt)=>ad(rt)?Vt===0?(j=ne.some(rt),ye):Ss(C,ye,rt):rt.depth>ye.length?$n(C,ye,rt):Ss(C,ye,rt),[]);return j.each(ye=>{const rt=et.fromHtml(`<!--${ye.content}-->`);nt(ce).each(Vt=>{_l(Vt.list,rt)})}),nt(ce).map(ye=>ye.list)},Nl=(C,N)=>{switch(C){case"Indent":N.depth++;break;case"Outdent":N.depth--;break;case"Flatten":N.depth=0}N.dirty=!0},Kr=(C,N)=>{Di(C)&&Di(N)&&(C.listType=N.listType,C.listAttributes={...N.listAttributes})},eo=C=>{C.listAttributes=In(C.listAttributes,(N,j)=>j!=="start")},lu=(C,N)=>{const j=C[N].depth,ce=rt=>rt.depth===j&&!rt.dirty,ye=rt=>rt.depth<j;return Ro(un(C.slice(0,N)),ce,ye).orThunk(()=>Ro(C.slice(N+1),ce,ye))},Qa=C=>(Lt(C,(N,j)=>{lu(C,j).fold(()=>{N.dirty&&Di(N)&&eo(N)},ce=>Kr(N,ce))}),C),Vn=C=>{let N=C;return{get:()=>N,set:ye=>{N=ye}}},id=(C,N,j,ce)=>{var ye;if(lt(ce))return[{depth:C+1,content:(ye=ce.dom.nodeValue)!==null&&ye!==void 0?ye:"",dirty:!1,isSelected:!1,isComment:!0}];N.each(bo=>{Ye(bo.start,ce)&&j.set(!0)});const rt=Ki(ce,C,j.get());N.each(bo=>{Ye(bo.end,ce)&&j.set(!1)});const Vt=ui(ce).filter(Ol).map(bo=>ac(C,N,j,bo)).getOr([]);return rt.toArray().concat(Vt)},Pd=(C,N,j,ce)=>ra(ce).filter(Ol).fold(()=>id(C,N,j,ce),ye=>{const rt=lo(Ba(ce),(Vt,bo,Oo)=>{if(Oo===0)return Vt;if(Ja(bo))return Vt.concat(id(C,N,j,bo));{const Ht={isFragment:!0,depth:C,content:[bo],isSelected:!1,dirty:!1,parentListType:tr(ye)};return Vt.concat(Ht)}},[]);return ac(C,N,j,ye).concat(rt)}),ac=(C,N,j,ce)=>Tt(Ba(ce),ye=>{const rt=Ol(ye)?ac:Pd,Vt=C+1;return rt(Vt,N,j,ye)}),qo=(C,N)=>{const j=Vn(!1),ce=0;return Le(C,ye=>({sourceList:ye,entries:ac(ce,N,j,ye)}))},ei=(C,N)=>{const j=Qa(N);return Le(j,ce=>{const ye=ad(ce)?au([et.fromHtml(`<!--${ce.content}-->`)]):au(ce.content),rt=Di(ce)?ce.itemAttributes:{};return et.fromDom(ql(C,ye.dom,rt))})},Tf=(C,N)=>{const j=Qa(N);return Rl(C.contentDocument,j).toArray()},Of=(C,N)=>Tt(Eo(N,Ri),j=>nt(j).exists(Ri)?Tf(C,j):ei(C,j)),Fd=(C,N)=>{Lt(T(C,ns),j=>Nl(N,j))},dl=C=>{const N=Le(F(C),et.fromDom);return Ao(Cr(N,yo(en)),Cr(un(N),yo(en)),(j,ce)=>({start:j,end:ce}))},Hd=(C,N,j)=>{const ce=qo(N,dl(C));Lt(ce,ye=>{Fd(ye.entries,j);const rt=Of(C,ye.entries);Lt(rt,Vt=>{sd(C,j==="Indent"?"IndentList":"OutdentList",Vt.dom)}),Cl(ye.sourceList,rt),hn(ye.sourceList)})},fe=(C,N)=>{const j=nd(Gi(C)),ce=nd(Q(C));let ye=!1;if(j.length||ce.length){const rt=C.selection.getBookmark();Hd(C,j,N),Jo(C,N,ce),C.selection.moveToBookmark(rt),C.selection.setRng(rn(C.selection.getRng())),C.nodeChanged(),ye=!0}return ye},ld=(C,N)=>!rd(C)&&fe(C,N),ti=C=>ld(C,"Indent"),Hu=C=>ld(C,"Outdent"),Ir=C=>ld(C,"Flatten"),Bp="\uFEFF",an=C=>C===Bp,bi=(C,N,j)=>Ul(C,N,j).isSome(),$u=(C,N)=>bi(C,ut(Ye,N));var Ni=tinymce.util.Tools.resolve("tinymce.dom.BookmarkManager");const ic=Gr.DOM,Mi=C=>{const N={},j=ce=>{let ye=C[ce?"startContainer":"endContainer"],rt=C[ce?"startOffset":"endOffset"];if(ha(ye)){const Vt=ic.create("span",{"data-mce-type":"bookmark"});ye.hasChildNodes()?(rt=Math.min(rt,ye.childNodes.length-1),ce?ye.insertBefore(Vt,ye.childNodes[rt]):ic.insertAfter(Vt,ye.childNodes[rt])):ye.appendChild(Vt),ye=Vt,rt=0}N[ce?"startContainer":"endContainer"]=ye,N[ce?"startOffset":"endOffset"]=rt};return j(!0),C.collapsed||j(),N},aa=C=>{const N=ce=>{const ye=bo=>{var Oo;let Ht=(Oo=bo.parentNode)===null||Oo===void 0?void 0:Oo.firstChild,mr=0;for(;Ht;){if(Ht===bo)return mr;(!ha(Ht)||Ht.getAttribute("data-mce-type")!=="bookmark")&&mr++,Ht=Ht.nextSibling}return-1};let rt=C[ce?"startContainer":"endContainer"],Vt=C[ce?"startOffset":"endOffset"];if(rt){if(ha(rt)&&rt.parentNode){const bo=rt;Vt=ye(rt),rt=rt.parentNode,ic.remove(bo),!rt.hasChildNodes()&&ic.isBlock(rt)&&rt.appendChild(ic.create("br"))}C[ce?"startContainer":"endContainer"]=rt,C[ce?"startOffset":"endOffset"]=Vt}};N(!0),N();const j=ic.createRng();return j.setStart(C.startContainer,C.startOffset),C.endContainer&&j.setEnd(C.endContainer,C.endOffset),rn(j)},ul=C=>{switch(C){case"UL":return"ToggleUlList";case"OL":return"ToggleOlList";case"DL":return"ToggleDLList"}},cu=(C,N,j)=>{const ce=j["list-style-type"]?j["list-style-type"]:null;C.setStyle(N,"list-style-type",ce)},Rm=(C,N)=>{es.each(N,(j,ce)=>{C.setAttribute(ce,j)})},Ml=(C,N,j)=>{Rm(N,j["list-attributes"]),es.each(C.select("li",N),ce=>{Rm(ce,j["list-item-attributes"])})},lc=(C,N,j)=>{cu(C,N,j),Ml(C,N,j)},Bi=(C,N,j)=>{es.each(j,ce=>C.setStyle(N,ce,""))},to=(C,N)=>Qn(N)&&!gi(N,C.schema.getBlockElements()),ds=(C,N,j,ce)=>{let ye=N[j?"startContainer":"endContainer"];const rt=N[j?"startOffset":"endOffset"];ha(ye)&&(ye=ye.childNodes[Math.min(rt,ye.childNodes.length-1)]||ye),!j&&sa(ye.nextSibling)&&(ye=ye.nextSibling);const Vt=Oo=>{for(;!C.dom.isBlock(Oo)&&Oo.parentNode&&ce!==Oo;)Oo=Oo.parentNode;return Oo},bo=(Oo,Ht)=>{var mr;const Fr=new Gs(Oo,Vt(Oo)),$a=Ht?"next":"prev";let xi;for(;xi=Fr[$a]();)if(!(mo(C,xi)||an(xi.textContent)||((mr=xi.textContent)===null||mr===void 0?void 0:mr.length)===0))return ne.some(xi);return ne.none()};if(j&&Yn(ye))if(an(ye.textContent))ye=bo(ye,!1).getOr(ye);else for(ye.parentNode!==null&&to(C,ye.parentNode)&&(ye=ye.parentNode);ye.previousSibling!==null&&(to(C,ye.previousSibling)||Yn(ye.previousSibling));)ye=ye.previousSibling;if(!j&&Yn(ye))if(an(ye.textContent))ye=bo(ye,!0).getOr(ye);else for(ye.parentNode!==null&&to(C,ye.parentNode)&&(ye=ye.parentNode);ye.nextSibling!==null&&(to(C,ye.nextSibling)||Yn(ye.nextSibling));)ye=ye.nextSibling;for(;ye.parentNode!==ce;){const Oo=ye.parentNode;if(jr(C,ye)||/^(TD|TH)$/.test(Oo.nodeName))return ye;ye=Oo}return ye},cd=(C,N,j)=>{const ce=[],ye=C.dom,rt=ds(C,N,!0,j),Vt=ds(C,N,!1,j);let bo;const Oo=[];for(let Ht=rt;Ht&&(Oo.push(Ht),Ht!==Vt);Ht=Ht.nextSibling);return es.each(Oo,Ht=>{var mr;if(jr(C,Ht)){ce.push(Ht),bo=null;return}if(ye.isBlock(Ht)||sa(Ht)){sa(Ht)&&ye.remove(Ht),bo=null;return}const Fr=Ht.nextSibling;if(Ni.isBookmarkNode(Ht)&&(La(Fr)||jr(C,Fr)||!Fr&&Ht.parentNode===j)){bo=null;return}bo||(bo=ye.create("p"),(mr=Ht.parentNode)===null||mr===void 0||mr.insertBefore(bo,Ht),ce.push(bo)),bo.appendChild(Ht)}),ce},Nm=(C,N,j)=>{const ce=C.getStyle(N,"list-style-type");let ye=j?j["list-style-type"]:"";return ye=ye===null?"":ye,ce===ye},du=(C,N)=>{const j=C.selection.getStart(!0),ce=ds(C,N,!0,C.getBody());return $u(et.fromDom(ce),et.fromDom(N.commonAncestorContainer))?N.commonAncestorContainer:j},yi=(C,N,j)=>{const ce=C.selection.getRng();let ye="LI";const rt=At(C,du(C,ce)),Vt=C.dom;if(Vt.getContentEditable(C.selection.getNode())==="false")return;N=N.toUpperCase(),N==="DL"&&(ye="DT");const bo=Mi(ce),Oo=T(cd(C,ce,rt),C.dom.isEditable);es.each(Oo,Ht=>{let mr;const Fr=Ht.previousSibling,$a=Ht.parentNode;qi($a)||(Fr&&La(Fr)&&Fr.nodeName===N&&Nm(Vt,Fr,j)?(mr=Fr,Ht=Vt.rename(Ht,ye),Fr.appendChild(Ht)):(mr=Vt.create(N),$a.insertBefore(mr,Ht),mr.appendChild(Ht),Ht=Vt.rename(Ht,ye)),Bi(Vt,Ht,["margin","margin-right","margin-bottom","margin-left","margin-top","padding","padding-right","padding-bottom","padding-left","padding-top"]),lc(Vt,mr,j),cc(C.dom,mr))}),C.selection.setRng(aa(bo))},Vu=(C,N)=>La(C)&&C.nodeName===(N==null?void 0:N.nodeName),uu=(C,N,j)=>{const ce=C.getStyle(N,"list-style-type",!0),ye=C.getStyle(j,"list-style-type",!0);return ce===ye},Ps=(C,N)=>C.className===N.className,dd=(C,N,j)=>Vu(N,j)&&uu(C,N,j)&&Ps(N,j),cc=(C,N)=>{let j,ce=N.nextSibling;if(dd(C,N,ce)){const ye=ce;for(;j=ye.firstChild;)N.appendChild(j);C.remove(ye)}if(ce=N.previousSibling,dd(C,N,ce)){const ye=ce;for(;j=ye.lastChild;)N.insertBefore(j,N.firstChild);C.remove(ye)}},Ac=(C,N,j,ce)=>{if(N.nodeName!==j){const ye=C.dom.rename(N,j);lc(C.dom,ye,ce),sd(C,ul(j),ye)}else lc(C.dom,N,ce),sd(C,ul(j),N)},Df=(C,N,j,ce)=>{if(N.classList.forEach((ye,rt,Vt)=>{ye.startsWith("tox-")&&(Vt.remove(ye),Vt.length===0&&N.removeAttribute("class"))}),N.nodeName!==j){const ye=C.dom.rename(N,j);lc(C.dom,ye,ce),sd(C,ul(j),ye)}else lc(C.dom,N,ce),sd(C,ul(j),N)},$d=(C,N,j,ce,ye)=>{const rt=La(N);if(rt&&N.nodeName===ce&&!zc(ye)&&!zl(N))Ir(C);else{yi(C,ce,ye);const Vt=Mi(C.selection.getRng()),bo=rt?[N,...j]:j,Oo=rt&&zl(N)?Df:Ac;es.each(bo,Ht=>{Oo(C,Ht,ce,ye)}),C.selection.setRng(aa(Vt))}},zc=C=>"list-style-type"in C,ju=(C,N,j,ce)=>{if(N!==C.getBody())if(N)if(N.nodeName===j&&!zc(ce)&&!zl(N))Ir(C);else{const ye=Mi(C.selection.getRng());zl(N)&&N.classList.forEach((Vt,bo,Oo)=>{Vt.startsWith("tox-")&&(Oo.remove(Vt),Oo.length===0&&N.removeAttribute("class"))}),lc(C.dom,N,ce);const rt=C.dom.rename(N,j);cc(C.dom,rt),C.selection.setRng(aa(ye)),yi(C,j,ce),sd(C,ul(j),rt)}else yi(C,j,ce),sd(C,ul(j),N)},Lr=(C,N,j)=>{const ce=Or(C);if(Ec(C,ce))return;const ye=Cc(C),rt=ir(j)?j:{};ye.length>0?$d(C,ce,ye,N,rt):ju(C,ce,N,rt)},Yi=Gr.DOM,ia=(C,N)=>{const j=N.parentElement;if(j&&j.nodeName==="LI"&&j.firstChild===N){const ce=j.previousSibling;ce&&ce.nodeName==="LI"?(ce.appendChild(N),Ta(C,j)&&Yi.remove(j)):Yi.setStyle(j,"listStyleType","none")}if(La(j)){const ce=j.previousSibling;ce&&ce.nodeName==="LI"&&ce.appendChild(N)}},dc=(C,N)=>{const j=es.grep(C.select("ol,ul",N));es.each(j,ce=>{ia(C,ce)})},xs=(C,N,j,ce)=>{let ye=N.startContainer;const rt=N.startOffset;if(Yn(ye)&&(j?rt<ye.data.length:rt>0))return ye;const Vt=C.schema.getNonEmptyElements();ha(ye)&&(ye=Vr.getNode(ye,rt));const bo=new Gs(ye,ce);j&&cl(C.dom,ye)&&bo.next();const Oo=j?bo.next.bind(bo):bo.prev2.bind(bo);for(;ye=Oo();)if(ye.nodeName==="LI"&&!ye.hasChildNodes()||Vt[ye.nodeName]||Yn(ye)&&ye.data.length>0)return ye;return null},fl=(C,N)=>{const j=N.childNodes;return j.length===1&&!La(j[0])&&C.isBlock(j[0])},la=C=>ne.from(C).map(et.fromDom).filter(ro).exists(N=>wl(N)&&!gn(["details"],tr(N))),ba=(C,N)=>{fl(C,N)&&la(N.firstChild)&&C.remove(N.firstChild,!0)},Vd=(C,N,j)=>{let ce;const ye=fl(C,j)?j.firstChild:j;if(ba(C,N),!Ta(C,N,!0))for(;ce=N.firstChild;)ye.appendChild(ce)},Ze=(C,N,j)=>{let ce;const ye=N.parentNode;if(!ur(C,N)||!ur(C,j))return;La(j.lastChild)&&(ce=j.lastChild),ye===j.lastChild&&sa(ye.previousSibling)&&C.remove(ye.previousSibling);const rt=j.lastChild;rt&&sa(rt)&&N.hasChildNodes()&&C.remove(rt),Ta(C,j,!0)&&_c(et.fromDom(j)),Vd(C,N,j),ce&&j.appendChild(ce);const bo=Qt(et.fromDom(j),et.fromDom(N))?C.getParents(N,La,j):[];C.remove(N),Lt(bo,Oo=>{Ta(C,Oo)&&Oo!==C.getRoot()&&C.remove(Oo)})},ya=(C,N,j)=>{_c(et.fromDom(j)),Ze(C.dom,N,j),C.selection.setCursorLocation(j,0)},jd=(C,N,j,ce)=>{const ye=C.dom;if(ye.isEmpty(ce))ya(C,j,ce);else{const rt=Mi(N);Ze(ye,j,ce),C.selection.setRng(aa(rt))}},rs=(C,N,j,ce)=>{const ye=Mi(N);Ze(C.dom,j,ce);const rt=aa(ye);C.selection.setRng(rt)},Ii=(C,N)=>{const j=C.dom,ce=C.selection,ye=ce.getStart(),rt=ue(C,ye),Vt=j.getParent(ce.getStart(),"LI",rt);if(Vt){const bo=Vt.parentElement;if(bo===C.getBody()&&Ta(j,bo))return!0;const Oo=rn(ce.getRng()),Ht=j.getParent(xs(C,Oo,N,rt),"LI",rt),mr=Ht&&(N?j.isChildOf(Vt,Ht):j.isChildOf(Ht,Vt));if(Ht&&Ht!==Vt&&!mr)return C.undoManager.transact(()=>{N?jd(C,Oo,Ht,Vt):Er(Vt)?Hu(C):rs(C,Oo,Vt,Ht)}),!0;if(mr&&!N&&Ht!==Vt)return C.undoManager.transact(()=>{if(Oo.commonAncestorContainer.parentElement){const Fr=Mi(Oo),$a=Oo.commonAncestorContainer.parentElement;Vd(j,Oo.commonAncestorContainer.parentElement,Ht),$a.remove();const xi=aa(Fr);C.selection.setRng(xi)}}),!0;if(!Ht&&!N&&Oo.startOffset===0&&Oo.endOffset===0)return C.undoManager.transact(()=>{Ir(C)}),!0}return!1},Bl=(C,N,j)=>{const ce=C.getParent(N.parentNode,C.isBlock,j);C.remove(N),ce&&C.isEmpty(ce)&&C.remove(ce)},Il=(C,N)=>{const j=C.dom,ce=C.selection.getStart(),ye=ue(C,ce),rt=j.getParent(ce,j.isBlock,ye);if(rt&&j.isEmpty(rt,void 0,{checkRootAsContent:!0})){const Vt=rn(C.selection.getRng()),bo=j.getParent(xs(C,Vt,N,ye),"LI",ye);if(bo){const Oo=$a=>gn(["td","th","caption"],tr($a)),Ht=$a=>$a.dom===ye,mr=wr(et.fromDom(bo),Oo,Ht),Fr=wr(et.fromDom(Vt.startContainer),Oo,Ht);return fn(mr,Fr,Ye)?(C.undoManager.transact(()=>{const $a=bo.parentNode;Bl(j,rt,ye),cc(j,$a),C.selection.select(bo,!0),C.selection.collapse(N)}),!0):!1}}return!1},Uu=(C,N)=>Ii(C,N)||Il(C,N),Fa=C=>{const N=C.selection.getStart(),j=ue(C,N);return C.dom.getParent(N,"LI,DT,DD",j)||F(C).length>0},wn=C=>Fa(C)?(C.undoManager.transact(()=>{C.execCommand("Delete"),dc(C.dom,C.getBody())}),!0):!1,oi=(C,N)=>{const j=C.selection;return!Ec(C,j.getNode())&&(j.isCollapsed()?Uu(C,N):wn(C))},Fs=C=>{C.on("ExecCommand",N=>{const j=N.command.toLowerCase();(j==="delete"||j==="forwarddelete")&&Fa(C)&&dc(C.dom,C.getBody())}),C.on("keydown",N=>{N.keyCode===Sl.BACKSPACE?oi(C,!1)&&N.preventDefault():N.keyCode===Sl.DELETE&&oi(C,!0)&&N.preventDefault()})},Da=C=>({backspaceDelete:N=>{oi(C,N)}}),fu=(C,N)=>{const j=Or(C);j===null||Ec(C,j)||C.undoManager.transact(()=>{ir(N.styles)&&C.dom.setStyles(j,N.styles),ir(N.attrs)&&mi(N.attrs,(ce,ye)=>C.dom.setAttrib(j,ye,ce))})},ml=C=>{const N=un(Zg(C).split("")),j=Le(N,(ce,ye)=>{const rt=ce.toUpperCase().charCodeAt(0)-65+1;return Math.pow(26,ye)*rt});return lo(j,(ce,ye)=>ce+ye,0)},Ud=C=>{if(C--,C<0)return"";{const N=C%26,j=Math.floor(C/26),ce=Ud(j),ye=String.fromCharCode(65+N);return ce+ye}},Li=C=>/^[A-Z]+$/.test(C),Ae=C=>/^[a-z]+$/.test(C),Hs=C=>/^[0-9]+$/.test(C),Tc=C=>Hs(C)?2:Li(C)?0:Ae(C)?1:pb(C)?3:4,Dr=C=>{switch(Tc(C)){case 2:return ne.some({listStyleType:ne.none(),start:C});case 0:return ne.some({listStyleType:ne.some("upper-alpha"),start:ml(C).toString()});case 1:return ne.some({listStyleType:ne.some("lower-alpha"),start:ml(C).toString()});case 3:return ne.some({listStyleType:ne.none(),start:""});case 4:return ne.none()}},Ll=C=>{const N=parseInt(C.start,10);return kn(C.listStyleType,"upper-alpha")?Ud(N):kn(C.listStyleType,"lower-alpha")?Ud(N).toLowerCase():C.start},Ha=C=>{const N=Or(C);!uo(N)||Ec(C,N)||C.windowManager.open({title:"List Properties",body:{type:"panel",items:[{type:"input",name:"start",label:"Start list at number",inputMode:"numeric"}]},initialData:{start:Ll({start:C.dom.getAttrib(N,"start","1"),listStyleType:ne.from(C.dom.getStyle(N,"list-style-type"))})},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],onSubmit:j=>{const ce=j.getData();Dr(ce.start).each(ye=>{C.execCommand("mceListUpdate",!1,{attrs:{start:ye.start==="1"?"":ye.start},styles:{"list-style-type":ye.listStyleType.getOr("")}})}),j.close()}})},_r=(C,N)=>()=>{const j=Or(C);return Qn(j)&&j.nodeName===N},ni=C=>{C.addCommand("mceListProps",()=>{Ha(C)})},fr=C=>{C.on("BeforeExecCommand",N=>{const j=N.command.toLowerCase();j==="indent"?ti(C):j==="outdent"&&Hu(C)}),C.addCommand("InsertUnorderedList",(N,j)=>{Lr(C,"UL",j)}),C.addCommand("InsertOrderedList",(N,j)=>{Lr(C,"OL",j)}),C.addCommand("InsertDefinitionList",(N,j)=>{Lr(C,"DL",j)}),C.addCommand("RemoveList",()=>{Ir(C)}),ni(C),C.addCommand("mceListUpdate",(N,j)=>{ir(j)&&fu(C,j)}),C.addQueryStateHandler("InsertUnorderedList",_r(C,"UL")),C.addQueryStateHandler("InsertOrderedList",_r(C,"OL")),C.addQueryStateHandler("InsertDefinitionList",_r(C,"DL"))};var Pr=tinymce.util.Tools.resolve("tinymce.html.Node");const Xi=C=>C.type===3,Ji=C=>C.length===0,ud=C=>{const N=(ye,rt)=>{const Vt=Pr.create("li");Lt(ye,bo=>Vt.append(bo)),rt?C.insert(Vt,rt,!0):C.append(Vt)},j=(ye,rt)=>Xi(rt)?[...ye,rt]:!Ji(ye)&&!Xi(rt)?(N(ye,rt),[]):ye,ce=lo(C.children(),j,[]);Ji(ce)||N(ce)},Oc=C=>{C.on("PreInit",()=>{const{parser:N}=C;N.addNodeFilter("ul,ol",j=>Lt(j,ud))})},Zd=C=>{C.on("keydown",N=>{N.keyCode!==Sl.TAB||Sl.metaKeyPressed(N)||C.undoManager.transact(()=>{(N.shiftKey?Hu(C):ti(C))&&N.preventDefault()})})},Rf=C=>{Zl(C)&&Zd(C),Fs(C)},Mm=(C,N)=>j=>{const ce=ye=>{j.setActive(Ls(ye.parents,N)),j.setEnabled(!Ec(C,ye.element)&&C.selection.isEditable())};return j.setEnabled(C.selection.isEditable()),Tl(C,ce)},fd=C=>{const N=j=>()=>C.execCommand(j);C.hasPlugin("advlist")||(C.ui.registry.addToggleButton("numlist",{icon:"ordered-list",active:!1,tooltip:"Numbered list",onAction:N("InsertOrderedList"),onSetup:Mm(C,"OL")}),C.ui.registry.addToggleButton("bullist",{icon:"unordered-list",active:!1,tooltip:"Bullet list",onAction:N("InsertUnorderedList"),onSetup:Mm(C,"UL")}))},Rs=(C,N)=>j=>Tl(C,ye=>j.setEnabled(Ls(ye.parents,N)&&!Ec(C,ye.element))),vi=C=>{const N={text:"List properties...",icon:"ordered-list",onAction:()=>C.execCommand("mceListProps"),onSetup:Rs(C,"OL")};C.ui.registry.addMenuItem("listprops",N),C.ui.registry.addContextMenu("lists",{update:j=>{const ce=Or(C,j);return uo(ce)?["listprops"]:[]}})};var md=()=>{na.add("lists",C=>(cs(C),Oc(C),C.hasPlugin("rtc",!0)?ni(C):(Rf(C),fr(C)),fd(C),vi(C),Da(C)))};md()})();(function(){var na=tinymce.util.Tools.resolve("tinymce.PluginManager");const Sa=Object.getPrototypeOf,pa=(F,Q,ue)=>{var Ne;return ue(F,Q.prototype)?!0:((Ne=F.constructor)===null||Ne===void 0?void 0:Ne.name)===Q.name},Qr=F=>{const Q=typeof F;return F===null?"null":Q==="object"&&Array.isArray(F)?"array":Q==="object"&&pa(F,String,(ue,Ne)=>Ne.isPrototypeOf(ue))?"string":Q},ar=F=>Q=>Qr(Q)===F,So=F=>Q=>typeof Q===F,ir=F=>Q=>F===Q,lr=(F,Q)=>Rn(F)&&pa(F,Q,(ue,Ne)=>Sa(ue)===Ne),Xo=ar("string"),Rn=ar("object"),Qn=F=>lr(F,Object),cr=ar("array"),Ur=ir(null),It=So("boolean"),Jt=F=>F==null,Ho=F=>!Jt(F),er=So("function"),ut=So("number"),yo=(F,Q)=>{if(cr(F)){for(let ue=0,Ne=F.length;ue<Ne;++ue)if(!Q(F[ue]))return!1;return!0}return!1},He=()=>{};class ne{constructor(Q,ue){this.tag=Q,this.value=ue}static some(Q){return new ne(!0,Q)}static none(){return ne.singletonNone}fold(Q,ue){return this.tag?ue(this.value):Q()}isSome(){return this.tag}isNone(){return!this.tag}map(Q){return this.tag?ne.some(Q(this.value)):ne.none()}bind(Q){return this.tag?Q(this.value):ne.none()}exists(Q){return this.tag&&Q(this.value)}forall(Q){return!this.tag||Q(this.value)}filter(Q){return!this.tag||Q(this.value)?this:ne.none()}getOr(Q){return this.tag?this.value:Q}or(Q){return this.tag?this:Q}getOrThunk(Q){return this.tag?this.value:Q()}orThunk(Q){return this.tag?this:Q()}getOrDie(Q){if(this.tag)return this.value;throw new Error(Q??"Called getOrDie on None")}static from(Q){return Ho(Q)?ne.some(Q):ne.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(Q){this.tag&&Q(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}ne.singletonNone=new ne(!1);const Et=Object.keys,ve=Object.hasOwnProperty,dt=(F,Q)=>{const ue=Et(F);for(let Ne=0,At=ue.length;Ne<At;Ne++){const Qo=ue[Ne],os=F[Qo];Q(os,Qo)}},Gn=F=>(Q,ue)=>{F[ue]=Q},gn=(F,Q,ue,Ne)=>{dt(F,(At,Qo)=>{(Q(At,Qo)?ue:Ne)(At,Qo)})},vo=(F,Q)=>{const ue={};return gn(F,Q,Gn(ue),He),ue},Le=(F,Q)=>ve.call(F,Q),Lt=(F,Q)=>Le(F,Q)&&F[Q]!==void 0&&F[Q]!==null,T=Array.prototype.push,Eo=F=>{const Q=[];for(let ue=0,Ne=F.length;ue<Ne;++ue){if(!cr(F[ue]))throw new Error("Arr.flatten item "+ue+" was not an array, input: "+F);T.apply(Q,F[ue])}return Q},lo=(F,Q)=>Q>=0&&Q<F.length?ne.some(F[Q]):ne.none(),Ro=F=>lo(F,0),Cr=(F,Q)=>{for(let ue=0;ue<F.length;ue++){const Ne=Q(F[ue],ue);if(Ne.isSome())return Ne}return ne.none()};typeof window<"u"||Function("return this;")();const _e=(F,Q,ue)=>{if(Xo(ue)||It(ue)||ut(ue))F.setAttribute(Q,ue+"");else throw console.error("Invalid call to Attribute.set. Key ",Q,":: Value ",ue,":: Element ",F),new Error("Attribute value was not simple")},Tt=(F,Q,ue)=>{_e(F.dom,Q,ue)},un=(F,Q)=>{F.dom.removeAttribute(Q)},yt=(F,Q)=>{const Ne=(Q||document).createElement("div");if(Ne.innerHTML=F,!Ne.hasChildNodes()||Ne.childNodes.length>1){const At="HTML does not have a single root node";throw console.error(At,F),new Error(At)}return Zr(Ne.childNodes[0])},nt=(F,Q)=>{const Ne=(Q||document).createElement(F);return Zr(Ne)},Ot=(F,Q)=>{const Ne=(Q||document).createTextNode(F);return Zr(Ne)},Zr=F=>{if(F==null)throw new Error("Node cannot be null or undefined");return{dom:F}},fn={fromHtml:yt,fromTag:nt,fromText:Ot,fromDom:Zr,fromPoint:(F,Q,ue)=>ne.from(F.dom.elementFromPoint(Q,ue)).map(Zr)};var Ao=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),$=tinymce.util.Tools.resolve("tinymce.util.URI");const zs=F=>F.length>0,An=F=>Q=>Q.options.get(F),mn=F=>{const Q=F.options.register;Q("image_dimensions",{processor:"boolean",default:!0}),Q("image_advtab",{processor:"boolean",default:!1}),Q("image_uploadtab",{processor:"boolean",default:!0}),Q("image_prepend_url",{processor:"string",default:""}),Q("image_class_list",{processor:"object[]"}),Q("image_description",{processor:"boolean",default:!0}),Q("image_title",{processor:"boolean",default:!1}),Q("image_caption",{processor:"boolean",default:!1}),Q("image_list",{processor:ue=>{const Ne=ue===!1||Xo(ue)||yo(ue,Rn)||er(ue);return Ne?{value:ue,valid:Ne}:{valid:!1,message:"Must be false, a string, an array or a function."}},default:!1})},Ga=An("image_dimensions"),sl=An("image_advtab"),nn=An("image_uploadtab"),dr=An("image_prepend_url"),To=An("image_class_list"),We=An("image_description"),et=An("image_title"),it=An("image_caption"),Ye=An("image_list"),Qt=An("a11y_advanced_options"),fo=An("automatic_uploads"),$o=F=>zs(F.options.get("images_upload_url")),Nn=F=>Ho(F.options.get("images_upload_handler")),Kn=(F,Q)=>Math.max(parseInt(F,10),parseInt(Q,10)),Mn=F=>new Promise(Q=>{const ue=document.createElement("img"),Ne=Qo=>{ue.onload=ue.onerror=null,ue.parentNode&&ue.parentNode.removeChild(ue),Q(Qo)};ue.onload=()=>{const Qo=Kn(ue.width,ue.clientWidth),os=Kn(ue.height,ue.clientHeight),hi={width:Qo,height:os};Ne(Promise.resolve(hi))},ue.onerror=()=>{Ne(Promise.reject(`Failed to get image dimensions for: ${F}`))};const At=ue.style;At.visibility="hidden",At.position="fixed",At.bottom=At.left="0px",At.width=At.height="auto",document.body.appendChild(ue),ue.src=F}),zn=F=>(F&&(F=F.replace(/px$/,"")),F),Wr=F=>(F.length>0&&/^[0-9]+$/.test(F)&&(F+="px"),F),qs=F=>{if(F.margin){const Q=String(F.margin).split(" ");switch(Q.length){case 1:F["margin-top"]=F["margin-top"]||Q[0],F["margin-right"]=F["margin-right"]||Q[0],F["margin-bottom"]=F["margin-bottom"]||Q[0],F["margin-left"]=F["margin-left"]||Q[0];break;case 2:F["margin-top"]=F["margin-top"]||Q[0],F["margin-right"]=F["margin-right"]||Q[1],F["margin-bottom"]=F["margin-bottom"]||Q[0],F["margin-left"]=F["margin-left"]||Q[1];break;case 3:F["margin-top"]=F["margin-top"]||Q[0],F["margin-right"]=F["margin-right"]||Q[1],F["margin-bottom"]=F["margin-bottom"]||Q[2],F["margin-left"]=F["margin-left"]||Q[1];break;case 4:F["margin-top"]=F["margin-top"]||Q[0],F["margin-right"]=F["margin-right"]||Q[1],F["margin-bottom"]=F["margin-bottom"]||Q[2],F["margin-left"]=F["margin-left"]||Q[3]}delete F.margin}return F},hr=(F,Q)=>{const ue=Ye(F);Xo(ue)?fetch(ue).then(Ne=>{Ne.ok&&Ne.json().then(Q)}):er(ue)?ue(Q):Q(ue)},tr=(F,Q,ue)=>{const Ne=()=>{ue.onload=ue.onerror=null,F.selection&&(F.selection.select(ue),F.nodeChanged())};ue.onload=()=>{!Q.width&&!Q.height&&Ga(F)&&F.dom.setAttribs(ue,{width:String(ue.clientWidth),height:String(ue.clientHeight)}),Ne()},ue.onerror=Ne},Ko=F=>new Promise((Q,ue)=>{const Ne=new FileReader;Ne.onload=()=>{Q(Ne.result)},Ne.onerror=()=>{var At;ue((At=Ne.error)===null||At===void 0?void 0:At.message)},Ne.readAsDataURL(F)}),ps=F=>F.nodeName==="IMG"&&(F.hasAttribute("data-mce-object")||F.hasAttribute("data-mce-placeholder")),lt=(F,Q)=>{const ue=F.options.get;return $.isDomSafe(Q,"img",{allow_html_data_urls:ue("allow_html_data_urls"),allow_script_urls:ue("allow_script_urls"),allow_svg_data_urls:ue("allow_svg_data_urls")})},ro=Ao.DOM,Po=F=>F.style.marginLeft&&F.style.marginRight&&F.style.marginLeft===F.style.marginRight?zn(F.style.marginLeft):"",gs=F=>F.style.marginTop&&F.style.marginBottom&&F.style.marginTop===F.style.marginBottom?zn(F.style.marginTop):"",Ea=F=>F.style.borderWidth?zn(F.style.borderWidth):"",st=(F,Q)=>{var ue;return F.hasAttribute(Q)&&(ue=F.getAttribute(Q))!==null&&ue!==void 0?ue:""},ga=F=>F.parentNode!==null&&F.parentNode.nodeName==="FIGURE",Bo=(F,Q,ue)=>{ue===""||ue===null?F.removeAttribute(Q):F.setAttribute(Q,ue)},Wi=F=>{const Q=ro.create("figure",{class:"image"});ro.insertAfter(Q,F),Q.appendChild(F),Q.appendChild(ro.create("figcaption",{contentEditable:"true"},"Caption")),Q.contentEditable="false"},Bn=F=>{const Q=F.parentNode;Ho(Q)&&(ro.insertAfter(F,Q),ro.remove(Q))},Ts=F=>{ga(F)?Bn(F):Wi(F)},kl=(F,Q)=>{const ue=F.getAttribute("style"),Ne=Q(ue!==null?ue:"");Ne.length>0?(F.setAttribute("style",Ne),F.setAttribute("data-mce-style",Ne)):F.removeAttribute("style")},Ba=(F,Q)=>(ue,Ne,At)=>{const Qo=ue.style;Qo[Ne]?(Qo[Ne]=Wr(At),kl(ue,Q)):Bo(ue,Ne,At)},di=(F,Q)=>F.style[Q]?zn(F.style[Q]):st(F,Q),ra=(F,Q)=>{const ue=Wr(Q);F.style.marginLeft=ue,F.style.marginRight=ue},ui=(F,Q)=>{const ue=Wr(Q);F.style.marginTop=ue,F.style.marginBottom=ue},Hn=(F,Q)=>{const ue=Wr(Q);F.style.borderWidth=ue},xo=(F,Q)=>{F.style.borderStyle=Q},Ka=F=>{var Q;return(Q=F.style.borderStyle)!==null&&Q!==void 0?Q:""},_s=F=>Ho(F)&&F.nodeName==="FIGURE",al=F=>F.nodeName==="IMG",wt=F=>ro.getAttrib(F,"alt").length===0&&ro.getAttrib(F,"role")==="presentation",fi=F=>wt(F)?"":st(F,"alt"),Ul=()=>({src:"",alt:"",title:"",width:"",height:"",class:"",style:"",caption:!1,hspace:"",vspace:"",border:"",borderStyle:"",isDecorative:!1}),wr=(F,Q)=>{var ue;const Ne=document.createElement("img");return Bo(Ne,"style",Q.style),(Po(Ne)||Q.hspace!=="")&&ra(Ne,Q.hspace),(gs(Ne)||Q.vspace!=="")&&ui(Ne,Q.vspace),(Ea(Ne)||Q.border!=="")&&Hn(Ne,Q.border),(Ka(Ne)||Q.borderStyle!=="")&&xo(Ne,Q.borderStyle),F((ue=Ne.getAttribute("style"))!==null&&ue!==void 0?ue:"")},od=(F,Q)=>{const ue=document.createElement("img");if(Ya(F,{...Q,caption:!1},ue),wl(ue,Q.alt,Q.isDecorative),Q.caption){const Ne=ro.create("figure",{class:"image"});return Ne.appendChild(ue),Ne.appendChild(ro.create("figcaption",{contentEditable:"true"},"Caption")),Ne.contentEditable="false",Ne}else return ue},Aa=(F,Q)=>({src:st(Q,"src"),alt:fi(Q),title:st(Q,"title"),width:di(Q,"width"),height:di(Q,"height"),class:st(Q,"class"),style:F(st(Q,"style")),caption:ga(Q),hspace:Po(Q),vspace:gs(Q),border:Ea(Q),borderStyle:Ka(Q),isDecorative:wt(Q)}),Cs=(F,Q,ue,Ne,At)=>{ue[Ne]!==Q[Ne]&&At(F,Ne,String(ue[Ne]))},wl=(F,Q,ue)=>{if(ue){ro.setAttrib(F,"role","presentation");const Ne=fn.fromDom(F);Tt(Ne,"alt","")}else{if(Ur(Q)){const Ne=fn.fromDom(F);un(Ne,"alt")}else{const Ne=fn.fromDom(F);Tt(Ne,"alt",Q)}ro.getAttrib(F,"role")==="presentation"&&ro.setAttrib(F,"role","")}},Sr=(F,Q,ue)=>{(ue.alt!==Q.alt||ue.isDecorative!==Q.isDecorative)&&wl(F,ue.alt,ue.isDecorative)},Os=(F,Q)=>(ue,Ne,At)=>{F(ue,At),kl(ue,Q)},Ya=(F,Q,ue)=>{const Ne=Aa(F,ue);Cs(ue,Ne,Q,"caption",(At,Qo,os)=>Ts(At)),Cs(ue,Ne,Q,"src",Bo),Cs(ue,Ne,Q,"title",Bo),Cs(ue,Ne,Q,"width",Ba("width",F)),Cs(ue,Ne,Q,"height",Ba("height",F)),Cs(ue,Ne,Q,"class",Bo),Cs(ue,Ne,Q,"style",Os((At,Qo)=>Bo(At,"style",Qo),F)),Cs(ue,Ne,Q,"hspace",Os(ra,F)),Cs(ue,Ne,Q,"vspace",Os(ui,F)),Cs(ue,Ne,Q,"border",Os(Hn,F)),Cs(ue,Ne,Q,"borderStyle",Os(xo,F)),Sr(ue,Ne,Q)},_l=(F,Q)=>{const ue=F.dom.styles.parse(Q),Ne=qs(ue),At=F.dom.styles.parse(F.dom.styles.serialize(Ne));return F.dom.styles.serialize(At)},za=F=>{const Q=F.selection.getNode(),ue=F.dom.getParent(Q,"figure.image");return ue?F.dom.select("img",ue)[0]:Q&&(Q.nodeName!=="IMG"||ps(Q))?null:Q},Cl=(F,Q)=>{var ue;const Ne=F.dom,At=vo(F.schema.getTextBlockElements(),(os,hi)=>!F.schema.isValidChild(hi,"figure")),Qo=Ne.getParent(Q.parentNode,os=>Lt(At,os.nodeName),F.getBody());return Qo&&(ue=Ne.split(Qo,Q))!==null&&ue!==void 0?ue:Q},il=F=>{const Q=za(F);return Q?Aa(ue=>_l(F,ue),Q):Ul()},_c=(F,Q)=>{const ue=od(At=>_l(F,At),Q);F.dom.setAttrib(ue,"data-mce-id","__mcenew"),F.focus(),F.selection.setContent(ue.outerHTML);const Ne=F.dom.select('*[data-mce-id="__mcenew"]')[0];if(F.dom.setAttrib(Ne,"data-mce-id",null),_s(Ne)){const At=Cl(F,Ne);F.selection.select(At)}else F.selection.select(Ne)},hn=(F,Q)=>{F.dom.setAttrib(Q,"src",Q.getAttribute("src"))},Vr=(F,Q)=>{if(Q){const ue=F.dom.is(Q.parentNode,"figure.image")?Q.parentNode:Q;F.dom.remove(ue),F.focus(),F.nodeChanged(),F.dom.isEmpty(F.getBody())&&(F.setContent(""),F.selection.setCursorLocation())}},Gs=(F,Q)=>{const ue=za(F);if(ue)if(Ya(Ne=>_l(F,Ne),Q,ue),hn(F,ue),_s(ue.parentNode)){const Ne=ue.parentNode;Cl(F,Ne),F.selection.select(ue.parentNode)}else F.selection.select(ue),tr(F,Q,ue)},Sl=(F,Q)=>{const ue=Q.src;return{...Q,src:lt(F,ue)?ue:""}},nd=(F,Q)=>{const ue=za(F);if(ue){const At={...Aa(os=>_l(F,os),ue),...Q},Qo=Sl(F,At);At.src?Gs(F,Qo):Vr(F,ue)}else Q.src&&_c(F,{...Ul(),...Q})},qr=(F=>(...Q)=>{if(Q.length===0)throw new Error("Can't merge zero objects");const ue={};for(let Ne=0;Ne<Q.length;Ne++){const At=Q[Ne];for(const Qo in At)Le(At,Qo)&&(ue[Qo]=F(ue[Qo],At[Qo]))}return ue})((F,Q)=>Qn(F)&&Qn(Q)?qr(F,Q):Q);var Id=tinymce.util.Tools.resolve("tinymce.util.ImageUploader"),In=tinymce.util.Tools.resolve("tinymce.util.Tools");const Ln=F=>Xo(F.value)?F.value:"",pi=F=>Xo(F.text)?F.text:Xo(F.title)?F.title:"",Ia=(F,Q)=>{const ue=[];return In.each(F,Ne=>{const At=pi(Ne);if(Ne.menu!==void 0){const Qo=Ia(Ne.menu,Q);ue.push({text:At,items:Qo})}else{const Qo=Q(Ne);ue.push({text:At,value:Qo})}}),ue},ll=(F=Ln)=>Q=>Q?ne.from(Q).map(ue=>Ia(ue,F)):ne.none(),El=F=>ll(Ln)(F),Al=F=>Le(F,"items"),Ds=(F,Q)=>Cr(F,ue=>Al(ue)?Ds(ue.items,Q):ue.value===Q?ne.some(ue):ne.none()),es={sanitizer:ll,sanitize:El,findEntry:(F,Q)=>F.bind(ue=>Ds(ue,Q))},Xa={makeTab:F=>({title:"Advanced",name:"advanced",items:[{type:"grid",columns:2,items:[{type:"input",label:"Vertical space",name:"vspace",inputMode:"numeric"},{type:"input",label:"Horizontal space",name:"hspace",inputMode:"numeric"},{type:"input",label:"Border width",name:"border",inputMode:"numeric"},{type:"listbox",name:"borderstyle",label:"Border style",items:[{text:"Select...",value:""},{text:"Solid",value:"solid"},{text:"Dotted",value:"dotted"},{text:"Dashed",value:"dashed"},{text:"Double",value:"double"},{text:"Groove",value:"groove"},{text:"Ridge",value:"ridge"},{text:"Inset",value:"inset"},{text:"Outset",value:"outset"},{text:"None",value:"none"},{text:"Hidden",value:"hidden"}]}]}]})},Yn=F=>{const Q=es.sanitizer(Tl=>F.convertURL(Tl.value||Tl.url||"","src")),ue=new Promise(Tl=>{hr(F,au=>{Tl(Q(au).map(sd=>Eo([[{text:"None",value:""}],sd])))})}),Ne=es.sanitize(To(F)),At=sl(F),Qo=nn(F),os=$o(F),hi=Nn(F),ft=il(F),Gi=We(F),Oi=et(F),zl=Ga(F),Ls=it(F),zf=Qt(F),rd=fo(F),Ec=ne.some(dr(F)).filter(Tl=>Xo(Tl)&&Tl.length>0);return ue.then(Tl=>({image:ft,imageList:Tl,classList:Ne,hasAdvTab:At,hasUploadTab:Qo,hasUploadUrl:os,hasUploadHandler:hi,hasDescription:Gi,hasImageTitle:Oi,hasDimensions:zl,hasImageCaption:Ls,prependURL:Ec,hasAccessibilityOptions:zf,automaticUploads:rd}))},ha=F=>{const Q={name:"src",type:"urlinput",filetype:"image",label:"Source",picker_text:"Browse files"},ue=F.imageList.map(Oi=>({name:"images",type:"listbox",label:"Image list",items:Oi})),Ne={name:"alt",type:"input",label:"Alternative description",enabled:!(F.hasAccessibilityOptions&&F.image.isDecorative)},At={name:"title",type:"input",label:"Image title"},Qo={name:"dimensions",type:"sizeinput"},os={type:"label",label:"Accessibility",items:[{name:"isDecorative",type:"checkbox",label:"Image is decorative"}]},hi=F.classList.map(Oi=>({name:"classes",type:"listbox",label:"Class",items:Oi})),ft={type:"label",label:"Caption",items:[{type:"checkbox",name:"caption",label:"Show caption"}]},Gi=Oi=>Oi?{type:"grid",columns:2}:{type:"panel"};return Eo([[Q],ue.toArray(),F.hasAccessibilityOptions&&F.hasDescription?[os]:[],F.hasDescription?[Ne]:[],F.hasImageTitle?[At]:[],F.hasDimensions?[Qo]:[],[{...Gi(F.classList.isSome()&&F.hasImageCaption),items:Eo([hi.toArray(),F.hasImageCaption?[ft]:[]])}]])},Is={makeTab:F=>({title:"General",name:"general",items:ha(F)}),makeItems:ha},qi={makeTab:F=>({title:"Upload",name:"upload",items:[{type:"dropzone",name:"fileinput"}]})},hs=F=>({prevImage:es.findEntry(F.imageList,F.image.src),prevAlt:F.image.alt,open:!0}),ls=F=>({src:{value:F.src,meta:{}},images:F.src,alt:F.alt,title:F.title,dimensions:{width:F.width,height:F.height},classes:F.class,caption:F.caption,style:F.style,vspace:F.vspace,border:F.border,hspace:F.hspace,borderstyle:F.borderStyle,fileinput:[],isDecorative:F.isDecorative}),sa=(F,Q)=>({src:F.src.value,alt:(F.alt===null||F.alt.length===0)&&Q?null:F.alt,title:F.title,width:F.dimensions.width,height:F.dimensions.height,class:F.classes,style:F.style,caption:F.caption,hspace:F.hspace,vspace:F.vspace,border:F.border,borderStyle:F.borderstyle,isDecorative:F.isDecorative}),Er=(F,Q)=>/^(?:[a-zA-Z]+:)?\/\//.test(Q)?ne.none():F.prependURL.bind(ue=>Q.substring(0,ue.length)!==ue?ne.some(ue+Q):ne.none()),jr=(F,Q)=>{const ue=Q.getData();Er(F,ue.src.value).each(Ne=>{Q.setData({src:{value:Ne,meta:ue.src.meta}})})},gi=(F,Q,ue)=>{F.hasDescription&&Xo(ue.alt)&&(Q.alt=ue.alt),F.hasAccessibilityOptions&&(Q.isDecorative=ue.isDecorative||Q.isDecorative||!1),F.hasImageTitle&&Xo(ue.title)&&(Q.title=ue.title),F.hasDimensions&&(Xo(ue.width)&&(Q.dimensions.width=ue.width),Xo(ue.height)&&(Q.dimensions.height=ue.height)),Xo(ue.class)&&es.findEntry(F.classList,ue.class).each(Ne=>{Q.classes=Ne.value}),F.hasImageCaption&&It(ue.caption)&&(Q.caption=ue.caption),F.hasAdvTab&&(Xo(ue.style)&&(Q.style=ue.style),Xo(ue.vspace)&&(Q.vspace=ue.vspace),Xo(ue.border)&&(Q.border=ue.border),Xo(ue.hspace)&&(Q.hspace=ue.hspace),Xo(ue.borderstyle)&&(Q.borderstyle=ue.borderstyle))},mo=(F,Q)=>{const ue=Q.getData(),Ne=ue.src.meta;if(Ne!==void 0){const At=qr({},ue);gi(F,At,Ne),Q.setData(At)}},cl=(F,Q,ue,Ne)=>{const At=Ne.getData(),Qo=At.src.value,os=At.src.meta||{};!os.width&&!os.height&&Q.hasDimensions&&(zs(Qo)?F.imageSize(Qo).then(hi=>{ue.open&&Ne.setData({dimensions:hi})}).catch(hi=>console.error(hi)):Ne.setData({dimensions:{width:"",height:""}}))},Ta=(F,Q,ue)=>{const Ne=ue.getData(),At=es.findEntry(F.imageList,Ne.src.value);Q.prevImage=At,ue.setData({images:At.map(Qo=>Qo.value).getOr("")})},ur=(F,Q,ue,Ne)=>{jr(Q,Ne),mo(Q,Ne),cl(F,Q,ue,Ne),Ta(Q,ue,Ne)},Pa=(F,Q,ue,Ne)=>{const At=Ne.getData(),Qo=es.findEntry(Q.imageList,At.images);Qo.each(os=>{At.alt===""||ue.prevImage.map(ft=>ft.text===At.alt).getOr(!1)?os.value===""?Ne.setData({src:os,alt:ue.prevAlt}):Ne.setData({src:os,alt:os.text}):Ne.setData({src:os})}),ue.prevImage=Qo,ur(F,Q,ue,Ne)},cs=(F,Q,ue,Ne)=>{const At=Ne.getData();Ne.block("Uploading image"),Ro(At.fileinput).fold(()=>{Ne.unblock()},Qo=>{const os=URL.createObjectURL(Qo),hi=()=>{Ne.unblock(),URL.revokeObjectURL(os)},ft=Gi=>{Ne.setData({src:{value:Gi,meta:{}}}),Ne.showTab("general"),ur(F,Q,ue,Ne),Ne.focus("src")};Ko(Qo).then(Gi=>{const Oi=F.createBlobCache(Qo,os,Gi);Q.automaticUploads?F.uploadImage(Oi).then(zl=>{ft(zl.url),hi()}).catch(zl=>{hi(),F.alertErr(zl)}):(F.addToBlobCache(Oi),ft(Oi.blobUri()),Ne.unblock())})})},Zl=(F,Q,ue)=>(Ne,At)=>{At.name==="src"?ur(F,Q,ue,Ne):At.name==="images"?Pa(F,Q,ue,Ne):At.name==="alt"?ue.prevAlt=Ne.getData().alt:At.name==="fileinput"?cs(F,Q,ue,Ne):At.name==="isDecorative"&&Ne.setEnabled("alt",!Ne.getData().isDecorative)},Wl=F=>()=>{F.open=!1},sn=F=>F.hasAdvTab||F.hasUploadUrl||F.hasUploadHandler?{type:"tabpanel",tabs:Eo([[Is.makeTab(F)],F.hasAdvTab?[Xa.makeTab(F)]:[],F.hasUploadTab&&(F.hasUploadUrl||F.hasUploadHandler)?[qi.makeTab(F)]:[]])}:{type:"panel",items:Is.makeItems(F)},ql=(F,Q,ue)=>Ne=>{const At=qr(ls(Q.image),Ne.getData()),Qo={...At,style:wr(ue.normalizeCss,sa(At,!1))};F.execCommand("mceUpdateImage",!1,sa(Qo,Q.hasAccessibilityOptions)),F.editorUpload.uploadImagesAuto(),Ne.close()},G=F=>Q=>lt(F,Q)?Mn(F.documentBaseURI.toAbsolute(Q)).then(ue=>({width:String(ue.width),height:String(ue.height)})):Promise.resolve({width:"",height:""}),pe=F=>(Q,ue,Ne)=>{var At;return F.editorUpload.blobCache.create({blob:Q,blobUri:ue,name:(At=Q.name)===null||At===void 0?void 0:At.replace(/\.[^\.]+$/,""),filename:Q.name,base64:Ne.split(",")[1]})},ke=F=>Q=>{F.editorUpload.blobCache.add(Q)},$e=F=>Q=>{F.windowManager.alert(Q)},gt=F=>Q=>_l(F,Q),_t=F=>Q=>F.dom.parseStyle(Q),Jo=F=>(Q,ue)=>F.dom.serializeStyle(Q,ue),or=F=>Q=>Id(F).upload([Q],!1).then(ue=>{var Ne;return ue.length===0?Promise.reject("Failed to upload image"):ue[0].status===!1?Promise.reject((Ne=ue[0].error)===null||Ne===void 0?void 0:Ne.message):ue[0]}),rn=F=>{const Q={imageSize:G(F),addToBlobCache:ke(F),createBlobCache:pe(F),alertErr:$e(F),normalizeCss:gt(F),parseStyle:_t(F),serializeStyle:Jo(F),uploadImage:or(F)};return{open:()=>{Yn(F).then(Ne=>{const At=hs(Ne);return{title:"Insert/Edit Image",size:"normal",body:sn(Ne),buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:ls(Ne.image),onSubmit:ql(F,Ne,Q),onChange:Zl(Q,Ne,At),onClose:Wl(At)}}).then(F.windowManager.open)}}},Xn=F=>{F.addCommand("mceImage",rn(F).open),F.addCommand("mceUpdateImage",(Q,ue)=>{F.undoManager.transact(()=>nd(F,ue))})},Uo=F=>{const Q=F.attr("class");return Ho(Q)&&/\bimage\b/.test(Q)},Or=F=>Q=>{let ue=Q.length;const Ne=At=>{At.attr("contenteditable",F?"true":null)};for(;ue--;){const At=Q[ue];Uo(At)&&(At.attr("contenteditable",F?"false":null),In.each(At.getAll("figcaption"),Ne))}},Ti=F=>{F.on("PreInit",()=>{F.parser.addNodeFilter("figure",Or(!0)),F.serializer.addNodeFilter("figure",Or(!1))})},Wo=F=>Q=>{const ue=()=>{Q.setEnabled(F.selection.isEditable())};return F.on("NodeChange",ue),ue(),()=>{F.off("NodeChange",ue)}},Cc=F=>{F.ui.registry.addToggleButton("image",{icon:"image",tooltip:"Insert/edit image",onAction:rn(F).open,onSetup:Q=>{Q.setActive(Ho(za(F)));const ue=F.selection.selectorChangedWithUnbind("img:not([data-mce-object]):not([data-mce-placeholder]),figure.image",Q.setActive).unbind,Ne=Wo(F)(Q);return()=>{ue(),Ne()}}}),F.ui.registry.addMenuItem("image",{icon:"image",text:"Image...",onAction:rn(F).open,onSetup:Wo(F)}),F.ui.registry.addContextMenu("image",{update:Q=>F.selection.isEditable()&&(_s(Q)||al(Q)&&!ps(Q))?["image"]:[]})};var Sc=()=>{na.add("image",F=>{mn(F),Ti(F),Cc(F),Xn(F)})};Sc()})();(function(){var na=tinymce.util.Tools.resolve("tinymce.PluginManager");const Sa=(k,z,V)=>{var ee;return V(k,z.prototype)?!0:((ee=k.constructor)===null||ee===void 0?void 0:ee.name)===z.name},pa=k=>{const z=typeof k;return k===null?"null":z==="object"&&Array.isArray(k)?"array":z==="object"&&Sa(k,String,(V,ee)=>ee.isPrototypeOf(V))?"string":z},Qr=k=>z=>pa(z)===k,ar=k=>z=>typeof z===k,So=k=>z=>k===z,ir=Qr("string"),lr=Qr("array"),Xo=ar("boolean"),Rn=So(void 0),Qn=k=>k==null,cr=k=>!Qn(k),Ur=ar("function"),It=ar("number"),Jt=()=>{},Ho=(k,z)=>V=>k(z(V)),er=k=>()=>k,ut=k=>k,yo=(k,z)=>k===z;function He(k,...z){return(...V)=>{const ee=z.concat(V);return k.apply(null,ee)}}const ne=k=>{k()},Et=er(!1),ve=er(!0);class dt{constructor(z,V){this.tag=z,this.value=V}static some(z){return new dt(!0,z)}static none(){return dt.singletonNone}fold(z,V){return this.tag?V(this.value):z()}isSome(){return this.tag}isNone(){return!this.tag}map(z){return this.tag?dt.some(z(this.value)):dt.none()}bind(z){return this.tag?z(this.value):dt.none()}exists(z){return this.tag&&z(this.value)}forall(z){return!this.tag||z(this.value)}filter(z){return!this.tag||z(this.value)?this:dt.none()}getOr(z){return this.tag?this.value:z}or(z){return this.tag?this:z}getOrThunk(z){return this.tag?this.value:z()}orThunk(z){return this.tag?this:z()}getOrDie(z){if(this.tag)return this.value;throw new Error(z??"Called getOrDie on None")}static from(z){return cr(z)?dt.some(z):dt.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(z){this.tag&&z(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}dt.singletonNone=new dt(!1);const Gn=Object.keys,gn=Object.hasOwnProperty,vo=(k,z)=>{const V=Gn(k);for(let ee=0,ge=V.length;ee<ge;ee++){const je=V[ee],pt=k[je];z(pt,je)}},Le=k=>(z,V)=>{k[V]=z},Lt=(k,z,V,ee)=>{vo(k,(ge,je)=>{(z(ge,je)?V:ee)(ge,je)})},T=(k,z)=>{const V={};return Lt(k,z,Le(V),Jt),V},Eo=(k,z)=>{const V=[];return vo(k,(ee,ge)=>{V.push(z(ee,ge))}),V},lo=k=>Eo(k,ut),Ro=k=>Gn(k).length,Cr=(k,z)=>_e(k,z)?dt.from(k[z]):dt.none(),_e=(k,z)=>gn.call(k,z),Tt=(k,z)=>_e(k,z)&&k[z]!==void 0&&k[z]!==null,un=k=>{for(const z in k)if(gn.call(k,z))return!1;return!0},yt=Array.prototype.indexOf,nt=Array.prototype.push,Ot=(k,z)=>yt.call(k,z),Zr=(k,z)=>Ot(k,z)>-1,kn=(k,z)=>{for(let V=0,ee=k.length;V<ee;V++){const ge=k[V];if(z(ge,V))return!0}return!1},fn=(k,z)=>{const V=[];for(let ee=0;ee<k;ee++)V.push(z(ee));return V},Ao=(k,z)=>{const V=k.length,ee=new Array(V);for(let ge=0;ge<V;ge++){const je=k[ge];ee[ge]=z(je,ge)}return ee},$=(k,z)=>{for(let V=0,ee=k.length;V<ee;V++){const ge=k[V];z(ge,V)}},zs=(k,z)=>{for(let V=k.length-1;V>=0;V--){const ee=k[V];z(ee,V)}},An=(k,z)=>{const V=[],ee=[];for(let ge=0,je=k.length;ge<je;ge++){const pt=k[ge];(z(pt,ge)?V:ee).push(pt)}return{pass:V,fail:ee}},mn=(k,z)=>{const V=[];for(let ee=0,ge=k.length;ee<ge;ee++){const je=k[ee];z(je,ee)&&V.push(je)}return V},Ga=(k,z,V)=>(zs(k,(ee,ge)=>{V=z(V,ee,ge)}),V),sl=(k,z,V)=>($(k,(ee,ge)=>{V=z(V,ee,ge)}),V),nn=(k,z,V)=>{for(let ee=0,ge=k.length;ee<ge;ee++){const je=k[ee];if(z(je,ee))return dt.some(je);if(V(je,ee))break}return dt.none()},dr=(k,z)=>nn(k,z,Et),To=k=>{const z=[];for(let V=0,ee=k.length;V<ee;++V){if(!lr(k[V]))throw new Error("Arr.flatten item "+V+" was not an array, input: "+k);nt.apply(z,k[V])}return z},We=(k,z)=>To(Ao(k,z)),et=(k,z)=>{for(let V=0,ee=k.length;V<ee;++V){const ge=k[V];if(z(ge,V)!==!0)return!1}return!0},it=(k,z)=>{const V={};for(let ee=0,ge=k.length;ee<ge;ee++){const je=k[ee];V[String(je)]=z(je,ee)}return V},Ye=(k,z)=>z>=0&&z<k.length?dt.some(k[z]):dt.none(),Qt=k=>Ye(k,0),fo=k=>Ye(k,k.length-1),$o=(k,z)=>{for(let V=0;V<k.length;V++){const ee=z(k[V],V);if(ee.isSome())return ee}return dt.none()},Nn=8,Kn=9,Mn=11,zn=1,Wr=3,qs=(k,z)=>{const ee=(z||document).createElement("div");if(ee.innerHTML=k,!ee.hasChildNodes()||ee.childNodes.length>1){const ge="HTML does not have a single root node";throw console.error(ge,k),new Error(ge)}return Ko(ee.childNodes[0])},hr=(k,z)=>{const ee=(z||document).createElement(k);return Ko(ee)},tr=(k,z)=>{const ee=(z||document).createTextNode(k);return Ko(ee)},Ko=k=>{if(k==null)throw new Error("Node cannot be null or undefined");return{dom:k}},lt={fromHtml:qs,fromTag:hr,fromText:tr,fromDom:Ko,fromPoint:(k,z,V)=>dt.from(k.dom.elementFromPoint(z,V)).map(Ko)},ro=(k,z)=>{const V=k.dom;if(V.nodeType!==zn)return!1;{const ee=V;if(ee.matches!==void 0)return ee.matches(z);if(ee.msMatchesSelector!==void 0)return ee.msMatchesSelector(z);if(ee.webkitMatchesSelector!==void 0)return ee.webkitMatchesSelector(z);if(ee.mozMatchesSelector!==void 0)return ee.mozMatchesSelector(z);throw new Error("Browser lacks native selectors")}},Po=k=>k.nodeType!==zn&&k.nodeType!==Kn&&k.nodeType!==Mn||k.childElementCount===0,gs=(k,z)=>{const V=z===void 0?document:z.dom;return Po(V)?[]:Ao(V.querySelectorAll(k),lt.fromDom)},Ea=(k,z)=>{const V=z===void 0?document:z.dom;return Po(V)?dt.none():dt.from(V.querySelector(k)).map(lt.fromDom)},st=(k,z)=>k.dom===z.dom,ga=ro;typeof window<"u"||Function("return this;")();const Bo=k=>k.dom.nodeName.toLowerCase(),Wi=k=>k.dom.nodeType,Bn=k=>z=>Wi(z)===k,Ts=k=>Wi(k)===Nn||Bo(k)==="#comment",kl=Bn(zn),Ba=Bn(Wr),di=Bn(Kn),ra=Bn(Mn),ui=k=>z=>kl(z)&&Bo(z)===k,Hn=k=>lt.fromDom(k.dom.ownerDocument),xo=k=>di(k)?k:Hn(k),Ka=k=>dt.from(k.dom.parentNode).map(lt.fromDom),_s=(k,z)=>{const V=Ur(z)?z:Et;let ee=k.dom;const ge=[];for(;ee.parentNode!==null&&ee.parentNode!==void 0;){const je=ee.parentNode,pt=lt.fromDom(je);if(ge.push(pt),V(pt)===!0)break;ee=je}return ge},al=k=>dt.from(k.dom.previousSibling).map(lt.fromDom),wt=k=>dt.from(k.dom.nextSibling).map(lt.fromDom),fi=k=>Ao(k.dom.childNodes,lt.fromDom),Ul=(k,z)=>{const V=k.dom.childNodes;return dt.from(V[z]).map(lt.fromDom)},wr=k=>Ul(k,0),od=k=>ra(k)&&cr(k.dom.host),Cs=Ur(Element.prototype.attachShadow)&&Ur(Node.prototype.getRootNode)?k=>lt.fromDom(k.dom.getRootNode()):xo,wl=k=>{const z=Cs(k);return od(z)?dt.some(z):dt.none()},Sr=k=>lt.fromDom(k.dom.host),Os=k=>{const z=Ba(k)?k.dom.parentNode:k.dom;if(z==null||z.ownerDocument===null)return!1;const V=z.ownerDocument;return wl(lt.fromDom(z)).fold(()=>V.body.contains(z),Ho(Os,Sr))};var Ya=(k,z,V,ee,ge)=>k(V,ee)?dt.some(V):Ur(ge)&&ge(V)?dt.none():z(V,ee,ge);const _l=(k,z,V)=>{let ee=k.dom;const ge=Ur(V)?V:Et;for(;ee.parentNode;){ee=ee.parentNode;const je=lt.fromDom(ee);if(z(je))return dt.some(je);if(ge(je))break}return dt.none()},za=(k,z,V)=>Ya((ge,je)=>je(ge),_l,k,z,V),Cl=(k,z)=>{const V=ge=>z(lt.fromDom(ge));return dr(k.dom.childNodes,V).map(lt.fromDom)},il=(k,z,V)=>_l(k,ee=>ro(ee,z),V),_c=(k,z)=>Cl(k,V=>ro(V,z)),hn=(k,z)=>Ea(z,k),Vr=(k,z,V)=>Ya((ge,je)=>ro(ge,je),il,k,z,V),Gs=k=>Vr(k,"[contenteditable]"),Sl=(k,z=!1)=>Os(k)?k.dom.isContentEditable:Gs(k).fold(er(z),V=>nd(V)==="true"),nd=k=>k.dom.contentEditable,Bd=k=>k.nodeName.toLowerCase(),mi=k=>lt.fromDom(k.getBody()),qr=k=>z=>st(z,mi(k)),Id=k=>k?k.replace(/px$/,""):"",In=k=>/^\d+(\.\d+)?$/.test(k)?k+"px":k,Ln=k=>lt.fromDom(k.selection.getStart()),pi=k=>lt.fromDom(k.selection.getEnd()),Ia=k=>za(k,ui("table")).forall(Sl),ll=(k,z)=>mn(fi(k),z),El=(k,z)=>{let V=[];return $(fi(k),ee=>{z(ee)&&(V=V.concat([ee])),V=V.concat(El(ee,z))}),V},Al=(k,z)=>ll(k,V=>ro(V,z)),Ds=(k,z)=>gs(z,k),Gr=(k,z,V)=>{if(ir(V)||Xo(V)||It(V))k.setAttribute(z,V+"");else throw console.error("Invalid call to Attribute.set. Key ",z,":: Value ",V,":: Element ",k),new Error("Attribute value was not simple")},es=(k,z,V)=>{Gr(k.dom,z,V)},ts=(k,z)=>{const V=k.dom;vo(z,(ee,ge)=>{Gr(V,ge,ee)})},Xa=(k,z)=>{const V=k.dom.getAttribute(z);return V===null?void 0:V},Yn=(k,z)=>dt.from(Xa(k,z)),ha=(k,z)=>{k.dom.removeAttribute(z)},La=k=>sl(k.dom.attributes,(z,V)=>(z[V.name]=V.value,z),{}),Is=(k,z,V=yo)=>k.exists(ee=>V(ee,z)),uo=k=>{const z=[],V=ee=>{z.push(ee)};for(let ee=0;ee<k.length;ee++)k[ee].each(V);return z},qi=(k,z,V)=>k.isSome()&&z.isSome()?dt.some(V(k.getOrDie(),z.getOrDie())):dt.none(),hs=k=>k.bind(ut),ls=(k,z)=>k?dt.some(z):dt.none(),sa=(k,z)=>k.substring(z),Er=(k,z,V)=>z===""||k.length>=z.length&&k.substr(V,V+z.length)===z,jr=(k,z)=>gi(k,z)?sa(k,z.length):k,gi=(k,z)=>Er(k,z,0),cl=(k=>z=>z.replace(k,""))(/^\s+|\s+$/g),Ta=k=>k.length>0,ur=k=>!Ta(k),Pa=(k,z=10)=>{const V=parseInt(k,z);return isNaN(V)?dt.none():dt.some(V)},cs=k=>{const z=parseFloat(k);return isNaN(z)?dt.none():dt.some(z)},Zl=k=>k.style!==void 0&&Ur(k.style.getPropertyValue),Wl=(k,z,V)=>{if(!ir(V))throw console.error("Invalid call to CSS.set. Property ",z,":: Value ",V,":: Element ",k),new Error("CSS value must be a string: "+V);Zl(k)&&k.style.setProperty(z,V)},sn=(k,z)=>{Zl(k)&&k.style.removeProperty(z)},ql=(k,z,V)=>{const ee=k.dom;Wl(ee,z,V)},G=(k,z)=>{const V=k.dom,ge=window.getComputedStyle(V).getPropertyValue(z);return ge===""&&!Os(k)?pe(V,z):ge},pe=(k,z)=>Zl(k)?k.style.getPropertyValue(z):"",ke=(k,z)=>{const V=k.dom,ee=pe(V,z);return dt.from(ee).filter(ge=>ge.length>0)},$e=(k,z)=>{const V=k.dom;sn(V,z),Is(Yn(k,"style").map(cl),"")&&ha(k,"style")},gt=(k,z,V=0)=>Yn(k,z).map(ee=>parseInt(ee,10)).getOr(V),_t=(k,z)=>Jo(k,z,ve),Jo=(k,z,V)=>We(fi(k),ee=>ro(ee,z)?V(ee)?[ee]:[]:Jo(ee,z,V)),or=["tfoot","thead","tbody","colgroup"],rn=k=>Zr(or,k),Xn=(k,z)=>({rows:k,columns:z}),Uo=(k,z,V)=>({element:k,rowspan:z,colspan:V}),Or=(k,z,V,ee,ge,je)=>({element:k,rowspan:z,colspan:V,row:ee,column:ge,isLocked:je}),Ti=(k,z,V)=>({element:k,cells:z,section:V}),Wo=(k,z,V,ee)=>({startRow:k,startCol:z,finishRow:V,finishCol:ee}),Cc=(k,z,V)=>({element:k,colspan:z,column:V}),Sc=(k,z)=>({element:k,columns:z}),F=(k,z,V=Et)=>{if(V(z))return dt.none();if(Zr(k,Bo(z)))return dt.some(z);const ee=ge=>ro(ge,"table")||V(ge);return il(z,k.join(","),ee)},Q=(k,z)=>F(["td","th"],k,z),ue=k=>_t(k,"th,td"),Ne=k=>ro(k,"colgroup")?Al(k,"col"):We(os(k),z=>Al(z,"col")),At=(k,z)=>Vr(k,"table",z),Qo=k=>_t(k,"tr"),os=k=>At(k).fold(er([]),z=>Al(z,"colgroup")),hi=(k,z)=>Ao(k,V=>{if(Bo(V)==="colgroup"){const ee=Ao(Ne(V),ge=>{const je=gt(ge,"span",1);return Uo(ge,1,je)});return Ti(V,ee,"colgroup")}else{const ee=Ao(ue(V),ge=>{const je=gt(ge,"rowspan",1),pt=gt(ge,"colspan",1);return Uo(ge,je,pt)});return Ti(V,ee,z(V))}}),ft=k=>Ka(k).map(z=>{const V=Bo(z);return rn(V)?V:"tbody"}).getOr("tbody"),Gi=k=>{const z=Qo(k),ee=[...os(k),...z];return hi(ee,ft)},Oi="data-snooker-locked-cols",zl=k=>Yn(k,Oi).bind(z=>dt.from(z.match(/\d+/g))).map(z=>it(z,ve)),Ls=(k,z)=>k+","+z,zf=(k,z,V)=>dt.from(k.access[Ls(z,V)]),rd=(k,z,V)=>{const ee=Ec(k,ge=>V(z,ge.element));return ee.length>0?dt.some(ee[0]):dt.none()},Ec=(k,z)=>{const V=We(k.all,ee=>ee.cells);return mn(V,z)},Tl=k=>{const z={};let V=0;return $(k.cells,ee=>{const ge=ee.colspan;fn(ge,je=>{const pt=V+je;z[pt]=Cc(ee.element,ge,pt)}),V+=ge}),z},au=k=>{const z={},V=[],ge=Qt(k).map(Cn=>Cn.element).bind(At).bind(zl).getOr({});let je=0,pt=0,Bt=0;const{pass:$t,fail:Fo}=An(k,Cn=>Cn.section==="colgroup");$(Fo,Cn=>{const Jl=[];$(Cn.cells,Es=>{let wi=0;for(;z[Ls(Bt,wi)]!==void 0;)wi++;const gu=Tt(ge,wi.toString()),hu=Or(Es.element,Es.rowspan,Es.colspan,Bt,wi,gu);for(let mc=0;mc<Es.colspan;mc++)for(let Hf=0;Hf<Es.rowspan;Hf++){const qd=Bt+Hf,$f=wi+mc,bu=Ls(qd,$f);z[bu]=hu,pt=Math.max(pt,$f+1)}Jl.push(hu)}),je++,V.push(Ti(Cn.element,Jl,Cn.section)),Bt++});const{columns:Io,colgroups:Zo}=fo($t).map(Cn=>{const Jl=Tl(Cn);return{colgroups:[Sc(Cn.element,lo(Jl))],columns:Jl}}).getOrThunk(()=>({colgroups:[],columns:{}}));return{grid:Xn(je,pt),access:z,all:V,columns:Io,colgroups:Zo}},sc={fromTable:k=>{const z=Gi(k);return au(z)},generate:au,getAt:zf,findItem:rd,filterItems:Ec,justCells:k=>We(k.all,z=>z.cells),justColumns:k=>lo(k.columns),hasColumns:k=>Gn(k.columns).length>0,getColumnAt:(k,z)=>dt.from(k.columns[z])};var Om=tinymce.util.Tools.resolve("tinymce.util.Tools");const Ld=(k,z,V)=>{const ee=k.select("td,th",z);let ge;for(let je=0;je<ee.length;je++){const pt=k.getStyle(ee[je],V);if(Rn(ge)&&(ge=pt),ge!==pt)return""}return ge},Ol=(k,z,V)=>{Om.each("left center right".split(" "),ee=>{ee!==V&&k.formatter.remove("align"+ee,{},z)}),V&&k.formatter.apply("align"+V,{},z)},Ja=(k,z,V)=>{Om.each("top middle bottom".split(" "),ee=>{ee!==V&&k.formatter.remove("valign"+ee,{},z)}),V&&k.formatter.apply("valign"+V,{},z)},en=(k,z,V)=>{k.dispatch("TableModified",{...V,table:z})},Gl=(k,z)=>cs(k).getOr(z),Di=(k,z,V)=>Gl(G(k,z),V),ad=(k,z,V,ee)=>{const ge=Di(k,`padding-${V}`,0),je=Di(k,`padding-${ee}`,0),pt=Di(k,`border-${V}-width`,0),Bt=Di(k,`border-${ee}-width`,0);return z-ge-je-pt-Bt},iu=(k,z)=>{const V=k.dom,ee=V.getBoundingClientRect().width||V.offsetWidth;return z==="border-box"?ee:ad(k,ee,"left","right")},ns=k=>iu(k,"content-box");var Dm=tinymce.util.Tools.resolve("tinymce.Env");const Ki="tableprops tabledelete | tableinsertrowbefore tableinsertrowafter tabledeleterow | tableinsertcolbefore tableinsertcolafter tabledeletecol",bs=fn(5,k=>{const z=`${k+1}px`;return{title:z,value:z}}),ys=Ao(["Solid","Dotted","Dashed","Double","Groove","Ridge","Inset","Outset","None","Hidden"],k=>({title:k,value:k.toLowerCase()})),Pn="100%",Dl=k=>{var z;const V=k.dom,ee=(z=V.getParent(k.selection.getStart(),V.isBlock))!==null&&z!==void 0?z:k.getBody();return ns(lt.fromDom(ee))+"px"},Oa=(k,z)=>Of(k)||!Qa(k)?z:Tf(k)?{...z,width:Dl(k)}:{...z,width:Pn},Kl=(k,z)=>Of(k)||Qa(k)?z:Tf(k)?{...z,width:Dl(k)}:{...z,width:Pn},vs=k=>z=>z.options.get(k),Ks=k=>{const z=k.options.register;z("table_border_widths",{processor:"object[]",default:bs}),z("table_border_styles",{processor:"object[]",default:ys}),z("table_cell_advtab",{processor:"boolean",default:!0}),z("table_row_advtab",{processor:"boolean",default:!0}),z("table_advtab",{processor:"boolean",default:!0}),z("table_appearance_options",{processor:"boolean",default:!0}),z("table_grid",{processor:"boolean",default:!Dm.deviceType.isTouch()}),z("table_cell_class_list",{processor:"object[]",default:[]}),z("table_row_class_list",{processor:"object[]",default:[]}),z("table_class_list",{processor:"object[]",default:[]}),z("table_toolbar",{processor:"string",default:Ki}),z("table_background_color_map",{processor:"object[]",default:[]}),z("table_border_color_map",{processor:"object[]",default:[]})},Fu=vs("table_sizing_mode"),Ss=vs("table_border_widths"),$n=vs("table_border_styles"),Rl=vs("table_cell_advtab"),Nl=vs("table_row_advtab"),Kr=vs("table_advtab"),eo=vs("table_appearance_options"),lu=vs("table_grid"),Qa=vs("table_style_by_css"),Vn=vs("table_cell_class_list"),id=vs("table_row_class_list"),Pd=vs("table_class_list"),ac=vs("table_toolbar"),qo=vs("table_background_color_map"),ei=vs("table_border_color_map"),Tf=k=>Fu(k)==="fixed",Of=k=>Fu(k)==="responsive",Fd=k=>{const z=k.options,V=z.get("table_default_styles");return z.isSet("table_default_styles")?V:Oa(k,V)},dl=k=>{const z=k.options,V=z.get("table_default_attributes");return z.isSet("table_default_attributes")?V:Kl(k,V)},Hd=(k,z)=>z.column>=k.startCol&&z.column+z.colspan-1<=k.finishCol&&z.row>=k.startRow&&z.row+z.rowspan-1<=k.finishRow,fe=(k,z)=>{let V=!0;const ee=He(Hd,z);for(let ge=z.startRow;ge<=z.finishRow;ge++)for(let je=z.startCol;je<=z.finishCol;je++)V=V&&sc.getAt(k,ge,je).exists(ee);return V?dt.some(z):dt.none()},ld=(k,z)=>Wo(Math.min(k.row,z.row),Math.min(k.column,z.column),Math.max(k.row+k.rowspan-1,z.row+z.rowspan-1),Math.max(k.column+k.colspan-1,z.column+z.colspan-1)),ti=(k,z,V)=>{const ee=sc.findItem(k,z,st),ge=sc.findItem(k,V,st);return ee.bind(je=>ge.map(pt=>ld(je,pt)))},Hu=(k,z,V)=>ti(k,z,V).bind(ee=>fe(k,ee)),Ir=(k,z,V)=>{const ee=Bp(k);return Hu(ee,z,V)},Bp=sc.fromTable,an=(k,z)=>{Ka(k).each(ee=>{ee.dom.insertBefore(z.dom,k.dom)})},bi=(k,z)=>{wt(k).fold(()=>{Ka(k).each(ge=>{Ni(ge,z)})},ee=>{an(ee,z)})},$u=(k,z)=>{wr(k).fold(()=>{Ni(k,z)},ee=>{k.dom.insertBefore(z.dom,ee.dom)})},Ni=(k,z)=>{k.dom.appendChild(z.dom)},ic=(k,z)=>{an(k,z),Ni(z,k)},Mi=(k,z)=>{$(z,(V,ee)=>{const ge=ee===0?k:z[ee-1];bi(ge,V)})},aa=(k,z)=>{$(z,V=>{Ni(k,V)})},ul=k=>{const z=k.dom;z.parentNode!==null&&z.parentNode.removeChild(z)},cu=k=>{const z=fi(k);z.length>0&&Mi(k,z),ul(k)},Ml=((k,z)=>{const V=je=>{if(!k(je))throw new Error("Can only get "+z+" value of a "+z+" node");return ee(je).getOr("")},ee=je=>k(je)?dt.from(je.dom.nodeValue):dt.none();return{get:V,getOption:ee,set:(je,pt)=>{if(!k(je))throw new Error("Can only set raw "+z+" value of a "+z+" node");je.dom.nodeValue=pt}}})(Ba,"text"),lc=k=>Ml.get(k),Bi=(k,z)=>Ml.set(k,z);var to=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","li","table","thead","tbody","tfoot","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"],ds=()=>{const k=Fo=>lt.fromDom(Fo.dom.cloneNode(!1)),z=Fo=>xo(Fo).dom,V=Fo=>kl(Fo)?Bo(Fo)==="body"?!0:Zr(to,Bo(Fo)):!1,ee=Fo=>kl(Fo)?Zr(["br","img","hr","input"],Bo(Fo)):!1,ge=Fo=>kl(Fo)&&Xa(Fo,"contenteditable")==="false",je=(Fo,Io)=>Fo.dom.compareDocumentPosition(Io.dom),pt=(Fo,Io)=>{const Zo=La(Fo);ts(Io,Zo)},Bt=Fo=>{const Io=Bo(Fo);return Zr(["script","noscript","iframe","noframes","noembed","title","style","textarea","xmp"],Io)},$t=Fo=>kl(Fo)?Yn(Fo,"lang"):dt.none();return{up:er({selector:il,closest:Vr,predicate:_l,all:_s}),down:er({selector:Ds,predicate:El}),styles:er({get:G,getRaw:ke,set:ql,remove:$e}),attrs:er({get:Xa,set:es,remove:ha,copyTo:pt}),insert:er({before:an,after:bi,afterAll:Mi,append:Ni,appendAll:aa,prepend:$u,wrap:ic}),remove:er({unwrap:cu,remove:ul}),create:er({nu:lt.fromTag,clone:k,text:lt.fromText}),query:er({comparePosition:je,prevSibling:al,nextSibling:wt}),property:er({children:fi,name:Bo,parent:Ka,document:z,isText:Ba,isComment:Ts,isElement:kl,isSpecial:Bt,getLanguage:$t,getText:lc,setText:Bi,isBoundary:V,isEmptyTag:ee,isNonEditable:ge}),eq:st,is:ga}};const cd=(k,z,V,ee)=>{const ge=V[0],je=V.slice(1);return ee(k,z,ge,je)},Nm=(k,z,V)=>V.length>0?cd(k,z,V,du):dt.none(),du=(k,z,V,ee)=>{const ge=z(k,V);return Ga(ee,(je,pt)=>{const Bt=z(k,pt);return yi(k,je,Bt)},ge)},yi=(k,z,V)=>z.bind(ee=>V.filter(He(k.eq,ee))),Vu=Nm,uu=ds(),Ps=(k,z)=>Vu(uu,(V,ee)=>k(ee),z),dd=k=>il(k,"table"),cc=(k,z)=>{const V=Ds(k,z);return V.length>0?dt.some(V):dt.none()},Ac=(k,z,V)=>hn(k,z).bind(ee=>hn(k,V).bind(ge=>Ps(dd,[ee,ge]).map(je=>({first:ee,last:ge,table:je})))),Df=(k,z)=>cc(k,z),$d=(k,z,V)=>Ac(k,z,V).bind(ee=>{const ge=$t=>st(k,$t),je="thead,tfoot,tbody,table",pt=il(ee.first,je,ge),Bt=il(ee.last,je,ge);return pt.bind($t=>Bt.bind(Fo=>st($t,Fo)?Ir(ee.table,ee.first,ee.last):dt.none()))}),zc=k=>Ao(k,lt.fromDom),ju="data-mce-selected",Lr="td["+ju+"],th["+ju+"]",Yi="data-mce-first-selected",ia="td["+Yi+"],th["+Yi+"]",dc="data-mce-last-selected",xs="td["+dc+"],th["+dc+"]",fl={selected:ju,selectedSelector:Lr,firstSelected:Yi,firstSelectedSelector:ia,lastSelected:dc,lastSelectedSelector:xs},la=k=>At(k).bind(z=>Df(z,fl.firstSelectedSelector)).fold(er(k),z=>z[0]),ba=k=>(z,V)=>{const ee=Bo(z),ge=ee==="col"||ee==="colgroup"?la(z):z;return Vr(ge,k,V)},Vd=ba("th,td,caption"),Ze=ba("th,td"),ya=k=>zc(k.model.table.getSelectedCells()),jd=(k,z)=>{const V=Ze(k),ee=V.bind(ge=>At(ge)).map(ge=>Qo(ge));return qi(V,ee,(ge,je)=>mn(je,pt=>kn(zc(pt.dom.cells),Bt=>Xa(Bt,z)==="1"||st(Bt,ge)))).getOr([])},rs=[{text:"None",value:""},{text:"Top",value:"top"},{text:"Middle",value:"middle"},{text:"Bottom",value:"bottom"}],Ii=k=>({value:Fa(k)}),Bl=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,Il=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,Uu=k=>Bl.test(k)||Il.test(k),Fa=k=>jr(k,"#").toUpperCase(),wn=k=>Uu(k)?dt.some({value:Fa(k)}):dt.none(),oi=k=>{const z=k.toString(16);return(z.length===1?"0"+z:z).toUpperCase()},Fs=k=>{const z=oi(k.red)+oi(k.green)+oi(k.blue);return Ii(z)},Da=/^\s*rgb\s*\(\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*(\d+)\s*\)\s*$/i,fu=/^\s*rgba\s*\(\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*((?:\d?\.\d+|\d+)%?)\s*\)\s*$/i,ml=(k,z,V,ee)=>({red:k,green:z,blue:V,alpha:ee}),Ud=(k,z,V,ee)=>{const ge=parseInt(k,10),je=parseInt(z,10),pt=parseInt(V,10),Bt=parseFloat(ee);return ml(ge,je,pt,Bt)},Li=k=>{const z=Da.exec(k);if(z!==null)return dt.some(Ud(z[1],z[2],z[3],"1"));const V=fu.exec(k);return V!==null?dt.some(Ud(V[1],V[2],V[3],V[4])):dt.none()},Ae=k=>wn(k).orThunk(()=>Li(k).map(Fs)).getOrThunk(()=>{const z=document.createElement("canvas");z.height=1,z.width=1;const V=z.getContext("2d");V.clearRect(0,0,z.width,z.height),V.fillStyle="#FFFFFF",V.fillStyle=k,V.fillRect(0,0,1,1);const ee=V.getImageData(0,0,1,1).data,ge=ee[0],je=ee[1],pt=ee[2],Bt=ee[3];return Fs(ml(ge,je,pt,Bt))}),Hs=k=>Li(k).map(Fs).map(z=>"#"+z.value).getOr(k),Tc=k=>{let z=k;return{get:()=>z,set:ge=>{z=ge}}},Dr=k=>{const z=Tc(dt.none()),V=()=>z.get().each(k);return{clear:()=>{V(),z.set(dt.none())},isSet:()=>z.get().isSome(),get:()=>z.get(),set:Bt=>{V(),z.set(dt.some(Bt))}}},Ll=()=>Dr(k=>k.unbind()),Ha=(k,z,V)=>ee=>{const ge=Ll(),je=ur(V),pt=()=>{const Bt=ya(k),$t=Fo=>k.formatter.match(z,{value:V},Fo.dom,je);je?(ee.setActive(!kn(Bt,$t)),ge.set(k.formatter.formatChanged(z,Fo=>ee.setActive(!Fo),!0))):(ee.setActive(et(Bt,$t)),ge.set(k.formatter.formatChanged(z,ee.setActive,!1,{value:V})))};return k.initialized?pt():k.on("init",pt),ge.clear},_r=k=>Tt(k,"menu"),ni=k=>Ao(k,z=>{const V=z.text||z.title||"";return _r(z)?{text:V,items:ni(z.menu)}:{text:V,value:z.value}}),fr=k=>k.length?dt.some(ni([{text:"Select...",value:"mce-no-match"},...k])):dt.none(),Pr=(k,z,V,ee)=>Ao(z,ge=>{const je=ge.text||ge.title;return _r(ge)?{type:"nestedmenuitem",text:je,getSubmenuItems:()=>Pr(k,ge.menu,V,ee)}:{text:je,type:"togglemenuitem",onAction:()=>ee(ge.value),onSetup:Ha(k,V,ge.value)}}),Xi=(k,z)=>V=>{k.execCommand("mceTableApplyCellStyle",!1,{[z]:V})},Ji=k=>We(k,z=>_r(z)?[{...z,menu:Ji(z.menu)}]:Ta(z.value)?[z]:[]),ud=(k,z,V,ee)=>ge=>ge(Pr(k,z,V,ee)),Oc=(k,z,V)=>{const ee=Ao(z,ge=>({text:ge.title,value:"#"+Ae(ge.value).value,type:"choiceitem"}));return[{type:"fancymenuitem",fancytype:"colorswatch",initData:{colors:ee.length>0?ee:void 0,allowCustomColors:!1},onAction:ge=>{const je=ge.value==="remove"?"":ge.value;k.execCommand("mceTableApplyCellStyle",!1,{[V]:je})}}]},Zd=k=>()=>{const V=k.queryCommandValue("mceTableRowType")==="header"?"body":"header";k.execCommand("mceTableRowType",!1,{type:V})},Rf=k=>()=>{const V=k.queryCommandValue("mceTableColType")==="th"?"td":"th";k.execCommand("mceTableColType",!1,{type:V})},Mm=k=>fr(Vn(k)).map(z=>({name:"class",type:"listbox",label:"Class",items:z})),fd=[{name:"width",type:"input",label:"Width"},{name:"celltype",type:"listbox",label:"Cell type",items:[{text:"Cell",value:"td"},{text:"Header cell",value:"th"}]},{name:"scope",type:"listbox",label:"Scope",items:[{text:"None",value:""},{text:"Row",value:"row"},{text:"Column",value:"col"},{text:"Row group",value:"rowgroup"},{text:"Column group",value:"colgroup"}]},{name:"halign",type:"listbox",label:"Horizontal align",items:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]},{name:"valign",type:"listbox",label:"Vertical align",items:rs}],Rs=k=>fd.concat(Mm(k).toArray()),vi=(k,z)=>{const ee=[{name:"borderstyle",type:"listbox",label:"Border style",items:[{text:"Select...",value:""}].concat(ni($n(k)))},{name:"bordercolor",type:"colorinput",label:"Border color"},{name:"backgroundcolor",type:"colorinput",label:"Background color"}];return{title:"Advanced",name:"advanced",items:z==="cell"?[{name:"borderwidth",type:"input",label:"Border width"}].concat(ee):ee}},C={normal:(k,z)=>{const V=k.dom;return{setAttrib:(pt,Bt)=>{V.setAttrib(z,pt,Bt)},setStyle:(pt,Bt)=>{V.setStyle(z,pt,Bt)},setFormat:(pt,Bt)=>{Bt===""?k.formatter.remove(pt,{value:null},z,!0):k.formatter.apply(pt,{value:Bt},z)}}}},N=ui("th"),j=(k,z)=>k&&z?"sectionCells":k?"section":"cells",ce=k=>{const z=k.section==="thead",V=Is(ye(k.cells),"th");return k.section==="tfoot"?{type:"footer"}:z||V?{type:"header",subType:j(z,V)}:{type:"body"}},ye=k=>{const z=mn(k,V=>N(V.element));return z.length===0?dt.some("td"):z.length===k.length?dt.some("th"):dt.none()},rt=k=>{const z=Ao(k,ge=>ce(ge).type),V=Zr(z,"header"),ee=Zr(z,"footer");if(!V&&!ee)return dt.some("body");{const ge=Zr(z,"body");return V&&!ge&&!ee?dt.some("header"):!V&&!ge&&ee?dt.some("footer"):dt.none()}},Vt=k=>{let z=!1,V;return(...ee)=>(z||(z=!0,V=k.apply(null,ee)),V)},bo=(k,z)=>$o(k.all,V=>dr(V.cells,ee=>st(z,ee.element))),Oo=(k,z,V)=>{const ee=Ao(z.selection,je=>Q(je).bind(pt=>bo(k,pt)).filter(V)),ge=uo(ee);return ls(ge.length>0,ge)},Ht=(k,z)=>z.mergable,mr=(k,z)=>z.unmergable,Fr=(k,z)=>Oo(k,z,ve),$a=(k,z)=>bo(k,z).exists(V=>!V.isLocked),xi=(k,z)=>et(z,V=>$a(k,V)),ri=(k,z)=>Ht(k,z).filter(V=>xi(k,V.cells)),Nf=(k,z)=>mr(k,z).filter(V=>xi(k,V));({...{generate:k=>{if(!lr(k))throw new Error("cases must be an array");if(k.length===0)throw new Error("there must be at least one case");const z=[],V={};return $(k,(ee,ge)=>{const je=Gn(ee);if(je.length!==1)throw new Error("one and only one name per case");const pt=je[0],Bt=ee[pt];if(V[pt]!==void 0)throw new Error("duplicate key detected:"+pt);if(pt==="cata")throw new Error("cannot have a case named cata (sorry)");if(!lr(Bt))throw new Error("case arguments must be an array");z.push(pt),V[pt]=(...$t)=>{const Fo=$t.length;if(Fo!==Bt.length)throw new Error("Wrong number of arguments to case "+pt+". Expected "+Bt.length+" ("+Bt+"), got "+Fo);return{fold:(...Zo)=>{if(Zo.length!==k.length)throw new Error("Wrong number of arguments to fold. Expected "+k.length+", got "+Zo.length);return Zo[ge].apply(null,$t)},match:Zo=>{const pr=Gn(Zo);if(z.length!==pr.length)throw new Error("Wrong number of arguments to match. Expected: "+z.join(",")+`
Actual: `+pr.join(","));if(!et(z,Jl=>Zr(pr,Jl)))throw new Error("Not all branches were specified when using match. Specified: "+pr.join(", ")+`
Required: `+z.join(", "));return Zo[pt].apply(null,$t)},log:Zo=>{console.log(Zo,{constructors:z,constructor:pt,params:$t})}}}}),V}}.generate([{none:[]},{only:["index"]},{left:["index","next"]},{middle:["prev","index","next"]},{right:["prev","index"]}])});const us=(k,z)=>{const V=sc.fromTable(k);return Fr(V,z).bind(ge=>{const je=ge[ge.length-1],pt=ge[0].row,Bt=je.row+je.rowspan,$t=V.all.slice(pt,Bt);return rt($t)}).getOr("")},Dc=k=>gi(k,"rgb")?Hs(k):k,Mf=k=>{const z=lt.fromDom(k);return{borderwidth:ke(z,"border-width").getOr(""),borderstyle:ke(z,"border-style").getOr(""),bordercolor:ke(z,"border-color").map(Dc).getOr(""),backgroundcolor:ke(z,"background-color").map(Dc).getOr("")}},mu=k=>{const z=k[0],V=k.slice(1);return $(V,ee=>{$(Gn(z),ge=>{vo(ee,(je,pt)=>{const Bt=z[ge];Bt!==""&&ge===pt&&Bt!==je&&(z[ge]=ge==="class"?"mce-no-match":"")})})}),z},va=(k,z,V,ee)=>dr(k,ge=>!Rn(V.formatter.matchNode(ee,z+ge))).getOr(""),pd=He(va,["left","center","right"],"align"),Bm=He(va,["top","middle","bottom"],"valign"),Im=(k,z)=>{const V=Fd(k),ee=dl(k),ge=()=>({borderstyle:Cr(V,"border-style").getOr(""),bordercolor:Dc(Cr(V,"border-color").getOr("")),backgroundcolor:Dc(Cr(V,"background-color").getOr(""))}),je={height:"",width:"100%",cellspacing:"",cellpadding:"",caption:!1,class:"",align:"",border:""},pt=()=>{const Io=V["border-width"];return Qa(k)&&Io?{border:Io}:Cr(ee,"border").fold(()=>({}),Zo=>({border:Zo}))},Bt=z?ge():{},$t=()=>{const Io=Cr(V,"border-spacing").or(Cr(ee,"cellspacing")).fold(()=>({}),pr=>({cellspacing:pr})),Zo=Cr(V,"border-padding").or(Cr(ee,"cellpadding")).fold(()=>({}),pr=>({cellpadding:pr}));return{...Io,...Zo}};return{...je,...V,...ee,...Bt,...pt(),...$t()}},Lp=k=>At(lt.fromDom(k)).map(z=>{const V={selection:zc(k.cells)};return us(z,V)}).getOr(""),Pp=(k,z,V)=>{const ee=(Bt,$t)=>{const Fo=ke(lt.fromDom($t),"border-width");return Qa(k)&&Fo.isSome()?Fo.getOr(""):Bt.getAttrib($t,"border")||Ld(k.dom,$t,"border-width")||Ld(k.dom,$t,"border")||""},ge=k.dom,je=Qa(k)?ge.getStyle(z,"border-spacing")||ge.getAttrib(z,"cellspacing"):ge.getAttrib(z,"cellspacing")||ge.getStyle(z,"border-spacing"),pt=Qa(k)?Ld(ge,z,"padding")||ge.getAttrib(z,"cellpadding"):ge.getAttrib(z,"cellpadding")||Ld(ge,z,"padding");return{width:ge.getStyle(z,"width")||ge.getAttrib(z,"width"),height:ge.getStyle(z,"height")||ge.getAttrib(z,"height"),cellspacing:je??"",cellpadding:pt??"",border:ee(ge,z),caption:!!ge.select("caption",z)[0],class:ge.getAttrib(z,"class",""),align:pd(k,z),...V?Mf(z):{}}},Rc=(k,z,V)=>{const ee=k.dom;return{height:ee.getStyle(z,"height")||ee.getAttrib(z,"height"),class:ee.getAttrib(z,"class",""),type:Lp(z),align:pd(k,z),...V?Mf(z):{}}},Bf=(k,z,V,ee)=>{const ge=k.dom,je=ee.getOr(z);return{width:((Bt,$t)=>ge.getStyle(Bt,$t)||ge.getAttrib(Bt,$t))(je,"width"),scope:ge.getAttrib(z,"scope"),celltype:Bd(z),class:ge.getAttrib(z,"class",""),halign:pd(k,z),valign:Bm(k,z),...V?Mf(z):{}}},jt=(k,z)=>{const V=sc.fromTable(k),ee=sc.justCells(V),ge=mn(ee,je=>kn(z,pt=>st(je.element,pt)));return Ao(ge,je=>({element:je.element.dom,column:sc.getColumnAt(V,je.column).map(pt=>pt.element.dom)}))},Pl=(k,z,V,ee)=>{ee("scope")&&k.setAttrib("scope",V.scope),ee("class")&&V.class!=="mce-no-match"&&k.setAttrib("class",V.class),ee("width")&&z.setStyle("width",In(V.width))},If=(k,z,V)=>{V("backgroundcolor")&&k.setFormat("tablecellbackgroundcolor",z.backgroundcolor),V("bordercolor")&&k.setFormat("tablecellbordercolor",z.bordercolor),V("borderstyle")&&k.setFormat("tablecellborderstyle",z.borderstyle),V("borderwidth")&&k.setFormat("tablecellborderwidth",In(z.borderwidth))},Qi=(k,z,V,ee)=>{const ge=z.length===1;$(z,je=>{const pt=je.element,Bt=ge?ve:ee,$t=C.normal(k,pt),Fo=je.column.map(Io=>C.normal(k,Io)).getOr($t);Pl($t,Fo,V,Bt),Rl(k)&&If($t,V,Bt),ee("halign")&&Ol(k,pt,V.halign),ee("valign")&&Ja(k,pt,V.valign)})},si=(k,z)=>{k.execCommand("mceTableCellType",!1,{type:z.celltype,no_events:!0})},Nc=(k,z,V,ee)=>{const ge=T(ee,(je,pt)=>V[pt]!==je);Ro(ge)>0&&z.length>=1&&At(z[0]).each(je=>{const pt=jt(je,z),Bt=Ro(T(ge,(Fo,Io)=>Io!=="scope"&&Io!=="celltype"))>0,$t=_e(ge,"celltype");(Bt||_e(ge,"scope"))&&Qi(k,pt,ee,He(_e,ge)),$t&&si(k,ee),en(k,je.dom,{structure:$t,style:Bt})})},gb=(k,z,V,ee)=>{const ge=ee.getData();ee.close(),k.undoManager.transact(()=>{Nc(k,z,V,ge),k.focus()})},Mc=(k,z)=>{const V=At(z[0]).map(ee=>Ao(jt(ee,z),ge=>Bf(k,ge.element,Rl(k),ge.column)));return mu(V.getOrDie())},Gg=k=>{const z=ya(k);if(z.length===0)return;const V=Mc(k,z),ee={type:"tabpanel",tabs:[{title:"General",name:"general",items:Rs(k)},vi(k,"cell")]},ge={type:"panel",items:[{type:"grid",columns:2,items:Rs(k)}]};k.windowManager.open({title:"Cell Properties",size:"normal",body:Rl(k)?ee:ge,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:V,onSubmit:He(gb,k,z,V)})},Bc=k=>fr(id(k)).map(z=>({name:"class",type:"listbox",label:"Class",items:z})),Lf=[{type:"listbox",name:"type",label:"Row type",items:[{text:"Header",value:"header"},{text:"Body",value:"body"},{text:"Footer",value:"footer"}]},{type:"listbox",name:"align",label:"Alignment",items:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]},{label:"Height",name:"height",type:"input"}],Zu=k=>Lf.concat(Bc(k).toArray()),mt=(k,z,V)=>{V("class")&&z.class!=="mce-no-match"&&k.setAttrib("class",z.class),V("height")&&k.setStyle("height",In(z.height))},Kg=(k,z,V)=>{V("backgroundcolor")&&k.setStyle("background-color",z.backgroundcolor),V("bordercolor")&&k.setStyle("border-color",z.bordercolor),V("borderstyle")&&k.setStyle("border-style",z.borderstyle)},jo=(k,z,V,ee)=>{const je=z.length===1?ve:ee;$(z,pt=>{const Bt=Al(lt.fromDom(pt),"td,th"),$t=C.normal(k,pt);mt($t,V,je),Nl(k)&&Kg($t,V,je),ee("height")&&$(Bt,Fo=>{k.dom.setStyle(Fo.dom,"height",null)}),ee("align")&&Ol(k,pt,V.align)})},Zt=(k,z)=>{k.execCommand("mceTableRowType",!1,{type:z.type,no_events:!0})},uc=(k,z,V,ee)=>{const ge=T(ee,(je,pt)=>V[pt]!==je);if(Ro(ge)>0){const je=_e(ge,"type"),pt=je?Ro(ge)>1:!0;pt&&jo(k,z,ee,He(_e,ge)),je&&Zt(k,ee),At(lt.fromDom(z[0])).each(Bt=>en(k,Bt.dom,{structure:je,style:pt}))}},Lm=(k,z,V,ee)=>{const ge=ee.getData();ee.close(),k.undoManager.transact(()=>{uc(k,z,V,ge),k.focus()})},Yr=k=>{const z=jd(Ln(k),fl.selected);if(z.length===0)return;const V=Ao(z,pt=>Rc(k,pt.dom,Nl(k))),ee=mu(V),ge={type:"tabpanel",tabs:[{title:"General",name:"general",items:Zu(k)},vi(k,"row")]},je={type:"panel",items:[{type:"grid",columns:2,items:Zu(k)}]};k.windowManager.open({title:"Row Properties",size:"normal",body:Nl(k)?ge:je,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:ee,onSubmit:He(Lm,k,Ao(z,pt=>pt.dom),ee)})},fc=(k,z,V)=>{const ee=V?[{type:"input",name:"cols",label:"Cols",inputMode:"numeric"},{type:"input",name:"rows",label:"Rows",inputMode:"numeric"}]:[],ge=[{type:"input",name:"width",label:"Width"},{type:"input",name:"height",label:"Height"}],je=eo(k)?[{type:"input",name:"cellspacing",label:"Cell spacing",inputMode:"numeric"},{type:"input",name:"cellpadding",label:"Cell padding",inputMode:"numeric"},{type:"input",name:"border",label:"Border width"},{type:"label",label:"Caption",items:[{type:"checkbox",name:"caption",label:"Show caption"}]}]:[],pt=[{type:"listbox",name:"align",label:"Alignment",items:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]}],Bt=z.length>0?[{name:"class",type:"listbox",label:"Class",items:z}]:[];return ee.concat(ge).concat(je).concat(pt).concat(Bt)},_n=(k,z,V,ee)=>{if(z.tagName==="TD"||z.tagName==="TH")ir(V)&&cr(ee)?k.setStyle(z,V,ee):k.setStyles(z,V);else if(z.children)for(let ge=0;ge<z.children.length;ge++)_n(k,z.children[ge],V,ee)},br=(k,z,V,ee)=>{const ge=k.dom,je={},pt={},Bt=Qa(k),$t=Kr(k),Fo=parseFloat(V.border)===0;if(!Rn(V.class)&&V.class!=="mce-no-match"&&(je.class=V.class),pt.height=In(V.height),Bt?pt.width=In(V.width):ge.getAttrib(z,"width")&&(je.width=Id(V.width)),Bt?(Fo?(je.border=0,pt["border-width"]=""):(pt["border-width"]=In(V.border),je.border=1),pt["border-spacing"]=In(V.cellspacing)):(je.border=Fo?0:V.border,je.cellpadding=V.cellpadding,je.cellspacing=V.cellspacing),Bt&&z.children){const Io={};if(Fo?Io["border-width"]="":ee.border&&(Io["border-width"]=In(V.border)),ee.cellpadding&&(Io.padding=In(V.cellpadding)),$t&&ee.bordercolor&&(Io["border-color"]=V.bordercolor),!un(Io))for(let Zo=0;Zo<z.children.length;Zo++)_n(ge,z.children[Zo],Io)}if($t){const Io=V;pt["background-color"]=Io.backgroundcolor,pt["border-color"]=Io.bordercolor,pt["border-style"]=Io.borderstyle}ge.setStyles(z,{...Fd(k),...pt}),ge.setAttribs(z,{...dl(k),...je})},Pf=(k,z,V,ee)=>{const ge=k.dom,je=ee.getData(),pt=T(je,(Bt,$t)=>V[$t]!==Bt);ee.close(),k.undoManager.transact(()=>{if(!z){const Bt=Pa(je.cols).getOr(1),$t=Pa(je.rows).getOr(1);k.execCommand("mceInsertTable",!1,{rows:$t,columns:Bt}),z=Ze(Ln(k),qr(k)).bind(Fo=>At(Fo,qr(k))).map(Fo=>Fo.dom).getOrDie()}if(Ro(pt)>0){const Bt={border:_e(pt,"border"),bordercolor:_e(pt,"bordercolor"),cellpadding:_e(pt,"cellpadding")};br(k,z,je,Bt);const $t=ge.select("caption",z)[0];($t&&!je.caption||!$t&&je.caption)&&k.execCommand("mceTableToggleCaption"),Ol(k,z,je.align)}if(k.focus(),k.addVisual(),Ro(pt)>0){const Bt=_e(pt,"caption"),$t=Bt?Ro(pt)>1:!0;en(k,z,{structure:Bt,style:$t})}})},Ue=(k,z)=>{const V=k.dom;let ee,ge=Im(k,Kr(k));z?(ge.cols="1",ge.rows="1",Kr(k)&&(ge.borderstyle="",ge.bordercolor="",ge.backgroundcolor="")):(ee=V.getParent(k.selection.getStart(),"table",k.getBody()),ee?ge=Pp(k,ee,Kr(k)):Kr(k)&&(ge.borderstyle="",ge.bordercolor="",ge.backgroundcolor=""));const je=fr(Pd(k));je.isSome()&&ge.class&&(ge.class=ge.class.replace(/\s*mce\-item\-table\s*/g,""));const pt={type:"grid",columns:2,items:fc(k,je.getOr([]),z)},Bt=()=>({type:"panel",items:[pt]}),$t=()=>({type:"tabpanel",tabs:[{title:"General",name:"general",items:[pt]},vi(k,"table")]}),Fo=Kr(k)?$t():Bt();k.windowManager.open({title:"Table Properties",size:"normal",body:Fo,onSubmit:He(Pf,k,ee,ge),buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:ge})},Yl=k=>{const z=V=>{Ia(Ln(k))&&V()};vo({mceTableProps:He(Ue,k,!1),mceTableRowProps:He(Yr,k),mceTableCellProps:He(Gg,k),mceInsertTableDialog:He(Ue,k,!0)},(V,ee)=>k.addCommand(ee,()=>z(V)))},Fp=(k,z)=>_c(k,z).isSome(),pu=ut,Yg=k=>{const z=(ee,ge)=>Yn(ee,ge).exists(je=>parseInt(je,10)>1),V=ee=>z(ee,"rowspan")||z(ee,"colspan");return k.length>0&&et(k,V)?dt.some(k):dt.none()},Ic=(k,z,V)=>z.length<=1?dt.none():$d(k,V.firstSelectedSelector,V.lastSelectedSelector).map(ee=>({bounds:ee,cells:z})),hb=k=>({element:k,mergable:dt.none(),unmergable:dt.none(),selection:[k]}),Wu=(k,z,V)=>({element:V,mergable:Ic(z,k,fl),unmergable:Yg(k),selection:pu(k)}),Ar=k=>{const z=Tc(dt.none()),V=Tc([]);let ee=dt.none();const ge=ui("caption"),je=On=>ee.forall(Rr=>!Rr[On]),pt=()=>Vd(Ln(k),qr(k)),Bt=()=>Vd(pi(k),qr(k)),$t=()=>pt().bind(On=>hs(qi(At(On),Bt().bind(At),(Rr,el)=>st(Rr,el)?ge(On)?dt.some(hb(On)):dt.some(Wu(ya(k),Rr,On)):dt.none()))),Fo=On=>At(On.element).map(el=>{const Pi=sc.fromTable(el),bb=Fr(Pi,On).getOr([]),Vp=sl(bb,(qu,Gu)=>(Gu.isLocked&&(qu.onAny=!0,Gu.column===0?qu.onFirst=!0:Gu.column+Gu.colspan>=Pi.grid.columns&&(qu.onLast=!0)),qu),{onAny:!1,onFirst:!1,onLast:!1});return{mergeable:ri(Pi,On).isSome(),unmergeable:Nf(Pi,On).isSome(),locked:Vp}}),Io=()=>{z.set(Vt($t)()),ee=z.get().bind(Fo),$(V.get(),ne)},Zo=On=>(On(),V.set(V.get().concat([On])),()=>{V.set(mn(V.get(),Rr=>Rr!==On))}),pr=(On,Rr)=>Zo(()=>z.get().fold(()=>{On.setEnabled(!1)},el=>{On.setEnabled(!Rr(el)&&k.selection.isEditable())})),Cn=(On,Rr,el)=>Zo(()=>z.get().fold(()=>{On.setEnabled(!1),On.setActive(!1)},Pi=>{On.setEnabled(!Rr(Pi)&&k.selection.isEditable()),On.setActive(el(Pi))})),Jl=On=>ee.exists(Rr=>Rr.locked[On]),Es=On=>pr(On,Rr=>!1),wi=On=>pr(On,Rr=>ge(Rr.element)),gu=On=>Rr=>pr(Rr,el=>ge(el.element)||Jl(On)),hu=On=>Rr=>pr(Rr,el=>ge(el.element)||On().isNone()),mc=(On,Rr)=>el=>pr(el,Pi=>ge(Pi.element)||On().isNone()||Jl(Rr)),Hf=On=>pr(On,Rr=>je("mergeable")),qd=On=>pr(On,Rr=>je("unmergeable")),$f=On=>Cn(On,Et,Rr=>At(Rr.element,qr(k)).exists(Pi=>Fp(Pi,"caption"))),bu=(On,Rr)=>el=>Cn(el,Pi=>ge(Pi.element),()=>k.queryCommandValue(On)===Rr),Pm=bu("mceTableRowType","header"),$p=bu("mceTableColType","th");return k.on("NodeChange ExecCommand TableSelectorChange",Io),{onSetupTable:Es,onSetupCellOrRow:wi,onSetupColumn:gu,onSetupPasteable:hu,onSetupPasteableColumn:mc,onSetupMergeable:Hf,onSetupUnmergeable:qd,resetTargets:Io,onSetupTableWithCaption:$f,onSetupTableRowHeaders:Pm,onSetupTableColumnHeaders:$p,targets:z.get}};var gd=tinymce.util.Tools.resolve("tinymce.FakeClipboard");const Xg="x-tinymce/dom-table-",Lc=Xg+"rows",Ff=Xg+"columns",Wd=k=>{var z;const V=(z=gd.read())!==null&&z!==void 0?z:[];return $o(V,ee=>dt.from(ee.getType(k)))},$s=()=>Wd(Lc),ca=()=>Wd(Ff),Hp=k=>z=>{const V=()=>{z.setEnabled(k.selection.isEditable())};return k.on("NodeChange",V),V(),()=>{k.off("NodeChange",V)}},Ys=(k,z)=>{k.ui.registry.addMenuButton("table",{tooltip:"Table",icon:"table",onSetup:Hp(k),fetch:Bt=>Bt("inserttable | cell row column | advtablesort | tableprops deletetable")});const V=Bt=>()=>k.execCommand(Bt),ee=(Bt,$t)=>{k.queryCommandSupported($t.command)&&k.ui.registry.addButton(Bt,{...$t,onAction:Ur($t.onAction)?$t.onAction:V($t.command)})},ge=(Bt,$t)=>{k.queryCommandSupported($t.command)&&k.ui.registry.addToggleButton(Bt,{...$t,onAction:Ur($t.onAction)?$t.onAction:V($t.command)})};ee("tableprops",{tooltip:"Table properties",command:"mceTableProps",icon:"table",onSetup:z.onSetupTable}),ee("tabledelete",{tooltip:"Delete table",command:"mceTableDelete",icon:"table-delete-table",onSetup:z.onSetupTable}),ee("tablecellprops",{tooltip:"Cell properties",command:"mceTableCellProps",icon:"table-cell-properties",onSetup:z.onSetupCellOrRow}),ee("tablemergecells",{tooltip:"Merge cells",command:"mceTableMergeCells",icon:"table-merge-cells",onSetup:z.onSetupMergeable}),ee("tablesplitcells",{tooltip:"Split cell",command:"mceTableSplitCells",icon:"table-split-cells",onSetup:z.onSetupUnmergeable}),ee("tableinsertrowbefore",{tooltip:"Insert row before",command:"mceTableInsertRowBefore",icon:"table-insert-row-above",onSetup:z.onSetupCellOrRow}),ee("tableinsertrowafter",{tooltip:"Insert row after",command:"mceTableInsertRowAfter",icon:"table-insert-row-after",onSetup:z.onSetupCellOrRow}),ee("tabledeleterow",{tooltip:"Delete row",command:"mceTableDeleteRow",icon:"table-delete-row",onSetup:z.onSetupCellOrRow}),ee("tablerowprops",{tooltip:"Row properties",command:"mceTableRowProps",icon:"table-row-properties",onSetup:z.onSetupCellOrRow}),ee("tableinsertcolbefore",{tooltip:"Insert column before",command:"mceTableInsertColBefore",icon:"table-insert-column-before",onSetup:z.onSetupColumn("onFirst")}),ee("tableinsertcolafter",{tooltip:"Insert column after",command:"mceTableInsertColAfter",icon:"table-insert-column-after",onSetup:z.onSetupColumn("onLast")}),ee("tabledeletecol",{tooltip:"Delete column",command:"mceTableDeleteCol",icon:"table-delete-column",onSetup:z.onSetupColumn("onAny")}),ee("tablecutrow",{tooltip:"Cut row",command:"mceTableCutRow",icon:"cut-row",onSetup:z.onSetupCellOrRow}),ee("tablecopyrow",{tooltip:"Copy row",command:"mceTableCopyRow",icon:"duplicate-row",onSetup:z.onSetupCellOrRow}),ee("tablepasterowbefore",{tooltip:"Paste row before",command:"mceTablePasteRowBefore",icon:"paste-row-before",onSetup:z.onSetupPasteable($s)}),ee("tablepasterowafter",{tooltip:"Paste row after",command:"mceTablePasteRowAfter",icon:"paste-row-after",onSetup:z.onSetupPasteable($s)}),ee("tablecutcol",{tooltip:"Cut column",command:"mceTableCutCol",icon:"cut-column",onSetup:z.onSetupColumn("onAny")}),ee("tablecopycol",{tooltip:"Copy column",command:"mceTableCopyCol",icon:"duplicate-column",onSetup:z.onSetupColumn("onAny")}),ee("tablepastecolbefore",{tooltip:"Paste column before",command:"mceTablePasteColBefore",icon:"paste-column-before",onSetup:z.onSetupPasteableColumn(ca,"onFirst")}),ee("tablepastecolafter",{tooltip:"Paste column after",command:"mceTablePasteColAfter",icon:"paste-column-after",onSetup:z.onSetupPasteableColumn(ca,"onLast")}),ee("tableinsertdialog",{tooltip:"Insert table",command:"mceInsertTableDialog",icon:"table",onSetup:Hp(k)});const je=Ji(Pd(k));je.length!==0&&k.queryCommandSupported("mceTableToggleClass")&&k.ui.registry.addMenuButton("tableclass",{icon:"table-classes",tooltip:"Table styles",fetch:ud(k,je,"tableclass",Bt=>k.execCommand("mceTableToggleClass",!1,Bt)),onSetup:z.onSetupTable});const pt=Ji(Vn(k));pt.length!==0&&k.queryCommandSupported("mceTableCellToggleClass")&&k.ui.registry.addMenuButton("tablecellclass",{icon:"table-cell-classes",tooltip:"Cell styles",fetch:ud(k,pt,"tablecellclass",Bt=>k.execCommand("mceTableCellToggleClass",!1,Bt)),onSetup:z.onSetupCellOrRow}),k.queryCommandSupported("mceTableApplyCellStyle")&&(k.ui.registry.addMenuButton("tablecellvalign",{icon:"vertical-align",tooltip:"Vertical align",fetch:ud(k,rs,"tablecellverticalalign",Xi(k,"vertical-align")),onSetup:z.onSetupCellOrRow}),k.ui.registry.addMenuButton("tablecellborderwidth",{icon:"border-width",tooltip:"Border width",fetch:ud(k,Ss(k),"tablecellborderwidth",Xi(k,"border-width")),onSetup:z.onSetupCellOrRow}),k.ui.registry.addMenuButton("tablecellborderstyle",{icon:"border-style",tooltip:"Border style",fetch:ud(k,$n(k),"tablecellborderstyle",Xi(k,"border-style")),onSetup:z.onSetupCellOrRow}),k.ui.registry.addMenuButton("tablecellbackgroundcolor",{icon:"cell-background-color",tooltip:"Background color",fetch:Bt=>Bt(Oc(k,qo(k),"background-color")),onSetup:z.onSetupCellOrRow}),k.ui.registry.addMenuButton("tablecellbordercolor",{icon:"cell-border-color",tooltip:"Border color",fetch:Bt=>Bt(Oc(k,ei(k),"border-color")),onSetup:z.onSetupCellOrRow})),ge("tablecaption",{tooltip:"Table caption",icon:"table-caption",command:"mceTableToggleCaption",onSetup:z.onSetupTableWithCaption}),ge("tablerowheader",{tooltip:"Row header",icon:"table-top-header",command:"mceTableRowType",onAction:Zd(k),onSetup:z.onSetupTableRowHeaders}),ge("tablecolheader",{tooltip:"Column header",icon:"table-left-header",command:"mceTableColType",onAction:Rf(k),onSetup:z.onSetupTableColumnHeaders})},Xl=k=>{const z=ee=>k.dom.is(ee,"table")&&k.getBody().contains(ee)&&k.dom.isEditable(ee.parentNode),V=ac(k);V.length>0&&k.ui.registry.addContextToolbar("table",{predicate:z,items:V,scope:"node",position:"node"})},ki=k=>z=>{const V=()=>{z.setEnabled(k.selection.isEditable())};return k.on("NodeChange",V),V(),()=>{k.off("NodeChange",V)}},ct=(k,z)=>{const V=Zo=>()=>k.execCommand(Zo),ee=(Zo,pr)=>k.queryCommandSupported(pr.command)?(k.ui.registry.addMenuItem(Zo,{...pr,onAction:Ur(pr.onAction)?pr.onAction:V(pr.command)}),!0):!1,ge=(Zo,pr)=>{k.queryCommandSupported(pr.command)&&k.ui.registry.addToggleMenuItem(Zo,{...pr,onAction:Ur(pr.onAction)?pr.onAction:V(pr.command)})},je=Zo=>{k.execCommand("mceInsertTable",!1,{rows:Zo.numRows,columns:Zo.numColumns})},pt=[ee("tableinsertrowbefore",{text:"Insert row before",icon:"table-insert-row-above",command:"mceTableInsertRowBefore",onSetup:z.onSetupCellOrRow}),ee("tableinsertrowafter",{text:"Insert row after",icon:"table-insert-row-after",command:"mceTableInsertRowAfter",onSetup:z.onSetupCellOrRow}),ee("tabledeleterow",{text:"Delete row",icon:"table-delete-row",command:"mceTableDeleteRow",onSetup:z.onSetupCellOrRow}),ee("tablerowprops",{text:"Row properties",icon:"table-row-properties",command:"mceTableRowProps",onSetup:z.onSetupCellOrRow}),ee("tablecutrow",{text:"Cut row",icon:"cut-row",command:"mceTableCutRow",onSetup:z.onSetupCellOrRow}),ee("tablecopyrow",{text:"Copy row",icon:"duplicate-row",command:"mceTableCopyRow",onSetup:z.onSetupCellOrRow}),ee("tablepasterowbefore",{text:"Paste row before",icon:"paste-row-before",command:"mceTablePasteRowBefore",onSetup:z.onSetupPasteable($s)}),ee("tablepasterowafter",{text:"Paste row after",icon:"paste-row-after",command:"mceTablePasteRowAfter",onSetup:z.onSetupPasteable($s)})],Bt=[ee("tableinsertcolumnbefore",{text:"Insert column before",icon:"table-insert-column-before",command:"mceTableInsertColBefore",onSetup:z.onSetupColumn("onFirst")}),ee("tableinsertcolumnafter",{text:"Insert column after",icon:"table-insert-column-after",command:"mceTableInsertColAfter",onSetup:z.onSetupColumn("onLast")}),ee("tabledeletecolumn",{text:"Delete column",icon:"table-delete-column",command:"mceTableDeleteCol",onSetup:z.onSetupColumn("onAny")}),ee("tablecutcolumn",{text:"Cut column",icon:"cut-column",command:"mceTableCutCol",onSetup:z.onSetupColumn("onAny")}),ee("tablecopycolumn",{text:"Copy column",icon:"duplicate-column",command:"mceTableCopyCol",onSetup:z.onSetupColumn("onAny")}),ee("tablepastecolumnbefore",{text:"Paste column before",icon:"paste-column-before",command:"mceTablePasteColBefore",onSetup:z.onSetupPasteableColumn(ca,"onFirst")}),ee("tablepastecolumnafter",{text:"Paste column after",icon:"paste-column-after",command:"mceTablePasteColAfter",onSetup:z.onSetupPasteableColumn(ca,"onLast")})],$t=[ee("tablecellprops",{text:"Cell properties",icon:"table-cell-properties",command:"mceTableCellProps",onSetup:z.onSetupCellOrRow}),ee("tablemergecells",{text:"Merge cells",icon:"table-merge-cells",command:"mceTableMergeCells",onSetup:z.onSetupMergeable}),ee("tablesplitcells",{text:"Split cell",icon:"table-split-cells",command:"mceTableSplitCells",onSetup:z.onSetupUnmergeable})];lu(k)?k.ui.registry.addNestedMenuItem("inserttable",{text:"Table",icon:"table",getSubmenuItems:()=>[{type:"fancymenuitem",fancytype:"inserttable",onAction:je}],onSetup:ki(k)}):k.ui.registry.addMenuItem("inserttable",{text:"Table",icon:"table",onAction:V("mceInsertTableDialog"),onSetup:ki(k)}),k.ui.registry.addMenuItem("inserttabledialog",{text:"Insert table",icon:"table",onAction:V("mceInsertTableDialog"),onSetup:ki(k)}),ee("tableprops",{text:"Table properties",onSetup:z.onSetupTable,command:"mceTableProps"}),ee("deletetable",{text:"Delete table",icon:"table-delete-table",onSetup:z.onSetupTable,command:"mceTableDelete"}),Zr(pt,!0)&&k.ui.registry.addNestedMenuItem("row",{type:"nestedmenuitem",text:"Row",getSubmenuItems:er("tableinsertrowbefore tableinsertrowafter tabledeleterow tablerowprops | tablecutrow tablecopyrow tablepasterowbefore tablepasterowafter")}),Zr(Bt,!0)&&k.ui.registry.addNestedMenuItem("column",{type:"nestedmenuitem",text:"Column",getSubmenuItems:er("tableinsertcolumnbefore tableinsertcolumnafter tabledeletecolumn | tablecutcolumn tablecopycolumn tablepastecolumnbefore tablepastecolumnafter")}),Zr($t,!0)&&k.ui.registry.addNestedMenuItem("cell",{type:"nestedmenuitem",text:"Cell",getSubmenuItems:er("tablecellprops tablemergecells tablesplitcells")}),k.ui.registry.addContextMenu("table",{update:()=>(z.resetTargets(),z.targets().fold(er(""),Zo=>Bo(Zo.element)==="caption"?"tableprops deletetable":"cell row column | advtablesort | tableprops deletetable"))});const Fo=Ji(Pd(k));Fo.length!==0&&k.queryCommandSupported("mceTableToggleClass")&&k.ui.registry.addNestedMenuItem("tableclass",{icon:"table-classes",text:"Table styles",getSubmenuItems:()=>Pr(k,Fo,"tableclass",Zo=>k.execCommand("mceTableToggleClass",!1,Zo)),onSetup:z.onSetupTable});const Io=Ji(Vn(k));Io.length!==0&&k.queryCommandSupported("mceTableCellToggleClass")&&k.ui.registry.addNestedMenuItem("tablecellclass",{icon:"table-cell-classes",text:"Cell styles",getSubmenuItems:()=>Pr(k,Io,"tablecellclass",Zo=>k.execCommand("mceTableCellToggleClass",!1,Zo)),onSetup:z.onSetupCellOrRow}),k.queryCommandSupported("mceTableApplyCellStyle")&&(k.ui.registry.addNestedMenuItem("tablecellvalign",{icon:"vertical-align",text:"Vertical align",getSubmenuItems:()=>Pr(k,rs,"tablecellverticalalign",Xi(k,"vertical-align")),onSetup:z.onSetupCellOrRow}),k.ui.registry.addNestedMenuItem("tablecellborderwidth",{icon:"border-width",text:"Border width",getSubmenuItems:()=>Pr(k,Ss(k),"tablecellborderwidth",Xi(k,"border-width")),onSetup:z.onSetupCellOrRow}),k.ui.registry.addNestedMenuItem("tablecellborderstyle",{icon:"border-style",text:"Border style",getSubmenuItems:()=>Pr(k,$n(k),"tablecellborderstyle",Xi(k,"border-style")),onSetup:z.onSetupCellOrRow}),k.ui.registry.addNestedMenuItem("tablecellbackgroundcolor",{icon:"cell-background-color",text:"Background color",getSubmenuItems:()=>Oc(k,qo(k),"background-color"),onSetup:z.onSetupCellOrRow}),k.ui.registry.addNestedMenuItem("tablecellbordercolor",{icon:"cell-border-color",text:"Border color",getSubmenuItems:()=>Oc(k,ei(k),"border-color"),onSetup:z.onSetupCellOrRow})),ge("tablecaption",{icon:"table-caption",text:"Table caption",command:"mceTableToggleCaption",onSetup:z.onSetupTableWithCaption}),ge("tablerowheader",{text:"Row header",icon:"table-top-header",command:"mceTableRowType",onAction:Zd(k),onSetup:z.onSetupTableRowHeaders}),ge("tablecolheader",{text:"Column header",icon:"table-left-header",command:"mceTableColType",onAction:Rf(k),onSetup:z.onSetupTableRowHeaders})},Jg=k=>{const z=Ar(k);Ks(k),Yl(k),ct(k,z),Ys(k,z),Xl(k)};var ks=()=>{na.add("table",Jg)};ks()})();var LZ={BASE_URL:"/build/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};document.addEventListener("DOMContentLoaded",async()=>{const na=LZ.VITE_MUNICIPALITY,pa=await(await fetch("/build/manifest.json")).json();Object.keys(pa).find(ar=>ar.includes(`${na}/app.scss`)),await IZ.init({skin_url:"default",selector:".html-editor",body_class:"form-control html-content p-3 rounded-0 border-0 shadow-none",min_height:300,autoresize_bottom_margin:0,menubar:!1,branding:!1,promotion:!1,highlight_on_focus:!0,plugins:"autoresize autosave code emoticons link lists image table",content_css:"/",toolbar:"restoredraft code | blocks | bold italic underline strikethrough | alignment lists outdent indent | table image link emoticons",link_default_target:"_blank",document_base_url:"/",language:"nl",convert_urls:!1,license_key:"gpl",setup:ar=>{ar.ui.registry.addMenuButton("alignment",{icon:"align-left",tooltip:"Alignment",fetch:So=>{So([{type:"menuitem",text:"align left",icon:"align-left",onAction:()=>ar.execCommand("JustifyLeft")},{type:"menuitem",text:"align center",icon:"align-center",onAction:()=>ar.execCommand("JustifyCenter")},{type:"menuitem",text:"align right",icon:"align-right",onAction:()=>ar.execCommand("JustifyRight")},{type:"menuitem",text:"justify",icon:"align-justify",onAction:()=>ar.execCommand("JustifyFull")}])}}),ar.ui.registry.addMenuButton("lists",{tooltip:"Lijsten",icon:"unordered-list",fetch:So=>{So([{type:"menuitem",text:"bullet list",icon:"unordered-list",onAction:()=>ar.execCommand("InsertUnorderedList")},{type:"menuitem",text:"numbered list",icon:"ordered-list",onAction:()=>ar.execCommand("InsertOrderedList")}])}})}})});
